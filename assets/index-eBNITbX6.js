(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const b of d.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&s(b)}).observe(document,{childList:!0,subtree:!0});function n(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerPolicy&&(d.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?d.credentials="include":o.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(o){if(o.ep)return;o.ep=!0;const d=n(o);fetch(o.href,d)}})();function rv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function D0(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var o=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:function(){return t[s]}})}),n}var Of={exports:{}},_l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function N0(){if(Im)return _l;Im=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,d){var b=null;if(d!==void 0&&(b=""+d),o.key!==void 0&&(b=""+o.key),"key"in o){d={};for(var k in o)k!=="key"&&(d[k]=o[k])}else d=o;return o=d.ref,{$$typeof:t,type:s,key:b,ref:o!==void 0?o:null,props:d}}return _l.Fragment=e,_l.jsx=n,_l.jsxs=n,_l}var Dm;function q0(){return Dm||(Dm=1,Of.exports=N0()),Of.exports}var ln=q0(),Wf={exports:{}},mr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm;function z0(){if(Nm)return mr;Nm=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),b=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),we=Symbol.iterator;function he(m){return m===null||typeof m!="object"?null:(m=we&&m[we]||m["@@iterator"],typeof m=="function"?m:null)}var Ce={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Be=Object.assign,Ie={};function ee(m,f,u){this.props=m,this.context=f,this.refs=Ie,this.updater=u||Ce}ee.prototype.isReactComponent={},ee.prototype.setState=function(m,f){if(typeof m!="object"&&typeof m!="function"&&m!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,m,f,"setState")},ee.prototype.forceUpdate=function(m){this.updater.enqueueForceUpdate(this,m,"forceUpdate")};function ke(){}ke.prototype=ee.prototype;function Oe(m,f,u){this.props=m,this.context=f,this.refs=Ie,this.updater=u||Ce}var Ne=Oe.prototype=new ke;Ne.constructor=Oe,Be(Ne,ee.prototype),Ne.isPureReactComponent=!0;var Fe=Array.isArray,Te={H:null,A:null,T:null,S:null},Me=Object.prototype.hasOwnProperty;function te(m,f,u,$,h,p){return u=p.ref,{$$typeof:t,type:m,key:f,ref:u!==void 0?u:null,props:p}}function pe(m,f){return te(m.type,f,void 0,void 0,void 0,m.props)}function F(m){return typeof m=="object"&&m!==null&&m.$$typeof===t}function ue(m){var f={"=":"=0",":":"=2"};return"$"+m.replace(/[=:]/g,function(u){return f[u]})}var G=/\/+/g;function x(m,f){return typeof m=="object"&&m!==null&&m.key!=null?ue(""+m.key):f.toString(36)}function Z(){}function X(m){switch(m.status){case"fulfilled":return m.value;case"rejected":throw m.reason;default:switch(typeof m.status=="string"?m.then(Z,Z):(m.status="pending",m.then(function(f){m.status==="pending"&&(m.status="fulfilled",m.value=f)},function(f){m.status==="pending"&&(m.status="rejected",m.reason=f)})),m.status){case"fulfilled":return m.value;case"rejected":throw m.reason}}throw m}function ge(m,f,u,$,h){var p=typeof m;(p==="undefined"||p==="boolean")&&(m=null);var D=!1;if(m===null)D=!0;else switch(p){case"bigint":case"string":case"number":D=!0;break;case"object":switch(m.$$typeof){case t:case e:D=!0;break;case se:return D=m._init,ge(D(m._payload),f,u,$,h)}}if(D)return h=h(m),D=$===""?"."+x(m,0):$,Fe(h)?(u="",D!=null&&(u=D.replace(G,"$&/")+"/"),ge(h,f,u,"",function(Ue){return Ue})):h!=null&&(F(h)&&(h=pe(h,u+(h.key==null||m&&m.key===h.key?"":(""+h.key).replace(G,"$&/")+"/")+D)),f.push(h)),1;D=0;var z=$===""?".":$+":";if(Fe(m))for(var ie=0;ie<m.length;ie++)$=m[ie],p=z+x($,ie),D+=ge($,f,u,p,h);else if(ie=he(m),typeof ie=="function")for(m=ie.call(m),ie=0;!($=m.next()).done;)$=$.value,p=z+x($,ie++),D+=ge($,f,u,p,h);else if(p==="object"){if(typeof m.then=="function")return ge(X(m),f,u,$,h);throw f=String(m),Error("Objects are not valid as a React child (found: "+(f==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":f)+"). If you meant to render a collection of children, use an array instead.")}return D}function j(m,f,u){if(m==null)return m;var $=[],h=0;return ge(m,$,"","",function(p){return f.call(u,p,h++)}),$}function Ke(m){if(m._status===-1){var f=m._result;f=f(),f.then(function(u){(m._status===0||m._status===-1)&&(m._status=1,m._result=u)},function(u){(m._status===0||m._status===-1)&&(m._status=2,m._result=u)}),m._status===-1&&(m._status=0,m._result=f)}if(m._status===1)return m._result.default;throw m._result}var ve=typeof reportError=="function"?reportError:function(m){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof m=="object"&&m!==null&&typeof m.message=="string"?String(m.message):String(m),error:m});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",m);return}console.error(m)};function re(){}return mr.Children={map:j,forEach:function(m,f,u){j(m,function(){f.apply(this,arguments)},u)},count:function(m){var f=0;return j(m,function(){f++}),f},toArray:function(m){return j(m,function(f){return f})||[]},only:function(m){if(!F(m))throw Error("React.Children.only expected to receive a single React element child.");return m}},mr.Component=ee,mr.Fragment=n,mr.Profiler=o,mr.PureComponent=Oe,mr.StrictMode=s,mr.Suspense=C,mr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Te,mr.act=function(){throw Error("act(...) is not supported in production builds of React.")},mr.cache=function(m){return function(){return m.apply(null,arguments)}},mr.cloneElement=function(m,f,u){if(m==null)throw Error("The argument must be a React element, but you passed "+m+".");var $=Be({},m.props),h=m.key,p=void 0;if(f!=null)for(D in f.ref!==void 0&&(p=void 0),f.key!==void 0&&(h=""+f.key),f)!Me.call(f,D)||D==="key"||D==="__self"||D==="__source"||D==="ref"&&f.ref===void 0||($[D]=f[D]);var D=arguments.length-2;if(D===1)$.children=u;else if(1<D){for(var z=Array(D),ie=0;ie<D;ie++)z[ie]=arguments[ie+2];$.children=z}return te(m.type,h,void 0,void 0,p,$)},mr.createContext=function(m){return m={$$typeof:b,_currentValue:m,_currentValue2:m,_threadCount:0,Provider:null,Consumer:null},m.Provider=m,m.Consumer={$$typeof:d,_context:m},m},mr.createElement=function(m,f,u){var $,h={},p=null;if(f!=null)for($ in f.key!==void 0&&(p=""+f.key),f)Me.call(f,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(h[$]=f[$]);var D=arguments.length-2;if(D===1)h.children=u;else if(1<D){for(var z=Array(D),ie=0;ie<D;ie++)z[ie]=arguments[ie+2];h.children=z}if(m&&m.defaultProps)for($ in D=m.defaultProps,D)h[$]===void 0&&(h[$]=D[$]);return te(m,p,void 0,void 0,null,h)},mr.createRef=function(){return{current:null}},mr.forwardRef=function(m){return{$$typeof:k,render:m}},mr.isValidElement=F,mr.lazy=function(m){return{$$typeof:se,_payload:{_status:-1,_result:m},_init:Ke}},mr.memo=function(m,f){return{$$typeof:g,type:m,compare:f===void 0?null:f}},mr.startTransition=function(m){var f=Te.T,u={};Te.T=u;try{var $=m(),h=Te.S;h!==null&&h(u,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(re,ve)}catch(p){ve(p)}finally{Te.T=f}},mr.unstable_useCacheRefresh=function(){return Te.H.useCacheRefresh()},mr.use=function(m){return Te.H.use(m)},mr.useActionState=function(m,f,u){return Te.H.useActionState(m,f,u)},mr.useCallback=function(m,f){return Te.H.useCallback(m,f)},mr.useContext=function(m){return Te.H.useContext(m)},mr.useDebugValue=function(){},mr.useDeferredValue=function(m,f){return Te.H.useDeferredValue(m,f)},mr.useEffect=function(m,f){return Te.H.useEffect(m,f)},mr.useId=function(){return Te.H.useId()},mr.useImperativeHandle=function(m,f,u){return Te.H.useImperativeHandle(m,f,u)},mr.useInsertionEffect=function(m,f){return Te.H.useInsertionEffect(m,f)},mr.useLayoutEffect=function(m,f){return Te.H.useLayoutEffect(m,f)},mr.useMemo=function(m,f){return Te.H.useMemo(m,f)},mr.useOptimistic=function(m,f){return Te.H.useOptimistic(m,f)},mr.useReducer=function(m,f,u){return Te.H.useReducer(m,f,u)},mr.useRef=function(m){return Te.H.useRef(m)},mr.useState=function(m){return Te.H.useState(m)},mr.useSyncExternalStore=function(m,f,u){return Te.H.useSyncExternalStore(m,f,u)},mr.useTransition=function(){return Te.H.useTransition()},mr.version="19.0.0",mr}var qm;function j_(){return qm||(qm=1,Wf.exports=z0()),Wf.exports}var kt=j_();const Xr=rv(kt);var Zf={exports:{}},hl={},Jf={exports:{}},e_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm;function M0(){return zm||(zm=1,function(t){function e(j,Ke){var ve=j.length;j.push(Ke);e:for(;0<ve;){var re=ve-1>>>1,m=j[re];if(0<o(m,Ke))j[re]=Ke,j[ve]=m,ve=re;else break e}}function n(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var Ke=j[0],ve=j.pop();if(ve!==Ke){j[0]=ve;e:for(var re=0,m=j.length,f=m>>>1;re<f;){var u=2*(re+1)-1,$=j[u],h=u+1,p=j[h];if(0>o($,ve))h<m&&0>o(p,$)?(j[re]=p,j[h]=ve,re=h):(j[re]=$,j[u]=ve,re=u);else if(h<m&&0>o(p,ve))j[re]=p,j[h]=ve,re=h;else break e}}return Ke}function o(j,Ke){var ve=j.sortIndex-Ke.sortIndex;return ve!==0?ve:j.id-Ke.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;t.unstable_now=function(){return d.now()}}else{var b=Date,k=b.now();t.unstable_now=function(){return b.now()-k}}var C=[],g=[],se=1,we=null,he=3,Ce=!1,Be=!1,Ie=!1,ee=typeof setTimeout=="function"?setTimeout:null,ke=typeof clearTimeout=="function"?clearTimeout:null,Oe=typeof setImmediate<"u"?setImmediate:null;function Ne(j){for(var Ke=n(g);Ke!==null;){if(Ke.callback===null)s(g);else if(Ke.startTime<=j)s(g),Ke.sortIndex=Ke.expirationTime,e(C,Ke);else break;Ke=n(g)}}function Fe(j){if(Ie=!1,Ne(j),!Be)if(n(C)!==null)Be=!0,X();else{var Ke=n(g);Ke!==null&&ge(Fe,Ke.startTime-j)}}var Te=!1,Me=-1,te=5,pe=-1;function F(){return!(t.unstable_now()-pe<te)}function ue(){if(Te){var j=t.unstable_now();pe=j;var Ke=!0;try{e:{Be=!1,Ie&&(Ie=!1,ke(Me),Me=-1),Ce=!0;var ve=he;try{t:{for(Ne(j),we=n(C);we!==null&&!(we.expirationTime>j&&F());){var re=we.callback;if(typeof re=="function"){we.callback=null,he=we.priorityLevel;var m=re(we.expirationTime<=j);if(j=t.unstable_now(),typeof m=="function"){we.callback=m,Ne(j),Ke=!0;break t}we===n(C)&&s(C),Ne(j)}else s(C);we=n(C)}if(we!==null)Ke=!0;else{var f=n(g);f!==null&&ge(Fe,f.startTime-j),Ke=!1}}break e}finally{we=null,he=ve,Ce=!1}Ke=void 0}}finally{Ke?G():Te=!1}}}var G;if(typeof Oe=="function")G=function(){Oe(ue)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Z=x.port2;x.port1.onmessage=ue,G=function(){Z.postMessage(null)}}else G=function(){ee(ue,0)};function X(){Te||(Te=!0,G())}function ge(j,Ke){Me=ee(function(){j(t.unstable_now())},Ke)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){Be||Ce||(Be=!0,X())},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return he},t.unstable_getFirstCallbackNode=function(){return n(C)},t.unstable_next=function(j){switch(he){case 1:case 2:case 3:var Ke=3;break;default:Ke=he}var ve=he;he=Ke;try{return j()}finally{he=ve}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,Ke){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ve=he;he=j;try{return Ke()}finally{he=ve}},t.unstable_scheduleCallback=function(j,Ke,ve){var re=t.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?re+ve:re):ve=re,j){case 1:var m=-1;break;case 2:m=250;break;case 5:m=1073741823;break;case 4:m=1e4;break;default:m=5e3}return m=ve+m,j={id:se++,callback:Ke,priorityLevel:j,startTime:ve,expirationTime:m,sortIndex:-1},ve>re?(j.sortIndex=ve,e(g,j),n(C)===null&&j===n(g)&&(Ie?(ke(Me),Me=-1):Ie=!0,ge(Fe,ve-re))):(j.sortIndex=m,e(C,j),Be||Ce||(Be=!0,X())),j},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(j){var Ke=he;return function(){var ve=he;he=Ke;try{return j.apply(this,arguments)}finally{he=ve}}}}(e_)),e_}var Mm;function L0(){return Mm||(Mm=1,Jf.exports=M0()),Jf.exports}var t_={exports:{}},Bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function P0(){if(Lm)return Bn;Lm=1;var t=j_();function e(C){var g="https://react.dev/errors/"+C;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var se=2;se<arguments.length;se++)g+="&args[]="+encodeURIComponent(arguments[se])}return"Minified React error #"+C+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function d(C,g,se){var we=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:we==null?null:""+we,children:C,containerInfo:g,implementation:se}}var b=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function k(C,g){if(C==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Bn.createPortal=function(C,g){var se=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return d(C,g,null,se)},Bn.flushSync=function(C){var g=b.T,se=s.p;try{if(b.T=null,s.p=2,C)return C()}finally{b.T=g,s.p=se,s.d.f()}},Bn.preconnect=function(C,g){typeof C=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(C,g))},Bn.prefetchDNS=function(C){typeof C=="string"&&s.d.D(C)},Bn.preinit=function(C,g){if(typeof C=="string"&&g&&typeof g.as=="string"){var se=g.as,we=k(se,g.crossOrigin),he=typeof g.integrity=="string"?g.integrity:void 0,Ce=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;se==="style"?s.d.S(C,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:we,integrity:he,fetchPriority:Ce}):se==="script"&&s.d.X(C,{crossOrigin:we,integrity:he,fetchPriority:Ce,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Bn.preinitModule=function(C,g){if(typeof C=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var se=k(g.as,g.crossOrigin);s.d.M(C,{crossOrigin:se,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(C)},Bn.preload=function(C,g){if(typeof C=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var se=g.as,we=k(se,g.crossOrigin);s.d.L(C,se,{crossOrigin:we,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Bn.preloadModule=function(C,g){if(typeof C=="string")if(g){var se=k(g.as,g.crossOrigin);s.d.m(C,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:se,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(C)},Bn.requestFormReset=function(C){s.d.r(C)},Bn.unstable_batchedUpdates=function(C,g){return C(g)},Bn.useFormState=function(C,g,se){return b.H.useFormState(C,g,se)},Bn.useFormStatus=function(){return b.H.useHostTransitionStatus()},Bn.version="19.0.0",Bn}var Pm;function B0(){if(Pm)return t_.exports;Pm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),t_.exports=P0(),t_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm;function F0(){if(Bm)return hl;Bm=1;var t=L0(),e=j_(),n=B0();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var d=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),we=Symbol.for("react.provider"),he=Symbol.for("react.consumer"),Ce=Symbol.for("react.context"),Be=Symbol.for("react.forward_ref"),Ie=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),ke=Symbol.for("react.memo"),Oe=Symbol.for("react.lazy"),Ne=Symbol.for("react.offscreen"),Fe=Symbol.for("react.memo_cache_sentinel"),Te=Symbol.iterator;function Me(r){return r===null||typeof r!="object"?null:(r=Te&&r[Te]||r["@@iterator"],typeof r=="function"?r:null)}var te=Symbol.for("react.client.reference");function pe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===te?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case k:return"Portal";case se:return"Profiler";case g:return"StrictMode";case Ie:return"Suspense";case ee:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case Ce:return(r.displayName||"Context")+".Provider";case he:return(r._context.displayName||"Context")+".Consumer";case Be:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ke:return i=r.displayName||null,i!==null?i:pe(r.type)||"Memo";case Oe:i=r._payload,r=r._init;try{return pe(r(i))}catch{}}return null}var F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=Object.assign,G,x;function Z(r){if(G===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);G=i&&i[1]||"",x=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+G+r+x}var X=!1;function ge(r,i){if(!r||X)return"";X=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var _={DetermineComponentFrameRoot:function(){try{if(i){var Vt=function(){throw Error()};if(Object.defineProperty(Vt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Vt,[])}catch(Nt){var Rt=Nt}Reflect.construct(r,[],Vt)}else{try{Vt.call()}catch(Nt){Rt=Nt}r.call(Vt.prototype)}}else{try{throw Error()}catch(Nt){Rt=Nt}(Vt=r())&&typeof Vt.catch=="function"&&Vt.catch(function(){})}}catch(Nt){if(Nt&&Rt&&typeof Nt.stack=="string")return[Nt.stack,Rt.stack]}return[null,null]}};_.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(_.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(_.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var H=_.DetermineComponentFrameRoot(),Ge=H[0],nt=H[1];if(Ge&&nt){var dt=Ge.split(`
`),Et=nt.split(`
`);for(S=_=0;_<dt.length&&!dt[_].includes("DetermineComponentFrameRoot");)_++;for(;S<Et.length&&!Et[S].includes("DetermineComponentFrameRoot");)S++;if(_===dt.length||S===Et.length)for(_=dt.length-1,S=Et.length-1;1<=_&&0<=S&&dt[_]!==Et[S];)S--;for(;1<=_&&0<=S;_--,S--)if(dt[_]!==Et[S]){if(_!==1||S!==1)do if(_--,S--,0>S||dt[_]!==Et[S]){var qt=`
`+dt[_].replace(" at new "," at ");return r.displayName&&qt.includes("<anonymous>")&&(qt=qt.replace("<anonymous>",r.displayName)),qt}while(1<=_&&0<=S);break}}}finally{X=!1,Error.prepareStackTrace=a}return(a=r?r.displayName||r.name:"")?Z(a):""}function j(r){switch(r.tag){case 26:case 27:case 5:return Z(r.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 15:return r=ge(r.type,!1),r;case 11:return r=ge(r.type.render,!1),r;case 1:return r=ge(r.type,!0),r;default:return""}}function Ke(r){try{var i="";do i+=j(r),r=r.return;while(r);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ve(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,i.flags&4098&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function re(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function m(r){if(ve(r)!==r)throw Error(s(188))}function f(r){var i=r.alternate;if(!i){if(i=ve(r),i===null)throw Error(s(188));return i!==r?null:r}for(var a=r,_=i;;){var S=a.return;if(S===null)break;var H=S.alternate;if(H===null){if(_=S.return,_!==null){a=_;continue}break}if(S.child===H.child){for(H=S.child;H;){if(H===a)return m(S),r;if(H===_)return m(S),i;H=H.sibling}throw Error(s(188))}if(a.return!==_.return)a=S,_=H;else{for(var Ge=!1,nt=S.child;nt;){if(nt===a){Ge=!0,a=S,_=H;break}if(nt===_){Ge=!0,_=S,a=H;break}nt=nt.sibling}if(!Ge){for(nt=H.child;nt;){if(nt===a){Ge=!0,a=H,_=S;break}if(nt===_){Ge=!0,_=H,a=S;break}nt=nt.sibling}if(!Ge)throw Error(s(189))}}if(a.alternate!==_)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?r:i}function u(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=u(r),i!==null)return i;r=r.sibling}return null}var $=Array.isArray,h=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,p={pending:!1,data:null,method:null,action:null},D=[],z=-1;function ie(r){return{current:r}}function Ue(r){0>z||(r.current=D[z],D[z]=null,z--)}function ut(r,i){z++,D[z]=r.current,r.current=i}var yt=ie(null),Tt=ie(null),Ht=ie(null),Lt=ie(null);function Kt(r,i){switch(ut(Ht,i),ut(Tt,r),ut(yt,null),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?am(i):0;break;default:if(r=r===8?i.parentNode:i,i=r.tagName,r=r.namespaceURI)r=am(r),i=om(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Ue(yt),ut(yt,i)}function Ut(){Ue(yt),Ue(Tt),Ue(Ht)}function Xt(r){r.memoizedState!==null&&ut(Lt,r);var i=yt.current,a=om(i,r.type);i!==a&&(ut(Tt,r),ut(yt,a))}function Gt(r){Tt.current===r&&(Ue(yt),Ue(Tt)),Lt.current===r&&(Ue(Lt),ll._currentValue=p)}var $t=Object.prototype.hasOwnProperty,De=t.unstable_scheduleCallback,Ye=t.unstable_cancelCallback,et=t.unstable_shouldYield,T=t.unstable_requestPaint,L=t.unstable_now,be=t.unstable_getCurrentPriorityLevel,Pe=t.unstable_ImmediatePriority,rt=t.unstable_UserBlockingPriority,mt=t.unstable_NormalPriority,l=t.unstable_LowPriority,ce=t.unstable_IdlePriority,oe=t.log,Q=t.unstable_setDisableYieldValue,me=null,w=null;function W(r){if(w&&typeof w.onCommitFiberRoot=="function")try{w.onCommitFiberRoot(me,r,void 0,(r.current.flags&128)===128)}catch{}}function Xe(r){if(typeof oe=="function"&&Q(r),w&&typeof w.setStrictMode=="function")try{w.setStrictMode(me,r)}catch{}}var O=Math.clz32?Math.clz32:at,ze=Math.log,N=Math.LN2;function at(r){return r>>>=0,r===0?32:31-(ze(r)/N|0)|0}var Re=128,Je=4194304;function Le(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function He(r,i){var a=r.pendingLanes;if(a===0)return 0;var _=0,S=r.suspendedLanes,H=r.pingedLanes,Ge=r.warmLanes;r=r.finishedLanes!==0;var nt=a&134217727;return nt!==0?(a=nt&~S,a!==0?_=Le(a):(H&=nt,H!==0?_=Le(H):r||(Ge=nt&~Ge,Ge!==0&&(_=Le(Ge))))):(nt=a&~S,nt!==0?_=Le(nt):H!==0?_=Le(H):r||(Ge=a&~Ge,Ge!==0&&(_=Le(Ge)))),_===0?0:i!==0&&i!==_&&!(i&S)&&(S=_&-_,Ge=i&-i,S>=Ge||S===32&&(Ge&4194176)!==0)?i:_}function gt(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function We(r,i){switch(r){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ft(){var r=Re;return Re<<=1,!(Re&4194176)&&(Re=128),r}function Ze(){var r=Je;return Je<<=1,!(Je&62914560)&&(Je=4194304),r}function it(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function pt(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function M(r,i,a,_,S,H){var Ge=r.pendingLanes;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=a,r.entangledLanes&=a,r.errorRecoveryDisabledLanes&=a,r.shellSuspendCounter=0;var nt=r.entanglements,dt=r.expirationTimes,Et=r.hiddenUpdates;for(a=Ge&~a;0<a;){var qt=31-O(a),Vt=1<<qt;nt[qt]=0,dt[qt]=-1;var Rt=Et[qt];if(Rt!==null)for(Et[qt]=null,qt=0;qt<Rt.length;qt++){var Nt=Rt[qt];Nt!==null&&(Nt.lane&=-536870913)}a&=~Vt}_!==0&&ot(r,_,0),H!==0&&S===0&&r.tag!==0&&(r.suspendedLanes|=H&~(Ge&~i))}function ot(r,i,a){r.pendingLanes|=i,r.suspendedLanes&=~i;var _=31-O(i);r.entangledLanes|=i,r.entanglements[_]=r.entanglements[_]|1073741824|a&4194218}function I(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var _=31-O(a),S=1<<_;S&i|r[_]&i&&(r[_]|=i),a&=~S}}function lt(r){return r&=-r,2<r?8<r?r&134217727?32:268435456:8:2}function ht(){var r=h.p;return r!==0?r:(r=window.event,r===void 0?32:Tm(r.type))}function J(r,i){var a=h.p;try{return h.p=r,i()}finally{h.p=a}}var B=Math.random().toString(36).slice(2),Qe="__reactFiber$"+B,Ae="__reactProps$"+B,qe="__reactContainer$"+B,Se="__reactEvents$"+B,$e="__reactListeners$"+B,ye="__reactHandles$"+B,ne="__reactResources$"+B,U="__reactMarker$"+B;function P(r){delete r[Qe],delete r[Ae],delete r[Se],delete r[$e],delete r[ye]}function le(r){var i=r[Qe];if(i)return i;for(var a=r.parentNode;a;){if(i=a[qe]||a[Qe]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=cm(r);r!==null;){if(a=r[Qe])return a;r=cm(r)}return i}r=a,a=r.parentNode}return null}function ae(r){if(r=r[Qe]||r[qe]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function _e(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function K(r){var i=r[ne];return i||(i=r[ne]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function v(r){r[U]=!0}var c=new Set,y={};function q(r,i){R(r,i),R(r+"Capture",i)}function R(r,i){for(y[r]=i,r=0;r<i.length;r++)c.add(i[r])}var A=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),V=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Y={},de={};function fe(r){return $t.call(de,r)?!0:$t.call(Y,r)?!1:V.test(r)?de[r]=!0:(Y[r]=!0,!1)}function xe(r,i,a){if(fe(i))if(a===null)r.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var _=i.toLowerCase().slice(0,5);if(_!=="data-"&&_!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+a)}}function Ve(r,i,a){if(a===null)r.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+a)}}function tt(r,i,a,_){if(_===null)r.removeAttribute(a);else{switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttributeNS(i,a,""+_)}}function ct(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function vt(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function _t(r){var i=vt(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),_=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var S=a.get,H=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return S.call(this)},set:function(Ge){_=""+Ge,H.call(this,Ge)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return _},setValue:function(Ge){_=""+Ge},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function wt(r){r._valueTracker||(r._valueTracker=_t(r))}function Dt(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),_="";return r&&(_=vt(r)?r.checked?"true":"false":r.value),r=_,r!==a?(i.setValue(r),!0):!1}function zt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var It=/[\n"\\]/g;function Mt(r){return r.replace(It,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ft(r,i,a,_,S,H,Ge,nt){r.name="",Ge!=null&&typeof Ge!="function"&&typeof Ge!="symbol"&&typeof Ge!="boolean"?r.type=Ge:r.removeAttribute("type"),i!=null?Ge==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+ct(i)):r.value!==""+ct(i)&&(r.value=""+ct(i)):Ge!=="submit"&&Ge!=="reset"||r.removeAttribute("value"),i!=null?Ot(r,Ge,ct(i)):a!=null?Ot(r,Ge,ct(a)):_!=null&&r.removeAttribute("value"),S==null&&H!=null&&(r.defaultChecked=!!H),S!=null&&(r.checked=S&&typeof S!="function"&&typeof S!="symbol"),nt!=null&&typeof nt!="function"&&typeof nt!="symbol"&&typeof nt!="boolean"?r.name=""+ct(nt):r.removeAttribute("name")}function sr(r,i,a,_,S,H,Ge,nt){if(H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(r.type=H),i!=null||a!=null){if(!(H!=="submit"&&H!=="reset"||i!=null))return;a=a!=null?""+ct(a):"",i=i!=null?""+ct(i):a,nt||i===r.value||(r.value=i),r.defaultValue=i}_=_??S,_=typeof _!="function"&&typeof _!="symbol"&&!!_,r.checked=nt?r.checked:!!_,r.defaultChecked=!!_,Ge!=null&&typeof Ge!="function"&&typeof Ge!="symbol"&&typeof Ge!="boolean"&&(r.name=Ge)}function Ot(r,i,a){i==="number"&&zt(r.ownerDocument)===r||r.defaultValue===""+a||(r.defaultValue=""+a)}function Qt(r,i,a,_){if(r=r.options,i){i={};for(var S=0;S<a.length;S++)i["$"+a[S]]=!0;for(a=0;a<r.length;a++)S=i.hasOwnProperty("$"+r[a].value),r[a].selected!==S&&(r[a].selected=S),S&&_&&(r[a].defaultSelected=!0)}else{for(a=""+ct(a),i=null,S=0;S<r.length;S++){if(r[S].value===a){r[S].selected=!0,_&&(r[S].defaultSelected=!0);return}i!==null||r[S].disabled||(i=r[S])}i!==null&&(i.selected=!0)}}function lr(r,i,a){if(i!=null&&(i=""+ct(i),i!==r.value&&(r.value=i),a==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=a!=null?""+ct(a):""}function er(r,i,a,_){if(i==null){if(_!=null){if(a!=null)throw Error(s(92));if($(_)){if(1<_.length)throw Error(s(93));_=_[0]}a=_}a==null&&(a=""),i=a}a=ct(i),r.defaultValue=a,_=r.textContent,_===a&&_!==""&&_!==null&&(r.value=_)}function Jt(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var fr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vr(r,i,a){var _=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?_?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":_?r.setProperty(i,a):typeof a!="number"||a===0||fr.has(i)?i==="float"?r.cssFloat=a:r[i]=(""+a).trim():r[i]=a+"px"}function Mn(r,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,a!=null){for(var _ in a)!a.hasOwnProperty(_)||i!=null&&i.hasOwnProperty(_)||(_.indexOf("--")===0?r.setProperty(_,""):_==="float"?r.cssFloat="":r[_]="");for(var S in i)_=i[S],i.hasOwnProperty(S)&&a[S]!==_&&vr(r,S,_)}else for(var H in i)i.hasOwnProperty(H)&&vr(r,H,i[H])}function an(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ur(r){return ar.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Cr=null;function nr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Nr=null,Qr=null;function qr(r){var i=ae(r);if(i&&(r=i.stateNode)){var a=r[Ae]||null;e:switch(r=i.stateNode,i.type){case"input":if(Ft(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Mt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var _=a[i];if(_!==r&&_.form===r.form){var S=_[Ae]||null;if(!S)throw Error(s(90));Ft(_,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(i=0;i<a.length;i++)_=a[i],_.form===r.form&&Dt(_)}break e;case"textarea":lr(r,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Qt(r,!!a.multiple,i,!1)}}}var Fr=!1;function bn(r,i,a){if(Fr)return r(i,a);Fr=!0;try{var _=r(i);return _}finally{if(Fr=!1,(Nr!==null||Qr!==null)&&(Pu(),Nr&&(i=Nr,r=Qr,Qr=Nr=null,qr(i),r)))for(i=0;i<r.length;i++)qr(r[i])}}function jr(r,i){var a=r.stateNode;if(a===null)return null;var _=a[Ae]||null;if(_===null)return null;a=_[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(r=r.type,_=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!_;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Lr=!1;if(A)try{var Kn={};Object.defineProperty(Kn,"passive",{get:function(){Lr=!0}}),window.addEventListener("test",Kn,Kn),window.removeEventListener("test",Kn,Kn)}catch{Lr=!1}var Rn=null,ii=null,Ln=null;function Fi(){if(Ln)return Ln;var r,i=ii,a=i.length,_,S="value"in Rn?Rn.value:Rn.textContent,H=S.length;for(r=0;r<a&&i[r]===S[r];r++);var Ge=a-r;for(_=1;_<=Ge&&i[a-_]===S[H-_];_++);return Ln=S.slice(r,1<_?1-_:void 0)}function On(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Hr(){return!0}function Wn(){return!1}function Or(r){function i(a,_,S,H,Ge){this._reactName=a,this._targetInst=S,this.type=_,this.nativeEvent=H,this.target=Ge,this.currentTarget=null;for(var nt in r)r.hasOwnProperty(nt)&&(a=r[nt],this[nt]=a?a(H):H[nt]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?Hr:Wn,this.isPropagationStopped=Wn,this}return ue(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Hr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Hr)},persist:function(){},isPersistent:Hr}),i}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Aa=Or(zr),js=ue({},zr,{view:0,detail:0}),Xl=Or(js),Ta,xa,Ei,Hs=ue({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ks,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ei&&(Ei&&r.type==="mousemove"?(Ta=r.screenX-Ei.screenX,xa=r.screenY-Ei.screenY):xa=Ta=0,Ei=r),Ta)},movementY:function(r){return"movementY"in r?r.movementY:xa}}),si=Or(Hs),Ql=ue({},Hs,{dataTransfer:0}),i$=Or(Ql),Gs=ue({},js,{relatedTarget:0}),Sa=Or(Gs),Ao=ue({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ra=Or(Ao),Ol=ue({},zr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ka=Or(Ol),s$=ue({},zr,{data:0}),To=Or(s$),Ys={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xo(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Zl[r])?!!i[r]:!1}function Ks(){return xo}var Jl=ue({},js,{key:function(r){if(r.key){var i=Ys[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=On(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Wl[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ks,charCode:function(r){return r.type==="keypress"?On(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?On(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ca=Or(Jl),eu=ue({},Hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),So=Or(eu),Vi=ue({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ks}),tu=Or(Vi),ru=ue({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),nu=Or(ru),iu=ue({},Hs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ia=Or(iu),jn=ue({},zr,{newState:0,oldState:0}),su=Or(jn),au=[9,13,27,32],wi=A&&"CompositionEvent"in window,E=null;A&&"documentMode"in document&&(E=document.documentMode);var Ee=A&&"TextEvent"in window&&!E,je=A&&(!wi||E&&8<E&&11>=E),st=" ",xt=!1;function Ct(r,i){switch(r){case"keyup":return au.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yt(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Tr=!1;function dn(r,i){switch(r){case"compositionend":return Yt(i);case"keypress":return i.which!==32?null:(xt=!0,st);case"textInput":return r=i.data,r===st&&xt?null:r;default:return null}}function xr(r,i){if(Tr)return r==="compositionend"||!wi&&Ct(r,i)?(r=Fi(),Ln=ii=Rn=null,Tr=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return je&&i.locale!=="ko"?null:i.data;default:return null}}var En={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pn(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!En[r.type]:i==="textarea"}function Ui(r,i,a,_){Nr?Qr?Qr.push(_):Qr=[_]:Nr=_,i=ju(i,"onChange"),0<i.length&&(a=new Aa("onChange","change",null,a,_),r.push({event:a,listeners:i}))}var kn=null,Ai=null;function Ro(r){tm(r,0)}function ou(r){var i=_e(r);if(Dt(i))return r}function Ch(r,i){if(r==="change")return i}var Ih=!1;if(A){var a$;if(A){var o$="oninput"in document;if(!o$){var Dh=document.createElement("div");Dh.setAttribute("oninput","return;"),o$=typeof Dh.oninput=="function"}a$=o$}else a$=!1;Ih=a$&&(!document.documentMode||9<document.documentMode)}function Nh(){kn&&(kn.detachEvent("onpropertychange",qh),Ai=kn=null)}function qh(r){if(r.propertyName==="value"&&ou(Ai)){var i=[];Ui(i,Ai,r,nr(r)),bn(Ro,i)}}function lb(r,i,a){r==="focusin"?(Nh(),kn=i,Ai=a,kn.attachEvent("onpropertychange",qh)):r==="focusout"&&Nh()}function ub(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ou(Ai)}function cb(r,i){if(r==="click")return ou(i)}function $b(r,i){if(r==="input"||r==="change")return ou(i)}function fb(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Zn=typeof Object.is=="function"?Object.is:fb;function ko(r,i){if(Zn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),_=Object.keys(i);if(a.length!==_.length)return!1;for(_=0;_<a.length;_++){var S=a[_];if(!$t.call(i,S)||!Zn(r[S],i[S]))return!1}return!0}function zh(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Mh(r,i){var a=zh(r);r=0;for(var _;a;){if(a.nodeType===3){if(_=r+a.textContent.length,r<=i&&_>=i)return{node:a,offset:i-r};r=_}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=zh(a)}}function Lh(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Lh(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Ph(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=zt(r.document);i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=zt(r.document)}return i}function l$(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function _b(r,i){var a=Ph(i);i=r.focusedElem;var _=r.selectionRange;if(a!==i&&i&&i.ownerDocument&&Lh(i.ownerDocument.documentElement,i)){if(_!==null&&l$(i)){if(r=_.start,a=_.end,a===void 0&&(a=r),"selectionStart"in i)i.selectionStart=r,i.selectionEnd=Math.min(a,i.value.length);else if(a=(r=i.ownerDocument||document)&&r.defaultView||window,a.getSelection){a=a.getSelection();var S=i.textContent.length,H=Math.min(_.start,S);_=_.end===void 0?H:Math.min(_.end,S),!a.extend&&H>_&&(S=_,_=H,H=S),S=Mh(i,H);var Ge=Mh(i,_);S&&Ge&&(a.rangeCount!==1||a.anchorNode!==S.node||a.anchorOffset!==S.offset||a.focusNode!==Ge.node||a.focusOffset!==Ge.offset)&&(r=r.createRange(),r.setStart(S.node,S.offset),a.removeAllRanges(),H>_?(a.addRange(r),a.extend(Ge.node,Ge.offset)):(r.setEnd(Ge.node,Ge.offset),a.addRange(r)))}}for(r=[],a=i;a=a.parentNode;)a.nodeType===1&&r.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<r.length;i++)a=r[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var hb=A&&"documentMode"in document&&11>=document.documentMode,Da=null,u$=null,Co=null,c$=!1;function Bh(r,i,a){var _=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;c$||Da==null||Da!==zt(_)||(_=Da,"selectionStart"in _&&l$(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),Co&&ko(Co,_)||(Co=_,_=ju(u$,"onSelect"),0<_.length&&(i=new Aa("onSelect","select",null,i,a),r.push({event:i,listeners:_}),i.target=Da)))}function Xs(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var Na={animationend:Xs("Animation","AnimationEnd"),animationiteration:Xs("Animation","AnimationIteration"),animationstart:Xs("Animation","AnimationStart"),transitionrun:Xs("Transition","TransitionRun"),transitionstart:Xs("Transition","TransitionStart"),transitioncancel:Xs("Transition","TransitionCancel"),transitionend:Xs("Transition","TransitionEnd")},$$={},Fh={};A&&(Fh=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function Qs(r){if($$[r])return $$[r];if(!Na[r])return r;var i=Na[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in Fh)return $$[r]=i[a];return r}var Vh=Qs("animationend"),Uh=Qs("animationiteration"),jh=Qs("animationstart"),db=Qs("transitionrun"),pb=Qs("transitionstart"),mb=Qs("transitioncancel"),Hh=Qs("transitionend"),Gh=new Map,Yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function mi(r,i){Gh.set(r,i),q(i,[r])}var ai=[],qa=0,f$=0;function lu(){for(var r=qa,i=f$=qa=0;i<r;){var a=ai[i];ai[i++]=null;var _=ai[i];ai[i++]=null;var S=ai[i];ai[i++]=null;var H=ai[i];if(ai[i++]=null,_!==null&&S!==null){var Ge=_.pending;Ge===null?S.next=S:(S.next=Ge.next,Ge.next=S),_.pending=S}H!==0&&Kh(a,S,H)}}function uu(r,i,a,_){ai[qa++]=r,ai[qa++]=i,ai[qa++]=a,ai[qa++]=_,f$|=_,r.lanes|=_,r=r.alternate,r!==null&&(r.lanes|=_)}function _$(r,i,a,_){return uu(r,i,a,_),cu(r)}function cs(r,i){return uu(r,null,null,i),cu(r)}function Kh(r,i,a){r.lanes|=a;var _=r.alternate;_!==null&&(_.lanes|=a);for(var S=!1,H=r.return;H!==null;)H.childLanes|=a,_=H.alternate,_!==null&&(_.childLanes|=a),H.tag===22&&(r=H.stateNode,r===null||r._visibility&1||(S=!0)),r=H,H=H.return;S&&i!==null&&r.tag===3&&(H=r.stateNode,S=31-O(a),H=H.hiddenUpdates,r=H[S],r===null?H[S]=[i]:r.push(i),i.lane=a|536870912)}function cu(r){if(50<tl)throw tl=0,yf=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var za={},Xh=new WeakMap;function oi(r,i){if(typeof r=="object"&&r!==null){var a=Xh.get(r);return a!==void 0?a:(i={value:r,source:i,stack:Ke(i)},Xh.set(r,i),i)}return{value:r,source:i,stack:Ke(i)}}var Ma=[],La=0,$u=null,fu=0,li=[],ui=0,Os=null,ji=1,Hi="";function Ws(r,i){Ma[La++]=fu,Ma[La++]=$u,$u=r,fu=i}function Qh(r,i,a){li[ui++]=ji,li[ui++]=Hi,li[ui++]=Os,Os=r;var _=ji;r=Hi;var S=32-O(_)-1;_&=~(1<<S),a+=1;var H=32-O(i)+S;if(30<H){var Ge=S-S%5;H=(_&(1<<Ge)-1).toString(32),_>>=Ge,S-=Ge,ji=1<<32-O(i)+S|a<<S|_,Hi=H+r}else ji=1<<H|a<<S|_,Hi=r}function h$(r){r.return!==null&&(Ws(r,1),Qh(r,1,0))}function d$(r){for(;r===$u;)$u=Ma[--La],Ma[La]=null,fu=Ma[--La],Ma[La]=null;for(;r===Os;)Os=li[--ui],li[ui]=null,Hi=li[--ui],li[ui]=null,ji=li[--ui],li[ui]=null}var Hn=null,Cn=null,Ir=!1,gi=null,Ti=!1,p$=Error(s(519));function Zs(r){var i=Error(s(418,""));throw No(oi(i,r)),p$}function Oh(r){var i=r.stateNode,a=r.type,_=r.memoizedProps;switch(i[Qe]=r,i[Ae]=_,a){case"dialog":Ar("cancel",i),Ar("close",i);break;case"iframe":case"object":case"embed":Ar("load",i);break;case"video":case"audio":for(a=0;a<nl.length;a++)Ar(nl[a],i);break;case"source":Ar("error",i);break;case"img":case"image":case"link":Ar("error",i),Ar("load",i);break;case"details":Ar("toggle",i);break;case"input":Ar("invalid",i),sr(i,_.value,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name,!0),wt(i);break;case"select":Ar("invalid",i);break;case"textarea":Ar("invalid",i),er(i,_.value,_.defaultValue,_.children),wt(i)}a=_.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||_.suppressHydrationWarning===!0||sm(i.textContent,a)?(_.popover!=null&&(Ar("beforetoggle",i),Ar("toggle",i)),_.onScroll!=null&&Ar("scroll",i),_.onScrollEnd!=null&&Ar("scrollend",i),_.onClick!=null&&(i.onclick=Hu),i=!0):i=!1,i||Zs(r)}function Wh(r){for(Hn=r.return;Hn;)switch(Hn.tag){case 3:case 27:Ti=!0;return;case 5:case 13:Ti=!1;return;default:Hn=Hn.return}}function Io(r){if(r!==Hn)return!1;if(!Ir)return Wh(r),Ir=!0,!1;var i=!1,a;if((a=r.tag!==3&&r.tag!==27)&&((a=r.tag===5)&&(a=r.type,a=!(a!=="form"&&a!=="button")||Lf(r.type,r.memoizedProps)),a=!a),a&&(i=!0),i&&Cn&&Zs(r),Wh(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(a=r.data,a==="/$"){if(i===0){Cn=yi(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;r=r.nextSibling}Cn=null}}else Cn=Hn?yi(r.stateNode.nextSibling):null;return!0}function Do(){Cn=Hn=null,Ir=!1}function No(r){gi===null?gi=[r]:gi.push(r)}var qo=Error(s(460)),Zh=Error(s(474)),m$={then:function(){}};function Jh(r){return r=r.status,r==="fulfilled"||r==="rejected"}function _u(){}function ed(r,i,a){switch(a=r[a],a===void 0?r.push(i):a!==i&&(i.then(_u,_u),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,r===qo?Error(s(483)):r;default:if(typeof i.status=="string")i.then(_u,_u);else{if(r=Gr,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(_){if(i.status==="pending"){var S=i;S.status="fulfilled",S.value=_}},function(_){if(i.status==="pending"){var S=i;S.status="rejected",S.reason=_}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,r===qo?Error(s(483)):r}throw zo=i,qo}}var zo=null;function td(){if(zo===null)throw Error(s(459));var r=zo;return zo=null,r}var Pa=null,Mo=0;function hu(r){var i=Mo;return Mo+=1,Pa===null&&(Pa=[]),ed(Pa,r,i)}function Lo(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function du(r,i){throw i.$$typeof===d?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function rd(r){var i=r._init;return i(r._payload)}function nd(r){function i(At,bt){if(r){var St=At.deletions;St===null?(At.deletions=[bt],At.flags|=16):St.push(bt)}}function a(At,bt){if(!r)return null;for(;bt!==null;)i(At,bt),bt=bt.sibling;return null}function _(At){for(var bt=new Map;At!==null;)At.key!==null?bt.set(At.key,At):bt.set(At.index,At),At=At.sibling;return bt}function S(At,bt){return At=Es(At,bt),At.index=0,At.sibling=null,At}function H(At,bt,St){return At.index=St,r?(St=At.alternate,St!==null?(St=St.index,St<bt?(At.flags|=33554434,bt):St):(At.flags|=33554434,bt)):(At.flags|=1048576,bt)}function Ge(At){return r&&At.alternate===null&&(At.flags|=33554434),At}function nt(At,bt,St,Pt){return bt===null||bt.tag!==6?(bt=ff(St,At.mode,Pt),bt.return=At,bt):(bt=S(bt,St),bt.return=At,bt)}function dt(At,bt,St,Pt){var Zt=St.type;return Zt===C?qt(At,bt,St.props.children,Pt,St.key):bt!==null&&(bt.elementType===Zt||typeof Zt=="object"&&Zt!==null&&Zt.$$typeof===Oe&&rd(Zt)===bt.type)?(bt=S(bt,St.props),Lo(bt,St),bt.return=At,bt):(bt=Nu(St.type,St.key,St.props,null,At.mode,Pt),Lo(bt,St),bt.return=At,bt)}function Et(At,bt,St,Pt){return bt===null||bt.tag!==4||bt.stateNode.containerInfo!==St.containerInfo||bt.stateNode.implementation!==St.implementation?(bt=_f(St,At.mode,Pt),bt.return=At,bt):(bt=S(bt,St.children||[]),bt.return=At,bt)}function qt(At,bt,St,Pt,Zt){return bt===null||bt.tag!==7?(bt=la(St,At.mode,Pt,Zt),bt.return=At,bt):(bt=S(bt,St),bt.return=At,bt)}function Vt(At,bt,St){if(typeof bt=="string"&&bt!==""||typeof bt=="number"||typeof bt=="bigint")return bt=ff(""+bt,At.mode,St),bt.return=At,bt;if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case b:return St=Nu(bt.type,bt.key,bt.props,null,At.mode,St),Lo(St,bt),St.return=At,St;case k:return bt=_f(bt,At.mode,St),bt.return=At,bt;case Oe:var Pt=bt._init;return bt=Pt(bt._payload),Vt(At,bt,St)}if($(bt)||Me(bt))return bt=la(bt,At.mode,St,null),bt.return=At,bt;if(typeof bt.then=="function")return Vt(At,hu(bt),St);if(bt.$$typeof===Ce)return Vt(At,Cu(At,bt),St);du(At,bt)}return null}function Rt(At,bt,St,Pt){var Zt=bt!==null?bt.key:null;if(typeof St=="string"&&St!==""||typeof St=="number"||typeof St=="bigint")return Zt!==null?null:nt(At,bt,""+St,Pt);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case b:return St.key===Zt?dt(At,bt,St,Pt):null;case k:return St.key===Zt?Et(At,bt,St,Pt):null;case Oe:return Zt=St._init,St=Zt(St._payload),Rt(At,bt,St,Pt)}if($(St)||Me(St))return Zt!==null?null:qt(At,bt,St,Pt,null);if(typeof St.then=="function")return Rt(At,bt,hu(St),Pt);if(St.$$typeof===Ce)return Rt(At,bt,Cu(At,St),Pt);du(At,St)}return null}function Nt(At,bt,St,Pt,Zt){if(typeof Pt=="string"&&Pt!==""||typeof Pt=="number"||typeof Pt=="bigint")return At=At.get(St)||null,nt(bt,At,""+Pt,Zt);if(typeof Pt=="object"&&Pt!==null){switch(Pt.$$typeof){case b:return At=At.get(Pt.key===null?St:Pt.key)||null,dt(bt,At,Pt,Zt);case k:return At=At.get(Pt.key===null?St:Pt.key)||null,Et(bt,At,Pt,Zt);case Oe:var yr=Pt._init;return Pt=yr(Pt._payload),Nt(At,bt,St,Pt,Zt)}if($(Pt)||Me(Pt))return At=At.get(St)||null,qt(bt,At,Pt,Zt,null);if(typeof Pt.then=="function")return Nt(At,bt,St,hu(Pt),Zt);if(Pt.$$typeof===Ce)return Nt(At,bt,St,Cu(bt,Pt),Zt);du(bt,Pt)}return null}function tr(At,bt,St,Pt){for(var Zt=null,yr=null,ir=bt,cr=bt=0,Tn=null;ir!==null&&cr<St.length;cr++){ir.index>cr?(Tn=ir,ir=null):Tn=ir.sibling;var Dr=Rt(At,ir,St[cr],Pt);if(Dr===null){ir===null&&(ir=Tn);break}r&&ir&&Dr.alternate===null&&i(At,ir),bt=H(Dr,bt,cr),yr===null?Zt=Dr:yr.sibling=Dr,yr=Dr,ir=Tn}if(cr===St.length)return a(At,ir),Ir&&Ws(At,cr),Zt;if(ir===null){for(;cr<St.length;cr++)ir=Vt(At,St[cr],Pt),ir!==null&&(bt=H(ir,bt,cr),yr===null?Zt=ir:yr.sibling=ir,yr=ir);return Ir&&Ws(At,cr),Zt}for(ir=_(ir);cr<St.length;cr++)Tn=Nt(ir,At,cr,St[cr],Pt),Tn!==null&&(r&&Tn.alternate!==null&&ir.delete(Tn.key===null?cr:Tn.key),bt=H(Tn,bt,cr),yr===null?Zt=Tn:yr.sibling=Tn,yr=Tn);return r&&ir.forEach(function(ks){return i(At,ks)}),Ir&&Ws(At,cr),Zt}function hr(At,bt,St,Pt){if(St==null)throw Error(s(151));for(var Zt=null,yr=null,ir=bt,cr=bt=0,Tn=null,Dr=St.next();ir!==null&&!Dr.done;cr++,Dr=St.next()){ir.index>cr?(Tn=ir,ir=null):Tn=ir.sibling;var ks=Rt(At,ir,Dr.value,Pt);if(ks===null){ir===null&&(ir=Tn);break}r&&ir&&ks.alternate===null&&i(At,ir),bt=H(ks,bt,cr),yr===null?Zt=ks:yr.sibling=ks,yr=ks,ir=Tn}if(Dr.done)return a(At,ir),Ir&&Ws(At,cr),Zt;if(ir===null){for(;!Dr.done;cr++,Dr=St.next())Dr=Vt(At,Dr.value,Pt),Dr!==null&&(bt=H(Dr,bt,cr),yr===null?Zt=Dr:yr.sibling=Dr,yr=Dr);return Ir&&Ws(At,cr),Zt}for(ir=_(ir);!Dr.done;cr++,Dr=St.next())Dr=Nt(ir,At,cr,Dr.value,Pt),Dr!==null&&(r&&Dr.alternate!==null&&ir.delete(Dr.key===null?cr:Dr.key),bt=H(Dr,bt,cr),yr===null?Zt=Dr:yr.sibling=Dr,yr=Dr);return r&&ir.forEach(function(I0){return i(At,I0)}),Ir&&Ws(At,cr),Zt}function sn(At,bt,St,Pt){if(typeof St=="object"&&St!==null&&St.type===C&&St.key===null&&(St=St.props.children),typeof St=="object"&&St!==null){switch(St.$$typeof){case b:e:{for(var Zt=St.key;bt!==null;){if(bt.key===Zt){if(Zt=St.type,Zt===C){if(bt.tag===7){a(At,bt.sibling),Pt=S(bt,St.props.children),Pt.return=At,At=Pt;break e}}else if(bt.elementType===Zt||typeof Zt=="object"&&Zt!==null&&Zt.$$typeof===Oe&&rd(Zt)===bt.type){a(At,bt.sibling),Pt=S(bt,St.props),Lo(Pt,St),Pt.return=At,At=Pt;break e}a(At,bt);break}else i(At,bt);bt=bt.sibling}St.type===C?(Pt=la(St.props.children,At.mode,Pt,St.key),Pt.return=At,At=Pt):(Pt=Nu(St.type,St.key,St.props,null,At.mode,Pt),Lo(Pt,St),Pt.return=At,At=Pt)}return Ge(At);case k:e:{for(Zt=St.key;bt!==null;){if(bt.key===Zt)if(bt.tag===4&&bt.stateNode.containerInfo===St.containerInfo&&bt.stateNode.implementation===St.implementation){a(At,bt.sibling),Pt=S(bt,St.children||[]),Pt.return=At,At=Pt;break e}else{a(At,bt);break}else i(At,bt);bt=bt.sibling}Pt=_f(St,At.mode,Pt),Pt.return=At,At=Pt}return Ge(At);case Oe:return Zt=St._init,St=Zt(St._payload),sn(At,bt,St,Pt)}if($(St))return tr(At,bt,St,Pt);if(Me(St)){if(Zt=Me(St),typeof Zt!="function")throw Error(s(150));return St=Zt.call(St),hr(At,bt,St,Pt)}if(typeof St.then=="function")return sn(At,bt,hu(St),Pt);if(St.$$typeof===Ce)return sn(At,bt,Cu(At,St),Pt);du(At,St)}return typeof St=="string"&&St!==""||typeof St=="number"||typeof St=="bigint"?(St=""+St,bt!==null&&bt.tag===6?(a(At,bt.sibling),Pt=S(bt,St),Pt.return=At,At=Pt):(a(At,bt),Pt=ff(St,At.mode,Pt),Pt.return=At,At=Pt),Ge(At)):a(At,bt)}return function(At,bt,St,Pt){try{Mo=0;var Zt=sn(At,bt,St,Pt);return Pa=null,Zt}catch(ir){if(ir===qo)throw ir;var yr=_i(29,ir,null,At.mode);return yr.lanes=Pt,yr.return=At,yr}finally{}}}var Js=nd(!0),id=nd(!1),Ba=ie(null),pu=ie(0);function sd(r,i){r=ts,ut(pu,r),ut(Ba,i),ts=r|i.baseLanes}function g$(){ut(pu,ts),ut(Ba,Ba.current)}function v$(){ts=pu.current,Ue(Ba),Ue(pu)}var ci=ie(null),xi=null;function $s(r){var i=r.alternate;ut(mn,mn.current&1),ut(ci,r),xi===null&&(i===null||Ba.current!==null||i.memoizedState!==null)&&(xi=r)}function ad(r){if(r.tag===22){if(ut(mn,mn.current),ut(ci,r),xi===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(xi=r)}}else fs()}function fs(){ut(mn,mn.current),ut(ci,ci.current)}function Gi(r){Ue(ci),xi===r&&(xi=null),Ue(mn)}var mn=ie(0);function mu(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var gb=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(a,_){r.push(_)}};this.abort=function(){i.aborted=!0,r.forEach(function(a){return a()})}},vb=t.unstable_scheduleCallback,yb=t.unstable_NormalPriority,gn={$$typeof:Ce,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function y$(){return{controller:new gb,data:new Map,refCount:0}}function Po(r){r.refCount--,r.refCount===0&&vb(yb,function(){r.controller.abort()})}var Bo=null,b$=0,Fa=0,Va=null;function bb(r,i){if(Bo===null){var a=Bo=[];b$=0,Fa=Rf(),Va={status:"pending",value:void 0,then:function(_){a.push(_)}}}return b$++,i.then(od,od),i}function od(){if(--b$===0&&Bo!==null){Va!==null&&(Va.status="fulfilled");var r=Bo;Bo=null,Fa=0,Va=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function Eb(r,i){var a=[],_={status:"pending",value:null,reason:null,then:function(S){a.push(S)}};return r.then(function(){_.status="fulfilled",_.value=i;for(var S=0;S<a.length;S++)(0,a[S])(i)},function(S){for(_.status="rejected",_.reason=S,S=0;S<a.length;S++)(0,a[S])(void 0)}),_}var ld=F.S;F.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&bb(r,i),ld!==null&&ld(r,i)};var ea=ie(null);function E$(){var r=ea.current;return r!==null?r:Gr.pooledCache}function gu(r,i){i===null?ut(ea,ea.current):ut(ea,i.pool)}function ud(){var r=E$();return r===null?null:{parent:gn._currentValue,pool:r}}var _s=0,gr=null,Pr=null,cn=null,vu=!1,Ua=!1,ta=!1,yu=0,Fo=0,ja=null,wb=0;function on(){throw Error(s(321))}function w$(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!Zn(r[a],i[a]))return!1;return!0}function A$(r,i,a,_,S,H){return _s=H,gr=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=r===null||r.memoizedState===null?ra:hs,ta=!1,H=a(_,S),ta=!1,Ua&&(H=$d(i,a,_,S)),cd(r),H}function cd(r){F.H=Si;var i=Pr!==null&&Pr.next!==null;if(_s=0,cn=Pr=gr=null,vu=!1,Fo=0,ja=null,i)throw Error(s(300));r===null||wn||(r=r.dependencies,r!==null&&ku(r)&&(wn=!0))}function $d(r,i,a,_){gr=r;var S=0;do{if(Ua&&(ja=null),Fo=0,Ua=!1,25<=S)throw Error(s(301));if(S+=1,cn=Pr=null,r.updateQueue!=null){var H=r.updateQueue;H.lastEffect=null,H.events=null,H.stores=null,H.memoCache!=null&&(H.memoCache.index=0)}F.H=na,H=i(a,_)}while(Ua);return H}function Ab(){var r=F.H,i=r.useState()[0];return i=typeof i.then=="function"?Vo(i):i,r=r.useState()[0],(Pr!==null?Pr.memoizedState:null)!==r&&(gr.flags|=1024),i}function T$(){var r=yu!==0;return yu=0,r}function x$(r,i,a){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~a}function S$(r){if(vu){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}vu=!1}_s=0,cn=Pr=gr=null,Ua=!1,Fo=yu=0,ja=null}function Xn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?gr.memoizedState=cn=r:cn=cn.next=r,cn}function $n(){if(Pr===null){var r=gr.alternate;r=r!==null?r.memoizedState:null}else r=Pr.next;var i=cn===null?gr.memoizedState:cn.next;if(i!==null)cn=i,Pr=r;else{if(r===null)throw gr.alternate===null?Error(s(467)):Error(s(310));Pr=r,r={memoizedState:Pr.memoizedState,baseState:Pr.baseState,baseQueue:Pr.baseQueue,queue:Pr.queue,next:null},cn===null?gr.memoizedState=cn=r:cn=cn.next=r}return cn}var bu;bu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Vo(r){var i=Fo;return Fo+=1,ja===null&&(ja=[]),r=ed(ja,r,i),i=gr,(cn===null?i.memoizedState:cn.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?ra:hs),r}function Eu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Vo(r);if(r.$$typeof===Ce)return Pn(r)}throw Error(s(438,String(r)))}function R$(r){var i=null,a=gr.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var _=gr.alternate;_!==null&&(_=_.updateQueue,_!==null&&(_=_.memoCache,_!=null&&(i={data:_.data.map(function(S){return S.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=bu(),gr.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(r),_=0;_<r;_++)a[_]=Fe;return i.index++,a}function Yi(r,i){return typeof i=="function"?i(r):i}function wu(r){var i=$n();return k$(i,Pr,r)}function k$(r,i,a){var _=r.queue;if(_===null)throw Error(s(311));_.lastRenderedReducer=a;var S=r.baseQueue,H=_.pending;if(H!==null){if(S!==null){var Ge=S.next;S.next=H.next,H.next=Ge}i.baseQueue=S=H,_.pending=null}if(H=r.baseState,S===null)r.memoizedState=H;else{i=S.next;var nt=Ge=null,dt=null,Et=i,qt=!1;do{var Vt=Et.lane&-536870913;if(Vt!==Et.lane?(Sr&Vt)===Vt:(_s&Vt)===Vt){var Rt=Et.revertLane;if(Rt===0)dt!==null&&(dt=dt.next={lane:0,revertLane:0,action:Et.action,hasEagerState:Et.hasEagerState,eagerState:Et.eagerState,next:null}),Vt===Fa&&(qt=!0);else if((_s&Rt)===Rt){Et=Et.next,Rt===Fa&&(qt=!0);continue}else Vt={lane:0,revertLane:Et.revertLane,action:Et.action,hasEagerState:Et.hasEagerState,eagerState:Et.eagerState,next:null},dt===null?(nt=dt=Vt,Ge=H):dt=dt.next=Vt,gr.lanes|=Rt,ws|=Rt;Vt=Et.action,ta&&a(H,Vt),H=Et.hasEagerState?Et.eagerState:a(H,Vt)}else Rt={lane:Vt,revertLane:Et.revertLane,action:Et.action,hasEagerState:Et.hasEagerState,eagerState:Et.eagerState,next:null},dt===null?(nt=dt=Rt,Ge=H):dt=dt.next=Rt,gr.lanes|=Vt,ws|=Vt;Et=Et.next}while(Et!==null&&Et!==i);if(dt===null?Ge=H:dt.next=nt,!Zn(H,r.memoizedState)&&(wn=!0,qt&&(a=Va,a!==null)))throw a;r.memoizedState=H,r.baseState=Ge,r.baseQueue=dt,_.lastRenderedState=H}return S===null&&(_.lanes=0),[r.memoizedState,_.dispatch]}function C$(r){var i=$n(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=r;var _=a.dispatch,S=a.pending,H=i.memoizedState;if(S!==null){a.pending=null;var Ge=S=S.next;do H=r(H,Ge.action),Ge=Ge.next;while(Ge!==S);Zn(H,i.memoizedState)||(wn=!0),i.memoizedState=H,i.baseQueue===null&&(i.baseState=H),a.lastRenderedState=H}return[H,_]}function fd(r,i,a){var _=gr,S=$n(),H=Ir;if(H){if(a===void 0)throw Error(s(407));a=a()}else a=i();var Ge=!Zn((Pr||S).memoizedState,a);if(Ge&&(S.memoizedState=a,wn=!0),S=S.queue,N$(dd.bind(null,_,S,r),[r]),S.getSnapshot!==i||Ge||cn!==null&&cn.memoizedState.tag&1){if(_.flags|=2048,Ha(9,hd.bind(null,_,S,a,i),{destroy:void 0},null),Gr===null)throw Error(s(349));H||_s&60||_d(_,i,a)}return a}function _d(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=gr.updateQueue,i===null?(i=bu(),gr.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function hd(r,i,a,_){i.value=a,i.getSnapshot=_,pd(i)&&md(r)}function dd(r,i,a){return a(function(){pd(i)&&md(r)})}function pd(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!Zn(r,a)}catch{return!0}}function md(r){var i=cs(r,2);i!==null&&Gn(i,r,2)}function I$(r){var i=Xn();if(typeof r=="function"){var a=r;if(r=a(),ta){Xe(!0);try{a()}finally{Xe(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:r},i}function gd(r,i,a,_){return r.baseState=a,k$(r,Pr,typeof _=="function"?_:Yi)}function Tb(r,i,a,_,S){if(xu(r))throw Error(s(485));if(r=i.action,r!==null){var H={payload:S,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Ge){H.listeners.push(Ge)}};F.T!==null?a(!0):H.isTransition=!1,_(H),a=i.pending,a===null?(H.next=i.pending=H,vd(i,H)):(H.next=a.next,i.pending=a.next=H)}}function vd(r,i){var a=i.action,_=i.payload,S=r.state;if(i.isTransition){var H=F.T,Ge={};F.T=Ge;try{var nt=a(S,_),dt=F.S;dt!==null&&dt(Ge,nt),yd(r,i,nt)}catch(Et){D$(r,i,Et)}finally{F.T=H}}else try{H=a(S,_),yd(r,i,H)}catch(Et){D$(r,i,Et)}}function yd(r,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(_){bd(r,i,_)},function(_){return D$(r,i,_)}):bd(r,i,a)}function bd(r,i,a){i.status="fulfilled",i.value=a,Ed(i),r.state=a,i=r.pending,i!==null&&(a=i.next,a===i?r.pending=null:(a=a.next,i.next=a,vd(r,a)))}function D$(r,i,a){var _=r.pending;if(r.pending=null,_!==null){_=_.next;do i.status="rejected",i.reason=a,Ed(i),i=i.next;while(i!==_)}r.action=null}function Ed(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function wd(r,i){return i}function Ad(r,i){if(Ir){var a=Gr.formState;if(a!==null){e:{var _=gr;if(Ir){if(Cn){t:{for(var S=Cn,H=Ti;S.nodeType!==8;){if(!H){S=null;break t}if(S=yi(S.nextSibling),S===null){S=null;break t}}H=S.data,S=H==="F!"||H==="F"?S:null}if(S){Cn=yi(S.nextSibling),_=S.data==="F!";break e}}Zs(_)}_=!1}_&&(i=a[0])}}return a=Xn(),a.memoizedState=a.baseState=i,_={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wd,lastRenderedState:i},a.queue=_,a=Ud.bind(null,gr,_),_.dispatch=a,_=I$(!1),H=P$.bind(null,gr,!1,_.queue),_=Xn(),S={state:i,dispatch:null,action:r,pending:null},_.queue=S,a=Tb.bind(null,gr,S,H,a),S.dispatch=a,_.memoizedState=r,[i,a,!1]}function Td(r){var i=$n();return xd(i,Pr,r)}function xd(r,i,a){i=k$(r,i,wd)[0],r=wu(Yi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Vo(i):i;var _=$n(),S=_.queue,H=S.dispatch;return a!==_.memoizedState&&(gr.flags|=2048,Ha(9,xb.bind(null,S,a),{destroy:void 0},null)),[i,H,r]}function xb(r,i){r.action=i}function Sd(r){var i=$n(),a=Pr;if(a!==null)return xd(i,a,r);$n(),i=i.memoizedState,a=$n();var _=a.queue.dispatch;return a.memoizedState=r,[i,_,!1]}function Ha(r,i,a,_){return r={tag:r,create:i,inst:a,deps:_,next:null},i=gr.updateQueue,i===null&&(i=bu(),gr.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=r.next=r:(_=a.next,a.next=r,r.next=_,i.lastEffect=r),r}function Rd(){return $n().memoizedState}function Au(r,i,a,_){var S=Xn();gr.flags|=r,S.memoizedState=Ha(1|i,a,{destroy:void 0},_===void 0?null:_)}function Tu(r,i,a,_){var S=$n();_=_===void 0?null:_;var H=S.memoizedState.inst;Pr!==null&&_!==null&&w$(_,Pr.memoizedState.deps)?S.memoizedState=Ha(i,a,H,_):(gr.flags|=r,S.memoizedState=Ha(1|i,a,H,_))}function kd(r,i){Au(8390656,8,r,i)}function N$(r,i){Tu(2048,8,r,i)}function Cd(r,i){return Tu(4,2,r,i)}function Id(r,i){return Tu(4,4,r,i)}function Dd(r,i){if(typeof i=="function"){r=r();var a=i(r);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Nd(r,i,a){a=a!=null?a.concat([r]):null,Tu(4,4,Dd.bind(null,i,r),a)}function q$(){}function qd(r,i){var a=$n();i=i===void 0?null:i;var _=a.memoizedState;return i!==null&&w$(i,_[1])?_[0]:(a.memoizedState=[r,i],r)}function zd(r,i){var a=$n();i=i===void 0?null:i;var _=a.memoizedState;if(i!==null&&w$(i,_[1]))return _[0];if(_=r(),ta){Xe(!0);try{r()}finally{Xe(!1)}}return a.memoizedState=[_,i],_}function z$(r,i,a){return a===void 0||_s&1073741824?r.memoizedState=i:(r.memoizedState=a,r=Lp(),gr.lanes|=r,ws|=r,a)}function Md(r,i,a,_){return Zn(a,i)?a:Ba.current!==null?(r=z$(r,a,_),Zn(r,i)||(wn=!0),r):_s&42?(r=Lp(),gr.lanes|=r,ws|=r,i):(wn=!0,r.memoizedState=a)}function Ld(r,i,a,_,S){var H=h.p;h.p=H!==0&&8>H?H:8;var Ge=F.T,nt={};F.T=nt,P$(r,!1,i,a);try{var dt=S(),Et=F.S;if(Et!==null&&Et(nt,dt),dt!==null&&typeof dt=="object"&&typeof dt.then=="function"){var qt=Eb(dt,_);Uo(r,i,qt,ri(r))}else Uo(r,i,_,ri(r))}catch(Vt){Uo(r,i,{then:function(){},status:"rejected",reason:Vt},ri())}finally{h.p=H,F.T=Ge}}function Sb(){}function M$(r,i,a,_){if(r.tag!==5)throw Error(s(476));var S=Pd(r).queue;Ld(r,S,i,p,a===null?Sb:function(){return Bd(r),a(_)})}function Pd(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:p},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function Bd(r){var i=Pd(r).next.queue;Uo(r,i,{},ri())}function L$(){return Pn(ll)}function Fd(){return $n().memoizedState}function Vd(){return $n().memoizedState}function Rb(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var a=ri();r=ms(a);var _=gs(i,r,a);_!==null&&(Gn(_,i,a),Go(_,i,a)),i={cache:y$()},r.payload=i;return}i=i.return}}function kb(r,i,a){var _=ri();a={lane:_,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},xu(r)?jd(i,a):(a=_$(r,i,a,_),a!==null&&(Gn(a,r,_),Hd(a,i,_)))}function Ud(r,i,a){var _=ri();Uo(r,i,a,_)}function Uo(r,i,a,_){var S={lane:_,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(xu(r))jd(i,S);else{var H=r.alternate;if(r.lanes===0&&(H===null||H.lanes===0)&&(H=i.lastRenderedReducer,H!==null))try{var Ge=i.lastRenderedState,nt=H(Ge,a);if(S.hasEagerState=!0,S.eagerState=nt,Zn(nt,Ge))return uu(r,i,S,0),Gr===null&&lu(),!1}catch{}finally{}if(a=_$(r,i,S,_),a!==null)return Gn(a,r,_),Hd(a,i,_),!0}return!1}function P$(r,i,a,_){if(_={lane:2,revertLane:Rf(),action:_,hasEagerState:!1,eagerState:null,next:null},xu(r)){if(i)throw Error(s(479))}else i=_$(r,a,_,2),i!==null&&Gn(i,r,2)}function xu(r){var i=r.alternate;return r===gr||i!==null&&i===gr}function jd(r,i){Ua=vu=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function Hd(r,i,a){if(a&4194176){var _=i.lanes;_&=r.pendingLanes,a|=_,i.lanes=a,I(r,a)}}var Si={readContext:Pn,use:Eu,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useLayoutEffect:on,useInsertionEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useSyncExternalStore:on,useId:on};Si.useCacheRefresh=on,Si.useMemoCache=on,Si.useHostTransitionStatus=on,Si.useFormState=on,Si.useActionState=on,Si.useOptimistic=on;var ra={readContext:Pn,use:Eu,useCallback:function(r,i){return Xn().memoizedState=[r,i===void 0?null:i],r},useContext:Pn,useEffect:kd,useImperativeHandle:function(r,i,a){a=a!=null?a.concat([r]):null,Au(4194308,4,Dd.bind(null,i,r),a)},useLayoutEffect:function(r,i){return Au(4194308,4,r,i)},useInsertionEffect:function(r,i){Au(4,2,r,i)},useMemo:function(r,i){var a=Xn();i=i===void 0?null:i;var _=r();if(ta){Xe(!0);try{r()}finally{Xe(!1)}}return a.memoizedState=[_,i],_},useReducer:function(r,i,a){var _=Xn();if(a!==void 0){var S=a(i);if(ta){Xe(!0);try{a(i)}finally{Xe(!1)}}}else S=i;return _.memoizedState=_.baseState=S,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:S},_.queue=r,r=r.dispatch=kb.bind(null,gr,r),[_.memoizedState,r]},useRef:function(r){var i=Xn();return r={current:r},i.memoizedState=r},useState:function(r){r=I$(r);var i=r.queue,a=Ud.bind(null,gr,i);return i.dispatch=a,[r.memoizedState,a]},useDebugValue:q$,useDeferredValue:function(r,i){var a=Xn();return z$(a,r,i)},useTransition:function(){var r=I$(!1);return r=Ld.bind(null,gr,r.queue,!0,!1),Xn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,a){var _=gr,S=Xn();if(Ir){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Gr===null)throw Error(s(349));Sr&60||_d(_,i,a)}S.memoizedState=a;var H={value:a,getSnapshot:i};return S.queue=H,kd(dd.bind(null,_,H,r),[r]),_.flags|=2048,Ha(9,hd.bind(null,_,H,a,i),{destroy:void 0},null),a},useId:function(){var r=Xn(),i=Gr.identifierPrefix;if(Ir){var a=Hi,_=ji;a=(_&~(1<<32-O(_)-1)).toString(32)+a,i=":"+i+"R"+a,a=yu++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=wb++,i=":"+i+"r"+a.toString(32)+":";return r.memoizedState=i},useCacheRefresh:function(){return Xn().memoizedState=Rb.bind(null,gr)}};ra.useMemoCache=R$,ra.useHostTransitionStatus=L$,ra.useFormState=Ad,ra.useActionState=Ad,ra.useOptimistic=function(r){var i=Xn();i.memoizedState=i.baseState=r;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=P$.bind(null,gr,!0,a),a.dispatch=i,[r,i]};var hs={readContext:Pn,use:Eu,useCallback:qd,useContext:Pn,useEffect:N$,useImperativeHandle:Nd,useInsertionEffect:Cd,useLayoutEffect:Id,useMemo:zd,useReducer:wu,useRef:Rd,useState:function(){return wu(Yi)},useDebugValue:q$,useDeferredValue:function(r,i){var a=$n();return Md(a,Pr.memoizedState,r,i)},useTransition:function(){var r=wu(Yi)[0],i=$n().memoizedState;return[typeof r=="boolean"?r:Vo(r),i]},useSyncExternalStore:fd,useId:Fd};hs.useCacheRefresh=Vd,hs.useMemoCache=R$,hs.useHostTransitionStatus=L$,hs.useFormState=Td,hs.useActionState=Td,hs.useOptimistic=function(r,i){var a=$n();return gd(a,Pr,r,i)};var na={readContext:Pn,use:Eu,useCallback:qd,useContext:Pn,useEffect:N$,useImperativeHandle:Nd,useInsertionEffect:Cd,useLayoutEffect:Id,useMemo:zd,useReducer:C$,useRef:Rd,useState:function(){return C$(Yi)},useDebugValue:q$,useDeferredValue:function(r,i){var a=$n();return Pr===null?z$(a,r,i):Md(a,Pr.memoizedState,r,i)},useTransition:function(){var r=C$(Yi)[0],i=$n().memoizedState;return[typeof r=="boolean"?r:Vo(r),i]},useSyncExternalStore:fd,useId:Fd};na.useCacheRefresh=Vd,na.useMemoCache=R$,na.useHostTransitionStatus=L$,na.useFormState=Sd,na.useActionState=Sd,na.useOptimistic=function(r,i){var a=$n();return Pr!==null?gd(a,Pr,r,i):(a.baseState=r,[r,a.queue.dispatch])};function B$(r,i,a,_){i=r.memoizedState,a=a(_,i),a=a==null?i:ue({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var F$={isMounted:function(r){return(r=r._reactInternals)?ve(r)===r:!1},enqueueSetState:function(r,i,a){r=r._reactInternals;var _=ri(),S=ms(_);S.payload=i,a!=null&&(S.callback=a),i=gs(r,S,_),i!==null&&(Gn(i,r,_),Go(i,r,_))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var _=ri(),S=ms(_);S.tag=1,S.payload=i,a!=null&&(S.callback=a),i=gs(r,S,_),i!==null&&(Gn(i,r,_),Go(i,r,_))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=ri(),_=ms(a);_.tag=2,i!=null&&(_.callback=i),i=gs(r,_,a),i!==null&&(Gn(i,r,a),Go(i,r,a))}};function Gd(r,i,a,_,S,H,Ge){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(_,H,Ge):i.prototype&&i.prototype.isPureReactComponent?!ko(a,_)||!ko(S,H):!0}function Yd(r,i,a,_){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,_),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,_),i.state!==r&&F$.enqueueReplaceState(i,i.state,null)}function ia(r,i){var a=i;if("ref"in i){a={};for(var _ in i)_!=="ref"&&(a[_]=i[_])}if(r=r.defaultProps){a===i&&(a=ue({},a));for(var S in r)a[S]===void 0&&(a[S]=r[S])}return a}var Su=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Kd(r){Su(r)}function Xd(r){console.error(r)}function Qd(r){Su(r)}function Ru(r,i){try{var a=r.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(_){setTimeout(function(){throw _})}}function Od(r,i,a){try{var _=r.onCaughtError;_(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function V$(r,i,a){return a=ms(a),a.tag=3,a.payload={element:null},a.callback=function(){Ru(r,i)},a}function Wd(r){return r=ms(r),r.tag=3,r}function Zd(r,i,a,_){var S=a.type.getDerivedStateFromError;if(typeof S=="function"){var H=_.value;r.payload=function(){return S(H)},r.callback=function(){Od(i,a,_)}}var Ge=a.stateNode;Ge!==null&&typeof Ge.componentDidCatch=="function"&&(r.callback=function(){Od(i,a,_),typeof S!="function"&&(As===null?As=new Set([this]):As.add(this));var nt=_.stack;this.componentDidCatch(_.value,{componentStack:nt!==null?nt:""})})}function Cb(r,i,a,_,S){if(a.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){if(i=a.alternate,i!==null&&Ho(i,a,S,!0),a=ci.current,a!==null){switch(a.tag){case 13:return xi===null?wf():a.alternate===null&&nn===0&&(nn=3),a.flags&=-257,a.flags|=65536,a.lanes=S,_===m$?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([_]):i.add(_),Tf(r,_,S)),!1;case 22:return a.flags|=65536,_===m$?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([_])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([_]):a.add(_)),Tf(r,_,S)),!1}throw Error(s(435,a.tag))}return Tf(r,_,S),wf(),!1}if(Ir)return i=ci.current,i!==null?(!(i.flags&65536)&&(i.flags|=256),i.flags|=65536,i.lanes=S,_!==p$&&(r=Error(s(422),{cause:_}),No(oi(r,a)))):(_!==p$&&(i=Error(s(423),{cause:_}),No(oi(i,a))),r=r.current.alternate,r.flags|=65536,S&=-S,r.lanes|=S,_=oi(_,a),S=V$(r.stateNode,_,S),rf(r,S),nn!==4&&(nn=2)),!1;var H=Error(s(520),{cause:_});if(H=oi(H,a),Jo===null?Jo=[H]:Jo.push(H),nn!==4&&(nn=2),i===null)return!0;_=oi(_,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,r=S&-S,a.lanes|=r,r=V$(a.stateNode,_,r),rf(a,r),!1;case 1:if(i=a.type,H=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(As===null||!As.has(H))))return a.flags|=65536,S&=-S,a.lanes|=S,S=Wd(S),Zd(S,r,a,_),rf(a,S),!1}a=a.return}while(a!==null);return!1}var Jd=Error(s(461)),wn=!1;function In(r,i,a,_){i.child=r===null?id(i,null,a,_):Js(i,r.child,a,_)}function ep(r,i,a,_,S){a=a.render;var H=i.ref;if("ref"in _){var Ge={};for(var nt in _)nt!=="ref"&&(Ge[nt]=_[nt])}else Ge=_;return aa(i),_=A$(r,i,a,Ge,H,S),nt=T$(),r!==null&&!wn?(x$(r,i,S),Ki(r,i,S)):(Ir&&nt&&h$(i),i.flags|=1,In(r,i,_,S),i.child)}function tp(r,i,a,_,S){if(r===null){var H=a.type;return typeof H=="function"&&!$f(H)&&H.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=H,rp(r,i,H,_,S)):(r=Nu(a.type,null,_,i,i.mode,S),r.ref=i.ref,r.return=i,i.child=r)}if(H=r.child,!O$(r,S)){var Ge=H.memoizedProps;if(a=a.compare,a=a!==null?a:ko,a(Ge,_)&&r.ref===i.ref)return Ki(r,i,S)}return i.flags|=1,r=Es(H,_),r.ref=i.ref,r.return=i,i.child=r}function rp(r,i,a,_,S){if(r!==null){var H=r.memoizedProps;if(ko(H,_)&&r.ref===i.ref)if(wn=!1,i.pendingProps=_=H,O$(r,S))r.flags&131072&&(wn=!0);else return i.lanes=r.lanes,Ki(r,i,S)}return U$(r,i,a,_,S)}function np(r,i,a){var _=i.pendingProps,S=_.children,H=(i.stateNode._pendingVisibility&2)!==0,Ge=r!==null?r.memoizedState:null;if(jo(r,i),_.mode==="hidden"||H){if(i.flags&128){if(_=Ge!==null?Ge.baseLanes|a:a,r!==null){for(S=i.child=r.child,H=0;S!==null;)H=H|S.lanes|S.childLanes,S=S.sibling;i.childLanes=H&~_}else i.childLanes=0,i.child=null;return ip(r,i,_,a)}if(a&536870912)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&gu(i,Ge!==null?Ge.cachePool:null),Ge!==null?sd(i,Ge):g$(),ad(i);else return i.lanes=i.childLanes=536870912,ip(r,i,Ge!==null?Ge.baseLanes|a:a,a)}else Ge!==null?(gu(i,Ge.cachePool),sd(i,Ge),fs(),i.memoizedState=null):(r!==null&&gu(i,null),g$(),fs());return In(r,i,S,a),i.child}function ip(r,i,a,_){var S=E$();return S=S===null?null:{parent:gn._currentValue,pool:S},i.memoizedState={baseLanes:a,cachePool:S},r!==null&&gu(i,null),g$(),ad(i),r!==null&&Ho(r,i,_,!0),null}function jo(r,i){var a=i.ref;if(a===null)r!==null&&r.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(r===null||r.ref!==a)&&(i.flags|=2097664)}}function U$(r,i,a,_,S){return aa(i),a=A$(r,i,a,_,void 0,S),_=T$(),r!==null&&!wn?(x$(r,i,S),Ki(r,i,S)):(Ir&&_&&h$(i),i.flags|=1,In(r,i,a,S),i.child)}function sp(r,i,a,_,S,H){return aa(i),i.updateQueue=null,a=$d(i,_,a,S),cd(r),_=T$(),r!==null&&!wn?(x$(r,i,H),Ki(r,i,H)):(Ir&&_&&h$(i),i.flags|=1,In(r,i,a,H),i.child)}function ap(r,i,a,_,S){if(aa(i),i.stateNode===null){var H=za,Ge=a.contextType;typeof Ge=="object"&&Ge!==null&&(H=Pn(Ge)),H=new a(_,H),i.memoizedState=H.state!==null&&H.state!==void 0?H.state:null,H.updater=F$,i.stateNode=H,H._reactInternals=i,H=i.stateNode,H.props=_,H.state=i.memoizedState,H.refs={},ef(i),Ge=a.contextType,H.context=typeof Ge=="object"&&Ge!==null?Pn(Ge):za,H.state=i.memoizedState,Ge=a.getDerivedStateFromProps,typeof Ge=="function"&&(B$(i,a,Ge,_),H.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof H.getSnapshotBeforeUpdate=="function"||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(Ge=H.state,typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount(),Ge!==H.state&&F$.enqueueReplaceState(H,H.state,null),Ko(i,_,H,S),Yo(),H.state=i.memoizedState),typeof H.componentDidMount=="function"&&(i.flags|=4194308),_=!0}else if(r===null){H=i.stateNode;var nt=i.memoizedProps,dt=ia(a,nt);H.props=dt;var Et=H.context,qt=a.contextType;Ge=za,typeof qt=="object"&&qt!==null&&(Ge=Pn(qt));var Vt=a.getDerivedStateFromProps;qt=typeof Vt=="function"||typeof H.getSnapshotBeforeUpdate=="function",nt=i.pendingProps!==nt,qt||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(nt||Et!==Ge)&&Yd(i,H,_,Ge),ps=!1;var Rt=i.memoizedState;H.state=Rt,Ko(i,_,H,S),Yo(),Et=i.memoizedState,nt||Rt!==Et||ps?(typeof Vt=="function"&&(B$(i,a,Vt,_),Et=i.memoizedState),(dt=ps||Gd(i,a,dt,_,Rt,Et,Ge))?(qt||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(i.flags|=4194308)):(typeof H.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=_,i.memoizedState=Et),H.props=_,H.state=Et,H.context=Ge,_=dt):(typeof H.componentDidMount=="function"&&(i.flags|=4194308),_=!1)}else{H=i.stateNode,tf(r,i),Ge=i.memoizedProps,qt=ia(a,Ge),H.props=qt,Vt=i.pendingProps,Rt=H.context,Et=a.contextType,dt=za,typeof Et=="object"&&Et!==null&&(dt=Pn(Et)),nt=a.getDerivedStateFromProps,(Et=typeof nt=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(Ge!==Vt||Rt!==dt)&&Yd(i,H,_,dt),ps=!1,Rt=i.memoizedState,H.state=Rt,Ko(i,_,H,S),Yo();var Nt=i.memoizedState;Ge!==Vt||Rt!==Nt||ps||r!==null&&r.dependencies!==null&&ku(r.dependencies)?(typeof nt=="function"&&(B$(i,a,nt,_),Nt=i.memoizedState),(qt=ps||Gd(i,a,qt,_,Rt,Nt,dt)||r!==null&&r.dependencies!==null&&ku(r.dependencies))?(Et||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(_,Nt,dt),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(_,Nt,dt)),typeof H.componentDidUpdate=="function"&&(i.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof H.componentDidUpdate!="function"||Ge===r.memoizedProps&&Rt===r.memoizedState||(i.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||Ge===r.memoizedProps&&Rt===r.memoizedState||(i.flags|=1024),i.memoizedProps=_,i.memoizedState=Nt),H.props=_,H.state=Nt,H.context=dt,_=qt):(typeof H.componentDidUpdate!="function"||Ge===r.memoizedProps&&Rt===r.memoizedState||(i.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||Ge===r.memoizedProps&&Rt===r.memoizedState||(i.flags|=1024),_=!1)}return H=_,jo(r,i),_=(i.flags&128)!==0,H||_?(H=i.stateNode,a=_&&typeof a.getDerivedStateFromError!="function"?null:H.render(),i.flags|=1,r!==null&&_?(i.child=Js(i,r.child,null,S),i.child=Js(i,null,a,S)):In(r,i,a,S),i.memoizedState=H.state,r=i.child):r=Ki(r,i,S),r}function op(r,i,a,_){return Do(),i.flags|=256,In(r,i,a,_),i.child}var j$={dehydrated:null,treeContext:null,retryLane:0};function H$(r){return{baseLanes:r,cachePool:ud()}}function G$(r,i,a){return r=r!==null?r.childLanes&~a:0,i&&(r|=hi),r}function lp(r,i,a){var _=i.pendingProps,S=!1,H=(i.flags&128)!==0,Ge;if((Ge=H)||(Ge=r!==null&&r.memoizedState===null?!1:(mn.current&2)!==0),Ge&&(S=!0,i.flags&=-129),Ge=(i.flags&32)!==0,i.flags&=-33,r===null){if(Ir){if(S?$s(i):fs(),Ir){var nt=Cn,dt;if(dt=nt){e:{for(dt=nt,nt=Ti;dt.nodeType!==8;){if(!nt){nt=null;break e}if(dt=yi(dt.nextSibling),dt===null){nt=null;break e}}nt=dt}nt!==null?(i.memoizedState={dehydrated:nt,treeContext:Os!==null?{id:ji,overflow:Hi}:null,retryLane:536870912},dt=_i(18,null,null,0),dt.stateNode=nt,dt.return=i,i.child=dt,Hn=i,Cn=null,dt=!0):dt=!1}dt||Zs(i)}if(nt=i.memoizedState,nt!==null&&(nt=nt.dehydrated,nt!==null))return nt.data==="$!"?i.lanes=16:i.lanes=536870912,null;Gi(i)}return nt=_.children,_=_.fallback,S?(fs(),S=i.mode,nt=K$({mode:"hidden",children:nt},S),_=la(_,S,a,null),nt.return=i,_.return=i,nt.sibling=_,i.child=nt,S=i.child,S.memoizedState=H$(a),S.childLanes=G$(r,Ge,a),i.memoizedState=j$,_):($s(i),Y$(i,nt))}if(dt=r.memoizedState,dt!==null&&(nt=dt.dehydrated,nt!==null)){if(H)i.flags&256?($s(i),i.flags&=-257,i=X$(r,i,a)):i.memoizedState!==null?(fs(),i.child=r.child,i.flags|=128,i=null):(fs(),S=_.fallback,nt=i.mode,_=K$({mode:"visible",children:_.children},nt),S=la(S,nt,a,null),S.flags|=2,_.return=i,S.return=i,_.sibling=S,i.child=_,Js(i,r.child,null,a),_=i.child,_.memoizedState=H$(a),_.childLanes=G$(r,Ge,a),i.memoizedState=j$,i=S);else if($s(i),nt.data==="$!"){if(Ge=nt.nextSibling&&nt.nextSibling.dataset,Ge)var Et=Ge.dgst;Ge=Et,_=Error(s(419)),_.stack="",_.digest=Ge,No({value:_,source:null,stack:null}),i=X$(r,i,a)}else if(wn||Ho(r,i,a,!1),Ge=(a&r.childLanes)!==0,wn||Ge){if(Ge=Gr,Ge!==null){if(_=a&-a,_&42)_=1;else switch(_){case 2:_=1;break;case 8:_=4;break;case 32:_=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:_=64;break;case 268435456:_=134217728;break;default:_=0}if(_=_&(Ge.suspendedLanes|a)?0:_,_!==0&&_!==dt.retryLane)throw dt.retryLane=_,cs(r,_),Gn(Ge,r,_),Jd}nt.data==="$?"||wf(),i=X$(r,i,a)}else nt.data==="$?"?(i.flags|=128,i.child=r.child,i=Gb.bind(null,r),nt._reactRetry=i,i=null):(r=dt.treeContext,Cn=yi(nt.nextSibling),Hn=i,Ir=!0,gi=null,Ti=!1,r!==null&&(li[ui++]=ji,li[ui++]=Hi,li[ui++]=Os,ji=r.id,Hi=r.overflow,Os=i),i=Y$(i,_.children),i.flags|=4096);return i}return S?(fs(),S=_.fallback,nt=i.mode,dt=r.child,Et=dt.sibling,_=Es(dt,{mode:"hidden",children:_.children}),_.subtreeFlags=dt.subtreeFlags&31457280,Et!==null?S=Es(Et,S):(S=la(S,nt,a,null),S.flags|=2),S.return=i,_.return=i,_.sibling=S,i.child=_,_=S,S=i.child,nt=r.child.memoizedState,nt===null?nt=H$(a):(dt=nt.cachePool,dt!==null?(Et=gn._currentValue,dt=dt.parent!==Et?{parent:Et,pool:Et}:dt):dt=ud(),nt={baseLanes:nt.baseLanes|a,cachePool:dt}),S.memoizedState=nt,S.childLanes=G$(r,Ge,a),i.memoizedState=j$,_):($s(i),a=r.child,r=a.sibling,a=Es(a,{mode:"visible",children:_.children}),a.return=i,a.sibling=null,r!==null&&(Ge=i.deletions,Ge===null?(i.deletions=[r],i.flags|=16):Ge.push(r)),i.child=a,i.memoizedState=null,a)}function Y$(r,i){return i=K$({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function K$(r,i){return qp(r,i,0,null)}function X$(r,i,a){return Js(i,r.child,null,a),r=Y$(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function up(r,i,a){r.lanes|=i;var _=r.alternate;_!==null&&(_.lanes|=i),Z$(r.return,i,a)}function Q$(r,i,a,_,S){var H=r.memoizedState;H===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:_,tail:a,tailMode:S}:(H.isBackwards=i,H.rendering=null,H.renderingStartTime=0,H.last=_,H.tail=a,H.tailMode=S)}function cp(r,i,a){var _=i.pendingProps,S=_.revealOrder,H=_.tail;if(In(r,i,_.children,a),_=mn.current,_&2)_=_&1|2,i.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&up(r,a,i);else if(r.tag===19)up(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}_&=1}switch(ut(mn,_),S){case"forwards":for(a=i.child,S=null;a!==null;)r=a.alternate,r!==null&&mu(r)===null&&(S=a),a=a.sibling;a=S,a===null?(S=i.child,i.child=null):(S=a.sibling,a.sibling=null),Q$(i,!1,S,a,H);break;case"backwards":for(a=null,S=i.child,i.child=null;S!==null;){if(r=S.alternate,r!==null&&mu(r)===null){i.child=S;break}r=S.sibling,S.sibling=a,a=S,S=r}Q$(i,!0,a,null,H);break;case"together":Q$(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ki(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),ws|=i.lanes,!(a&i.childLanes))if(r!==null){if(Ho(r,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,a=Es(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=Es(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function O$(r,i){return r.lanes&i?!0:(r=r.dependencies,!!(r!==null&&ku(r)))}function Ib(r,i,a){switch(i.tag){case 3:Kt(i,i.stateNode.containerInfo),ds(i,gn,r.memoizedState.cache),Do();break;case 27:case 5:Xt(i);break;case 4:Kt(i,i.stateNode.containerInfo);break;case 10:ds(i,i.type,i.memoizedProps.value);break;case 13:var _=i.memoizedState;if(_!==null)return _.dehydrated!==null?($s(i),i.flags|=128,null):a&i.child.childLanes?lp(r,i,a):($s(i),r=Ki(r,i,a),r!==null?r.sibling:null);$s(i);break;case 19:var S=(r.flags&128)!==0;if(_=(a&i.childLanes)!==0,_||(Ho(r,i,a,!1),_=(a&i.childLanes)!==0),S){if(_)return cp(r,i,a);i.flags|=128}if(S=i.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),ut(mn,mn.current),_)break;return null;case 22:case 23:return i.lanes=0,np(r,i,a);case 24:ds(i,gn,r.memoizedState.cache)}return Ki(r,i,a)}function $p(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps)wn=!0;else{if(!O$(r,a)&&!(i.flags&128))return wn=!1,Ib(r,i,a);wn=!!(r.flags&131072)}else wn=!1,Ir&&i.flags&1048576&&Qh(i,fu,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var _=i.elementType,S=_._init;if(_=S(_._payload),i.type=_,typeof _=="function")$f(_)?(r=ia(_,r),i.tag=1,i=ap(null,i,_,r,a)):(i.tag=0,i=U$(null,i,_,r,a));else{if(_!=null){if(S=_.$$typeof,S===Be){i.tag=11,i=ep(null,i,_,r,a);break e}else if(S===ke){i.tag=14,i=tp(null,i,_,r,a);break e}}throw i=pe(_)||_,Error(s(306,i,""))}}return i;case 0:return U$(r,i,i.type,i.pendingProps,a);case 1:return _=i.type,S=ia(_,i.pendingProps),ap(r,i,_,S,a);case 3:e:{if(Kt(i,i.stateNode.containerInfo),r===null)throw Error(s(387));var H=i.pendingProps;S=i.memoizedState,_=S.element,tf(r,i),Ko(i,H,null,a);var Ge=i.memoizedState;if(H=Ge.cache,ds(i,gn,H),H!==S.cache&&J$(i,[gn],a,!0),Yo(),H=Ge.element,S.isDehydrated)if(S={element:H,isDehydrated:!1,cache:Ge.cache},i.updateQueue.baseState=S,i.memoizedState=S,i.flags&256){i=op(r,i,H,a);break e}else if(H!==_){_=oi(Error(s(424)),i),No(_),i=op(r,i,H,a);break e}else for(Cn=yi(i.stateNode.containerInfo.firstChild),Hn=i,Ir=!0,gi=null,Ti=!0,a=id(i,null,H,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Do(),H===_){i=Ki(r,i,a);break e}In(r,i,H,a)}i=i.child}return i;case 26:return jo(r,i),r===null?(a=hm(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ir||(a=i.type,r=i.pendingProps,_=Gu(Ht.current).createElement(a),_[Qe]=i,_[Ae]=r,Dn(_,a,r),v(_),i.stateNode=_):i.memoizedState=hm(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return Xt(i),r===null&&Ir&&(_=i.stateNode=$m(i.type,i.pendingProps,Ht.current),Hn=i,Ti=!0,Cn=yi(_.firstChild)),_=i.pendingProps.children,r!==null||Ir?In(r,i,_,a):i.child=Js(i,null,_,a),jo(r,i),i.child;case 5:return r===null&&Ir&&((S=_=Cn)&&(_=o0(_,i.type,i.pendingProps,Ti),_!==null?(i.stateNode=_,Hn=i,Cn=yi(_.firstChild),Ti=!1,S=!0):S=!1),S||Zs(i)),Xt(i),S=i.type,H=i.pendingProps,Ge=r!==null?r.memoizedProps:null,_=H.children,Lf(S,H)?_=null:Ge!==null&&Lf(S,Ge)&&(i.flags|=32),i.memoizedState!==null&&(S=A$(r,i,Ab,null,null,a),ll._currentValue=S),jo(r,i),In(r,i,_,a),i.child;case 6:return r===null&&Ir&&((r=a=Cn)&&(a=l0(a,i.pendingProps,Ti),a!==null?(i.stateNode=a,Hn=i,Cn=null,r=!0):r=!1),r||Zs(i)),null;case 13:return lp(r,i,a);case 4:return Kt(i,i.stateNode.containerInfo),_=i.pendingProps,r===null?i.child=Js(i,null,_,a):In(r,i,_,a),i.child;case 11:return ep(r,i,i.type,i.pendingProps,a);case 7:return In(r,i,i.pendingProps,a),i.child;case 8:return In(r,i,i.pendingProps.children,a),i.child;case 12:return In(r,i,i.pendingProps.children,a),i.child;case 10:return _=i.pendingProps,ds(i,i.type,_.value),In(r,i,_.children,a),i.child;case 9:return S=i.type._context,_=i.pendingProps.children,aa(i),S=Pn(S),_=_(S),i.flags|=1,In(r,i,_,a),i.child;case 14:return tp(r,i,i.type,i.pendingProps,a);case 15:return rp(r,i,i.type,i.pendingProps,a);case 19:return cp(r,i,a);case 22:return np(r,i,a);case 24:return aa(i),_=Pn(gn),r===null?(S=E$(),S===null&&(S=Gr,H=y$(),S.pooledCache=H,H.refCount++,H!==null&&(S.pooledCacheLanes|=a),S=H),i.memoizedState={parent:_,cache:S},ef(i),ds(i,gn,S)):(r.lanes&a&&(tf(r,i),Ko(i,null,null,a),Yo()),S=r.memoizedState,H=i.memoizedState,S.parent!==_?(S={parent:_,cache:_},i.memoizedState=S,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=S),ds(i,gn,_)):(_=H.cache,ds(i,gn,_),_!==S.cache&&J$(i,[gn],a,!0))),In(r,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var W$=ie(null),sa=null,Xi=null;function ds(r,i,a){ut(W$,i._currentValue),i._currentValue=a}function Qi(r){r._currentValue=W$.current,Ue(W$)}function Z$(r,i,a){for(;r!==null;){var _=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,_!==null&&(_.childLanes|=i)):_!==null&&(_.childLanes&i)!==i&&(_.childLanes|=i),r===a)break;r=r.return}}function J$(r,i,a,_){var S=r.child;for(S!==null&&(S.return=r);S!==null;){var H=S.dependencies;if(H!==null){var Ge=S.child;H=H.firstContext;e:for(;H!==null;){var nt=H;H=S;for(var dt=0;dt<i.length;dt++)if(nt.context===i[dt]){H.lanes|=a,nt=H.alternate,nt!==null&&(nt.lanes|=a),Z$(H.return,a,r),_||(Ge=null);break e}H=nt.next}}else if(S.tag===18){if(Ge=S.return,Ge===null)throw Error(s(341));Ge.lanes|=a,H=Ge.alternate,H!==null&&(H.lanes|=a),Z$(Ge,a,r),Ge=null}else Ge=S.child;if(Ge!==null)Ge.return=S;else for(Ge=S;Ge!==null;){if(Ge===r){Ge=null;break}if(S=Ge.sibling,S!==null){S.return=Ge.return,Ge=S;break}Ge=Ge.return}S=Ge}}function Ho(r,i,a,_){r=null;for(var S=i,H=!1;S!==null;){if(!H){if(S.flags&524288)H=!0;else if(S.flags&262144)break}if(S.tag===10){var Ge=S.alternate;if(Ge===null)throw Error(s(387));if(Ge=Ge.memoizedProps,Ge!==null){var nt=S.type;Zn(S.pendingProps.value,Ge.value)||(r!==null?r.push(nt):r=[nt])}}else if(S===Lt.current){if(Ge=S.alternate,Ge===null)throw Error(s(387));Ge.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(r!==null?r.push(ll):r=[ll])}S=S.return}r!==null&&J$(i,r,a,_),i.flags|=262144}function ku(r){for(r=r.firstContext;r!==null;){if(!Zn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function aa(r){sa=r,Xi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Pn(r){return fp(sa,r)}function Cu(r,i){return sa===null&&aa(r),fp(r,i)}function fp(r,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Xi===null){if(r===null)throw Error(s(308));Xi=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Xi=Xi.next=i;return a}var ps=!1;function ef(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tf(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ms(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function gs(r,i,a){var _=r.updateQueue;if(_===null)return null;if(_=_.shared,Zr&2){var S=_.pending;return S===null?i.next=i:(i.next=S.next,S.next=i),_.pending=i,i=cu(r),Kh(r,null,a),i}return uu(r,_,i,a),cu(r)}function Go(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var _=i.lanes;_&=r.pendingLanes,a|=_,i.lanes=a,I(r,a)}}function rf(r,i){var a=r.updateQueue,_=r.alternate;if(_!==null&&(_=_.updateQueue,a===_)){var S=null,H=null;if(a=a.firstBaseUpdate,a!==null){do{var Ge={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};H===null?S=H=Ge:H=H.next=Ge,a=a.next}while(a!==null);H===null?S=H=i:H=H.next=i}else S=H=i;a={baseState:_.baseState,firstBaseUpdate:S,lastBaseUpdate:H,shared:_.shared,callbacks:_.callbacks},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}var nf=!1;function Yo(){if(nf){var r=Va;if(r!==null)throw r}}function Ko(r,i,a,_){nf=!1;var S=r.updateQueue;ps=!1;var H=S.firstBaseUpdate,Ge=S.lastBaseUpdate,nt=S.shared.pending;if(nt!==null){S.shared.pending=null;var dt=nt,Et=dt.next;dt.next=null,Ge===null?H=Et:Ge.next=Et,Ge=dt;var qt=r.alternate;qt!==null&&(qt=qt.updateQueue,nt=qt.lastBaseUpdate,nt!==Ge&&(nt===null?qt.firstBaseUpdate=Et:nt.next=Et,qt.lastBaseUpdate=dt))}if(H!==null){var Vt=S.baseState;Ge=0,qt=Et=dt=null,nt=H;do{var Rt=nt.lane&-536870913,Nt=Rt!==nt.lane;if(Nt?(Sr&Rt)===Rt:(_&Rt)===Rt){Rt!==0&&Rt===Fa&&(nf=!0),qt!==null&&(qt=qt.next={lane:0,tag:nt.tag,payload:nt.payload,callback:null,next:null});e:{var tr=r,hr=nt;Rt=i;var sn=a;switch(hr.tag){case 1:if(tr=hr.payload,typeof tr=="function"){Vt=tr.call(sn,Vt,Rt);break e}Vt=tr;break e;case 3:tr.flags=tr.flags&-65537|128;case 0:if(tr=hr.payload,Rt=typeof tr=="function"?tr.call(sn,Vt,Rt):tr,Rt==null)break e;Vt=ue({},Vt,Rt);break e;case 2:ps=!0}}Rt=nt.callback,Rt!==null&&(r.flags|=64,Nt&&(r.flags|=8192),Nt=S.callbacks,Nt===null?S.callbacks=[Rt]:Nt.push(Rt))}else Nt={lane:Rt,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null},qt===null?(Et=qt=Nt,dt=Vt):qt=qt.next=Nt,Ge|=Rt;if(nt=nt.next,nt===null){if(nt=S.shared.pending,nt===null)break;Nt=nt,nt=Nt.next,Nt.next=null,S.lastBaseUpdate=Nt,S.shared.pending=null}}while(!0);qt===null&&(dt=Vt),S.baseState=dt,S.firstBaseUpdate=Et,S.lastBaseUpdate=qt,H===null&&(S.shared.lanes=0),ws|=Ge,r.lanes=Ge,r.memoizedState=Vt}}function _p(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function hp(r,i){var a=r.callbacks;if(a!==null)for(r.callbacks=null,r=0;r<a.length;r++)_p(a[r],i)}function Xo(r,i){try{var a=i.updateQueue,_=a!==null?a.lastEffect:null;if(_!==null){var S=_.next;a=S;do{if((a.tag&r)===r){_=void 0;var H=a.create,Ge=a.inst;_=H(),Ge.destroy=_}a=a.next}while(a!==S)}}catch(nt){Vr(i,i.return,nt)}}function vs(r,i,a){try{var _=i.updateQueue,S=_!==null?_.lastEffect:null;if(S!==null){var H=S.next;_=H;do{if((_.tag&r)===r){var Ge=_.inst,nt=Ge.destroy;if(nt!==void 0){Ge.destroy=void 0,S=i;var dt=a;try{nt()}catch(Et){Vr(S,dt,Et)}}}_=_.next}while(_!==H)}}catch(Et){Vr(i,i.return,Et)}}function dp(r){var i=r.updateQueue;if(i!==null){var a=r.stateNode;try{hp(i,a)}catch(_){Vr(r,r.return,_)}}}function pp(r,i,a){a.props=ia(r.type,r.memoizedProps),a.state=r.memoizedState;try{a.componentWillUnmount()}catch(_){Vr(r,i,_)}}function oa(r,i){try{var a=r.ref;if(a!==null){var _=r.stateNode;switch(r.tag){case 26:case 27:case 5:var S=_;break;default:S=_}typeof a=="function"?r.refCleanup=a(S):a.current=S}}catch(H){Vr(r,i,H)}}function Jn(r,i){var a=r.ref,_=r.refCleanup;if(a!==null)if(typeof _=="function")try{_()}catch(S){Vr(r,i,S)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(S){Vr(r,i,S)}else a.current=null}function mp(r){var i=r.type,a=r.memoizedProps,_=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&_.focus();break e;case"img":a.src?_.src=a.src:a.srcSet&&(_.srcset=a.srcSet)}}catch(S){Vr(r,r.return,S)}}function gp(r,i,a){try{var _=r.stateNode;r0(_,r.type,a,i),_[Ae]=i}catch(S){Vr(r,r.return,S)}}function vp(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function sf(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||vp(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function af(r,i,a){var _=r.tag;if(_===5||_===6)r=r.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(r,i):a.insertBefore(r,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(r,a)):(i=a,i.appendChild(r)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Hu));else if(_!==4&&_!==27&&(r=r.child,r!==null))for(af(r,i,a),r=r.sibling;r!==null;)af(r,i,a),r=r.sibling}function Iu(r,i,a){var _=r.tag;if(_===5||_===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(_!==4&&_!==27&&(r=r.child,r!==null))for(Iu(r,i,a),r=r.sibling;r!==null;)Iu(r,i,a),r=r.sibling}var Oi=!1,rn=!1,of=!1,yp=typeof WeakSet=="function"?WeakSet:Set,An=null,bp=!1;function Db(r,i){if(r=r.containerInfo,zf=Wu,r=Ph(r),l$(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var _=a.getSelection&&a.getSelection();if(_&&_.rangeCount!==0){a=_.anchorNode;var S=_.anchorOffset,H=_.focusNode;_=_.focusOffset;try{a.nodeType,H.nodeType}catch{a=null;break e}var Ge=0,nt=-1,dt=-1,Et=0,qt=0,Vt=r,Rt=null;t:for(;;){for(var Nt;Vt!==a||S!==0&&Vt.nodeType!==3||(nt=Ge+S),Vt!==H||_!==0&&Vt.nodeType!==3||(dt=Ge+_),Vt.nodeType===3&&(Ge+=Vt.nodeValue.length),(Nt=Vt.firstChild)!==null;)Rt=Vt,Vt=Nt;for(;;){if(Vt===r)break t;if(Rt===a&&++Et===S&&(nt=Ge),Rt===H&&++qt===_&&(dt=Ge),(Nt=Vt.nextSibling)!==null)break;Vt=Rt,Rt=Vt.parentNode}Vt=Nt}a=nt===-1||dt===-1?null:{start:nt,end:dt}}else a=null}a=a||{start:0,end:0}}else a=null;for(Mf={focusedElem:r,selectionRange:a},Wu=!1,An=i;An!==null;)if(i=An,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,An=r;else for(;An!==null;){switch(i=An,H=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if(r&1024&&H!==null){r=void 0,a=i,S=H.memoizedProps,H=H.memoizedState,_=a.stateNode;try{var tr=ia(a.type,S,a.elementType===a.type);r=_.getSnapshotBeforeUpdate(tr,H),_.__reactInternalSnapshotBeforeUpdate=r}catch(hr){Vr(a,a.return,hr)}}break;case 3:if(r&1024){if(r=i.stateNode.containerInfo,a=r.nodeType,a===9)Ff(r);else if(a===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Ff(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(r&1024)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,An=r;break}An=i.return}return tr=bp,bp=!1,tr}function Ep(r,i,a){var _=a.flags;switch(a.tag){case 0:case 11:case 15:Zi(r,a),_&4&&Xo(5,a);break;case 1:if(Zi(r,a),_&4)if(r=a.stateNode,i===null)try{r.componentDidMount()}catch(nt){Vr(a,a.return,nt)}else{var S=ia(a.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(S,i,r.__reactInternalSnapshotBeforeUpdate)}catch(nt){Vr(a,a.return,nt)}}_&64&&dp(a),_&512&&oa(a,a.return);break;case 3:if(Zi(r,a),_&64&&(_=a.updateQueue,_!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{hp(_,r)}catch(nt){Vr(a,a.return,nt)}}break;case 26:Zi(r,a),_&512&&oa(a,a.return);break;case 27:case 5:Zi(r,a),i===null&&_&4&&mp(a),_&512&&oa(a,a.return);break;case 12:Zi(r,a);break;case 13:Zi(r,a),_&4&&Tp(r,a);break;case 22:if(S=a.memoizedState!==null||Oi,!S){i=i!==null&&i.memoizedState!==null||rn;var H=Oi,Ge=rn;Oi=S,(rn=i)&&!Ge?ys(r,a,(a.subtreeFlags&8772)!==0):Zi(r,a),Oi=H,rn=Ge}_&512&&(a.memoizedProps.mode==="manual"?oa(a,a.return):Jn(a,a.return));break;default:Zi(r,a)}}function wp(r){var i=r.alternate;i!==null&&(r.alternate=null,wp(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&P(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var fn=null,ei=!1;function Wi(r,i,a){for(a=a.child;a!==null;)Ap(r,i,a),a=a.sibling}function Ap(r,i,a){if(w&&typeof w.onCommitFiberUnmount=="function")try{w.onCommitFiberUnmount(me,a)}catch{}switch(a.tag){case 26:rn||Jn(a,i),Wi(r,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:rn||Jn(a,i);var _=fn,S=ei;for(fn=a.stateNode,Wi(r,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);P(a),fn=_,ei=S;break;case 5:rn||Jn(a,i);case 6:S=fn;var H=ei;if(fn=null,Wi(r,i,a),fn=S,ei=H,fn!==null)if(ei)try{r=fn,_=a.stateNode,r.nodeType===8?r.parentNode.removeChild(_):r.removeChild(_)}catch(Ge){Vr(a,i,Ge)}else try{fn.removeChild(a.stateNode)}catch(Ge){Vr(a,i,Ge)}break;case 18:fn!==null&&(ei?(i=fn,a=a.stateNode,i.nodeType===8?Bf(i.parentNode,a):i.nodeType===1&&Bf(i,a),fl(i)):Bf(fn,a.stateNode));break;case 4:_=fn,S=ei,fn=a.stateNode.containerInfo,ei=!0,Wi(r,i,a),fn=_,ei=S;break;case 0:case 11:case 14:case 15:rn||vs(2,a,i),rn||vs(4,a,i),Wi(r,i,a);break;case 1:rn||(Jn(a,i),_=a.stateNode,typeof _.componentWillUnmount=="function"&&pp(a,i,_)),Wi(r,i,a);break;case 21:Wi(r,i,a);break;case 22:rn||Jn(a,i),rn=(_=rn)||a.memoizedState!==null,Wi(r,i,a),rn=_;break;default:Wi(r,i,a)}}function Tp(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{fl(r)}catch(a){Vr(i,i.return,a)}}function Nb(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new yp),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new yp),i;default:throw Error(s(435,r.tag))}}function lf(r,i){var a=Nb(r);i.forEach(function(_){var S=Yb.bind(null,r,_);a.has(_)||(a.add(_),_.then(S,S))})}function $i(r,i){var a=i.deletions;if(a!==null)for(var _=0;_<a.length;_++){var S=a[_],H=r,Ge=i,nt=Ge;e:for(;nt!==null;){switch(nt.tag){case 27:case 5:fn=nt.stateNode,ei=!1;break e;case 3:fn=nt.stateNode.containerInfo,ei=!0;break e;case 4:fn=nt.stateNode.containerInfo,ei=!0;break e}nt=nt.return}if(fn===null)throw Error(s(160));Ap(H,Ge,S),fn=null,ei=!1,H=S.alternate,H!==null&&(H.return=null),S.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)xp(i,r),i=i.sibling}var vi=null;function xp(r,i){var a=r.alternate,_=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:$i(i,r),fi(r),_&4&&(vs(3,r,r.return),Xo(3,r),vs(5,r,r.return));break;case 1:$i(i,r),fi(r),_&512&&(rn||a===null||Jn(a,a.return)),_&64&&Oi&&(r=r.updateQueue,r!==null&&(_=r.callbacks,_!==null&&(a=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=a===null?_:a.concat(_))));break;case 26:var S=vi;if($i(i,r),fi(r),_&512&&(rn||a===null||Jn(a,a.return)),_&4){var H=a!==null?a.memoizedState:null;if(_=r.memoizedState,a===null)if(_===null)if(r.stateNode===null){e:{_=r.type,a=r.memoizedProps,S=S.ownerDocument||S;t:switch(_){case"title":H=S.getElementsByTagName("title")[0],(!H||H[U]||H[Qe]||H.namespaceURI==="http://www.w3.org/2000/svg"||H.hasAttribute("itemprop"))&&(H=S.createElement(_),S.head.insertBefore(H,S.querySelector("head > title"))),Dn(H,_,a),H[Qe]=r,v(H),_=H;break e;case"link":var Ge=mm("link","href",S).get(_+(a.href||""));if(Ge){for(var nt=0;nt<Ge.length;nt++)if(H=Ge[nt],H.getAttribute("href")===(a.href==null?null:a.href)&&H.getAttribute("rel")===(a.rel==null?null:a.rel)&&H.getAttribute("title")===(a.title==null?null:a.title)&&H.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){Ge.splice(nt,1);break t}}H=S.createElement(_),Dn(H,_,a),S.head.appendChild(H);break;case"meta":if(Ge=mm("meta","content",S).get(_+(a.content||""))){for(nt=0;nt<Ge.length;nt++)if(H=Ge[nt],H.getAttribute("content")===(a.content==null?null:""+a.content)&&H.getAttribute("name")===(a.name==null?null:a.name)&&H.getAttribute("property")===(a.property==null?null:a.property)&&H.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&H.getAttribute("charset")===(a.charSet==null?null:a.charSet)){Ge.splice(nt,1);break t}}H=S.createElement(_),Dn(H,_,a),S.head.appendChild(H);break;default:throw Error(s(468,_))}H[Qe]=r,v(H),_=H}r.stateNode=_}else gm(S,r.type,r.stateNode);else r.stateNode=pm(S,_,r.memoizedProps);else H!==_?(H===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):H.count--,_===null?gm(S,r.type,r.stateNode):pm(S,_,r.memoizedProps)):_===null&&r.stateNode!==null&&gp(r,r.memoizedProps,a.memoizedProps)}break;case 27:if(_&4&&r.alternate===null){S=r.stateNode,H=r.memoizedProps;try{for(var dt=S.firstChild;dt;){var Et=dt.nextSibling,qt=dt.nodeName;dt[U]||qt==="HEAD"||qt==="BODY"||qt==="SCRIPT"||qt==="STYLE"||qt==="LINK"&&dt.rel.toLowerCase()==="stylesheet"||S.removeChild(dt),dt=Et}for(var Vt=r.type,Rt=S.attributes;Rt.length;)S.removeAttributeNode(Rt[0]);Dn(S,Vt,H),S[Qe]=r,S[Ae]=H}catch(tr){Vr(r,r.return,tr)}}case 5:if($i(i,r),fi(r),_&512&&(rn||a===null||Jn(a,a.return)),r.flags&32){S=r.stateNode;try{Jt(S,"")}catch(tr){Vr(r,r.return,tr)}}_&4&&r.stateNode!=null&&(S=r.memoizedProps,gp(r,S,a!==null?a.memoizedProps:S)),_&1024&&(of=!0);break;case 6:if($i(i,r),fi(r),_&4){if(r.stateNode===null)throw Error(s(162));_=r.memoizedProps,a=r.stateNode;try{a.nodeValue=_}catch(tr){Vr(r,r.return,tr)}}break;case 3:if(Xu=null,S=vi,vi=Yu(i.containerInfo),$i(i,r),vi=S,fi(r),_&4&&a!==null&&a.memoizedState.isDehydrated)try{fl(i.containerInfo)}catch(tr){Vr(r,r.return,tr)}of&&(of=!1,Sp(r));break;case 4:_=vi,vi=Yu(r.stateNode.containerInfo),$i(i,r),fi(r),vi=_;break;case 12:$i(i,r),fi(r);break;case 13:$i(i,r),fi(r),r.child.flags&8192&&r.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(mf=L()),_&4&&(_=r.updateQueue,_!==null&&(r.updateQueue=null,lf(r,_)));break;case 22:if(_&512&&(rn||a===null||Jn(a,a.return)),dt=r.memoizedState!==null,Et=a!==null&&a.memoizedState!==null,qt=Oi,Vt=rn,Oi=qt||dt,rn=Vt||Et,$i(i,r),rn=Vt,Oi=qt,fi(r),i=r.stateNode,i._current=r,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,_&8192&&(i._visibility=dt?i._visibility&-2:i._visibility|1,dt&&(i=Oi||rn,a===null||Et||i||Ga(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(a=null,i=r;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){Et=a=i;try{if(S=Et.stateNode,dt)H=S.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none";else{Ge=Et.stateNode,nt=Et.memoizedProps.style;var Nt=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;Ge.style.display=Nt==null||typeof Nt=="boolean"?"":(""+Nt).trim()}}catch(tr){Vr(Et,Et.return,tr)}}}else if(i.tag===6){if(a===null){Et=i;try{Et.stateNode.nodeValue=dt?"":Et.memoizedProps}catch(tr){Vr(Et,Et.return,tr)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}_&4&&(_=r.updateQueue,_!==null&&(a=_.retryQueue,a!==null&&(_.retryQueue=null,lf(r,a))));break;case 19:$i(i,r),fi(r),_&4&&(_=r.updateQueue,_!==null&&(r.updateQueue=null,lf(r,_)));break;case 21:break;default:$i(i,r),fi(r)}}function fi(r){var i=r.flags;if(i&2){try{if(r.tag!==27){e:{for(var a=r.return;a!==null;){if(vp(a)){var _=a;break e}a=a.return}throw Error(s(160))}switch(_.tag){case 27:var S=_.stateNode,H=sf(r);Iu(r,H,S);break;case 5:var Ge=_.stateNode;_.flags&32&&(Jt(Ge,""),_.flags&=-33);var nt=sf(r);Iu(r,nt,Ge);break;case 3:case 4:var dt=_.stateNode.containerInfo,Et=sf(r);af(r,Et,dt);break;default:throw Error(s(161))}}}catch(qt){Vr(r,r.return,qt)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Sp(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;Sp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function Zi(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ep(r,i.alternate,i),i=i.sibling}function Ga(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:vs(4,i,i.return),Ga(i);break;case 1:Jn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&pp(i,i.return,a),Ga(i);break;case 26:case 27:case 5:Jn(i,i.return),Ga(i);break;case 22:Jn(i,i.return),i.memoizedState===null&&Ga(i);break;default:Ga(i)}r=r.sibling}}function ys(r,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var _=i.alternate,S=r,H=i,Ge=H.flags;switch(H.tag){case 0:case 11:case 15:ys(S,H,a),Xo(4,H);break;case 1:if(ys(S,H,a),_=H,S=_.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(Et){Vr(_,_.return,Et)}if(_=H,S=_.updateQueue,S!==null){var nt=_.stateNode;try{var dt=S.shared.hiddenCallbacks;if(dt!==null)for(S.shared.hiddenCallbacks=null,S=0;S<dt.length;S++)_p(dt[S],nt)}catch(Et){Vr(_,_.return,Et)}}a&&Ge&64&&dp(H),oa(H,H.return);break;case 26:case 27:case 5:ys(S,H,a),a&&_===null&&Ge&4&&mp(H),oa(H,H.return);break;case 12:ys(S,H,a);break;case 13:ys(S,H,a),a&&Ge&4&&Tp(S,H);break;case 22:H.memoizedState===null&&ys(S,H,a),oa(H,H.return);break;default:ys(S,H,a)}i=i.sibling}}function uf(r,i){var a=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==a&&(r!=null&&r.refCount++,a!=null&&Po(a))}function cf(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Po(r))}function bs(r,i,a,_){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Rp(r,i,a,_),i=i.sibling}function Rp(r,i,a,_){var S=i.flags;switch(i.tag){case 0:case 11:case 15:bs(r,i,a,_),S&2048&&Xo(9,i);break;case 3:bs(r,i,a,_),S&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Po(r)));break;case 12:if(S&2048){bs(r,i,a,_),r=i.stateNode;try{var H=i.memoizedProps,Ge=H.id,nt=H.onPostCommit;typeof nt=="function"&&nt(Ge,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(dt){Vr(i,i.return,dt)}}else bs(r,i,a,_);break;case 23:break;case 22:H=i.stateNode,i.memoizedState!==null?H._visibility&4?bs(r,i,a,_):Qo(r,i):H._visibility&4?bs(r,i,a,_):(H._visibility|=4,Ya(r,i,a,_,(i.subtreeFlags&10256)!==0)),S&2048&&uf(i.alternate,i);break;case 24:bs(r,i,a,_),S&2048&&cf(i.alternate,i);break;default:bs(r,i,a,_)}}function Ya(r,i,a,_,S){for(S=S&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var H=r,Ge=i,nt=a,dt=_,Et=Ge.flags;switch(Ge.tag){case 0:case 11:case 15:Ya(H,Ge,nt,dt,S),Xo(8,Ge);break;case 23:break;case 22:var qt=Ge.stateNode;Ge.memoizedState!==null?qt._visibility&4?Ya(H,Ge,nt,dt,S):Qo(H,Ge):(qt._visibility|=4,Ya(H,Ge,nt,dt,S)),S&&Et&2048&&uf(Ge.alternate,Ge);break;case 24:Ya(H,Ge,nt,dt,S),S&&Et&2048&&cf(Ge.alternate,Ge);break;default:Ya(H,Ge,nt,dt,S)}i=i.sibling}}function Qo(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=r,_=i,S=_.flags;switch(_.tag){case 22:Qo(a,_),S&2048&&uf(_.alternate,_);break;case 24:Qo(a,_),S&2048&&cf(_.alternate,_);break;default:Qo(a,_)}i=i.sibling}}var Oo=8192;function Ka(r){if(r.subtreeFlags&Oo)for(r=r.child;r!==null;)kp(r),r=r.sibling}function kp(r){switch(r.tag){case 26:Ka(r),r.flags&Oo&&r.memoizedState!==null&&b0(vi,r.memoizedState,r.memoizedProps);break;case 5:Ka(r);break;case 3:case 4:var i=vi;vi=Yu(r.stateNode.containerInfo),Ka(r),vi=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=Oo,Oo=16777216,Ka(r),Oo=i):Ka(r));break;default:Ka(r)}}function Cp(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Wo(r){var i=r.deletions;if(r.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var _=i[a];An=_,Dp(_,r)}Cp(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ip(r),r=r.sibling}function Ip(r){switch(r.tag){case 0:case 11:case 15:Wo(r),r.flags&2048&&vs(9,r,r.return);break;case 3:Wo(r);break;case 12:Wo(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&4&&(r.return===null||r.return.tag!==13)?(i._visibility&=-5,Du(r)):Wo(r);break;default:Wo(r)}}function Du(r){var i=r.deletions;if(r.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var _=i[a];An=_,Dp(_,r)}Cp(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:vs(8,i,i.return),Du(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Du(i));break;default:Du(i)}r=r.sibling}}function Dp(r,i){for(;An!==null;){var a=An;switch(a.tag){case 0:case 11:case 15:vs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var _=a.memoizedState.cachePool.pool;_!=null&&_.refCount++}break;case 24:Po(a.memoizedState.cache)}if(_=a.child,_!==null)_.return=a,An=_;else e:for(a=r;An!==null;){_=An;var S=_.sibling,H=_.return;if(wp(_),_===a){An=null;break e}if(S!==null){S.return=H,An=S;break e}An=H}}}function qb(r,i,a,_){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _i(r,i,a,_){return new qb(r,i,a,_)}function $f(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Es(r,i){var a=r.alternate;return a===null?(a=_i(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&31457280,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a.refCleanup=r.refCleanup,a}function Np(r,i){r.flags&=31457282;var a=r.alternate;return a===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,i=a.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function Nu(r,i,a,_,S,H){var Ge=0;if(_=r,typeof r=="function")$f(r)&&(Ge=1);else if(typeof r=="string")Ge=v0(r,a,yt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case C:return la(a.children,S,H,i);case g:Ge=8,S|=24;break;case se:return r=_i(12,a,i,S|2),r.elementType=se,r.lanes=H,r;case Ie:return r=_i(13,a,i,S),r.elementType=Ie,r.lanes=H,r;case ee:return r=_i(19,a,i,S),r.elementType=ee,r.lanes=H,r;case Ne:return qp(a,S,H,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case we:case Ce:Ge=10;break e;case he:Ge=9;break e;case Be:Ge=11;break e;case ke:Ge=14;break e;case Oe:Ge=16,_=null;break e}Ge=29,a=Error(s(130,r===null?"null":typeof r,"")),_=null}return i=_i(Ge,a,i,S),i.elementType=r,i.type=_,i.lanes=H,i}function la(r,i,a,_){return r=_i(7,r,_,i),r.lanes=a,r}function qp(r,i,a,_){r=_i(22,r,_,i),r.elementType=Ne,r.lanes=a;var S={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var H=S._current;if(H===null)throw Error(s(456));if(!(S._pendingVisibility&2)){var Ge=cs(H,2);Ge!==null&&(S._pendingVisibility|=2,Gn(Ge,H,2))}},attach:function(){var H=S._current;if(H===null)throw Error(s(456));if(S._pendingVisibility&2){var Ge=cs(H,2);Ge!==null&&(S._pendingVisibility&=-3,Gn(Ge,H,2))}}};return r.stateNode=S,r}function ff(r,i,a){return r=_i(6,r,null,i),r.lanes=a,r}function _f(r,i,a){return i=_i(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function Ji(r){r.flags|=4}function zp(r,i){if(i.type!=="stylesheet"||i.state.loading&4)r.flags&=-16777217;else if(r.flags|=16777216,!vm(i)){if(i=ci.current,i!==null&&((Sr&4194176)===Sr?xi!==null:(Sr&62914560)!==Sr&&!(Sr&536870912)||i!==xi))throw zo=m$,Zh;r.flags|=8192}}function qu(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Ze():536870912,r.lanes|=i,Qa|=i)}function Zo(r,i){if(!Ir)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var _=null;a!==null;)a.alternate!==null&&(_=a),a=a.sibling;_===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:_.sibling=null}}function Wr(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,_=0;if(i)for(var S=r.child;S!==null;)a|=S.lanes|S.childLanes,_|=S.subtreeFlags&31457280,_|=S.flags&31457280,S.return=r,S=S.sibling;else for(S=r.child;S!==null;)a|=S.lanes|S.childLanes,_|=S.subtreeFlags,_|=S.flags,S.return=r,S=S.sibling;return r.subtreeFlags|=_,r.childLanes=a,i}function zb(r,i,a){var _=i.pendingProps;switch(d$(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wr(i),null;case 1:return Wr(i),null;case 3:return a=i.stateNode,_=null,r!==null&&(_=r.memoizedState.cache),i.memoizedState.cache!==_&&(i.flags|=2048),Qi(gn),Ut(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(r===null||r.child===null)&&(Io(i)?Ji(i):r===null||r.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,gi!==null&&(bf(gi),gi=null))),Wr(i),null;case 26:return a=i.memoizedState,r===null?(Ji(i),a!==null?(Wr(i),zp(i,a)):(Wr(i),i.flags&=-16777217)):a?a!==r.memoizedState?(Ji(i),Wr(i),zp(i,a)):(Wr(i),i.flags&=-16777217):(r.memoizedProps!==_&&Ji(i),Wr(i),i.flags&=-16777217),null;case 27:Gt(i),a=Ht.current;var S=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==_&&Ji(i);else{if(!_){if(i.stateNode===null)throw Error(s(166));return Wr(i),null}r=yt.current,Io(i)?Oh(i):(r=$m(S,_,a),i.stateNode=r,Ji(i))}return Wr(i),null;case 5:if(Gt(i),a=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==_&&Ji(i);else{if(!_){if(i.stateNode===null)throw Error(s(166));return Wr(i),null}if(r=yt.current,Io(i))Oh(i);else{switch(S=Gu(Ht.current),r){case 1:r=S.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:r=S.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":r=S.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":r=S.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":r=S.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof _.is=="string"?S.createElement("select",{is:_.is}):S.createElement("select"),_.multiple?r.multiple=!0:_.size&&(r.size=_.size);break;default:r=typeof _.is=="string"?S.createElement(a,{is:_.is}):S.createElement(a)}}r[Qe]=i,r[Ae]=_;e:for(S=i.child;S!==null;){if(S.tag===5||S.tag===6)r.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===i)break e;for(;S.sibling===null;){if(S.return===null||S.return===i)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}i.stateNode=r;e:switch(Dn(r,a,_),a){case"button":case"input":case"select":case"textarea":r=!!_.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ji(i)}}return Wr(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==_&&Ji(i);else{if(typeof _!="string"&&i.stateNode===null)throw Error(s(166));if(r=Ht.current,Io(i)){if(r=i.stateNode,a=i.memoizedProps,_=null,S=Hn,S!==null)switch(S.tag){case 27:case 5:_=S.memoizedProps}r[Qe]=i,r=!!(r.nodeValue===a||_!==null&&_.suppressHydrationWarning===!0||sm(r.nodeValue,a)),r||Zs(i)}else r=Gu(r).createTextNode(_),r[Qe]=i,i.stateNode=r}return Wr(i),null;case 13:if(_=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(S=Io(i),_!==null&&_.dehydrated!==null){if(r===null){if(!S)throw Error(s(318));if(S=i.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(s(317));S[Qe]=i}else Do(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;Wr(i),S=!1}else gi!==null&&(bf(gi),gi=null),S=!0;if(!S)return i.flags&256?(Gi(i),i):(Gi(i),null)}if(Gi(i),i.flags&128)return i.lanes=a,i;if(a=_!==null,r=r!==null&&r.memoizedState!==null,a){_=i.child,S=null,_.alternate!==null&&_.alternate.memoizedState!==null&&_.alternate.memoizedState.cachePool!==null&&(S=_.alternate.memoizedState.cachePool.pool);var H=null;_.memoizedState!==null&&_.memoizedState.cachePool!==null&&(H=_.memoizedState.cachePool.pool),H!==S&&(_.flags|=2048)}return a!==r&&a&&(i.child.flags|=8192),qu(i,i.updateQueue),Wr(i),null;case 4:return Ut(),r===null&&Df(i.stateNode.containerInfo),Wr(i),null;case 10:return Qi(i.type),Wr(i),null;case 19:if(Ue(mn),S=i.memoizedState,S===null)return Wr(i),null;if(_=(i.flags&128)!==0,H=S.rendering,H===null)if(_)Zo(S,!1);else{if(nn!==0||r!==null&&r.flags&128)for(r=i.child;r!==null;){if(H=mu(r),H!==null){for(i.flags|=128,Zo(S,!1),r=H.updateQueue,i.updateQueue=r,qu(i,r),i.subtreeFlags=0,r=a,a=i.child;a!==null;)Np(a,r),a=a.sibling;return ut(mn,mn.current&1|2),i.child}r=r.sibling}S.tail!==null&&L()>zu&&(i.flags|=128,_=!0,Zo(S,!1),i.lanes=4194304)}else{if(!_)if(r=mu(H),r!==null){if(i.flags|=128,_=!0,r=r.updateQueue,i.updateQueue=r,qu(i,r),Zo(S,!0),S.tail===null&&S.tailMode==="hidden"&&!H.alternate&&!Ir)return Wr(i),null}else 2*L()-S.renderingStartTime>zu&&a!==536870912&&(i.flags|=128,_=!0,Zo(S,!1),i.lanes=4194304);S.isBackwards?(H.sibling=i.child,i.child=H):(r=S.last,r!==null?r.sibling=H:i.child=H,S.last=H)}return S.tail!==null?(i=S.tail,S.rendering=i,S.tail=i.sibling,S.renderingStartTime=L(),i.sibling=null,r=mn.current,ut(mn,_?r&1|2:r&1),i):(Wr(i),null);case 22:case 23:return Gi(i),v$(),_=i.memoizedState!==null,r!==null?r.memoizedState!==null!==_&&(i.flags|=8192):_&&(i.flags|=8192),_?a&536870912&&!(i.flags&128)&&(Wr(i),i.subtreeFlags&6&&(i.flags|=8192)):Wr(i),a=i.updateQueue,a!==null&&qu(i,a.retryQueue),a=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),_=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(_=i.memoizedState.cachePool.pool),_!==a&&(i.flags|=2048),r!==null&&Ue(ea),null;case 24:return a=null,r!==null&&(a=r.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Qi(gn),Wr(i),null;case 25:return null}throw Error(s(156,i.tag))}function Mb(r,i){switch(d$(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Qi(gn),Ut(),r=i.flags,r&65536&&!(r&128)?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Gt(i),null;case 13:if(Gi(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Do()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Ue(mn),null;case 4:return Ut(),null;case 10:return Qi(i.type),null;case 22:case 23:return Gi(i),v$(),r!==null&&Ue(ea),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Qi(gn),null;case 25:return null;default:return null}}function Mp(r,i){switch(d$(i),i.tag){case 3:Qi(gn),Ut();break;case 26:case 27:case 5:Gt(i);break;case 4:Ut();break;case 13:Gi(i);break;case 19:Ue(mn);break;case 10:Qi(i.type);break;case 22:case 23:Gi(i),v$(),r!==null&&Ue(ea);break;case 24:Qi(gn)}}var Lb={getCacheForType:function(r){var i=Pn(gn),a=i.data.get(r);return a===void 0&&(a=r(),i.data.set(r,a)),a}},Pb=typeof WeakMap=="function"?WeakMap:Map,Zr=0,Gr=null,br=null,Sr=0,Yr=0,ti=null,es=!1,Xa=!1,hf=!1,ts=0,nn=0,ws=0,ua=0,df=0,hi=0,Qa=0,Jo=null,Ri=null,pf=!1,mf=0,zu=1/0,Mu=null,As=null,Lu=!1,ca=null,el=0,gf=0,vf=null,tl=0,yf=null;function ri(){if(Zr&2&&Sr!==0)return Sr&-Sr;if(F.T!==null){var r=Fa;return r!==0?r:Rf()}return ht()}function Lp(){hi===0&&(hi=!(Sr&536870912)||Ir?ft():536870912);var r=ci.current;return r!==null&&(r.flags|=32),hi}function Gn(r,i,a){(r===Gr&&Yr===2||r.cancelPendingCommit!==null)&&(Oa(r,0),rs(r,Sr,hi,!1)),pt(r,a),(!(Zr&2)||r!==Gr)&&(r===Gr&&(!(Zr&2)&&(ua|=a),nn===4&&rs(r,Sr,hi,!1)),ki(r))}function Pp(r,i,a){if(Zr&6)throw Error(s(327));var _=!a&&(i&60)===0&&(i&r.expiredLanes)===0||gt(r,i),S=_?Vb(r,i):Af(r,i,!0),H=_;do{if(S===0){Xa&&!_&&rs(r,i,0,!1);break}else if(S===6)rs(r,i,0,!es);else{if(a=r.current.alternate,H&&!Bb(a)){S=Af(r,i,!1),H=!1;continue}if(S===2){if(H=i,r.errorRecoveryDisabledLanes&H)var Ge=0;else Ge=r.pendingLanes&-536870913,Ge=Ge!==0?Ge:Ge&536870912?536870912:0;if(Ge!==0){i=Ge;e:{var nt=r;S=Jo;var dt=nt.current.memoizedState.isDehydrated;if(dt&&(Oa(nt,Ge).flags|=256),Ge=Af(nt,Ge,!1),Ge!==2){if(hf&&!dt){nt.errorRecoveryDisabledLanes|=H,ua|=H,S=4;break e}H=Ri,Ri=S,H!==null&&bf(H)}S=Ge}if(H=!1,S!==2)continue}}if(S===1){Oa(r,0),rs(r,i,0,!0);break}e:{switch(_=r,S){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){rs(_,i,hi,!es);break e}break;case 2:Ri=null;break;case 3:case 5:break;default:throw Error(s(329))}if(_.finishedWork=a,_.finishedLanes=i,(i&62914560)===i&&(H=mf+300-L(),10<H)){if(rs(_,i,hi,!es),He(_,0)!==0)break e;_.timeoutHandle=lm(Bp.bind(null,_,a,Ri,Mu,pf,i,hi,ua,Qa,es,2,-0,0),H);break e}Bp(_,a,Ri,Mu,pf,i,hi,ua,Qa,es,0,-0,0)}}break}while(!0);ki(r)}function bf(r){Ri===null?Ri=r:Ri.push.apply(Ri,r)}function Bp(r,i,a,_,S,H,Ge,nt,dt,Et,qt,Vt,Rt){var Nt=i.subtreeFlags;if((Nt&8192||(Nt&16785408)===16785408)&&(ol={stylesheets:null,count:0,unsuspend:y0},kp(i),i=E0(),i!==null)){r.cancelPendingCommit=i(Yp.bind(null,r,a,_,S,Ge,nt,dt,1,Vt,Rt)),rs(r,H,Ge,!Et);return}Yp(r,a,_,S,Ge,nt,dt,qt,Vt,Rt)}function Bb(r){for(var i=r;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var _=0;_<a.length;_++){var S=a[_],H=S.getSnapshot;S=S.value;try{if(!Zn(H(),S))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function rs(r,i,a,_){i&=~df,i&=~ua,r.suspendedLanes|=i,r.pingedLanes&=~i,_&&(r.warmLanes|=i),_=r.expirationTimes;for(var S=i;0<S;){var H=31-O(S),Ge=1<<H;_[H]=-1,S&=~Ge}a!==0&&ot(r,a,i)}function Pu(){return Zr&6?!0:(rl(0),!1)}function Ef(){if(br!==null){if(Yr===0)var r=br.return;else r=br,Xi=sa=null,S$(r),Pa=null,Mo=0,r=br;for(;r!==null;)Mp(r.alternate,r),r=r.return;br=null}}function Oa(r,i){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;a!==-1&&(r.timeoutHandle=-1,i0(a)),a=r.cancelPendingCommit,a!==null&&(r.cancelPendingCommit=null,a()),Ef(),Gr=r,br=a=Es(r.current,null),Sr=i,Yr=0,ti=null,es=!1,Xa=gt(r,i),hf=!1,Qa=hi=df=ua=ws=nn=0,Ri=Jo=null,pf=!1,i&8&&(i|=i&32);var _=r.entangledLanes;if(_!==0)for(r=r.entanglements,_&=i;0<_;){var S=31-O(_),H=1<<S;i|=r[S],_&=~H}return ts=i,lu(),a}function Fp(r,i){gr=null,F.H=Si,i===qo?(i=td(),Yr=3):i===Zh?(i=td(),Yr=4):Yr=i===Jd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ti=i,br===null&&(nn=1,Ru(r,oi(i,r.current)))}function Vp(){var r=F.H;return F.H=Si,r===null?Si:r}function Up(){var r=F.A;return F.A=Lb,r}function wf(){nn=4,es||(Sr&4194176)!==Sr&&ci.current!==null||(Xa=!0),!(ws&134217727)&&!(ua&134217727)||Gr===null||rs(Gr,Sr,hi,!1)}function Af(r,i,a){var _=Zr;Zr|=2;var S=Vp(),H=Up();(Gr!==r||Sr!==i)&&(Mu=null,Oa(r,i)),i=!1;var Ge=nn;e:do try{if(Yr!==0&&br!==null){var nt=br,dt=ti;switch(Yr){case 8:Ef(),Ge=6;break e;case 3:case 2:case 6:ci.current===null&&(i=!0);var Et=Yr;if(Yr=0,ti=null,Wa(r,nt,dt,Et),a&&Xa){Ge=0;break e}break;default:Et=Yr,Yr=0,ti=null,Wa(r,nt,dt,Et)}}Fb(),Ge=nn;break}catch(qt){Fp(r,qt)}while(!0);return i&&r.shellSuspendCounter++,Xi=sa=null,Zr=_,F.H=S,F.A=H,br===null&&(Gr=null,Sr=0,lu()),Ge}function Fb(){for(;br!==null;)jp(br)}function Vb(r,i){var a=Zr;Zr|=2;var _=Vp(),S=Up();Gr!==r||Sr!==i?(Mu=null,zu=L()+500,Oa(r,i)):Xa=gt(r,i);e:do try{if(Yr!==0&&br!==null){i=br;var H=ti;t:switch(Yr){case 1:Yr=0,ti=null,Wa(r,i,H,1);break;case 2:if(Jh(H)){Yr=0,ti=null,Hp(i);break}i=function(){Yr===2&&Gr===r&&(Yr=7),ki(r)},H.then(i,i);break e;case 3:Yr=7;break e;case 4:Yr=5;break e;case 7:Jh(H)?(Yr=0,ti=null,Hp(i)):(Yr=0,ti=null,Wa(r,i,H,7));break;case 5:var Ge=null;switch(br.tag){case 26:Ge=br.memoizedState;case 5:case 27:var nt=br;if(!Ge||vm(Ge)){Yr=0,ti=null;var dt=nt.sibling;if(dt!==null)br=dt;else{var Et=nt.return;Et!==null?(br=Et,Bu(Et)):br=null}break t}}Yr=0,ti=null,Wa(r,i,H,5);break;case 6:Yr=0,ti=null,Wa(r,i,H,6);break;case 8:Ef(),nn=6;break e;default:throw Error(s(462))}}Ub();break}catch(qt){Fp(r,qt)}while(!0);return Xi=sa=null,F.H=_,F.A=S,Zr=a,br!==null?0:(Gr=null,Sr=0,lu(),nn)}function Ub(){for(;br!==null&&!et();)jp(br)}function jp(r){var i=$p(r.alternate,r,ts);r.memoizedProps=r.pendingProps,i===null?Bu(r):br=i}function Hp(r){var i=r,a=i.alternate;switch(i.tag){case 15:case 0:i=sp(a,i,i.pendingProps,i.type,void 0,Sr);break;case 11:i=sp(a,i,i.pendingProps,i.type.render,i.ref,Sr);break;case 5:S$(i);default:Mp(a,i),i=br=Np(i,ts),i=$p(a,i,ts)}r.memoizedProps=r.pendingProps,i===null?Bu(r):br=i}function Wa(r,i,a,_){Xi=sa=null,S$(i),Pa=null,Mo=0;var S=i.return;try{if(Cb(r,S,i,a,Sr)){nn=1,Ru(r,oi(a,r.current)),br=null;return}}catch(H){if(S!==null)throw br=S,H;nn=1,Ru(r,oi(a,r.current)),br=null;return}i.flags&32768?(Ir||_===1?r=!0:Xa||Sr&536870912?r=!1:(es=r=!0,(_===2||_===3||_===6)&&(_=ci.current,_!==null&&_.tag===13&&(_.flags|=16384))),Gp(i,r)):Bu(i)}function Bu(r){var i=r;do{if(i.flags&32768){Gp(i,es);return}r=i.return;var a=zb(i.alternate,i,ts);if(a!==null){br=a;return}if(i=i.sibling,i!==null){br=i;return}br=i=r}while(i!==null);nn===0&&(nn=5)}function Gp(r,i){do{var a=Mb(r.alternate,r);if(a!==null){a.flags&=32767,br=a;return}if(a=r.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(r=r.sibling,r!==null)){br=r;return}br=r=a}while(r!==null);nn=6,br=null}function Yp(r,i,a,_,S,H,Ge,nt,dt,Et){var qt=F.T,Vt=h.p;try{h.p=2,F.T=null,jb(r,i,a,_,Vt,S,H,Ge,nt,dt,Et)}finally{F.T=qt,h.p=Vt}}function jb(r,i,a,_,S,H,Ge,nt){do Za();while(ca!==null);if(Zr&6)throw Error(s(327));var dt=r.finishedWork;if(_=r.finishedLanes,dt===null)return null;if(r.finishedWork=null,r.finishedLanes=0,dt===r.current)throw Error(s(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var Et=dt.lanes|dt.childLanes;if(Et|=f$,M(r,_,Et,H,Ge,nt),r===Gr&&(br=Gr=null,Sr=0),!(dt.subtreeFlags&10256)&&!(dt.flags&10256)||Lu||(Lu=!0,gf=Et,vf=a,Kb(mt,function(){return Za(),null})),a=(dt.flags&15990)!==0,dt.subtreeFlags&15990||a?(a=F.T,F.T=null,H=h.p,h.p=2,Ge=Zr,Zr|=4,Db(r,dt),xp(dt,r),_b(Mf,r.containerInfo),Wu=!!zf,Mf=zf=null,r.current=dt,Ep(r,dt.alternate,dt),T(),Zr=Ge,h.p=H,F.T=a):r.current=dt,Lu?(Lu=!1,ca=r,el=_):Kp(r,Et),Et=r.pendingLanes,Et===0&&(As=null),W(dt.stateNode),ki(r),i!==null)for(S=r.onRecoverableError,dt=0;dt<i.length;dt++)Et=i[dt],S(Et.value,{componentStack:Et.stack});return el&3&&Za(),Et=r.pendingLanes,_&4194218&&Et&42?r===yf?tl++:(tl=0,yf=r):tl=0,rl(0),null}function Kp(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Po(i)))}function Za(){if(ca!==null){var r=ca,i=gf;gf=0;var a=lt(el),_=F.T,S=h.p;try{if(h.p=32>a?32:a,F.T=null,ca===null)var H=!1;else{a=vf,vf=null;var Ge=ca,nt=el;if(ca=null,el=0,Zr&6)throw Error(s(331));var dt=Zr;if(Zr|=4,Ip(Ge.current),Rp(Ge,Ge.current,nt,a),Zr=dt,rl(0,!1),w&&typeof w.onPostCommitFiberRoot=="function")try{w.onPostCommitFiberRoot(me,Ge)}catch{}H=!0}return H}finally{h.p=S,F.T=_,Kp(r,i)}}return!1}function Xp(r,i,a){i=oi(a,i),i=V$(r.stateNode,i,2),r=gs(r,i,2),r!==null&&(pt(r,2),ki(r))}function Vr(r,i,a){if(r.tag===3)Xp(r,r,a);else for(;i!==null;){if(i.tag===3){Xp(i,r,a);break}else if(i.tag===1){var _=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(As===null||!As.has(_))){r=oi(a,r),a=Wd(2),_=gs(i,a,2),_!==null&&(Zd(a,_,i,r),pt(_,2),ki(_));break}}i=i.return}}function Tf(r,i,a){var _=r.pingCache;if(_===null){_=r.pingCache=new Pb;var S=new Set;_.set(i,S)}else S=_.get(i),S===void 0&&(S=new Set,_.set(i,S));S.has(a)||(hf=!0,S.add(a),r=Hb.bind(null,r,i,a),i.then(r,r))}function Hb(r,i,a){var _=r.pingCache;_!==null&&_.delete(i),r.pingedLanes|=r.suspendedLanes&a,r.warmLanes&=~a,Gr===r&&(Sr&a)===a&&(nn===4||nn===3&&(Sr&62914560)===Sr&&300>L()-mf?!(Zr&2)&&Oa(r,0):df|=a,Qa===Sr&&(Qa=0)),ki(r)}function Qp(r,i){i===0&&(i=Ze()),r=cs(r,i),r!==null&&(pt(r,i),ki(r))}function Gb(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),Qp(r,a)}function Yb(r,i){var a=0;switch(r.tag){case 13:var _=r.stateNode,S=r.memoizedState;S!==null&&(a=S.retryLane);break;case 19:_=r.stateNode;break;case 22:_=r.stateNode._retryCache;break;default:throw Error(s(314))}_!==null&&_.delete(i),Qp(r,a)}function Kb(r,i){return De(r,i)}var Fu=null,Ja=null,xf=!1,Vu=!1,Sf=!1,$a=0;function ki(r){r!==Ja&&r.next===null&&(Ja===null?Fu=Ja=r:Ja=Ja.next=r),Vu=!0,xf||(xf=!0,Qb(Xb))}function rl(r,i){if(!Sf&&Vu){Sf=!0;do for(var a=!1,_=Fu;_!==null;){if(r!==0){var S=_.pendingLanes;if(S===0)var H=0;else{var Ge=_.suspendedLanes,nt=_.pingedLanes;H=(1<<31-O(42|r)+1)-1,H&=S&~(Ge&~nt),H=H&201326677?H&201326677|1:H?H|2:0}H!==0&&(a=!0,Zp(_,H))}else H=Sr,H=He(_,_===Gr?H:0),!(H&3)||gt(_,H)||(a=!0,Zp(_,H));_=_.next}while(a);Sf=!1}}function Xb(){Vu=xf=!1;var r=0;$a!==0&&(n0()&&(r=$a),$a=0);for(var i=L(),a=null,_=Fu;_!==null;){var S=_.next,H=Op(_,i);H===0?(_.next=null,a===null?Fu=S:a.next=S,S===null&&(Ja=a)):(a=_,(r!==0||H&3)&&(Vu=!0)),_=S}rl(r)}function Op(r,i){for(var a=r.suspendedLanes,_=r.pingedLanes,S=r.expirationTimes,H=r.pendingLanes&-62914561;0<H;){var Ge=31-O(H),nt=1<<Ge,dt=S[Ge];dt===-1?(!(nt&a)||nt&_)&&(S[Ge]=We(nt,i)):dt<=i&&(r.expiredLanes|=nt),H&=~nt}if(i=Gr,a=Sr,a=He(r,r===i?a:0),_=r.callbackNode,a===0||r===i&&Yr===2||r.cancelPendingCommit!==null)return _!==null&&_!==null&&Ye(_),r.callbackNode=null,r.callbackPriority=0;if(!(a&3)||gt(r,a)){if(i=a&-a,i===r.callbackPriority)return i;switch(_!==null&&Ye(_),lt(a)){case 2:case 8:a=rt;break;case 32:a=mt;break;case 268435456:a=ce;break;default:a=mt}return _=Wp.bind(null,r),a=De(a,_),r.callbackPriority=i,r.callbackNode=a,i}return _!==null&&_!==null&&Ye(_),r.callbackPriority=2,r.callbackNode=null,2}function Wp(r,i){var a=r.callbackNode;if(Za()&&r.callbackNode!==a)return null;var _=Sr;return _=He(r,r===Gr?_:0),_===0?null:(Pp(r,_,i),Op(r,L()),r.callbackNode!=null&&r.callbackNode===a?Wp.bind(null,r):null)}function Zp(r,i){if(Za())return null;Pp(r,i,!0)}function Qb(r){s0(function(){Zr&6?De(Pe,r):r()})}function Rf(){return $a===0&&($a=ft()),$a}function Jp(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:ur(""+r)}function em(r,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,r.id&&a.setAttribute("form",r.id),i.parentNode.insertBefore(a,i),r=new FormData(r),a.parentNode.removeChild(a),r}function Ob(r,i,a,_,S){if(i==="submit"&&a&&a.stateNode===S){var H=Jp((S[Ae]||null).action),Ge=_.submitter;Ge&&(i=(i=Ge[Ae]||null)?Jp(i.formAction):Ge.getAttribute("formAction"),i!==null&&(H=i,Ge=null));var nt=new Aa("action","action",null,_,S);r.push({event:nt,listeners:[{instance:null,listener:function(){if(_.defaultPrevented){if($a!==0){var dt=Ge?em(S,Ge):new FormData(S);M$(a,{pending:!0,data:dt,method:S.method,action:H},null,dt)}}else typeof H=="function"&&(nt.preventDefault(),dt=Ge?em(S,Ge):new FormData(S),M$(a,{pending:!0,data:dt,method:S.method,action:H},H,dt))},currentTarget:S}]})}}for(var kf=0;kf<Yh.length;kf++){var Cf=Yh[kf],Wb=Cf.toLowerCase(),Zb=Cf[0].toUpperCase()+Cf.slice(1);mi(Wb,"on"+Zb)}mi(Vh,"onAnimationEnd"),mi(Uh,"onAnimationIteration"),mi(jh,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(db,"onTransitionRun"),mi(pb,"onTransitionStart"),mi(mb,"onTransitionCancel"),mi(Hh,"onTransitionEnd"),R("onMouseEnter",["mouseout","mouseover"]),R("onMouseLeave",["mouseout","mouseover"]),R("onPointerEnter",["pointerout","pointerover"]),R("onPointerLeave",["pointerout","pointerover"]),q("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),q("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),q("onBeforeInput",["compositionend","keypress","textInput","paste"]),q("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),q("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),q("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nl));function tm(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var _=r[a],S=_.event;_=_.listeners;e:{var H=void 0;if(i)for(var Ge=_.length-1;0<=Ge;Ge--){var nt=_[Ge],dt=nt.instance,Et=nt.currentTarget;if(nt=nt.listener,dt!==H&&S.isPropagationStopped())break e;H=nt,S.currentTarget=Et;try{H(S)}catch(qt){Su(qt)}S.currentTarget=null,H=dt}else for(Ge=0;Ge<_.length;Ge++){if(nt=_[Ge],dt=nt.instance,Et=nt.currentTarget,nt=nt.listener,dt!==H&&S.isPropagationStopped())break e;H=nt,S.currentTarget=Et;try{H(S)}catch(qt){Su(qt)}S.currentTarget=null,H=dt}}}}function Ar(r,i){var a=i[Se];a===void 0&&(a=i[Se]=new Set);var _=r+"__bubble";a.has(_)||(rm(i,r,2,!1),a.add(_))}function If(r,i,a){var _=0;i&&(_|=4),rm(a,r,_,i)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function Df(r){if(!r[Uu]){r[Uu]=!0,c.forEach(function(a){a!=="selectionchange"&&(Jb.has(a)||If(a,!1,r),If(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Uu]||(i[Uu]=!0,If("selectionchange",!1,i))}}function rm(r,i,a,_){switch(Tm(i)){case 2:var S=T0;break;case 8:S=x0;break;default:S=Gf}a=S.bind(null,i,a,r),S=void 0,!Lr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(S=!0),_?S!==void 0?r.addEventListener(i,a,{capture:!0,passive:S}):r.addEventListener(i,a,!0):S!==void 0?r.addEventListener(i,a,{passive:S}):r.addEventListener(i,a,!1)}function Nf(r,i,a,_,S){var H=_;if(!(i&1)&&!(i&2)&&_!==null)e:for(;;){if(_===null)return;var Ge=_.tag;if(Ge===3||Ge===4){var nt=_.stateNode.containerInfo;if(nt===S||nt.nodeType===8&&nt.parentNode===S)break;if(Ge===4)for(Ge=_.return;Ge!==null;){var dt=Ge.tag;if((dt===3||dt===4)&&(dt=Ge.stateNode.containerInfo,dt===S||dt.nodeType===8&&dt.parentNode===S))return;Ge=Ge.return}for(;nt!==null;){if(Ge=le(nt),Ge===null)return;if(dt=Ge.tag,dt===5||dt===6||dt===26||dt===27){_=H=Ge;continue e}nt=nt.parentNode}}_=_.return}bn(function(){var Et=H,qt=nr(a),Vt=[];e:{var Rt=Gh.get(r);if(Rt!==void 0){var Nt=Aa,tr=r;switch(r){case"keypress":if(On(a)===0)break e;case"keydown":case"keyup":Nt=Ca;break;case"focusin":tr="focus",Nt=Sa;break;case"focusout":tr="blur",Nt=Sa;break;case"beforeblur":case"afterblur":Nt=Sa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Nt=si;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Nt=i$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Nt=tu;break;case Vh:case Uh:case jh:Nt=Ra;break;case Hh:Nt=nu;break;case"scroll":case"scrollend":Nt=Xl;break;case"wheel":Nt=Ia;break;case"copy":case"cut":case"paste":Nt=ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Nt=So;break;case"toggle":case"beforetoggle":Nt=su}var hr=(i&4)!==0,sn=!hr&&(r==="scroll"||r==="scrollend"),At=hr?Rt!==null?Rt+"Capture":null:Rt;hr=[];for(var bt=Et,St;bt!==null;){var Pt=bt;if(St=Pt.stateNode,Pt=Pt.tag,Pt!==5&&Pt!==26&&Pt!==27||St===null||At===null||(Pt=jr(bt,At),Pt!=null&&hr.push(il(bt,Pt,St))),sn)break;bt=bt.return}0<hr.length&&(Rt=new Nt(Rt,tr,null,a,qt),Vt.push({event:Rt,listeners:hr}))}}if(!(i&7)){e:{if(Rt=r==="mouseover"||r==="pointerover",Nt=r==="mouseout"||r==="pointerout",Rt&&a!==Cr&&(tr=a.relatedTarget||a.fromElement)&&(le(tr)||tr[qe]))break e;if((Nt||Rt)&&(Rt=qt.window===qt?qt:(Rt=qt.ownerDocument)?Rt.defaultView||Rt.parentWindow:window,Nt?(tr=a.relatedTarget||a.toElement,Nt=Et,tr=tr?le(tr):null,tr!==null&&(sn=ve(tr),hr=tr.tag,tr!==sn||hr!==5&&hr!==27&&hr!==6)&&(tr=null)):(Nt=null,tr=Et),Nt!==tr)){if(hr=si,Pt="onMouseLeave",At="onMouseEnter",bt="mouse",(r==="pointerout"||r==="pointerover")&&(hr=So,Pt="onPointerLeave",At="onPointerEnter",bt="pointer"),sn=Nt==null?Rt:_e(Nt),St=tr==null?Rt:_e(tr),Rt=new hr(Pt,bt+"leave",Nt,a,qt),Rt.target=sn,Rt.relatedTarget=St,Pt=null,le(qt)===Et&&(hr=new hr(At,bt+"enter",tr,a,qt),hr.target=St,hr.relatedTarget=sn,Pt=hr),sn=Pt,Nt&&tr)t:{for(hr=Nt,At=tr,bt=0,St=hr;St;St=eo(St))bt++;for(St=0,Pt=At;Pt;Pt=eo(Pt))St++;for(;0<bt-St;)hr=eo(hr),bt--;for(;0<St-bt;)At=eo(At),St--;for(;bt--;){if(hr===At||At!==null&&hr===At.alternate)break t;hr=eo(hr),At=eo(At)}hr=null}else hr=null;Nt!==null&&nm(Vt,Rt,Nt,hr,!1),tr!==null&&sn!==null&&nm(Vt,sn,tr,hr,!0)}}e:{if(Rt=Et?_e(Et):window,Nt=Rt.nodeName&&Rt.nodeName.toLowerCase(),Nt==="select"||Nt==="input"&&Rt.type==="file")var Zt=Ch;else if(pn(Rt))if(Ih)Zt=$b;else{Zt=ub;var yr=lb}else Nt=Rt.nodeName,!Nt||Nt.toLowerCase()!=="input"||Rt.type!=="checkbox"&&Rt.type!=="radio"?Et&&an(Et.elementType)&&(Zt=Ch):Zt=cb;if(Zt&&(Zt=Zt(r,Et))){Ui(Vt,Zt,a,qt);break e}yr&&yr(r,Rt,Et),r==="focusout"&&Et&&Rt.type==="number"&&Et.memoizedProps.value!=null&&Ot(Rt,"number",Rt.value)}switch(yr=Et?_e(Et):window,r){case"focusin":(pn(yr)||yr.contentEditable==="true")&&(Da=yr,u$=Et,Co=null);break;case"focusout":Co=u$=Da=null;break;case"mousedown":c$=!0;break;case"contextmenu":case"mouseup":case"dragend":c$=!1,Bh(Vt,a,qt);break;case"selectionchange":if(hb)break;case"keydown":case"keyup":Bh(Vt,a,qt)}var ir;if(wi)e:{switch(r){case"compositionstart":var cr="onCompositionStart";break e;case"compositionend":cr="onCompositionEnd";break e;case"compositionupdate":cr="onCompositionUpdate";break e}cr=void 0}else Tr?Ct(r,a)&&(cr="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(cr="onCompositionStart");cr&&(je&&a.locale!=="ko"&&(Tr||cr!=="onCompositionStart"?cr==="onCompositionEnd"&&Tr&&(ir=Fi()):(Rn=qt,ii="value"in Rn?Rn.value:Rn.textContent,Tr=!0)),yr=ju(Et,cr),0<yr.length&&(cr=new To(cr,r,null,a,qt),Vt.push({event:cr,listeners:yr}),ir?cr.data=ir:(ir=Yt(a),ir!==null&&(cr.data=ir)))),(ir=Ee?dn(r,a):xr(r,a))&&(cr=ju(Et,"onBeforeInput"),0<cr.length&&(yr=new To("onBeforeInput","beforeinput",null,a,qt),Vt.push({event:yr,listeners:cr}),yr.data=ir)),Ob(Vt,r,Et,a,qt)}tm(Vt,i)})}function il(r,i,a){return{instance:r,listener:i,currentTarget:a}}function ju(r,i){for(var a=i+"Capture",_=[];r!==null;){var S=r,H=S.stateNode;S=S.tag,S!==5&&S!==26&&S!==27||H===null||(S=jr(r,a),S!=null&&_.unshift(il(r,S,H)),S=jr(r,i),S!=null&&_.push(il(r,S,H))),r=r.return}return _}function eo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function nm(r,i,a,_,S){for(var H=i._reactName,Ge=[];a!==null&&a!==_;){var nt=a,dt=nt.alternate,Et=nt.stateNode;if(nt=nt.tag,dt!==null&&dt===_)break;nt!==5&&nt!==26&&nt!==27||Et===null||(dt=Et,S?(Et=jr(a,H),Et!=null&&Ge.unshift(il(a,Et,dt))):S||(Et=jr(a,H),Et!=null&&Ge.push(il(a,Et,dt)))),a=a.return}Ge.length!==0&&r.push({event:i,listeners:Ge})}var e0=/\r\n?/g,t0=/\u0000|\uFFFD/g;function im(r){return(typeof r=="string"?r:""+r).replace(e0,`
`).replace(t0,"")}function sm(r,i){return i=im(i),im(r)===i}function Hu(){}function Br(r,i,a,_,S,H){switch(a){case"children":typeof _=="string"?i==="body"||i==="textarea"&&_===""||Jt(r,_):(typeof _=="number"||typeof _=="bigint")&&i!=="body"&&Jt(r,""+_);break;case"className":Ve(r,"class",_);break;case"tabIndex":Ve(r,"tabindex",_);break;case"dir":case"role":case"viewBox":case"width":case"height":Ve(r,a,_);break;case"style":Mn(r,_,H);break;case"data":if(i!=="object"){Ve(r,"data",_);break}case"src":case"href":if(_===""&&(i!=="a"||a!=="href")){r.removeAttribute(a);break}if(_==null||typeof _=="function"||typeof _=="symbol"||typeof _=="boolean"){r.removeAttribute(a);break}_=ur(""+_),r.setAttribute(a,_);break;case"action":case"formAction":if(typeof _=="function"){r.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof H=="function"&&(a==="formAction"?(i!=="input"&&Br(r,i,"name",S.name,S,null),Br(r,i,"formEncType",S.formEncType,S,null),Br(r,i,"formMethod",S.formMethod,S,null),Br(r,i,"formTarget",S.formTarget,S,null)):(Br(r,i,"encType",S.encType,S,null),Br(r,i,"method",S.method,S,null),Br(r,i,"target",S.target,S,null)));if(_==null||typeof _=="symbol"||typeof _=="boolean"){r.removeAttribute(a);break}_=ur(""+_),r.setAttribute(a,_);break;case"onClick":_!=null&&(r.onclick=Hu);break;case"onScroll":_!=null&&Ar("scroll",r);break;case"onScrollEnd":_!=null&&Ar("scrollend",r);break;case"dangerouslySetInnerHTML":if(_!=null){if(typeof _!="object"||!("__html"in _))throw Error(s(61));if(a=_.__html,a!=null){if(S.children!=null)throw Error(s(60));r.innerHTML=a}}break;case"multiple":r.multiple=_&&typeof _!="function"&&typeof _!="symbol";break;case"muted":r.muted=_&&typeof _!="function"&&typeof _!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(_==null||typeof _=="function"||typeof _=="boolean"||typeof _=="symbol"){r.removeAttribute("xlink:href");break}a=ur(""+_),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":_!=null&&typeof _!="function"&&typeof _!="symbol"?r.setAttribute(a,""+_):r.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":_&&typeof _!="function"&&typeof _!="symbol"?r.setAttribute(a,""):r.removeAttribute(a);break;case"capture":case"download":_===!0?r.setAttribute(a,""):_!==!1&&_!=null&&typeof _!="function"&&typeof _!="symbol"?r.setAttribute(a,_):r.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":_!=null&&typeof _!="function"&&typeof _!="symbol"&&!isNaN(_)&&1<=_?r.setAttribute(a,_):r.removeAttribute(a);break;case"rowSpan":case"start":_==null||typeof _=="function"||typeof _=="symbol"||isNaN(_)?r.removeAttribute(a):r.setAttribute(a,_);break;case"popover":Ar("beforetoggle",r),Ar("toggle",r),xe(r,"popover",_);break;case"xlinkActuate":tt(r,"http://www.w3.org/1999/xlink","xlink:actuate",_);break;case"xlinkArcrole":tt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",_);break;case"xlinkRole":tt(r,"http://www.w3.org/1999/xlink","xlink:role",_);break;case"xlinkShow":tt(r,"http://www.w3.org/1999/xlink","xlink:show",_);break;case"xlinkTitle":tt(r,"http://www.w3.org/1999/xlink","xlink:title",_);break;case"xlinkType":tt(r,"http://www.w3.org/1999/xlink","xlink:type",_);break;case"xmlBase":tt(r,"http://www.w3.org/XML/1998/namespace","xml:base",_);break;case"xmlLang":tt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",_);break;case"xmlSpace":tt(r,"http://www.w3.org/XML/1998/namespace","xml:space",_);break;case"is":xe(r,"is",_);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=pr.get(a)||a,xe(r,a,_))}}function qf(r,i,a,_,S,H){switch(a){case"style":Mn(r,_,H);break;case"dangerouslySetInnerHTML":if(_!=null){if(typeof _!="object"||!("__html"in _))throw Error(s(61));if(a=_.__html,a!=null){if(S.children!=null)throw Error(s(60));r.innerHTML=a}}break;case"children":typeof _=="string"?Jt(r,_):(typeof _=="number"||typeof _=="bigint")&&Jt(r,""+_);break;case"onScroll":_!=null&&Ar("scroll",r);break;case"onScrollEnd":_!=null&&Ar("scrollend",r);break;case"onClick":_!=null&&(r.onclick=Hu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!y.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(S=a.endsWith("Capture"),i=a.slice(2,S?a.length-7:void 0),H=r[Ae]||null,H=H!=null?H[a]:null,typeof H=="function"&&r.removeEventListener(i,H,S),typeof _=="function")){typeof H!="function"&&H!==null&&(a in r?r[a]=null:r.hasAttribute(a)&&r.removeAttribute(a)),r.addEventListener(i,_,S);break e}a in r?r[a]=_:_===!0?r.setAttribute(a,""):xe(r,a,_)}}}function Dn(r,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ar("error",r),Ar("load",r);var _=!1,S=!1,H;for(H in a)if(a.hasOwnProperty(H)){var Ge=a[H];if(Ge!=null)switch(H){case"src":_=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Br(r,i,H,Ge,a,null)}}S&&Br(r,i,"srcSet",a.srcSet,a,null),_&&Br(r,i,"src",a.src,a,null);return;case"input":Ar("invalid",r);var nt=H=Ge=S=null,dt=null,Et=null;for(_ in a)if(a.hasOwnProperty(_)){var qt=a[_];if(qt!=null)switch(_){case"name":S=qt;break;case"type":Ge=qt;break;case"checked":dt=qt;break;case"defaultChecked":Et=qt;break;case"value":H=qt;break;case"defaultValue":nt=qt;break;case"children":case"dangerouslySetInnerHTML":if(qt!=null)throw Error(s(137,i));break;default:Br(r,i,_,qt,a,null)}}sr(r,H,nt,dt,Et,Ge,S,!1),wt(r);return;case"select":Ar("invalid",r),_=Ge=H=null;for(S in a)if(a.hasOwnProperty(S)&&(nt=a[S],nt!=null))switch(S){case"value":H=nt;break;case"defaultValue":Ge=nt;break;case"multiple":_=nt;default:Br(r,i,S,nt,a,null)}i=H,a=Ge,r.multiple=!!_,i!=null?Qt(r,!!_,i,!1):a!=null&&Qt(r,!!_,a,!0);return;case"textarea":Ar("invalid",r),H=S=_=null;for(Ge in a)if(a.hasOwnProperty(Ge)&&(nt=a[Ge],nt!=null))switch(Ge){case"value":_=nt;break;case"defaultValue":S=nt;break;case"children":H=nt;break;case"dangerouslySetInnerHTML":if(nt!=null)throw Error(s(91));break;default:Br(r,i,Ge,nt,a,null)}er(r,_,S,H),wt(r);return;case"option":for(dt in a)if(a.hasOwnProperty(dt)&&(_=a[dt],_!=null))switch(dt){case"selected":r.selected=_&&typeof _!="function"&&typeof _!="symbol";break;default:Br(r,i,dt,_,a,null)}return;case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":Ar("load",r);break;case"video":case"audio":for(_=0;_<nl.length;_++)Ar(nl[_],r);break;case"image":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"embed":case"source":case"link":Ar("error",r),Ar("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Et in a)if(a.hasOwnProperty(Et)&&(_=a[Et],_!=null))switch(Et){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Br(r,i,Et,_,a,null)}return;default:if(an(i)){for(qt in a)a.hasOwnProperty(qt)&&(_=a[qt],_!==void 0&&qf(r,i,qt,_,a,void 0));return}}for(nt in a)a.hasOwnProperty(nt)&&(_=a[nt],_!=null&&Br(r,i,nt,_,a,null))}function r0(r,i,a,_){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,H=null,Ge=null,nt=null,dt=null,Et=null,qt=null;for(Nt in a){var Vt=a[Nt];if(a.hasOwnProperty(Nt)&&Vt!=null)switch(Nt){case"checked":break;case"value":break;case"defaultValue":dt=Vt;default:_.hasOwnProperty(Nt)||Br(r,i,Nt,null,_,Vt)}}for(var Rt in _){var Nt=_[Rt];if(Vt=a[Rt],_.hasOwnProperty(Rt)&&(Nt!=null||Vt!=null))switch(Rt){case"type":H=Nt;break;case"name":S=Nt;break;case"checked":Et=Nt;break;case"defaultChecked":qt=Nt;break;case"value":Ge=Nt;break;case"defaultValue":nt=Nt;break;case"children":case"dangerouslySetInnerHTML":if(Nt!=null)throw Error(s(137,i));break;default:Nt!==Vt&&Br(r,i,Rt,Nt,_,Vt)}}Ft(r,Ge,nt,dt,Et,qt,H,S);return;case"select":Nt=Ge=nt=Rt=null;for(H in a)if(dt=a[H],a.hasOwnProperty(H)&&dt!=null)switch(H){case"value":break;case"multiple":Nt=dt;default:_.hasOwnProperty(H)||Br(r,i,H,null,_,dt)}for(S in _)if(H=_[S],dt=a[S],_.hasOwnProperty(S)&&(H!=null||dt!=null))switch(S){case"value":Rt=H;break;case"defaultValue":nt=H;break;case"multiple":Ge=H;default:H!==dt&&Br(r,i,S,H,_,dt)}i=nt,a=Ge,_=Nt,Rt!=null?Qt(r,!!a,Rt,!1):!!_!=!!a&&(i!=null?Qt(r,!!a,i,!0):Qt(r,!!a,a?[]:"",!1));return;case"textarea":Nt=Rt=null;for(nt in a)if(S=a[nt],a.hasOwnProperty(nt)&&S!=null&&!_.hasOwnProperty(nt))switch(nt){case"value":break;case"children":break;default:Br(r,i,nt,null,_,S)}for(Ge in _)if(S=_[Ge],H=a[Ge],_.hasOwnProperty(Ge)&&(S!=null||H!=null))switch(Ge){case"value":Rt=S;break;case"defaultValue":Nt=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:S!==H&&Br(r,i,Ge,S,_,H)}lr(r,Rt,Nt);return;case"option":for(var tr in a)if(Rt=a[tr],a.hasOwnProperty(tr)&&Rt!=null&&!_.hasOwnProperty(tr))switch(tr){case"selected":r.selected=!1;break;default:Br(r,i,tr,null,_,Rt)}for(dt in _)if(Rt=_[dt],Nt=a[dt],_.hasOwnProperty(dt)&&Rt!==Nt&&(Rt!=null||Nt!=null))switch(dt){case"selected":r.selected=Rt&&typeof Rt!="function"&&typeof Rt!="symbol";break;default:Br(r,i,dt,Rt,_,Nt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var hr in a)Rt=a[hr],a.hasOwnProperty(hr)&&Rt!=null&&!_.hasOwnProperty(hr)&&Br(r,i,hr,null,_,Rt);for(Et in _)if(Rt=_[Et],Nt=a[Et],_.hasOwnProperty(Et)&&Rt!==Nt&&(Rt!=null||Nt!=null))switch(Et){case"children":case"dangerouslySetInnerHTML":if(Rt!=null)throw Error(s(137,i));break;default:Br(r,i,Et,Rt,_,Nt)}return;default:if(an(i)){for(var sn in a)Rt=a[sn],a.hasOwnProperty(sn)&&Rt!==void 0&&!_.hasOwnProperty(sn)&&qf(r,i,sn,void 0,_,Rt);for(qt in _)Rt=_[qt],Nt=a[qt],!_.hasOwnProperty(qt)||Rt===Nt||Rt===void 0&&Nt===void 0||qf(r,i,qt,Rt,_,Nt);return}}for(var At in a)Rt=a[At],a.hasOwnProperty(At)&&Rt!=null&&!_.hasOwnProperty(At)&&Br(r,i,At,null,_,Rt);for(Vt in _)Rt=_[Vt],Nt=a[Vt],!_.hasOwnProperty(Vt)||Rt===Nt||Rt==null&&Nt==null||Br(r,i,Vt,Rt,_,Nt)}var zf=null,Mf=null;function Gu(r){return r.nodeType===9?r:r.ownerDocument}function am(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function om(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Lf(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Pf=null;function n0(){var r=window.event;return r&&r.type==="popstate"?r===Pf?!1:(Pf=r,!0):(Pf=null,!1)}var lm=typeof setTimeout=="function"?setTimeout:void 0,i0=typeof clearTimeout=="function"?clearTimeout:void 0,um=typeof Promise=="function"?Promise:void 0,s0=typeof queueMicrotask=="function"?queueMicrotask:typeof um<"u"?function(r){return um.resolve(null).then(r).catch(a0)}:lm;function a0(r){setTimeout(function(){throw r})}function Bf(r,i){var a=i,_=0;do{var S=a.nextSibling;if(r.removeChild(a),S&&S.nodeType===8)if(a=S.data,a==="/$"){if(_===0){r.removeChild(S),fl(i);return}_--}else a!=="$"&&a!=="$?"&&a!=="$!"||_++;a=S}while(a);fl(i)}function Ff(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ff(a),P(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}r.removeChild(a)}}function o0(r,i,a,_){for(;r.nodeType===1;){var S=a;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!_&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(_){if(!r[U])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(H=r.getAttribute("rel"),H==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(H!==S.rel||r.getAttribute("href")!==(S.href==null?null:S.href)||r.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||r.getAttribute("title")!==(S.title==null?null:S.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(H=r.getAttribute("src"),(H!==(S.src==null?null:S.src)||r.getAttribute("type")!==(S.type==null?null:S.type)||r.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&H&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var H=S.name==null?null:""+S.name;if(S.type==="hidden"&&r.getAttribute("name")===H)return r}else return r;if(r=yi(r.nextSibling),r===null)break}return null}function l0(r,i,a){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=yi(r.nextSibling),r===null))return null;return r}function yi(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}function cm(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}function $m(r,i,a){switch(i=Gu(a),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}var di=new Map,fm=new Set;function Yu(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var ns=h.d;h.d={f:u0,r:c0,D:$0,C:f0,L:_0,m:h0,X:p0,S:d0,M:m0};function u0(){var r=ns.f(),i=Pu();return r||i}function c0(r){var i=ae(r);i!==null&&i.tag===5&&i.type==="form"?Bd(i):ns.r(r)}var to=typeof document>"u"?null:document;function _m(r,i,a){var _=to;if(_&&typeof i=="string"&&i){var S=Mt(i);S='link[rel="'+r+'"][href="'+S+'"]',typeof a=="string"&&(S+='[crossorigin="'+a+'"]'),fm.has(S)||(fm.add(S),r={rel:r,crossOrigin:a,href:i},_.querySelector(S)===null&&(i=_.createElement("link"),Dn(i,"link",r),v(i),_.head.appendChild(i)))}}function $0(r){ns.D(r),_m("dns-prefetch",r,null)}function f0(r,i){ns.C(r,i),_m("preconnect",r,i)}function _0(r,i,a){ns.L(r,i,a);var _=to;if(_&&r&&i){var S='link[rel="preload"][as="'+Mt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(S+='[imagesrcset="'+Mt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(S+='[imagesizes="'+Mt(a.imageSizes)+'"]')):S+='[href="'+Mt(r)+'"]';var H=S;switch(i){case"style":H=ro(r);break;case"script":H=no(r)}di.has(H)||(r=ue({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:r,as:i},a),di.set(H,r),_.querySelector(S)!==null||i==="style"&&_.querySelector(sl(H))||i==="script"&&_.querySelector(al(H))||(i=_.createElement("link"),Dn(i,"link",r),v(i),_.head.appendChild(i)))}}function h0(r,i){ns.m(r,i);var a=to;if(a&&r){var _=i&&typeof i.as=="string"?i.as:"script",S='link[rel="modulepreload"][as="'+Mt(_)+'"][href="'+Mt(r)+'"]',H=S;switch(_){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":H=no(r)}if(!di.has(H)&&(r=ue({rel:"modulepreload",href:r},i),di.set(H,r),a.querySelector(S)===null)){switch(_){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(al(H)))return}_=a.createElement("link"),Dn(_,"link",r),v(_),a.head.appendChild(_)}}}function d0(r,i,a){ns.S(r,i,a);var _=to;if(_&&r){var S=K(_).hoistableStyles,H=ro(r);i=i||"default";var Ge=S.get(H);if(!Ge){var nt={loading:0,preload:null};if(Ge=_.querySelector(sl(H)))nt.loading=5;else{r=ue({rel:"stylesheet",href:r,"data-precedence":i},a),(a=di.get(H))&&Vf(r,a);var dt=Ge=_.createElement("link");v(dt),Dn(dt,"link",r),dt._p=new Promise(function(Et,qt){dt.onload=Et,dt.onerror=qt}),dt.addEventListener("load",function(){nt.loading|=1}),dt.addEventListener("error",function(){nt.loading|=2}),nt.loading|=4,Ku(Ge,i,_)}Ge={type:"stylesheet",instance:Ge,count:1,state:nt},S.set(H,Ge)}}}function p0(r,i){ns.X(r,i);var a=to;if(a&&r){var _=K(a).hoistableScripts,S=no(r),H=_.get(S);H||(H=a.querySelector(al(S)),H||(r=ue({src:r,async:!0},i),(i=di.get(S))&&Uf(r,i),H=a.createElement("script"),v(H),Dn(H,"link",r),a.head.appendChild(H)),H={type:"script",instance:H,count:1,state:null},_.set(S,H))}}function m0(r,i){ns.M(r,i);var a=to;if(a&&r){var _=K(a).hoistableScripts,S=no(r),H=_.get(S);H||(H=a.querySelector(al(S)),H||(r=ue({src:r,async:!0,type:"module"},i),(i=di.get(S))&&Uf(r,i),H=a.createElement("script"),v(H),Dn(H,"link",r),a.head.appendChild(H)),H={type:"script",instance:H,count:1,state:null},_.set(S,H))}}function hm(r,i,a,_){var S=(S=Ht.current)?Yu(S):null;if(!S)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ro(a.href),a=K(S).hoistableStyles,_=a.get(i),_||(_={type:"style",instance:null,count:0,state:null},a.set(i,_)),_):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){r=ro(a.href);var H=K(S).hoistableStyles,Ge=H.get(r);if(Ge||(S=S.ownerDocument||S,Ge={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},H.set(r,Ge),(H=S.querySelector(sl(r)))&&!H._p&&(Ge.instance=H,Ge.state.loading=5),di.has(r)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},di.set(r,a),H||g0(S,r,a,Ge.state))),i&&_===null)throw Error(s(528,""));return Ge}if(i&&_!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=no(a),a=K(S).hoistableScripts,_=a.get(i),_||(_={type:"script",instance:null,count:0,state:null},a.set(i,_)),_):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function ro(r){return'href="'+Mt(r)+'"'}function sl(r){return'link[rel="stylesheet"]['+r+"]"}function dm(r){return ue({},r,{"data-precedence":r.precedence,precedence:null})}function g0(r,i,a,_){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?_.loading=1:(i=r.createElement("link"),_.preload=i,i.addEventListener("load",function(){return _.loading|=1}),i.addEventListener("error",function(){return _.loading|=2}),Dn(i,"link",a),v(i),r.head.appendChild(i))}function no(r){return'[src="'+Mt(r)+'"]'}function al(r){return"script[async]"+r}function pm(r,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var _=r.querySelector('style[data-href~="'+Mt(a.href)+'"]');if(_)return i.instance=_,v(_),_;var S=ue({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return _=(r.ownerDocument||r).createElement("style"),v(_),Dn(_,"style",S),Ku(_,a.precedence,r),i.instance=_;case"stylesheet":S=ro(a.href);var H=r.querySelector(sl(S));if(H)return i.state.loading|=4,i.instance=H,v(H),H;_=dm(a),(S=di.get(S))&&Vf(_,S),H=(r.ownerDocument||r).createElement("link"),v(H);var Ge=H;return Ge._p=new Promise(function(nt,dt){Ge.onload=nt,Ge.onerror=dt}),Dn(H,"link",_),i.state.loading|=4,Ku(H,a.precedence,r),i.instance=H;case"script":return H=no(a.src),(S=r.querySelector(al(H)))?(i.instance=S,v(S),S):(_=a,(S=di.get(H))&&(_=ue({},a),Uf(_,S)),r=r.ownerDocument||r,S=r.createElement("script"),v(S),Dn(S,"link",_),r.head.appendChild(S),i.instance=S);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&!(i.state.loading&4)&&(_=i.instance,i.state.loading|=4,Ku(_,a.precedence,r));return i.instance}function Ku(r,i,a){for(var _=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=_.length?_[_.length-1]:null,H=S,Ge=0;Ge<_.length;Ge++){var nt=_[Ge];if(nt.dataset.precedence===i)H=nt;else if(H!==S)break}H?H.parentNode.insertBefore(r,H.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(r,i.firstChild))}function Vf(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Uf(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var Xu=null;function mm(r,i,a){if(Xu===null){var _=new Map,S=Xu=new Map;S.set(a,_)}else S=Xu,_=S.get(a),_||(_=new Map,S.set(a,_));if(_.has(r))return _;for(_.set(r,null),a=a.getElementsByTagName(r),S=0;S<a.length;S++){var H=a[S];if(!(H[U]||H[Qe]||r==="link"&&H.getAttribute("rel")==="stylesheet")&&H.namespaceURI!=="http://www.w3.org/2000/svg"){var Ge=H.getAttribute(i)||"";Ge=r+Ge;var nt=_.get(Ge);nt?nt.push(H):_.set(Ge,[H])}}return _}function gm(r,i,a){r=r.ownerDocument||r,r.head.insertBefore(a,i==="title"?r.querySelector("head > title"):null)}function v0(r,i,a){if(a===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function vm(r){return!(r.type==="stylesheet"&&!(r.state.loading&3))}var ol=null;function y0(){}function b0(r,i,a){if(ol===null)throw Error(s(475));var _=ol;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(i.state.loading&4)){if(i.instance===null){var S=ro(a.href),H=r.querySelector(sl(S));if(H){r=H._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(_.count++,_=Qu.bind(_),r.then(_,_)),i.state.loading|=4,i.instance=H,v(H);return}H=r.ownerDocument||r,a=dm(a),(S=di.get(S))&&Vf(a,S),H=H.createElement("link"),v(H);var Ge=H;Ge._p=new Promise(function(nt,dt){Ge.onload=nt,Ge.onerror=dt}),Dn(H,"link",a),i.instance=H}_.stylesheets===null&&(_.stylesheets=new Map),_.stylesheets.set(i,r),(r=i.state.preload)&&!(i.state.loading&3)&&(_.count++,i=Qu.bind(_),r.addEventListener("load",i),r.addEventListener("error",i))}}function E0(){if(ol===null)throw Error(s(475));var r=ol;return r.stylesheets&&r.count===0&&jf(r,r.stylesheets),0<r.count?function(i){var a=setTimeout(function(){if(r.stylesheets&&jf(r,r.stylesheets),r.unsuspend){var _=r.unsuspend;r.unsuspend=null,_()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(a)}}:null}function Qu(){if(this.count--,this.count===0){if(this.stylesheets)jf(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Ou=null;function jf(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Ou=new Map,i.forEach(w0,r),Ou=null,Qu.call(r))}function w0(r,i){if(!(i.state.loading&4)){var a=Ou.get(r);if(a)var _=a.get(null);else{a=new Map,Ou.set(r,a);for(var S=r.querySelectorAll("link[data-precedence],style[data-precedence]"),H=0;H<S.length;H++){var Ge=S[H];(Ge.nodeName==="LINK"||Ge.getAttribute("media")!=="not all")&&(a.set(Ge.dataset.precedence,Ge),_=Ge)}_&&a.set(null,_)}S=i.instance,Ge=S.getAttribute("data-precedence"),H=a.get(Ge)||_,H===_&&a.set(null,S),a.set(Ge,S),this.count++,_=Qu.bind(this),S.addEventListener("load",_),S.addEventListener("error",_),H?H.parentNode.insertBefore(S,H.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(S,r.firstChild)),i.state.loading|=4}}var ll={$$typeof:Ce,Provider:null,Consumer:null,_currentValue:p,_currentValue2:p,_threadCount:0};function A0(r,i,a,_,S,H,Ge,nt){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=it(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=it(0),this.hiddenUpdates=it(null),this.identifierPrefix=_,this.onUncaughtError=S,this.onCaughtError=H,this.onRecoverableError=Ge,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=nt,this.incompleteTransitions=new Map}function ym(r,i,a,_,S,H,Ge,nt,dt,Et,qt,Vt){return r=new A0(r,i,a,Ge,nt,dt,Et,Vt),i=1,H===!0&&(i|=24),H=_i(3,null,null,i),r.current=H,H.stateNode=r,i=y$(),i.refCount++,r.pooledCache=i,i.refCount++,H.memoizedState={element:_,isDehydrated:a,cache:i},ef(H),r}function bm(r){return r?(r=za,r):za}function Em(r,i,a,_,S,H){S=bm(S),_.context===null?_.context=S:_.pendingContext=S,_=ms(i),_.payload={element:a},H=H===void 0?null:H,H!==null&&(_.callback=H),a=gs(r,_,i),a!==null&&(Gn(a,r,i),Go(a,r,i))}function wm(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function Hf(r,i){wm(r,i),(r=r.alternate)&&wm(r,i)}function Am(r){if(r.tag===13){var i=cs(r,67108864);i!==null&&Gn(i,r,67108864),Hf(r,67108864)}}var Wu=!0;function T0(r,i,a,_){var S=F.T;F.T=null;var H=h.p;try{h.p=2,Gf(r,i,a,_)}finally{h.p=H,F.T=S}}function x0(r,i,a,_){var S=F.T;F.T=null;var H=h.p;try{h.p=8,Gf(r,i,a,_)}finally{h.p=H,F.T=S}}function Gf(r,i,a,_){if(Wu){var S=Yf(_);if(S===null)Nf(r,i,_,Zu,a),xm(r,_);else if(R0(S,r,i,a,_))_.stopPropagation();else if(xm(r,_),i&4&&-1<S0.indexOf(r)){for(;S!==null;){var H=ae(S);if(H!==null)switch(H.tag){case 3:if(H=H.stateNode,H.current.memoizedState.isDehydrated){var Ge=Le(H.pendingLanes);if(Ge!==0){var nt=H;for(nt.pendingLanes|=2,nt.entangledLanes|=2;Ge;){var dt=1<<31-O(Ge);nt.entanglements[1]|=dt,Ge&=~dt}ki(H),!(Zr&6)&&(zu=L()+500,rl(0))}}break;case 13:nt=cs(H,2),nt!==null&&Gn(nt,H,2),Pu(),Hf(H,2)}if(H=Yf(_),H===null&&Nf(r,i,_,Zu,a),H===S)break;S=H}S!==null&&_.stopPropagation()}else Nf(r,i,_,null,a)}}function Yf(r){return r=nr(r),Kf(r)}var Zu=null;function Kf(r){if(Zu=null,r=le(r),r!==null){var i=ve(r);if(i===null)r=null;else{var a=i.tag;if(a===13){if(r=re(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Zu=r,null}function Tm(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(be()){case Pe:return 2;case rt:return 8;case mt:case l:return 32;case ce:return 268435456;default:return 32}default:return 32}}var Xf=!1,Ts=null,xs=null,Ss=null,ul=new Map,cl=new Map,Rs=[],S0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xm(r,i){switch(r){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":ul.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(i.pointerId)}}function $l(r,i,a,_,S,H){return r===null||r.nativeEvent!==H?(r={blockedOn:i,domEventName:a,eventSystemFlags:_,nativeEvent:H,targetContainers:[S]},i!==null&&(i=ae(i),i!==null&&Am(i)),r):(r.eventSystemFlags|=_,i=r.targetContainers,S!==null&&i.indexOf(S)===-1&&i.push(S),r)}function R0(r,i,a,_,S){switch(i){case"focusin":return Ts=$l(Ts,r,i,a,_,S),!0;case"dragenter":return xs=$l(xs,r,i,a,_,S),!0;case"mouseover":return Ss=$l(Ss,r,i,a,_,S),!0;case"pointerover":var H=S.pointerId;return ul.set(H,$l(ul.get(H)||null,r,i,a,_,S)),!0;case"gotpointercapture":return H=S.pointerId,cl.set(H,$l(cl.get(H)||null,r,i,a,_,S)),!0}return!1}function Sm(r){var i=le(r.target);if(i!==null){var a=ve(i);if(a!==null){if(i=a.tag,i===13){if(i=re(a),i!==null){r.blockedOn=i,J(r.priority,function(){if(a.tag===13){var _=ri(),S=cs(a,_);S!==null&&Gn(S,a,_),Hf(a,_)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ju(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=Yf(r.nativeEvent);if(a===null){a=r.nativeEvent;var _=new a.constructor(a.type,a);Cr=_,a.target.dispatchEvent(_),Cr=null}else return i=ae(a),i!==null&&Am(i),r.blockedOn=a,!1;i.shift()}return!0}function Rm(r,i,a){Ju(r)&&a.delete(i)}function k0(){Xf=!1,Ts!==null&&Ju(Ts)&&(Ts=null),xs!==null&&Ju(xs)&&(xs=null),Ss!==null&&Ju(Ss)&&(Ss=null),ul.forEach(Rm),cl.forEach(Rm)}function ec(r,i){r.blockedOn===i&&(r.blockedOn=null,Xf||(Xf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,k0)))}var tc=null;function km(r){tc!==r&&(tc=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){tc===r&&(tc=null);for(var i=0;i<r.length;i+=3){var a=r[i],_=r[i+1],S=r[i+2];if(typeof _!="function"){if(Kf(_||a)===null)continue;break}var H=ae(a);H!==null&&(r.splice(i,3),i-=3,M$(H,{pending:!0,data:S,method:a.method,action:_},_,S))}}))}function fl(r){function i(dt){return ec(dt,r)}Ts!==null&&ec(Ts,r),xs!==null&&ec(xs,r),Ss!==null&&ec(Ss,r),ul.forEach(i),cl.forEach(i);for(var a=0;a<Rs.length;a++){var _=Rs[a];_.blockedOn===r&&(_.blockedOn=null)}for(;0<Rs.length&&(a=Rs[0],a.blockedOn===null);)Sm(a),a.blockedOn===null&&Rs.shift();if(a=(r.ownerDocument||r).$$reactFormReplay,a!=null)for(_=0;_<a.length;_+=3){var S=a[_],H=a[_+1],Ge=S[Ae]||null;if(typeof H=="function")Ge||km(a);else if(Ge){var nt=null;if(H&&H.hasAttribute("formAction")){if(S=H,Ge=H[Ae]||null)nt=Ge.formAction;else if(Kf(S)!==null)continue}else nt=Ge.action;typeof nt=="function"?a[_+1]=nt:(a.splice(_,3),_-=3),km(a)}}}function Qf(r){this._internalRoot=r}rc.prototype.render=Qf.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,_=ri();Em(a,_,r,i,null,null)},rc.prototype.unmount=Qf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;r.tag===0&&Za(),Em(r.current,2,null,r,null,null),Pu(),i[qe]=null}};function rc(r){this._internalRoot=r}rc.prototype.unstable_scheduleHydration=function(r){if(r){var i=ht();r={blockedOn:null,target:r,priority:i};for(var a=0;a<Rs.length&&i!==0&&i<Rs[a].priority;a++);Rs.splice(a,0,r),a===0&&Sm(r)}};var Cm=e.version;if(Cm!=="19.0.0")throw Error(s(527,Cm,"19.0.0"));h.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=f(i),r=r!==null?u(r):null,r=r===null?null:r.stateNode,r};var C0={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:F,findFiberByHostInstance:le,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{me=nc.inject(C0),w=nc}catch{}}return hl.createRoot=function(r,i){if(!o(r))throw Error(s(299));var a=!1,_="",S=Kd,H=Xd,Ge=Qd,nt=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(_=i.identifierPrefix),i.onUncaughtError!==void 0&&(S=i.onUncaughtError),i.onCaughtError!==void 0&&(H=i.onCaughtError),i.onRecoverableError!==void 0&&(Ge=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(nt=i.unstable_transitionCallbacks)),i=ym(r,1,!1,null,null,a,_,S,H,Ge,nt,null),r[qe]=i.current,Df(r.nodeType===8?r.parentNode:r),new Qf(i)},hl.hydrateRoot=function(r,i,a){if(!o(r))throw Error(s(299));var _=!1,S="",H=Kd,Ge=Xd,nt=Qd,dt=null,Et=null;return a!=null&&(a.unstable_strictMode===!0&&(_=!0),a.identifierPrefix!==void 0&&(S=a.identifierPrefix),a.onUncaughtError!==void 0&&(H=a.onUncaughtError),a.onCaughtError!==void 0&&(Ge=a.onCaughtError),a.onRecoverableError!==void 0&&(nt=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(dt=a.unstable_transitionCallbacks),a.formState!==void 0&&(Et=a.formState)),i=ym(r,1,!0,i,a??null,_,S,H,Ge,nt,dt,Et),i.context=bm(null),a=i.current,_=ri(),S=ms(_),S.callback=null,gs(a,S,_),i.current.lanes=_,pt(i,_),ki(i),r[qe]=i.current,Df(r),new rc(i)},hl.version="19.0.0",hl}var Fm;function V0(){if(Fm)return Zf.exports;Fm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zf.exports=F0(),Zf.exports}var U0=V0(),dl={},Vm;function j0(){if(Vm)return dl;Vm=1,Object.defineProperty(dl,"__esModule",{value:!0}),dl.parse=b,dl.serialize=g;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,d=(()=>{const he=function(){};return he.prototype=Object.create(null),he})();function b(he,Ce){const Be=new d,Ie=he.length;if(Ie<2)return Be;const ee=(Ce==null?void 0:Ce.decode)||se;let ke=0;do{const Oe=he.indexOf("=",ke);if(Oe===-1)break;const Ne=he.indexOf(";",ke),Fe=Ne===-1?Ie:Ne;if(Oe>Fe){ke=he.lastIndexOf(";",Oe-1)+1;continue}const Te=k(he,ke,Oe),Me=C(he,Oe,Te),te=he.slice(Te,Me);if(Be[te]===void 0){let pe=k(he,Oe+1,Fe),F=C(he,Fe,pe);const ue=ee(he.slice(pe,F));Be[te]=ue}ke=Fe+1}while(ke<Ie);return Be}function k(he,Ce,Be){do{const Ie=he.charCodeAt(Ce);if(Ie!==32&&Ie!==9)return Ce}while(++Ce<Be);return Be}function C(he,Ce,Be){for(;Ce>Be;){const Ie=he.charCodeAt(--Ce);if(Ie!==32&&Ie!==9)return Ce+1}return Be}function g(he,Ce,Be){const Ie=(Be==null?void 0:Be.encode)||encodeURIComponent;if(!t.test(he))throw new TypeError(`argument name is invalid: ${he}`);const ee=Ie(Ce);if(!e.test(ee))throw new TypeError(`argument val is invalid: ${Ce}`);let ke=he+"="+ee;if(!Be)return ke;if(Be.maxAge!==void 0){if(!Number.isInteger(Be.maxAge))throw new TypeError(`option maxAge is invalid: ${Be.maxAge}`);ke+="; Max-Age="+Be.maxAge}if(Be.domain){if(!n.test(Be.domain))throw new TypeError(`option domain is invalid: ${Be.domain}`);ke+="; Domain="+Be.domain}if(Be.path){if(!s.test(Be.path))throw new TypeError(`option path is invalid: ${Be.path}`);ke+="; Path="+Be.path}if(Be.expires){if(!we(Be.expires)||!Number.isFinite(Be.expires.valueOf()))throw new TypeError(`option expires is invalid: ${Be.expires}`);ke+="; Expires="+Be.expires.toUTCString()}if(Be.httpOnly&&(ke+="; HttpOnly"),Be.secure&&(ke+="; Secure"),Be.partitioned&&(ke+="; Partitioned"),Be.priority)switch(typeof Be.priority=="string"?Be.priority.toLowerCase():void 0){case"low":ke+="; Priority=Low";break;case"medium":ke+="; Priority=Medium";break;case"high":ke+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${Be.priority}`)}if(Be.sameSite)switch(typeof Be.sameSite=="string"?Be.sameSite.toLowerCase():Be.sameSite){case!0:case"strict":ke+="; SameSite=Strict";break;case"lax":ke+="; SameSite=Lax";break;case"none":ke+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${Be.sameSite}`)}return ke}function se(he){if(he.indexOf("%")===-1)return he;try{return decodeURIComponent(he)}catch{return he}}function we(he){return o.call(he)==="[object Date]"}return dl}j0();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Um="popstate";function H0(t={}){function e(s,o){let{pathname:d,search:b,hash:k}=s.location;return h_("",{pathname:d,search:b,hash:k},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Sl(o)}return Y0(e,n,null,t)}function en(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function G0(){return Math.random().toString(36).substring(2,10)}function jm(t,e){return{usr:t.state,key:t.key,idx:e}}function h_(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?mo(e):e,state:n,key:e&&e.key||s||G0()}}function Sl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function mo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function Y0(t,e,n,s={}){let{window:o=document.defaultView,v5Compat:d=!1}=s,b=o.history,k="POP",C=null,g=se();g==null&&(g=0,b.replaceState({...b.state,idx:g},""));function se(){return(b.state||{idx:null}).idx}function we(){k="POP";let ee=se(),ke=ee==null?null:ee-g;g=ee,C&&C({action:k,location:Ie.location,delta:ke})}function he(ee,ke){k="PUSH";let Oe=h_(Ie.location,ee,ke);g=se()+1;let Ne=jm(Oe,g),Fe=Ie.createHref(Oe);try{b.pushState(Ne,"",Fe)}catch(Te){if(Te instanceof DOMException&&Te.name==="DataCloneError")throw Te;o.location.assign(Fe)}d&&C&&C({action:k,location:Ie.location,delta:1})}function Ce(ee,ke){k="REPLACE";let Oe=h_(Ie.location,ee,ke);g=se();let Ne=jm(Oe,g),Fe=Ie.createHref(Oe);b.replaceState(Ne,"",Fe),d&&C&&C({action:k,location:Ie.location,delta:0})}function Be(ee){let ke=o.location.origin!=="null"?o.location.origin:o.location.href,Oe=typeof ee=="string"?ee:Sl(ee);return Oe=Oe.replace(/ $/,"%20"),en(ke,`No window.location.(origin|href) available to create URL for href: ${Oe}`),new URL(Oe,ke)}let Ie={get action(){return k},get location(){return t(o,b)},listen(ee){if(C)throw new Error("A history only accepts one active listener");return o.addEventListener(Um,we),C=ee,()=>{o.removeEventListener(Um,we),C=null}},createHref(ee){return e(o,ee)},createURL:Be,encodeLocation(ee){let ke=Be(ee);return{pathname:ke.pathname,search:ke.search,hash:ke.hash}},push:he,replace:Ce,go(ee){return b.go(ee)}};return Ie}function nv(t,e,n="/"){return K0(t,e,n,!1)}function K0(t,e,n,s){let o=typeof e=="string"?mo(e):e,d=zs(o.pathname||"/",n);if(d==null)return null;let b=iv(t);X0(b);let k=null;for(let C=0;k==null&&C<b.length;++C){let g=s1(d);k=n1(b[C],g,s)}return k}function iv(t,e=[],n=[],s=""){let o=(d,b,k)=>{let C={relativePath:k===void 0?d.path||"":k,caseSensitive:d.caseSensitive===!0,childrenIndex:b,route:d};C.relativePath.startsWith("/")&&(en(C.relativePath.startsWith(s),`Absolute route path "${C.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),C.relativePath=C.relativePath.slice(s.length));let g=is([s,C.relativePath]),se=n.concat(C);d.children&&d.children.length>0&&(en(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),iv(d.children,e,se,g)),!(d.path==null&&!d.index)&&e.push({path:g,score:t1(g,d.index),routesMeta:se})};return t.forEach((d,b)=>{var k;if(d.path===""||!((k=d.path)!=null&&k.includes("?")))o(d,b);else for(let C of sv(d.path))o(d,b,C)}),e}function sv(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),d=n.replace(/\?$/,"");if(s.length===0)return o?[d,""]:[d];let b=sv(s.join("/")),k=[];return k.push(...b.map(C=>C===""?d:[d,C].join("/"))),o&&k.push(...b),k.map(C=>t.startsWith("/")&&C===""?"/":C)}function X0(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:r1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Q0=/^:[\w-]+$/,O0=3,W0=2,Z0=1,J0=10,e1=-2,Hm=t=>t==="*";function t1(t,e){let n=t.split("/"),s=n.length;return n.some(Hm)&&(s+=e1),e&&(s+=W0),n.filter(o=>!Hm(o)).reduce((o,d)=>o+(Q0.test(d)?O0:d===""?Z0:J0),s)}function r1(t,e){return t.length===e.length&&t.slice(0,-1).every((s,o)=>s===e[o])?t[t.length-1]-e[e.length-1]:0}function n1(t,e,n=!1){let{routesMeta:s}=t,o={},d="/",b=[];for(let k=0;k<s.length;++k){let C=s[k],g=k===s.length-1,se=d==="/"?e:e.slice(d.length)||"/",we=vc({path:C.relativePath,caseSensitive:C.caseSensitive,end:g},se),he=C.route;if(!we&&g&&n&&!s[s.length-1].route.index&&(we=vc({path:C.relativePath,caseSensitive:C.caseSensitive,end:!1},se)),!we)return null;Object.assign(o,we.params),b.push({params:o,pathname:is([d,we.pathname]),pathnameBase:u1(is([d,we.pathnameBase])),route:he}),we.pathnameBase!=="/"&&(d=is([d,we.pathnameBase]))}return b}function vc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=i1(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let d=o[0],b=d.replace(/(.)\/+$/,"$1"),k=o.slice(1);return{params:s.reduce((g,{paramName:se,isOptional:we},he)=>{if(se==="*"){let Be=k[he]||"";b=d.slice(0,d.length-Be.length).replace(/(.)\/+$/,"$1")}const Ce=k[he];return we&&!Ce?g[se]=void 0:g[se]=(Ce||"").replace(/%2F/g,"/"),g},{}),pathname:d,pathnameBase:b,pattern:t}}function i1(t,e=!1,n=!0){zi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(b,k,C)=>(s.push({paramName:k,isOptional:C!=null}),C?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function s1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function zs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function a1(t,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof t=="string"?mo(t):t;return{pathname:n?n.startsWith("/")?n:o1(n,e):e,search:c1(s),hash:$1(o)}}function o1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function r_(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function l1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function av(t){let e=l1(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function ov(t,e,n,s=!1){let o;typeof t=="string"?o=mo(t):(o={...t},en(!o.pathname||!o.pathname.includes("?"),r_("?","pathname","search",o)),en(!o.pathname||!o.pathname.includes("#"),r_("#","pathname","hash",o)),en(!o.search||!o.search.includes("#"),r_("#","search","hash",o)));let d=t===""||o.pathname==="",b=d?"/":o.pathname,k;if(b==null)k=n;else{let we=e.length-1;if(!s&&b.startsWith("..")){let he=b.split("/");for(;he[0]==="..";)he.shift(),we-=1;o.pathname=he.join("/")}k=we>=0?e[we]:"/"}let C=a1(o,k),g=b&&b!=="/"&&b.endsWith("/"),se=(d||b===".")&&n.endsWith("/");return!C.pathname.endsWith("/")&&(g||se)&&(C.pathname+="/"),C}var is=t=>t.join("/").replace(/\/\/+/g,"/"),u1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),c1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function f1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var lv=["POST","PUT","PATCH","DELETE"];new Set(lv);var _1=["GET",...lv];new Set(_1);var go=kt.createContext(null);go.displayName="DataRouter";var Mc=kt.createContext(null);Mc.displayName="DataRouterState";var uv=kt.createContext({isTransitioning:!1});uv.displayName="ViewTransition";var h1=kt.createContext(new Map);h1.displayName="Fetchers";var d1=kt.createContext(null);d1.displayName="Await";var Pi=kt.createContext(null);Pi.displayName="Navigation";var Bl=kt.createContext(null);Bl.displayName="Location";var Bi=kt.createContext({outlet:null,matches:[],isDataRoute:!1});Bi.displayName="Route";var H_=kt.createContext(null);H_.displayName="RouteError";function p1(t,{relative:e}={}){en(Fl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=kt.useContext(Pi),{hash:o,pathname:d,search:b}=Vl(t,{relative:e}),k=d;return n!=="/"&&(k=d==="/"?n:is([n,d])),s.createHref({pathname:k,search:b,hash:o})}function Fl(){return kt.useContext(Bl)!=null}function ya(){return en(Fl(),"useLocation() may be used only in the context of a <Router> component."),kt.useContext(Bl).location}var cv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $v(t){kt.useContext(Pi).static||kt.useLayoutEffect(t)}function Lc(){let{isDataRoute:t}=kt.useContext(Bi);return t?C1():m1()}function m1(){en(Fl(),"useNavigate() may be used only in the context of a <Router> component.");let t=kt.useContext(go),{basename:e,navigator:n}=kt.useContext(Pi),{matches:s}=kt.useContext(Bi),{pathname:o}=ya(),d=JSON.stringify(av(s)),b=kt.useRef(!1);return $v(()=>{b.current=!0}),kt.useCallback((C,g={})=>{if(zi(b.current,cv),!b.current)return;if(typeof C=="number"){n.go(C);return}let se=ov(C,JSON.parse(d),o,g.relative==="path");t==null&&e!=="/"&&(se.pathname=se.pathname==="/"?e:is([e,se.pathname])),(g.replace?n.replace:n.push)(se,g.state,g)},[e,n,d,o,t])}kt.createContext(null);function g1(){let{matches:t}=kt.useContext(Bi),e=t[t.length-1];return e?e.params:{}}function Vl(t,{relative:e}={}){let{matches:n}=kt.useContext(Bi),{pathname:s}=ya(),o=JSON.stringify(av(n));return kt.useMemo(()=>ov(t,JSON.parse(o),s,e==="path"),[t,o,s,e])}function v1(t,e){return fv(t,e)}function fv(t,e,n,s){var Oe;en(Fl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:d}=kt.useContext(Pi),{matches:b}=kt.useContext(Bi),k=b[b.length-1],C=k?k.params:{},g=k?k.pathname:"/",se=k?k.pathnameBase:"/",we=k&&k.route;{let Ne=we&&we.path||"";_v(g,!we||Ne.endsWith("*")||Ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Ne}"> to <Route path="${Ne==="/"?"*":`${Ne}/*`}">.`)}let he=ya(),Ce;if(e){let Ne=typeof e=="string"?mo(e):e;en(se==="/"||((Oe=Ne.pathname)==null?void 0:Oe.startsWith(se)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${se}" but pathname "${Ne.pathname}" was given in the \`location\` prop.`),Ce=Ne}else Ce=he;let Be=Ce.pathname||"/",Ie=Be;if(se!=="/"){let Ne=se.replace(/^\//,"").split("/");Ie="/"+Be.replace(/^\//,"").split("/").slice(Ne.length).join("/")}let ee=!d&&n&&n.matches&&n.matches.length>0?n.matches:nv(t,{pathname:Ie});zi(we||ee!=null,`No routes matched location "${Ce.pathname}${Ce.search}${Ce.hash}" `),zi(ee==null||ee[ee.length-1].route.element!==void 0||ee[ee.length-1].route.Component!==void 0||ee[ee.length-1].route.lazy!==void 0,`Matched leaf route at location "${Ce.pathname}${Ce.search}${Ce.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ke=A1(ee&&ee.map(Ne=>Object.assign({},Ne,{params:Object.assign({},C,Ne.params),pathname:is([se,o.encodeLocation?o.encodeLocation(Ne.pathname).pathname:Ne.pathname]),pathnameBase:Ne.pathnameBase==="/"?se:is([se,o.encodeLocation?o.encodeLocation(Ne.pathnameBase).pathname:Ne.pathnameBase])})),b,n,s);return e&&ke?kt.createElement(Bl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...Ce},navigationType:"POP"}},ke):ke}function y1(){let t=k1(),e=f1(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},d={padding:"2px 4px",backgroundColor:s},b=null;return console.error("Error handled by React Router default ErrorBoundary:",t),b=kt.createElement(kt.Fragment,null,kt.createElement("p",null," Hey developer "),kt.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",kt.createElement("code",{style:d},"ErrorBoundary")," or"," ",kt.createElement("code",{style:d},"errorElement")," prop on your route.")),kt.createElement(kt.Fragment,null,kt.createElement("h2",null,"Unexpected Application Error!"),kt.createElement("h3",{style:{fontStyle:"italic"}},e),n?kt.createElement("pre",{style:o},n):null,b)}var b1=kt.createElement(y1,null),E1=class extends kt.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?kt.createElement(Bi.Provider,{value:this.props.routeContext},kt.createElement(H_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function w1({routeContext:t,match:e,children:n}){let s=kt.useContext(go);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),kt.createElement(Bi.Provider,{value:t},n)}function A1(t,e=[],n=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,d=n==null?void 0:n.errors;if(d!=null){let C=o.findIndex(g=>g.route.id&&(d==null?void 0:d[g.route.id])!==void 0);en(C>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),o=o.slice(0,Math.min(o.length,C+1))}let b=!1,k=-1;if(n)for(let C=0;C<o.length;C++){let g=o[C];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(k=C),g.route.id){let{loaderData:se,errors:we}=n,he=g.route.loader&&!se.hasOwnProperty(g.route.id)&&(!we||we[g.route.id]===void 0);if(g.route.lazy||he){b=!0,k>=0?o=o.slice(0,k+1):o=[o[0]];break}}}return o.reduceRight((C,g,se)=>{let we,he=!1,Ce=null,Be=null;n&&(we=d&&g.route.id?d[g.route.id]:void 0,Ce=g.route.errorElement||b1,b&&(k<0&&se===0?(_v("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),he=!0,Be=null):k===se&&(he=!0,Be=g.route.hydrateFallbackElement||null)));let Ie=e.concat(o.slice(0,se+1)),ee=()=>{let ke;return we?ke=Ce:he?ke=Be:g.route.Component?ke=kt.createElement(g.route.Component,null):g.route.element?ke=g.route.element:ke=C,kt.createElement(w1,{match:g,routeContext:{outlet:C,matches:Ie,isDataRoute:n!=null},children:ke})};return n&&(g.route.ErrorBoundary||g.route.errorElement||se===0)?kt.createElement(E1,{location:n.location,revalidation:n.revalidation,component:Ce,error:we,children:ee(),routeContext:{outlet:null,matches:Ie,isDataRoute:!0}}):ee()},null)}function G_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T1(t){let e=kt.useContext(go);return en(e,G_(t)),e}function x1(t){let e=kt.useContext(Mc);return en(e,G_(t)),e}function S1(t){let e=kt.useContext(Bi);return en(e,G_(t)),e}function Y_(t){let e=S1(t),n=e.matches[e.matches.length-1];return en(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function R1(){return Y_("useRouteId")}function k1(){var s;let t=kt.useContext(H_),e=x1("useRouteError"),n=Y_("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function C1(){let{router:t}=T1("useNavigate"),e=Y_("useNavigate"),n=kt.useRef(!1);return $v(()=>{n.current=!0}),kt.useCallback(async(o,d={})=>{zi(n.current,cv),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...d}))},[t,e])}var Gm={};function _v(t,e,n){!e&&!Gm[t]&&(Gm[t]=!0,zi(!1,n))}kt.memo(I1);function I1({routes:t,future:e,state:n}){return fv(t,void 0,n,e)}function cc(t){en(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function D1({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:d=!1}){en(!Fl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let b=t.replace(/^\/*/,"/"),k=kt.useMemo(()=>({basename:b,navigator:o,static:d,future:{}}),[b,o,d]);typeof n=="string"&&(n=mo(n));let{pathname:C="/",search:g="",hash:se="",state:we=null,key:he="default"}=n,Ce=kt.useMemo(()=>{let Be=zs(C,b);return Be==null?null:{location:{pathname:Be,search:g,hash:se,state:we,key:he},navigationType:s}},[b,C,g,se,we,he,s]);return zi(Ce!=null,`<Router basename="${b}"> is not able to match the URL "${C}${g}${se}" because it does not start with the basename, so the <Router> won't render anything.`),Ce==null?null:kt.createElement(Pi.Provider,{value:k},kt.createElement(Bl.Provider,{children:e,value:Ce}))}function N1({children:t,location:e}){return v1(d_(t),e)}function d_(t,e=[]){let n=[];return kt.Children.forEach(t,(s,o)=>{if(!kt.isValidElement(s))return;let d=[...e,o];if(s.type===kt.Fragment){n.push.apply(n,d_(s.props.children,d));return}en(s.type===cc,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),en(!s.props.index||!s.props.children,"An index route cannot have child routes.");let b={id:s.props.id||d.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(b.children=d_(s.props.children,d)),n.push(b)}),n}var $c="get",fc="application/x-www-form-urlencoded";function Pc(t){return t!=null&&typeof t.tagName=="string"}function q1(t){return Pc(t)&&t.tagName.toLowerCase()==="button"}function z1(t){return Pc(t)&&t.tagName.toLowerCase()==="form"}function M1(t){return Pc(t)&&t.tagName.toLowerCase()==="input"}function L1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function P1(t,e){return t.button===0&&(!e||e==="_self")&&!L1(t)}var ic=null;function B1(){if(ic===null)try{new FormData(document.createElement("form"),0),ic=!1}catch{ic=!0}return ic}var F1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function n_(t){return t!=null&&!F1.has(t)?(zi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fc}"`),null):t}function V1(t,e){let n,s,o,d,b;if(z1(t)){let k=t.getAttribute("action");s=k?zs(k,e):null,n=t.getAttribute("method")||$c,o=n_(t.getAttribute("enctype"))||fc,d=new FormData(t)}else if(q1(t)||M1(t)&&(t.type==="submit"||t.type==="image")){let k=t.form;if(k==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let C=t.getAttribute("formaction")||k.getAttribute("action");if(s=C?zs(C,e):null,n=t.getAttribute("formmethod")||k.getAttribute("method")||$c,o=n_(t.getAttribute("formenctype"))||n_(k.getAttribute("enctype"))||fc,d=new FormData(k,t),!B1()){let{name:g,type:se,value:we}=t;if(se==="image"){let he=g?`${g}.`:"";d.append(`${he}x`,"0"),d.append(`${he}y`,"0")}else g&&d.append(g,we)}}else{if(Pc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$c,s=null,o=fc,b=t}return d&&o==="text/plain"&&(b=d,d=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:d,body:b}}function K_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function U1(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function j1(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function H1(t,e,n){let s=await Promise.all(t.map(async o=>{let d=e.routes[o.route.id];if(d){let b=await U1(d,n);return b.links?b.links():[]}return[]}));return X1(s.flat(1).filter(j1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Ym(t,e,n,s,o,d){let b=(C,g)=>n[g]?C.route.id!==n[g].route.id:!0,k=(C,g)=>{var se;return n[g].pathname!==C.pathname||((se=n[g].route.path)==null?void 0:se.endsWith("*"))&&n[g].params["*"]!==C.params["*"]};return d==="assets"?e.filter((C,g)=>b(C,g)||k(C,g)):d==="data"?e.filter((C,g)=>{var we;let se=s.routes[C.route.id];if(!se||!se.hasLoader)return!1;if(b(C,g)||k(C,g))return!0;if(C.route.shouldRevalidate){let he=C.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((we=n[0])==null?void 0:we.params)||{},nextUrl:new URL(t,window.origin),nextParams:C.params,defaultShouldRevalidate:!0});if(typeof he=="boolean")return he}return!0}):[]}function G1(t,e){return Y1(t.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function Y1(t){return[...new Set(t)]}function K1(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function X1(t,e){let n=new Set;return new Set(e),t.reduce((s,o)=>{let d=JSON.stringify(K1(o));return n.has(d)||(n.add(d),s.push({key:d,link:o})),s},[])}function Q1(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function O1(){let t=kt.useContext(go);return K_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function W1(){let t=kt.useContext(Mc);return K_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var X_=kt.createContext(void 0);X_.displayName="FrameworkContext";function hv(){let t=kt.useContext(X_);return K_(t,"You must render this element inside a <HydratedRouter> element"),t}function Z1(t,e){let n=kt.useContext(X_),[s,o]=kt.useState(!1),[d,b]=kt.useState(!1),{onFocus:k,onBlur:C,onMouseEnter:g,onMouseLeave:se,onTouchStart:we}=e,he=kt.useRef(null);kt.useEffect(()=>{if(t==="render"&&b(!0),t==="viewport"){let Ie=ke=>{ke.forEach(Oe=>{b(Oe.isIntersecting)})},ee=new IntersectionObserver(Ie,{threshold:.5});return he.current&&ee.observe(he.current),()=>{ee.disconnect()}}},[t]),kt.useEffect(()=>{if(s){let Ie=setTimeout(()=>{b(!0)},100);return()=>{clearTimeout(Ie)}}},[s]);let Ce=()=>{o(!0)},Be=()=>{o(!1),b(!1)};return n?t!=="intent"?[d,he,{}]:[d,he,{onFocus:pl(k,Ce),onBlur:pl(C,Be),onMouseEnter:pl(g,Ce),onMouseLeave:pl(se,Be),onTouchStart:pl(we,Ce)}]:[!1,he,{}]}function pl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function J1({page:t,...e}){let{router:n}=O1(),s=kt.useMemo(()=>nv(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?kt.createElement(tE,{page:t,matches:s,...e}):null}function eE(t){let{manifest:e,routeModules:n}=hv(),[s,o]=kt.useState([]);return kt.useEffect(()=>{let d=!1;return H1(t,e,n).then(b=>{d||o(b)}),()=>{d=!0}},[t,e,n]),s}function tE({page:t,matches:e,...n}){let s=ya(),{manifest:o,routeModules:d}=hv(),{loaderData:b,matches:k}=W1(),C=kt.useMemo(()=>Ym(t,e,k,o,s,"data"),[t,e,k,o,s]),g=kt.useMemo(()=>Ym(t,e,k,o,s,"assets"),[t,e,k,o,s]),se=kt.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let Ce=new Set,Be=!1;if(e.forEach(ee=>{var Oe;let ke=o.routes[ee.route.id];!ke||!ke.hasLoader||(!C.some(Ne=>Ne.route.id===ee.route.id)&&ee.route.id in b&&((Oe=d[ee.route.id])!=null&&Oe.shouldRevalidate)||ke.hasClientLoader?Be=!0:Ce.add(ee.route.id))}),Ce.size===0)return[];let Ie=Q1(t);return Be&&Ce.size>0&&Ie.searchParams.set("_routes",e.filter(ee=>Ce.has(ee.route.id)).map(ee=>ee.route.id).join(",")),[Ie.pathname+Ie.search]},[b,s,o,C,e,t,d]),we=kt.useMemo(()=>G1(g,o),[g,o]),he=eE(g);return kt.createElement(kt.Fragment,null,se.map(Ce=>kt.createElement("link",{key:Ce,rel:"prefetch",as:"fetch",href:Ce,...n})),we.map(Ce=>kt.createElement("link",{key:Ce,rel:"modulepreload",href:Ce,...n})),he.map(({key:Ce,link:Be})=>kt.createElement("link",{key:Ce,...Be})))}function rE(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var dv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dv&&(window.__reactRouterVersion="7.1.5")}catch{}function nE({basename:t,children:e,window:n}){let s=kt.useRef();s.current==null&&(s.current=H0({window:n,v5Compat:!0}));let o=s.current,[d,b]=kt.useState({action:o.action,location:o.location}),k=kt.useCallback(C=>{kt.startTransition(()=>b(C))},[b]);return kt.useLayoutEffect(()=>o.listen(k),[o,k]),kt.createElement(D1,{basename:t,children:e,location:d.location,navigationType:d.action,navigator:o})}var pv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mv=kt.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:d,replace:b,state:k,target:C,to:g,preventScrollReset:se,viewTransition:we,...he},Ce){let{basename:Be}=kt.useContext(Pi),Ie=typeof g=="string"&&pv.test(g),ee,ke=!1;if(typeof g=="string"&&Ie&&(ee=g,dv))try{let F=new URL(window.location.href),ue=g.startsWith("//")?new URL(F.protocol+g):new URL(g),G=zs(ue.pathname,Be);ue.origin===F.origin&&G!=null?g=G+ue.search+ue.hash:ke=!0}catch{zi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Oe=p1(g,{relative:o}),[Ne,Fe,Te]=Z1(s,he),Me=oE(g,{replace:b,state:k,target:C,preventScrollReset:se,relative:o,viewTransition:we});function te(F){e&&e(F),F.defaultPrevented||Me(F)}let pe=kt.createElement("a",{...he,...Te,href:ee||Oe,onClick:ke||d?e:te,ref:rE(Ce,Fe),target:C,"data-discover":!Ie&&n==="render"?"true":void 0});return Ne&&!Ie?kt.createElement(kt.Fragment,null,pe,kt.createElement(J1,{page:Oe})):pe});mv.displayName="Link";var iE=kt.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:d,to:b,viewTransition:k,children:C,...g},se){let we=Vl(b,{relative:g.relative}),he=ya(),Ce=kt.useContext(Mc),{navigator:Be,basename:Ie}=kt.useContext(Pi),ee=Ce!=null&&fE(we)&&k===!0,ke=Be.encodeLocation?Be.encodeLocation(we).pathname:we.pathname,Oe=he.pathname,Ne=Ce&&Ce.navigation&&Ce.navigation.location?Ce.navigation.location.pathname:null;n||(Oe=Oe.toLowerCase(),Ne=Ne?Ne.toLowerCase():null,ke=ke.toLowerCase()),Ne&&Ie&&(Ne=zs(Ne,Ie)||Ne);const Fe=ke!=="/"&&ke.endsWith("/")?ke.length-1:ke.length;let Te=Oe===ke||!o&&Oe.startsWith(ke)&&Oe.charAt(Fe)==="/",Me=Ne!=null&&(Ne===ke||!o&&Ne.startsWith(ke)&&Ne.charAt(ke.length)==="/"),te={isActive:Te,isPending:Me,isTransitioning:ee},pe=Te?e:void 0,F;typeof s=="function"?F=s(te):F=[s,Te?"active":null,Me?"pending":null,ee?"transitioning":null].filter(Boolean).join(" ");let ue=typeof d=="function"?d(te):d;return kt.createElement(mv,{...g,"aria-current":pe,className:F,ref:se,style:ue,to:b,viewTransition:k},typeof C=="function"?C(te):C)});iE.displayName="NavLink";var sE=kt.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:d,method:b=$c,action:k,onSubmit:C,relative:g,preventScrollReset:se,viewTransition:we,...he},Ce)=>{let Be=cE(),Ie=$E(k,{relative:g}),ee=b.toLowerCase()==="get"?"get":"post",ke=typeof k=="string"&&pv.test(k),Oe=Ne=>{if(C&&C(Ne),Ne.defaultPrevented)return;Ne.preventDefault();let Fe=Ne.nativeEvent.submitter,Te=(Fe==null?void 0:Fe.getAttribute("formmethod"))||b;Be(Fe||Ne.currentTarget,{fetcherKey:e,method:Te,navigate:n,replace:o,state:d,relative:g,preventScrollReset:se,viewTransition:we})};return kt.createElement("form",{ref:Ce,method:ee,action:Ie,onSubmit:s?C:Oe,...he,"data-discover":!ke&&t==="render"?"true":void 0})});sE.displayName="Form";function aE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gv(t){let e=kt.useContext(go);return en(e,aE(t)),e}function oE(t,{target:e,replace:n,state:s,preventScrollReset:o,relative:d,viewTransition:b}={}){let k=Lc(),C=ya(),g=Vl(t,{relative:d});return kt.useCallback(se=>{if(P1(se,e)){se.preventDefault();let we=n!==void 0?n:Sl(C)===Sl(g);k(t,{replace:we,state:s,preventScrollReset:o,relative:d,viewTransition:b})}},[C,k,g,n,s,e,t,o,d,b])}var lE=0,uE=()=>`__${String(++lE)}__`;function cE(){let{router:t}=gv("useSubmit"),{basename:e}=kt.useContext(Pi),n=R1();return kt.useCallback(async(s,o={})=>{let{action:d,method:b,encType:k,formData:C,body:g}=V1(s,e);if(o.navigate===!1){let se=o.fetcherKey||uE();await t.fetch(se,n,o.action||d,{preventScrollReset:o.preventScrollReset,formData:C,body:g,formMethod:o.method||b,formEncType:o.encType||k,flushSync:o.flushSync})}else await t.navigate(o.action||d,{preventScrollReset:o.preventScrollReset,formData:C,body:g,formMethod:o.method||b,formEncType:o.encType||k,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function $E(t,{relative:e}={}){let{basename:n}=kt.useContext(Pi),s=kt.useContext(Bi);en(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),d={...Vl(t||".",{relative:e})},b=ya();if(t==null){d.search=b.search;let k=new URLSearchParams(d.search),C=k.getAll("index");if(C.some(se=>se==="")){k.delete("index"),C.filter(we=>we).forEach(we=>k.append("index",we));let se=k.toString();d.search=se?`?${se}`:""}}return(!t||t===".")&&o.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(d.pathname=d.pathname==="/"?n:is([n,d.pathname])),Sl(d)}function fE(t,e={}){let n=kt.useContext(uv);en(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=gv("useViewTransitionState"),o=Vl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let d=zs(n.currentLocation.pathname,s)||n.currentLocation.pathname,b=zs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return vc(o.pathname,b)!=null||vc(o.pathname,d)!=null}new TextEncoder;const _E=()=>{const t=Lc();return kt.useEffect(()=>{t("render/doc.adoc")},[t]),null};/**
 * @license Asciidoctor.js 3.0.4 | MIT | https://github.com/asciidoctor/asciidoctor.js
 */(function(t){var e;if(typeof globalThis<"u"?t=globalThis:typeof global<"u"?t=global:typeof window<"u"&&(t=window),t.console==null&&(t.console={}),typeof t.console=="object"?e=t.console:e={},"log"in e||(e.log=function(){}),"warn"in e||(e.warn=e.log),typeof t.Opal<"u")return e.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),t.Opal;var n,s,o,d,b,k,C,g=t.Opal={};g.global=t,g.config={missing_require_severity:"error",unsupported_features_severity:"warning",experimental_features_severity:"warning",enable_stack_trace:!0};var se=Function.prototype.call,we=Function.prototype.bind,he=Object.hasOwn||se.bind(Object.prototype.hasOwnProperty),Ce=Object.setPrototypeOf,Be=se.bind(Array.prototype.slice),Ie=se.bind(Array.prototype.splice),ee=4,ke=ee;function Oe(){return ke+=2,ke}g.uid=Oe,g.id=function(T){return T.$$is_number?T*2+1:(T.$$id==null&&Te(T,"$$id",Oe()),T.$$id)};var Ne=g.gvars={};g.exit=function(T){Ne.DEBUG&&e.log("Exited with status "+T)},g.exceptions=[],g.pop_exception=function(){var T=g.exceptions.pop();T?(Ne["!"]=T,Ne["@"]=T.$backtrace()):Ne["!"]=Ne["@"]=n};function Fe(T,L){if(T||(T=g.Exception||Error),C&&C.$raise)arguments.length>2?C.$raise(T.$new.apply(T,Be(arguments,1))):C.$raise(T,L);else throw T.$new?T.$new(L):new T(L)}function Te(T,L,be){typeof T=="string"?T[L]=be:Object.defineProperty(T,L,{value:be,enumerable:!1,configurable:!0,writable:!0})}g.prop=Te,g.defineProperty=g.prop,g.slice=Be;var Me=g.truthy=function(T){return T!==!1&&n!==T&&T!==void 0&&T!==null&&(!(T instanceof Boolean)||T.valueOf()===!0)};g.falsy=function(T){return!Me(T)},g.type_error=function(T,L,be,Pe){T=T.$$class,Pe&&be?(Pe=Pe.$$class,Fe(g.TypeError,"can't convert "+T+" into "+L+" ("+T+"#"+be+" gives "+Pe+")")):Fe(g.TypeError,"no implicit conversion of "+T+" into "+L)},g.coerce_to=function(T,L,be,Pe){var rt;return be==="to_int"&&L===g.Integer&&T.$$is_number?T<0?Math.ceil(T):Math.floor(T):be==="to_str"&&L===g.String&&T.$$is_string||g.is_a(T,L)?T:T["$respond_to?"].$$pristine&&T.$method_missing.$$pristine?(rt=T[Lt(be)],(rt==null||rt.$$stub)&&g.type_error(T,L),rt.apply(T,Pe)):(T["$respond_to?"](be)||g.type_error(T,L),Pe==null&&(Pe=[]),g.send(T,be,Pe))},g.respond_to=function(T,L,be){if(T==null||!T.$$class)return!1;be=!!be;var Pe=T[L];if(T["$respond_to?"].$$pristine){if(typeof Pe=="function"&&!Pe.$$stub)return!0;if(!T["$respond_to_missing?"].$$pristine)return g.send(T,T["$respond_to_missing?"],[L.substr(1),be])}else return g.send(T,T["$respond_to?"],[L.substr(1),be])},g.trace_class=!1,g.tracers_for_class=[];function te(T){var L,be,Pe;for(L=0,be=g.tracers_for_class.length;L<be;L++)Pe=g.tracers_for_class[L],Pe.trace_object=T,Pe.block.$call(Pe)}function pe(T,L){if(T.$$autoload[L].loaded){if(T.$$autoload[L].loaded&&!T.$$autoload[L].required&&T.$$autoload[L].exception)throw T.$$autoload[L].exception}else{T.$$autoload[L].loaded=!0;try{g.Kernel.$require(T.$$autoload[L].path)}catch(be){throw T.$$autoload[L].exception=be,be}if(T.$$autoload[L].required=!0,T.$$const[L]!=null)return T.$$autoload[L].success=!0,T.$$const[L]}}function F(T,L){if(T){if(T.$$const[L]!=null)return T.$$const[L];if(T.$$autoload&&T.$$autoload[L])return pe(T,L)}}function ue(T,L){var be,Pe,rt;if(T.length!==0)for(be=0,Pe=T.length;be<Pe;be++){if(rt=T[be].$$const[L],rt!=null)return rt;if(T[be].$$autoload&&T[be].$$autoload[L])return pe(T[be],L)}}function G(T,L){var be,Pe,rt;if(T!=null)for(rt=ut(T),be=0,Pe=rt.length;be<Pe;be++){if(rt[be].$$const&&he(rt[be].$$const,L))return rt[be].$$const[L];if(rt[be].$$autoload&&rt[be].$$autoload[L])return pe(rt[be],L)}}function x(T,L){if(T==null||T.$$is_module)return G(o,L)}function Z(T,L){return(T||o).$const_missing(L)}g.const_get_local=function(T,L,be){var Pe;if(T!=null)return T==="::"&&(T=o),!T.$$is_module&&!T.$$is_class&&Fe(g.TypeError,T.toString()+" is not a class/module"),Pe=F(T,L),Pe!=null||be?Pe:Z(T,L)},g.const_get_qualified=function(T,L,be){var Pe,rt,mt,l=g.const_cache_version;if(L==null)return Pe=F(o,T),Pe??g.const_get_qualified(o,T,be);if(T!=null)return T==="::"&&(T=o),!T.$$is_module&&!T.$$is_class&&Fe(g.TypeError,T.toString()+" is not a class/module"),(rt=T.$$const_cache)==null&&(Te(T,"$$const_cache",Object.create(null)),rt=T.$$const_cache),mt=rt[L],mt==null||mt[0]!==l?((Pe=F(T,L))!=null||(Pe=G(T,L))!=null,rt[L]=[l,Pe]):Pe=mt[1],Pe!=null||be?Pe:Z(T,L)},g.const_cache_version=1,g.const_get_relative=function(T,L,be){var Pe=T[0],rt,mt=g.const_cache_version,l,ce;return(l=T.$$const_cache)==null&&(Te(T,"$$const_cache",Object.create(null)),l=T.$$const_cache),ce=l[L],ce==null||ce[0]!==mt?((rt=F(Pe,L))!=null||(rt=ue(T,L))!=null||(rt=G(Pe,L))!=null||(rt=x(Pe,L))!=null,l[L]=[mt,rt]):rt=ce[1],rt!=null||be?rt:Z(Pe,L)};function X(T,L,be){var Pe=!0;return(T==null||T==="::")&&(T=o),be.$$is_a_module&&((be.$$name==null||be.$$name===n)&&(be.$$name=L),be.$$base_module==null&&(be.$$base_module=T)),T.$$const=T.$$const||Object.create(null),(L in T.$$const||"$$autoload"in T&&L in T.$$autoload)&&(Pe=!1),T.$$const[L]=be,T.$$=T.$$const,g.const_cache_version++,T===o&&(g[L]=be),Te(T,L,be),Pe&&T.$const_added&&!T.$const_added.$$pristine&&T.$const_added(L),be}g.const_set=X,g.constants=function(T,L){L==null&&(L=!0);var be,Pe=[T],rt,mt,l={},ce;for(L&&(Pe=Pe.concat(ut(T))),L&&T.$$is_module&&(Pe=Pe.concat([g.Object]).concat(ut(g.Object))),rt=0,mt=Pe.length;rt<mt&&(be=Pe[rt],!(T!==o&&be==o));rt++){for(ce in be.$$const)l[ce]=!0;if(be.$$autoload)for(ce in be.$$autoload)l[ce]=!0}return Object.keys(l)},g.const_remove=function(T,L){if(g.const_cache_version++,T.$$const[L]!=null){var be=T.$$const[L];return delete T.$$const[L],be}if(T.$$autoload&&T.$$autoload[L])return delete T.$$autoload[L],n;Fe(g.NameError,"constant "+T+"::"+T.$name()+" not defined")},g.const_get_relative_factory=function(T){return function(L,be){return g.$$(T,L,be)}},g.$$=g.const_get_relative,g.$$$=g.const_get_qualified,g.$r=g.const_get_relative_factory;function ge(T,L,be){var Pe;if(L!=null&&L.$$bridge?Pe=function(){var ce=Be(arguments),oe=new(we.apply(L.$$constructor,[null].concat(ce)));return Ce(oe,Pe.$$prototype),oe}:Pe=function(){},T&&T!==n&&Te(Pe,"displayName","::"+T),Te(Pe,"$$name",T),Te(Pe,"$$constructor",Pe),Te(Pe,"$$prototype",Pe.prototype),Te(Pe,"$$const",{}),Te(Pe,"$$is_class",!0),Te(Pe,"$$is_a_module",!0),Te(Pe,"$$super",L),Te(Pe,"$$cvars",{}),Te(Pe,"$$own_included_modules",[]),Te(Pe,"$$own_prepended_modules",[]),Te(Pe,"$$ancestors",[]),Te(Pe,"$$ancestors_cache_version",null),Te(Pe,"$$subclasses",[]),Te(Pe.$$prototype,"$$class",Pe),g.Class&&Ce(Pe,g.Class.prototype),L!=null){if(Ce(Pe.$$prototype,L.$$prototype),be!==!0)if(typeof WeakRef<"u"){var rt,mt,l=[];for(rt=0;rt<L.$$subclasses.length;rt++)mt=L.$$subclasses[rt],mt.deref()!==void 0&&l.push(mt);l.push(new WeakRef(Pe)),L.$$subclasses=l}else L.$$subclasses.push(Pe);L.$$meta&&g.build_class_singleton_class(Pe)}return Pe}g.allocate_class=ge;function j(T,L){var be=F(T,L);if(be)return be.$$is_class||Fe(g.TypeError,L+" is not a class"),be}function Ke(T,L){T.$$super!==L&&Fe(g.TypeError,"superclass mismatch for class "+T.$$name)}g.klass=function(T,L,be){var Pe;T==null||T=="::"?T=o:!T.$$is_class&&!T.$$is_module&&(T=T.$$class),L!=null&&(!L.hasOwnProperty||L.hasOwnProperty&&!L.hasOwnProperty("$$is_class"))&&(L.constructor&&L.constructor.name=="Function"?(Pe=L,L=o):Fe(g.TypeError,"superclass must be a Class ("+(L.constructor&&(L.constructor.name||L.constructor.$$name)||typeof L)+" given)"));var rt=j(T,be);return rt!=null?L&&Ke(rt,L):(L==null&&(L=o),rt=ge(be,L),X(T,be,rt),L.$inherited&&L.$inherited(rt),Pe&&g.bridge(Pe,rt)),g.trace_class&&te(rt),rt};function ve(T){var L=function(){},be=L;return T&&Te(L,"displayName",T+".constructor"),Te(be,"$$name",T),Te(be,"$$prototype",L.prototype),Te(be,"$$const",{}),Te(be,"$$is_module",!0),Te(be,"$$is_a_module",!0),Te(be,"$$cvars",{}),Te(be,"$$iclasses",[]),Te(be,"$$own_included_modules",[]),Te(be,"$$own_prepended_modules",[]),Te(be,"$$ancestors",[be]),Te(be,"$$ancestors_cache_version",null),Ce(be,g.Module.prototype),be}g.allocate_module=ve;function re(T,L){var be=F(T,L);return be==null&&T===o&&(be=G(o,L)),be&&!be.$$is_module&&be!==o&&Fe(g.TypeError,L+" is not a module"),be}g.module=function(T,L){var be;return T==null||T=="::"?T=o:!T.$$is_class&&!T.$$is_module&&(T=T.$$class),be=re(T,L),be==null&&(be=ve(L),X(T,L,be)),g.trace_class&&te(be),be},g.get_singleton_class=function(T){return T.$$is_number&&Fe(g.TypeError,"can't define singleton"),T.$$meta?T.$$meta:T.hasOwnProperty("$$is_class")?g.build_class_singleton_class(T):T.hasOwnProperty("$$is_module")?g.build_module_singleton_class(T):g.build_object_singleton_class(T)};function m(T,L){T.hasOwnProperty("$$meta")?T.$$meta=L:Te(T,"$$meta",L),T.$$frozen?T.$$meta.$freeze():Ce(T,L.$$prototype)}g.build_class_singleton_class=function(T){if(T.$$meta)return T.$$meta;var L=T===s?b:g.get_singleton_class(T.$$super),be=ge(null,L,!0);return Te(be,"$$is_singleton",!0),Te(be,"$$singleton_of",T),m(T,be),Te(T,"$$class",g.Class),be},g.build_module_singleton_class=function(T){if(T.$$meta)return T.$$meta;var L=ge(null,g.Module,!0);return Te(L,"$$is_singleton",!0),Te(L,"$$singleton_of",T),m(T,L),Te(T,"$$class",g.Module),L},g.build_object_singleton_class=function(T){var L=T.$$class,be=ge(n,L,!0);return Te(be,"$$is_singleton",!0),Te(be,"$$singleton_of",T),delete be.$$prototype.$$class,m(T,be),be},g.is_method=function(T){return T[0]==="$"&&T[1]!=="$"},g.instance_methods=function(T){for(var L=[],be=[],Pe=ut(T),rt=0,mt=Pe.length;rt<mt;rt++){var l=Pe[rt],ce=l.$$prototype;ce.hasOwnProperty("$$dummy")&&(ce=ce.$$define_methods_on);for(var oe=Object.getOwnPropertyNames(ce),Q=0,me=oe.length;Q<me;Q++){var w=oe[Q];if(g.is_method(w)){var W=w.slice(1),Xe=ce[w];Xe.$$stub&&L.indexOf(W)===-1&&L.push(W),!Xe.$$stub&&be.indexOf(W)===-1&&L.indexOf(W)===-1&&be.push(W)}}}return be},g.own_instance_methods=function(T){var L=[],be=T.$$prototype;be.hasOwnProperty("$$dummy")&&(be=be.$$define_methods_on);for(var Pe=Object.getOwnPropertyNames(be),rt=0,mt=Pe.length;rt<mt;rt++){var l=Pe[rt];if(g.is_method(l)){var ce=be[l];if(!ce.$$stub){var oe=l.slice(1);L.push(oe)}}}return L},g.methods=function(T){return g.instance_methods(T.$$meta||T.$$class)},g.own_methods=function(T){return T.$$meta?g.own_instance_methods(T.$$meta):[]},g.receiver_methods=function(T){var L=g.get_singleton_class(T),be=g.own_instance_methods(L),Pe=g.own_instance_methods(L.$$super);return be.concat(Pe)},g.class_variables=function(T){var L=ut(T),be,Pe=L.length,rt={};for(be=Pe-1;be>=0;be--){var mt=L[be];for(var l in mt.$$cvars)rt[l]=mt.$$cvars[l]}return rt},g.class_variable_set=function(T,L,be){var Pe=ut(T),rt,mt=Pe.length;for(rt=mt-2;rt>=0;rt--){var l=Pe[rt];if(he(l.$$cvars,L))return l.$$cvars[L]=be,be}return T.$$cvars[L]=be,be},g.class_variable_get=function(T,L,be){if(he(T.$$cvars,L))return T.$$cvars[L];var Pe=ut(T),rt,mt=Pe.length;for(rt=0;rt<mt;rt++){var l=Pe[rt];if(he(l.$$cvars,L))return l.$$cvars[L]}return be||Fe(g.NameError,"uninitialized class variable "+L+" in "+T.$name()),n};function f(T){return T.hasOwnProperty("$$iclass")&&T.hasOwnProperty("$$root")}function u(T){for(var L=[],be,Pe=Object.getPrototypeOf(T.$$prototype);Pe&&!Pe.hasOwnProperty("$$class");)be=ie(Pe),be&&L.push(be),Pe=Object.getPrototypeOf(Pe);return L}function $(T){var L=[],be,Pe=Object.getPrototypeOf(T.$$prototype);if(T.$$prototype.hasOwnProperty("$$dummy"))for(;Pe&&Pe!==T.$$prototype.$$define_methods_on;)be=ie(Pe),be&&L.push(be),Pe=Object.getPrototypeOf(Pe);return L}g.append_features=function(T,L){var be=ut(T),Pe=[];be.indexOf(L)!==-1&&Fe(g.ArgumentError,"cyclic include detected");for(var rt=0,mt=be.length;rt<mt;rt++){var l=be[rt],ce=p(l);Te(ce,"$$included",!0),Pe.push(ce)}var oe=ut(L),Q=z(Pe),me,w;if(oe.indexOf(T)===-1)me=L.$$prototype,w=Object.getPrototypeOf(L.$$prototype);else{for(var W=L.$$prototype,Xe=Object.getPrototypeOf(W);Xe!=null&&!(Xe.$$module===T&&f(Xe));)W=Xe,Xe=Object.getPrototypeOf(Xe);if(Xe){for(var O=Object.getPrototypeOf(Xe);O.hasOwnProperty("$$iclass")&&!f(O);)O=Object.getPrototypeOf(O);me=W,w=O}else me=L.$$prototype,w=Object.getPrototypeOf(L.$$prototype)}Ce(me,Q.first),Ce(Q.last,w),L.$$own_included_modules=u(L),g.const_cache_version++},g.prepend_features=function(T,L){var be=ut(T),Pe=[];be.indexOf(L)!==-1&&Fe(g.ArgumentError,"cyclic prepend detected");for(var rt=0,mt=be.length;rt<mt;rt++){var l=be[rt],ce=p(l);Te(ce,"$$prepended",!0),Pe.push(ce)}var oe=z(Pe),Q=L.$$prototype,me=Object.getPrototypeOf(Q),w,W,Xe;Q.hasOwnProperty("$$dummy")?w=Q.$$define_methods_on:(w=D(L),h(L),Te(Q,"$$dummy",!0),Te(Q,"$$define_methods_on",w),Ce(Q,w),Ce(w,me));var O=ut(L);if(O.indexOf(T)===-1)for(W=Q,Xe=Object.getPrototypeOf(Q);Xe!=null&&!(Xe.hasOwnProperty("$$root")||Xe===w||!Xe.hasOwnProperty("$$iclass"));)Xe=Object.getPrototypeOf(Xe);else Fe(g.RuntimeError,"Prepending a module multiple times is not supported");Ce(W,oe.first),Ce(oe.last,Xe),L.$$own_prepended_modules=$(L),g.const_cache_version++};function h(T){for(var L=T.$$prototype,be=Object.getOwnPropertyNames(L),Pe=0;Pe<be.length;Pe++){var rt=be[Pe];g.is_method(rt)&&delete L[rt]}}function p(T){var L=D(T);return T.$$is_module&&T.$$iclasses.push(L),L}function D(T){var L={},be=T.$$prototype;be.hasOwnProperty("$$dummy")&&(be=be.$$define_methods_on);var Pe=Object.getOwnPropertyNames(be),rt=Pe.length,mt;for(mt=0;mt<rt;mt++){var l=Pe[mt];Te(L,l,be[l])}return Te(L,"$$iclass",!0),Te(L,"$$module",T),L}function z(T){var L=T.length,be=T[0];if(Te(be,"$$root",!0),L===1)return{first:be,last:be};for(var Pe=be,rt=1;rt<L;rt++){var mt=T[rt];Ce(Pe,mt),Pe=mt}return{first:T[0],last:T[L-1]}}g.bridge=function(T,L){T.hasOwnProperty("$$bridge")&&Fe(g.ArgumentError,"already bridged"),Te(T,"$$bridge",L),Ce(T.prototype,(L.$$super||g.Object).$$prototype),Te(L,"$$prototype",T.prototype),Te(L.$$prototype,"$$class",L),Te(L,"$$constructor",T),Te(L,"$$bridge",!0)};function ie(T){if(!T.hasOwnProperty("$$dummy")){if(T.hasOwnProperty("$$iclass"))return T.$$module;if(T.hasOwnProperty("$$class"))return T.$$class}}function Ue(T){return T.$$own_prepended_modules.concat([T]).concat(T.$$own_included_modules)}function ut(T){if(!T)return[];if(T.$$ancestors_cache_version===g.const_cache_version)return T.$$ancestors;var L=[],be,Pe,rt;for(be=0,Pe=Ue(T),rt=Pe.length;be<rt;be++)L.push(Pe[be]);if(T.$$super)for(be=0,Pe=ut(T.$$super),rt=Pe.length;be<rt;be++)L.push(Pe[be]);return T.$$ancestors_cache_version=g.const_cache_version,T.$$ancestors=L,L}g.ancestors=ut,g.included_modules=function(T){for(var L=[],be=null,Pe=Object.getPrototypeOf(T.$$prototype);Pe&&Object.getPrototypeOf(Pe);Pe=Object.getPrototypeOf(Pe))be=ie(Pe),be&&be.$$is_module&&Pe.$$iclass&&Pe.$$included&&L.push(be);return L},g.add_stubs=function(T){var L=g.BasicObject.$$prototype,be,Pe;T=T.split(",");for(var rt=0,mt=T.length;rt<mt;rt++)be=Lt(T[rt]),Pe=L[be],(Pe==null||Pe.$$stub)&&g.add_stub_for(L,be)},g.add_stub_for=function(T,L){Te(T,L,g.stub_for(L))},g.stub_for=function(T){function L(){this.$method_missing.$$p=L.$$p,L.$$p=null;for(var be=new Array(arguments.length),Pe=0,rt=be.length;Pe<rt;Pe++)be[Pe]=arguments[Pe];return this.$method_missing.apply(this,[T.slice(1)].concat(be))}return L.$$stub=!0,L},g.ac=function(T,L,be,Pe){var rt="";be.$$is_a_module?rt+=be.$$name+".":rt+=be.$$class.$$name+"#",rt+=Pe,Fe(g.ArgumentError,"["+rt+"] wrong number of arguments (given "+T+", expected "+L+")")},g.block_ac=function(T,L,be){var Pe="`block in "+be+"'";Fe(g.ArgumentError,Pe+": wrong number of arguments (given "+T+", expected "+L+")")};function yt(T){return T.hasOwnProperty("$$meta")&&T.$$meta!==null?ut(T.$$meta):ut(T.$$class)}g.find_super=function(T,L,be,Pe,rt){var mt=Lt(L),l,ce;l=yt(T);for(var oe=l.indexOf(be.$$owner),Q=oe+1;Q<l.length;Q++){var me=l[Q],w=me.$$prototype;if(w.hasOwnProperty("$$dummy")&&(w=w.$$define_methods_on),w.hasOwnProperty(mt)){ce=w[mt];break}}return!Pe&&ce&&ce.$$stub&&T.$method_missing.$$pristine&&Fe(g.NoMethodError,"super: no superclass method `"+L+"' for "+T,L),ce.$$stub&&!rt?null:ce},g.find_block_super=function(T,L,be,Pe,rt){var mt=L;return be||Fe(g.RuntimeError,"super called outside of method"),rt&&be.$$define_meth&&Fe(g.RuntimeError,"implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly"),be.$$def&&(mt=be.$$jsid),g.find_super(T,mt,be,Pe)},g.find_super_dispatcher=g.find_super,g.find_iter_super_dispatcher=g.find_block_super,g.yield1=function(T,L){typeof T!="function"&&Fe(g.LocalJumpError,"no block given");var be=T.$$has_top_level_mlhs_arg,Pe=T.$$has_trailing_comma_in_args;return(T.length>1||(be||Pe)&&T.length===1)&&(L=g.to_ary(L)),(T.length>1||Pe&&T.length===1)&&L.$$is_array?T.apply(null,L):T(L)},g.yieldX=function(T,L){if(typeof T!="function"&&Fe(g.LocalJumpError,"no block given"),T.length>1&&L.length===1&&L[0].$$is_array)return T.apply(null,L[0]);if(!L.$$is_array){for(var be=new Array(L.length),Pe=0,rt=be.length;Pe<rt;Pe++)be[Pe]=L[Pe];return T.apply(null,be)}return T.apply(null,L)},g.rescue=function(T,L){for(var be=0;be<L.length;be++){var Pe=L[be];if(Pe.$$is_array){var rt=g.rescue(T,Pe);if(rt)return rt}else if(Pe===g.JS.Error||Pe["$==="](T))return Pe}return null},g.is_a=function(T,L){if(L!=null&&T.$$meta===L||T.$$class===L)return!0;if(T.$$is_number&&L.$$is_number_class)return L.$$is_integer_class?T%1===0:!0;var be=ut(T.$$is_class?g.get_singleton_class(T):T.$$meta||T.$$class);return be.indexOf(L)!==-1},g.to_hash=function(T){if(T.$$is_hash)return T;if(T["$respond_to?"]("to_hash",!0)){var L=T.$to_hash();if(L.$$is_hash)return L;Fe(g.TypeError,"Can't convert "+T.$$class+" to Hash ("+T.$$class+"#to_hash gives "+L.$$class+")")}else Fe(g.TypeError,"no implicit conversion of "+T.$$class+" into Hash")},g.to_ary=function(T){if(T.$$is_array)return T;if(T["$respond_to?"]("to_ary",!0)){var L=T.$to_ary();if(L===n)return[T];if(L.$$is_array)return L;Fe(g.TypeError,"Can't convert "+T.$$class+" to Array ("+T.$$class+"#to_ary gives "+L.$$class+")")}else return[T]},g.to_a=function(T){if(T.$$is_array)return T.slice();if(T["$respond_to?"]("to_a",!0)){var L=T.$to_a();if(L===n)return[T];if(L.$$is_array)return L;Fe(g.TypeError,"Can't convert "+T.$$class+" to Array ("+T.$$class+"#to_a gives "+L.$$class+")")}else return[T]},g.extract_kwargs=function(T){var L=T[T.length-1];if(L!=null&&g.respond_to(L,"$to_hash",!0))return Ie(T,T.length-1),L},g.kwrestargs=function(T,L){var be=[],Pe={},rt,mt=T.$$smap;for(rt in mt)L[rt]||(be.push(rt),Pe[rt]=mt[rt]);return g.hash2(be,Pe)};function Tt(T,L){typeof L=="number"?T.$$arity=L:typeof L=="object"&&Object.assign(T,L)}var Ht={};function Lt(T){return Ht[T]||(Ht[T]="$"+T)}g.jsid=Lt,g.send=function(T,L,be,Pe,rt){var mt;return typeof L=="function"?(mt=L,L=null):typeof L=="string"?mt=T[Lt(L)]:Fe(g.NameError,"Passed method should be a string or a function"),g.send2(T,mt,L,be,Pe,rt)},g.send2=function(T,L,be,Pe,rt,mt){return L==null&&be!=null&&T.$method_missing&&(L=T.$method_missing,Pe=[be].concat(Pe)),Tt(rt,mt),typeof rt=="function"&&(L.$$p=rt),L.apply(T,Pe)},g.refined_send=function(T,L,be,Pe,rt,mt){var l,ce,oe,Q,me,w,W,Xe,O,ze;for(Q=yt(L),l=0;l<Q.length;l++)for(me=g.id(Q[l]),ce=0;ce<T.length;ce++)for(w=T[ce],oe=w.length-1;oe>=0;oe--)if(W=w[oe],!(typeof W.$$refine_modules>"u")&&(Xe=W.$$refine_modules,!(typeof Xe[me]>"u")&&(O=Xe[me],typeof O.$$prototype[Lt(be)]<"u")))return ze=O.$$prototype[Lt(be)],g.send2(L,ze,be,Pe,rt,mt);return g.send(L,be,Pe,rt,mt)},g.lambda=function(T,L){return T.$$is_lambda=!0,Tt(T,L),T},g.def=function(T,L,be,Pe){return Tt(be,Pe),T===g.top?g.defn(g.Object,L,be):!T.$$eval&&T.$$is_a_module?g.defn(T,L,be):g.defs(T,L,be)},g.defn=function(T,L,be){Xt(T),be.displayName=L,be.$$owner=T;var Pe=L.substr(1),rt=T.$$prototype;if(rt.hasOwnProperty("$$dummy")&&(rt=rt.$$define_methods_on),Te(rt,L,be),T.$$is_module){T.$$module_function&&g.defs(T,L,be);for(var mt=0,l=T.$$iclasses,ce=l.length;mt<ce;mt++){var oe=l[mt];Te(oe,L,be)}}var Q=T.$$singleton_of;return T.$method_added&&!T.$method_added.$$stub&&!Q?T.$method_added(Pe):Q&&Q.$singleton_method_added&&!Q.$singleton_method_added.$$stub&&Q.$singleton_method_added(Pe),Pe},g.defs=function(T,L,be,Pe){return Tt(be,Pe),(T.$$is_string||T.$$is_number)&&Fe(g.TypeError,"can't define singleton"),g.defn(g.get_singleton_class(T),L,be)},g.rdef=function(T,L){he(T.$$prototype,L)||Fe(g.NameError,"method '"+L.substr(1)+"' not defined in "+T.$name()),delete T.$$prototype[L],T.$$is_singleton?T.$$prototype.$singleton_method_removed&&!T.$$prototype.$singleton_method_removed.$$stub&&T.$$prototype.$singleton_method_removed(L.substr(1)):T.$method_removed&&!T.$method_removed.$$stub&&T.$method_removed(L.substr(1))},g.udef=function(T,L){(!T.$$prototype[L]||T.$$prototype[L].$$stub)&&Fe(g.NameError,"method '"+L.substr(1)+"' not defined in "+T.$name()),g.add_stub_for(T.$$prototype,L),T.$$is_singleton?T.$$prototype.$singleton_method_undefined&&!T.$$prototype.$singleton_method_undefined.$$stub&&T.$$prototype.$singleton_method_undefined(L.substr(1)):T.$method_undefined&&!T.$method_undefined.$$stub&&T.$method_undefined(L.substr(1))};function Kt(T){return typeof T=="function"&&!T.$$stub}g.alias=function(T,L,be){var Pe=Lt(L),rt=Lt(be),mt,l;if(typeof T.$$prototype>"u"&&(T=g.Object),mt=T.$$prototype[rt],T.$$eval)return g.alias(g.get_singleton_class(T),L,be);if(!Kt(mt)){for(var ce=T.$$super;typeof mt!="function"&&ce;)mt=ce[rt],ce=ce.$$super;!Kt(mt)&&T.$$is_module&&(mt=g.Object.$$prototype[rt]),Kt(mt)||Fe(g.NameError,"undefined method `"+be+"' for class `"+T.$name()+"'")}mt.$$alias_of&&(mt=mt.$$alias_of),l=function(){var oe=l.$$p,Q,me,w;for(Q=new Array(arguments.length),me=0,w=arguments.length;me<w;me++)Q[me]=arguments[me];return l.$$p=null,g.send(this,mt,Q,oe)};try{Object.defineProperty(l,"length",{value:mt.length})}catch{}return l.displayName=L,l.$$arity=mt.$$arity==null?mt.length:mt.$$arity,l.$$parameters=mt.$$parameters,l.$$source_location=mt.$$source_location,l.$$alias_of=mt,l.$$alias_name=L,g.defn(T,Pe,l),T},g.alias_gvar=function(T,L){return Object.defineProperty(Ne,T,{configurable:!0,enumerable:!0,get:function(){return Ne[L]},set:function(be){Ne[L]=be}}),n},g.alias_native=function(T,L,be){var Pe=Lt(L),rt=T.$$prototype[be];return(typeof rt!="function"||rt.$$stub)&&Fe(g.NameError,"undefined native method `"+be+"' for class `"+T.$name()+"'"),g.defn(T,Pe,rt),T},g.hash_init=function(T){T.$$smap=Object.create(null),T.$$map=Object.create(null),T.$$keys=[]},g.hash_clone=function(T,L){L.$$none=T.$$none,L.$$proc=T.$$proc;for(var be=0,Pe=T.$$keys,rt=T.$$smap,mt=Pe.length,l,ce;be<mt;be++)l=Pe[be],l.$$is_string?ce=rt[l]:(ce=l.value,l=l.key),g.hash_put(L,l,ce)},g.hash_put=function(T,L,be){if(L.$$is_string){he(T.$$smap,L)||T.$$keys.push(L),T.$$smap[L]=be;return}var Pe,rt,mt;if(Pe=T.$$by_identity?g.id(L):L.$hash(),!he(T.$$map,Pe)){rt={key:L,key_hash:Pe,value:be},T.$$keys.push(rt),T.$$map[Pe]=rt;return}for(rt=T.$$map[Pe];rt;){if(L===rt.key||L["$eql?"](rt.key)){mt=void 0,rt.value=be;break}mt=rt,rt=rt.next}mt&&(rt={key:L,key_hash:Pe,value:be},T.$$keys.push(rt),mt.next=rt)},g.hash_get=function(T,L){if(L.$$is_string)return he(T.$$smap,L)?T.$$smap[L]:void 0;var be,Pe;if(be=T.$$by_identity?g.id(L):L.$hash(),he(T.$$map,be))for(Pe=T.$$map[be];Pe;){if(L===Pe.key||L["$eql?"](Pe.key))return Pe.value;Pe=Pe.next}},g.hash_delete=function(T,L){var be,Pe=T.$$keys,rt=Pe.length,mt,l;if(L.$$is_string){if(typeof L!="string"&&(L=L.valueOf()),!he(T.$$smap,L))return;for(be=0;be<rt;be++)if(l=Pe[be],l.$$is_string&&typeof l!="string"&&(l=l.valueOf()),l===L){Pe.splice(be,1);break}return mt=T.$$smap[L],delete T.$$smap[L],mt}var ce=L.$hash();if(he(T.$$map,ce))for(var oe=T.$$map[ce],Q;oe;){if(L===oe.key||L["$eql?"](oe.key)){for(mt=oe.value,be=0;be<rt;be++)if(Pe[be]===oe){Pe.splice(be,1);break}return Q&&oe.next?Q.next=oe.next:Q?delete Q.next:oe.next?T.$$map[ce]=oe.next:delete T.$$map[ce],mt}Q=oe,oe=oe.next}},g.hash_rehash=function(T){for(var L=0,be=T.$$keys.length,Pe,rt,mt;L<be;L++)if(!T.$$keys[L].$$is_string&&(Pe=T.$$keys[L].key.$hash(),Pe!==T.$$keys[L].key_hash)){for(rt=T.$$map[T.$$keys[L].key_hash],mt=void 0;rt;){if(rt===T.$$keys[L]){mt&&rt.next?mt.next=rt.next:mt?delete mt.next:rt.next?T.$$map[T.$$keys[L].key_hash]=rt.next:delete T.$$map[T.$$keys[L].key_hash];break}mt=rt,rt=rt.next}if(T.$$keys[L].key_hash=Pe,!he(T.$$map,Pe)){T.$$map[Pe]=T.$$keys[L];continue}for(rt=T.$$map[Pe],mt=void 0;rt;){if(rt===T.$$keys[L]){mt=void 0;break}mt=rt,rt=rt.next}mt&&(mt.next=T.$$keys[L])}},g.hash=function(){var T=arguments.length,L,be,Pe,rt,mt,l;if(T===1&&arguments[0].$$is_hash)return arguments[0];if(be=new g.Hash,g.hash_init(be),T===1)if(L=arguments[0],arguments[0].$$is_array){for(rt=L.length,Pe=0;Pe<rt;Pe++)L[Pe].length!==2&&Fe(g.ArgumentError,"value not of length 2: "+L[Pe].$inspect()),mt=L[Pe][0],l=L[Pe][1],g.hash_put(be,mt,l);return be}else{L=arguments[0];for(mt in L)he(L,mt)&&(l=L[mt],g.hash_put(be,mt,l));return be}for(T%2!==0&&Fe(g.ArgumentError,"odd number of arguments for Hash"),Pe=0;Pe<T;Pe+=2)mt=arguments[Pe],l=arguments[Pe+1],g.hash_put(be,mt,l);return be},g.hash2=function(T,L){var be=new g.Hash;return be.$$smap=L,be.$$map=Object.create(null),be.$$keys=T,be},g.range=function(T,L,be){var Pe=new g.Range;return Pe.begin=T,Pe.end=L,Pe.excl=be,Pe};var Ut=["constructor","displayName","__count__","__noSuchMethod__","__parent__","__proto__","hasOwnProperty","valueOf"];g.ivar=function(T){return Ut.indexOf(T)!==-1&&(T+="$"),T};function Xt(T){T.$$frozen&&Fe(g.FrozenError,"can't modify frozen "+T.$class()+": "+T,g.hash2(["receiver"],{receiver:T}))}g.deny_frozen_access=Xt,g.freeze=function(T){return Te(T,"$$frozen",!0),T.hasOwnProperty("$$id")||Te(T,"$$id",Oe()),T.hasOwnProperty("$$meta")?T.$$meta.$freeze():Te(T,"$$meta",null),T.hasOwnProperty("$$comparable")||Te(T,"$$comparable",null),Object.seal(T),T},g.freeze_props=function(T){var L,be,Pe;for(L in T)be=typeof L,!((be==="string"||be==="object")&&L[0]==="$")&&(Pe=Object.getOwnPropertyDescriptor(T,L),Pe&&Pe.enumerable&&Pe.writable&&function(){var rt=T[L];Object.defineProperty(T,L,{get:function(){return rt},set:function(mt){Xt(T)},enumerable:!0})}())},g.escape_regexp=function(T){return T.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},g.global_regexp=function(T){return T.global?T:(T.$$g==null?T.$$g=new RegExp(T.source,(T.multiline?"gm":"g")+(T.ignoreCase?"i":"")):T.$$g.lastIndex=null,T.$$g)},g.global_multiline_regexp=function(T){var L,be;return T.global&&T.multiline?T:(be="gm"+(T.ignoreCase?"i":""),T.multiline?(T.$$g==null&&(T.$$g=new RegExp(T.source,be)),L=T.$$g):(T.$$gm==null&&(T.$$gm=new RegExp(T.source,be)),L=T.$$gm),L.lastIndex=null,L)},g.regexp=function(T,L){for(var be,Pe=typeof L<"u"&&L&&L.indexOf("i")>=0,rt=0,mt=T.length;rt<mt;rt++)be=T[rt],be instanceof RegExp&&(be.ignoreCase!==Pe&&g.Kernel.$warn("ignore case doesn't match for "+be.source.$inspect(),g.hash({uplevel:1})),be=be.source),be===""&&(be="(?:"+be+")"),T[rt]=be;return L?new RegExp(T.join(""),L):new RegExp(T.join(""))},g.modules={},g.loaded_features=["corelib/runtime"],g.current_dir=".",g.require_table={"corelib/runtime":!0},g.normalize=function(T){var L,be,Pe=[],rt="/";g.current_dir!=="."&&(T=g.current_dir.replace(/\/*$/,"/")+T),T=T.replace(/^\.\//,""),T=T.replace(/\.(rb|opal|js)$/,""),L=T.split(rt);for(var mt=0,l=L.length;mt<l;mt++)be=L[mt],be!==""&&(be===".."?Pe.pop():Pe.push(be));return Pe.join(rt)},g.loaded=function(T){var L,be,Pe;for(L=0,be=T.length;L<be;L++)Pe=g.normalize(T[L]),!g.require_table[Pe]&&(g.loaded_features.push(Pe),g.require_table[Pe]=!0)},g.load_normalized=function(T){g.loaded([T]);var L=g.modules[T];if(L){var be=L(g);if(typeof Promise<"u"&&be instanceof Promise)return be.then(Ye(!0))}else{var Pe=g.config.missing_require_severity,rt="cannot load such file -- "+T;Pe==="error"?Fe(g.LoadError,rt):Pe==="warning"&&e.warn("WARNING: LoadError: "+rt)}return!0},g.load=function(T){return T=g.normalize(T),g.load_normalized(T)},g.require=function(T){return T=g.normalize(T),g.require_table[T]?!1:g.load_normalized(T)},g.encodings=Object.create(null),g.set_encoding=function(T,L,be){typeof be>"u"&&(be="encoding"),(typeof T=="string"||T.$$frozen===!0)&&Fe(g.FrozenError,"can't modify frozen String");var Pe=g.find_encoding(L);return Pe===T[be]||(T[be]=Pe),T},g.find_encoding=function(T){var L=g.encodings,be=L[T]||L[T.toUpperCase()];return be||Fe(g.ArgumentError,"unknown encoding name - "+T),be},g.enc=function(T,L){var be=new String(T);return be=g.set_encoding(be,L),be.internal_encoding=be.encoding,be},g.binary=function(T){var L=new String(T);return g.set_encoding(L,"binary","internal_encoding")},g.last_promise=null,g.promise_unhandled_exception=!1,g.queue=function(T){if(g.last_promise)return g.last_promise=g.last_promise.then(function(){if(!g.promise_unhandled_exception)return T(g)}).catch(function(be){g.respond_to(be,"$full_message")&&(be=be.$full_message()),e.error(be),g.promise_unhandled_exception=!0,g.exit(1)}),g.last_promise;var L=T(g);return typeof Promise=="function"&&typeof L=="object"&&L instanceof Promise&&(g.last_promise=L),L};function Gt(T,L){return typeof T=="number"&&typeof L=="number"}g.rb_plus=function(T,L){return Gt(T,L)?T+L:T["$+"](L)},g.rb_minus=function(T,L){return Gt(T,L)?T-L:T["$-"](L)},g.rb_times=function(T,L){return Gt(T,L)?T*L:T["$*"](L)},g.rb_divide=function(T,L){return Gt(T,L)?T/L:T["$/"](L)},g.rb_lt=function(T,L){return Gt(T,L)?T<L:T["$<"](L)},g.rb_gt=function(T,L){return Gt(T,L)?T>L:T["$>"](L)},g.rb_le=function(T,L){return Gt(T,L)?T<=L:T["$<="](L)},g.rb_ge=function(T,L){return Gt(T,L)?T>=L:T["$>="](L)};function $t(T,L){return typeof T=="number"&&typeof L=="number"||typeof T=="string"&&typeof L=="string"}function De(T,L){return $t(T,L)?T===L:Me(T["$=="](L))}g.eqeq=De,g.eqeqeq=function(T,L){return $t(T,L)?T===L:Me(T["$==="](L))},g.neqeq=function(T,L){return $t(T,L)?T!==L:Me(T["$!="](L))},g.not=function(T){return T==null||T===!1||n===T?!0:T===!0||T["$!"].$$pristine?!1:Me(T["$!"]())};function Ye(T){return function(){return T}}g.return_val=Ye,g.return_self=function(){return this},g.return_ivar=function(T){return function(){return this[T]==null?n:this[T]}},g.assign_ivar=function(T){return function(L){return Xt(this),this[T]=L}},g.assign_ivar_val=function(T,L){return function(){return Xt(this),this[T]=L}},g.ensure_kwargs=function(T){if(T==null)return g.hash2([],{});if(T.$$is_hash)return T;Fe(g.ArgumentError,"expected kwargs")},g.get_kwarg=function(T,L){return he(T.$$smap,L)||Fe(g.ArgumentError,"missing keyword: "+L),T.$$smap[L]},g.large_array_unpack=function(T){var L=T.split(","),be=L.length,Pe;for(Pe=0;Pe<be;Pe++)switch(L[Pe][0]){case void 0:L[Pe]=n;break;case"-":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":L[Pe]=+L[Pe]}return L},g.BasicObject=s=ge("BasicObject",null),g.Object=o=ge("Object",g.BasicObject),g.Module=d=ge("Module",g.Object),g.Class=b=ge("Class",g.Module),g.Opal=k=ve("Opal"),g.Kernel=C=ve("Kernel"),Ce(g.BasicObject,g.Class.$$prototype),Ce(g.Object,g.Class.$$prototype),Ce(g.Module,g.Class.$$prototype),Ce(g.Class,g.Class.$$prototype),s.$$const.BasicObject=s,X(o,"BasicObject",s),X(o,"Object",o),X(o,"Module",d),X(o,"Class",b),X(o,"Opal",k),X(o,"Kernel",C),s.$$class=b,o.$$class=b,d.$$class=b,b.$$class=b,k.$$class=d,C.$$class=d,Te(o.$$prototype,"toString",function(){var T=this.$to_s();return T.$$is_string&&typeof T=="object"?T.valueOf():T}),Te(o.$$prototype,"$require",g.require),g.top=new o,g.top.$to_s=g.top.$inspect=Ye("main"),g.top.$define_method=et;function et(){var T=Be(arguments),L=et.$$p;return et.$$p=null,g.send(o,"define_method",T,L)}g.NilClass=ge("NilClass",g.Object),X(o,"NilClass",g.NilClass),n=g.nil=new g.NilClass,n.$$id=ee,n.call=n.apply=function(){Fe(g.LocalJumpError,"no block given")},n.$$frozen=!0,n.$$comparable=!1,Object.seal(n),g.thrower=function(T){var L=new Error("unexpected "+T);return L.$thrower_type=T,L.$throw=function(be){throw be==null&&(be=n),L.$v=be,L},L},g.t_eval_return=g.thrower("return"),TypeError.$$super=Error,g.file_sources={}}).call(void 0);Opal.loaded(["corelib/runtime.js"]);Opal.modules["corelib/helpers"]=function(t){var e=t.type_error,n=t.coerce_to,s=t.module,o=t.defs,d=t.slice,b=t.eqeqeq,k=t.Kernel,C=t.truthy,g=t.Opal,se=t.nil,we=t.$$$;return t.add_stubs("===,raise,respond_to?,nil?,__send__,<=>,class,coerce_to!,new,to_s,__id__"),function(he){var Ce=s(he,"Opal");o(Ce,"$bridge",function(ee,ke){return t.bridge(ee,ke)}),o(Ce,"$coerce_to!",function(ee,ke,Oe,Ne){var Fe,Te,Me=se;return Fe=d(arguments,3),Te=Fe,Me=n(ee,ke,Oe,Te),b(ke,Me)||k.$raise(e(ee,ke,Oe,Me)),Me},-4),o(Ce,"$coerce_to?",function(ee,ke,Oe,Ne){var Fe,Te,Me=se;return Fe=d(arguments,3),Te=Fe,!C(ee["$respond_to?"](Oe))||(Me=n(ee,ke,Oe,Te),C(Me["$nil?"]()))?se:(b(ke,Me)||k.$raise(e(ee,ke,Oe,Me)),Me)},-4),o(Ce,"$try_convert",function(ee,ke,Oe){return b(ke,ee)?ee:C(ee["$respond_to?"](Oe))?ee.$__send__(Oe):se}),o(Ce,"$compare",function(ee,ke){var Oe=se;return Oe=ee["$<=>"](ke),C(Oe===se)&&k.$raise(we("ArgumentError"),"comparison of "+ee.$class()+" with "+ke.$class()+" failed"),Oe}),o(Ce,"$destructure",function(ee){if(ee.length==1)return ee[0];if(ee.$$is_array)return ee;for(var ke=new Array(ee.length),Oe=0,Ne=ke.length;Oe<Ne;Oe++)ke[Oe]=ee[Oe];return ke}),o(Ce,"$respond_to?",function(ee,ke,Oe){return Oe==null&&(Oe=!1),ee==null||!ee.$$class?!1:ee["$respond_to?"](ke,Oe)},-3),o(Ce,"$instance_variable_name!",function(ee){return ee=g["$coerce_to!"](ee,we("String"),"to_str"),C(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(ee))||k.$raise(we("NameError").$new("'"+ee+"' is not allowed as an instance variable name",ee)),ee}),o(Ce,"$class_variable_name!",function(ee){return ee=g["$coerce_to!"](ee,we("String"),"to_str"),C(ee.length<3||ee.slice(0,2)!=="@@")&&k.$raise(we("NameError").$new("`"+ee+"' is not allowed as a class variable name",ee)),ee}),o(Ce,"$const_name?",function(ee){return typeof ee!="string"&&(ee=g["$coerce_to!"](ee,we("String"),"to_str")),ee[0]===ee[0].toUpperCase()}),o(Ce,"$const_name!",function(ee){var ke=this;return C(we("::","String","skip_raise")?"constant":se)&&(ee=g["$coerce_to!"](ee,we("String"),"to_str")),(!ee||ee[0]!=ee[0].toUpperCase())&&ke.$raise(we("NameError"),"wrong constant name "+ee),ee}),o(Ce,"$pristine",function(ee,ke){var Oe,Ne;Oe=d(arguments,1),Ne=Oe;for(var Fe,Te,Me=Ne.length-1;Me>=0;Me--)Fe=Ne[Me],Te=ee.$$prototype[t.jsid(Fe)],Te&&!Te.$$stub&&(Te.$$pristine=!0);return se},-2);var Be=[];return o(Ce,"$inspect",function(ee){var ke=se,Oe=!1;return function(){try{try{return ee===null?"null":ee===void 0?"undefined":typeof ee.$$class>"u"?Object.prototype.toString.apply(ee):typeof ee.$inspect!="function"||ee.$inspect.$$stub||Be.indexOf(ee.$__id__())!==-1?"#<"+ee.$$class+":0x"+ee.$__id__().$to_s(16)+">":(Be.push(ee.$__id__()),Oe=!0,ee.$inspect())}catch(Ne){if(t.rescue(Ne,[we("Exception")])){ke=Ne;try{return"#<"+ee.$$class+":0x"+ee.$__id__().$to_s(16)+">"}finally{t.pop_exception()}}else throw Ne}}finally{Oe&&Be.pop()}}()},-1)}("::")};Opal.modules["corelib/module"]=function(t){var e=t.truthy,n=t.coerce_to,s=t.const_set,o=t.Object,d=t.return_ivar,b=t.assign_ivar,k=t.ivar,C=t.deny_frozen_access,g=t.freeze,se=t.prop,we=t.jsid,he=t.klass,Ce=t.defs,Be=t.send,Ie=t.def,ee=t.eqeqeq,ke=t.Module,Oe=t.Kernel,Ne=t.rb_lt,Fe=t.rb_gt,Te=t.slice,Me=t.to_a,te=t.hash2,pe=t.Opal,F=t.return_val,ue=t.eqeq,G=t.lambda,x=t.range,Z=t.send2,X=t.find_super,ge=t.alias,j=[],Ke=t.nil,ve=t.$$$;return t.add_stubs("module_eval,to_proc,===,raise,equal?,<,>,nil?,attr_reader,attr_writer,warn,attr_accessor,const_name?,class_variable_name!,pristine,const_name!,=~,new,inject,split,const_get,==,start_with?,!~,bind,call,class,frozen?,name,append_features,included,cover?,size,merge,compile,proc,any?,prepend_features,prepended,to_s,__id__,constants,include?,copy_class_variables,copy_constants,class_exec,module_exec,inspect"),function(re,m,f){var u=he(re,m,"Module"),$=[u].concat(f),h=t.$r($);return Ce(u,"$allocate",function(){var D=this,z=t.allocate_module(Ke,function(){});return D!==t.Module&&Object.setPrototypeOf(z,D.$$prototype),z}),Ie(u,"$initialize",function p(){var D=p.$$p||Ke,z=this;return p.$$p=null,D!==Ke?Be(z,"module_eval",[],D.$to_proc()):Ke}),Ie(u,"$===",function(D){var z=this;return e(D==null)?!1:t.is_a(D,z)}),Ie(u,"$<",function(D){var z=this;ee(ke,D)||Oe.$raise(ve("TypeError"),"compared with non class/module");var ie=z,Ue,ut,yt;if(ie===D)return!1;for(ut=0,Ue=t.ancestors(z),yt=Ue.length;ut<yt;ut++)if(Ue[ut]===D)return!0;for(ut=0,Ue=t.ancestors(D),yt=Ue.length;ut<yt;ut++)if(Ue[ut]===z)return!1;return Ke}),Ie(u,"$<=",function(D){var z=this,ie=Ke;return e(ie=z["$equal?"](D))?ie:Ne(z,D)}),Ie(u,"$>",function(D){var z=this;return ee(ke,D)||Oe.$raise(ve("TypeError"),"compared with non class/module"),Ne(D,z)}),Ie(u,"$>=",function(D){var z=this,ie=Ke;return e(ie=z["$equal?"](D))?ie:Fe(z,D)}),Ie(u,"$<=>",function(D){var z=this,ie=Ke;return z===D?0:!ee(ke,D)||(ie=Ne(z,D),e(ie["$nil?"]()))?Ke:e(ie)?-1:1}),Ie(u,"$alias_method",function(D,z){var ie=this;return C(ie),D=n(D,ve("String"),"to_str"),z=n(z,ve("String"),"to_str"),t.alias(ie,D,z),ie}),Ie(u,"$alias_native",function(D,z){var ie=this;return z==null&&(z=D),C(ie),t.alias_native(ie,D,z),ie},-2),Ie(u,"$ancestors",function(){var D=this;return t.ancestors(D)}),Ie(u,"$append_features",function(D){var z=this;return C(D),t.append_features(z,D),z}),Ie(u,"$attr_accessor",function(D){var z,ie,Ue=this;return z=Te(arguments),ie=z,Be(Ue,"attr_reader",Me(ie)),Be(Ue,"attr_writer",Me(ie))},-1),Ie(u,"$attr",function(D){var z,ie,Ue=this;return z=Te(arguments),ie=z,ie.length==2&&(ie[1]===!0||ie[1]===!1)?(Ue.$warn("optional boolean argument is obsoleted",te(["uplevel"],{uplevel:1})),ie[1]?Ue.$attr_accessor(ie[0]):Ue.$attr_reader(ie[0]),Ke):Be(Ue,"attr_reader",Me(ie))},-1),Ie(u,"$attr_reader",function(D){var z,ie,Ue=this;z=Te(arguments),ie=z,C(Ue);for(var ut=Ue.$$prototype,yt=ie.length-1;yt>=0;yt--){var Tt=ie[yt],Ht=we(Tt),Lt=k(Tt),Kt=d(Lt);t.prop(ut,Lt,Ke),Kt.$$parameters=[],Kt.$$arity=0,t.defn(Ue,Ht,Kt)}return Ke},-1),Ie(u,"$attr_writer",function(D){var z,ie,Ue=this;z=Te(arguments),ie=z,C(Ue);for(var ut=Ue.$$prototype,yt=ie.length-1;yt>=0;yt--){var Tt=ie[yt],Ht=we(Tt+"="),Lt=k(Tt),Kt=b(Lt);Kt.$$parameters=[["req"]],Kt.$$arity=1,t.prop(ut,Lt,Ke),t.defn(Ue,Ht,Kt)}return Ke},-1),Ie(u,"$autoload",function(D,z){var ie=this;return C(ie),h("Opal")["$const_name?"](D)||Oe.$raise(ve("NameError"),"autoload must be constant name: "+D),z==""&&Oe.$raise(ve("ArgumentError"),"empty file name"),ie.$$const.hasOwnProperty(D)||(ie.$$autoload||(ie.$$autoload={}),t.const_cache_version++,ie.$$autoload[D]={path:z,loaded:!1,required:!1,success:!1,exception:!1},ie.$const_added&&!ie.$const_added.$$pristine&&ie.$const_added(D)),Ke}),Ie(u,"$autoload?",function(D){var z=this;if(z.$$autoload&&z.$$autoload[D]&&!z.$$autoload[D].required&&!z.$$autoload[D].success)return z.$$autoload[D].path;for(var ie=z.$ancestors(),Ue=0,ut=ie.length;Ue<ut;Ue++)if(ie[Ue].$$autoload&&ie[Ue].$$autoload[D]&&!ie[Ue].$$autoload[D].required&&!ie[Ue].$$autoload[D].success)return ie[Ue].$$autoload[D].path;return Ke}),Ie(u,"$class_variables",function(){var D=this;return Object.keys(t.class_variables(D))}),Ie(u,"$class_variable_get",function(D){var z=this;return D=pe["$class_variable_name!"](D),t.class_variable_get(z,D,!1)}),Ie(u,"$class_variable_set",function(D,z){var ie=this;return C(ie),D=pe["$class_variable_name!"](D),t.class_variable_set(ie,D,z)}),Ie(u,"$class_variable_defined?",function(D){var z=this;return D=pe["$class_variable_name!"](D),t.class_variables(z).hasOwnProperty(D)}),Ie(u,"$const_added",F(Ke)),pe.$pristine(u,"const_added"),Ie(u,"$remove_class_variable",function(D){var z=this;if(C(z),D=pe["$class_variable_name!"](D),t.hasOwnProperty.call(z.$$cvars,D)){var ie=z.$$cvars[D];return delete z.$$cvars[D],ie}else Oe.$raise(ve("NameError"),"cannot remove "+D+" for "+z)}),Ie(u,"$constants",function(D){var z=this;return D==null&&(D=!0),t.constants(z,D)},-1),Ce(u,"$constants",function(D){var z=this;if(D==null){var ie=(z.$$nesting||[]).concat(o),Ue,ut={},yt,Tt;for(yt=0,Tt=ie.length;yt<Tt;yt++)for(Ue in ie[yt].$$const)ut[Ue]=!0;return Object.keys(ut)}else return t.constants(z,D)},-1),Ce(u,"$nesting",function(){var D=this;return D.$$nesting||[]}),Ie(u,"$const_defined?",function(D,z){var ie=this;z==null&&(z=!0),D=h("Opal")["$const_name!"](D),e(D["$=~"](ve(pe,"CONST_NAME_REGEXP")))||Oe.$raise(ve("NameError").$new("wrong constant name "+D,D));var Ue,ut=[ie],yt,Tt;for(z&&(ut=ut.concat(t.ancestors(ie)),ie.$$is_module&&(ut=ut.concat([o]).concat(t.ancestors(o)))),yt=0,Tt=ut.length;yt<Tt;yt++)if(Ue=ut[yt],Ue.$$const[D]!=null||Ue.$$autoload&&Ue.$$autoload[D]&&!Ue.$$autoload[D].required&&!Ue.$$autoload[D].success)return!0;return!1},-2),Ie(u,"$const_get",function(D,z){var ie=this;return z==null&&(z=!0),D=h("Opal")["$const_name!"](D),D.indexOf("::")===0&&D!=="::"&&(D=D.slice(2)),e(D.indexOf("::")!=-1&&D!="::")?Be(D.$split("::"),"inject",[ie],function(ut,yt){return ut==null&&(ut=Ke),yt==null&&(yt=Ke),ut.$const_get(yt)}):(e(D["$=~"](ve(pe,"CONST_NAME_REGEXP")))||Oe.$raise(ve("NameError").$new("wrong constant name "+D,D)),z?t.$$([ie],D):t.const_get_local(ie,D))},-2),Ie(u,"$const_missing",function(D){var z=this,ie=Ke;return ie=ue(z,o)?D:""+z+"::"+D,Oe.$raise(ve("NameError").$new("uninitialized constant "+ie,D))}),Ie(u,"$const_set",function(D,z){var ie=this;return C(ie),D=pe["$const_name!"](D),(e(D["$!~"](ve(pe,"CONST_NAME_REGEXP")))||e(D["$start_with?"]("::")))&&Oe.$raise(ve("NameError").$new("wrong constant name "+D,D)),s(ie,D,z),z}),Ie(u,"$public_constant",F(Ke)),Ie(u,"$define_method",function p(D,z){var ie=p.$$p||Ke,Ue=this,ut=Ke,yt=Ke;return p.$$p=null,C(Ue),z===void 0&&ie===Ke&&Oe.$raise(ve("ArgumentError"),"tried to create a Proc object without a block"),ie=e(ut=ie)?ut:ee(ve("Proc"),yt=z)?z:ee(ve("Method"),yt)?z.$to_proc().$$unbound:ee(ve("UnboundMethod"),yt)?G(function Tt(Ht){var Lt,Kt,Ut=Tt.$$s==null?this:Tt.$$s,Xt=Ke;return Lt=Te(arguments),Kt=Lt,Xt=z.$bind(Ut),Be(Xt,"call",Me(Kt))},{$$arity:-1,$$s:Ue}):Oe.$raise(ve("TypeError"),"wrong argument type "+ie.$class()+" (expected Proc/Method)"),typeof Proxy<"u"&&(ie.$$proxy_target=ie,ie=new Proxy(ie,{apply:function(Tt,Ht,Lt){var Kt=Tt.$$jsid;Tt.$$jsid=D;try{return Tt.apply(Ht,Lt)}catch(Ut){if(Ut===Tt.$$brk||Ut===Tt.$$ret)return Ut.$v;throw Ut}finally{Tt.$$jsid=Kt}}})),ie.$$jsid=D,ie.$$s=null,ie.$$def=ie,ie.$$define_meth=!0,t.defn(Ue,we(D),ie)},-2),Ie(u,"$freeze",function(){var D=this;return e(D["$frozen?"]())?D:(D.hasOwnProperty("$$base_module")||se(D,"$$base_module",null),g(D))}),Ie(u,"$remove_method",function(D){var z,ie,Ue=this;z=Te(arguments),ie=z;for(var ut=0;ut<ie.length;ut++){var yt=ie[ut];typeof yt=="string"||yt.$$is_string||Ue.$raise(ve("TypeError"),""+Ue.$name()+" is not a symbol nor a string"),C(Ue),t.rdef(Ue,"$"+yt)}return Ue},-1),Ie(u,"$singleton_class?",function(){var D=this;return!!D.$$is_singleton}),Ie(u,"$include",function(D){var z,ie,Ue=this;z=Te(arguments),ie=z;for(var ut=ie.length-1;ut>=0;ut--){var yt=ie[ut];yt.$$is_module||Oe.$raise(ve("TypeError"),"wrong argument type "+yt.$class()+" (expected Module)"),yt.$append_features(Ue),yt.$included(Ue)}return Ue},-1),Ie(u,"$included_modules",function(){var D=this;return t.included_modules(D)}),Ie(u,"$include?",function(D){var z=this;D.$$is_module||Oe.$raise(ve("TypeError"),"wrong argument type "+D.$class()+" (expected Module)");var ie,Ue,ut,yt=t.ancestors(z);for(ie=0,Ue=yt.length;ie<Ue;ie++)if(ut=yt[ie],ut===D&&ut!==z)return!0;return!1}),Ie(u,"$instance_method",function(D){var z=this,ie=z.$$prototype[we(D)];return(!ie||ie.$$stub)&&Oe.$raise(ve("NameError").$new("undefined method `"+D+"' for class `"+z.$name()+"'",D)),ve("UnboundMethod").$new(z,ie.$$owner||z,ie,D)}),Ie(u,"$instance_methods",function(D){var z=this;return D==null&&(D=!0),e(D)?t.instance_methods(z):t.own_instance_methods(z)},-1),Ie(u,"$included",F(Ke)),Ie(u,"$extended",F(Ke)),Ie(u,"$extend_object",function(D){return C(D),Ke}),Ie(u,"$method_added",function(D){return Te(arguments),Ke},-1),Ie(u,"$method_removed",function(D){return Te(arguments),Ke},-1),Ie(u,"$method_undefined",function(D){return Te(arguments),Ke},-1),Ie(u,"$module_eval",function p(D){var z=p.$$p||Ke,ie,Ue,ut,yt=this,Tt=Ke,Ht=Ke,Lt=Ke,Kt=Ke,Ut=Ke,Xt=Ke;p.$$p=null,ie=Te(arguments),Ue=ie,e(z["$nil?"]())&&e(!!t.compile)?(e(x(1,3,!1)["$cover?"](Ue.$size()))||Oe.$raise(ve("ArgumentError"),"wrong number of arguments (0 for 1..3)"),ut=[].concat(Me(Ue)),Tt=ut[0]==null?Ke:ut[0],Ht=ut[1]==null?Ke:ut[1],ut[2]==null||ut[2],Lt=te(["file","eval"],{file:e(Kt=Ht)?Kt:"(eval)",eval:!0}),Ut=t.hash({arity_check:!1}).$merge(Lt),Xt=pe.$compile(Tt,Ut),z=Be(Oe,"proc",[],function De(){var Ye=De.$$s==null?this:De.$$s;return new Function("Opal,self","return "+Xt)(t,Ye)},{$$s:yt})):e(Ue["$any?"]())&&Oe.$raise(ve("ArgumentError"),"wrong number of arguments ("+Ue.$size()+` for 0)

  NOTE:If you want to enable passing a String argument please add "require 'opal-parser'" to your script
`);var Gt=z.$$s,$t;return z.$$s=null,$t=z.apply(yt,[yt]),z.$$s=Gt,$t},-1),Ie(u,"$module_exec",function p(D){var z=p.$$p||Ke,ie,Ue,ut=this;p.$$p=null,ie=Te(arguments),Ue=ie,z===Ke&&Oe.$raise(ve("LocalJumpError"),"no block given");var yt=z.$$s,Tt;return z.$$s=null,Tt=z.apply(ut,Ue),z.$$s=yt,Tt},-1),Ie(u,"$method_defined?",function(D){var z=this,ie=z.$$prototype[we(D)];return!!ie&&!ie.$$stub}),Ie(u,"$module_function",function(D){var z,ie,Ue=this;if(z=Te(arguments),ie=z,C(Ue),ie.length===0)return Ue.$$module_function=!0,Ke;for(var ut=0,yt=ie.length;ut<yt;ut++){var Tt=ie[ut],Ht=we(Tt),Lt=Ue.$$prototype[Ht];t.defs(Ue,Ht,Lt)}return ie.length===1?ie[0]:ie},-1),Ie(u,"$name",function(){var D=this;if(D.$$full_name)return D.$$full_name;for(var z=[],ie=D;ie;){if(ie.$$name===Ke||ie.$$name==null)return Ke;if(z.unshift(ie.$$name),ie=ie.$$base_module,ie===o)break}return z.length===0?Ke:D.$$full_name=z.join("::")}),Ie(u,"$prepend",function(D){var z,ie,Ue=this;z=Te(arguments),ie=z,ie.length===0&&Oe.$raise(ve("ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var ut=ie.length-1;ut>=0;ut--){var yt=ie[ut];yt.$$is_module||Oe.$raise(ve("TypeError"),"wrong argument type "+yt.$class()+" (expected Module)"),yt.$prepend_features(Ue),yt.$prepended(Ue)}return Ue},-1),Ie(u,"$prepend_features",function(D){var z=this;return C(D),z.$$is_module||Oe.$raise(ve("TypeError"),"wrong argument type "+z.$class()+" (expected Module)"),t.prepend_features(z,D),z}),Ie(u,"$prepended",F(Ke)),Ie(u,"$remove_const",function(D){var z=this;return C(z),t.const_remove(z,D)}),Ie(u,"$to_s",function(){var D=this,z=Ke;return e(z=t.Module.$name.call(D))?z:"#<"+(D.$$is_module?"Module":"Class")+":0x"+D.$__id__().$to_s(16)+">"}),Ie(u,"$undef_method",function(D){var z,ie,Ue=this;z=Te(arguments),ie=z;for(var ut=0;ut<ie.length;ut++){var yt=ie[ut];typeof yt=="string"||yt.$$is_string||Ue.$raise(ve("TypeError"),""+Ue.$name()+" is not a symbol nor a string"),C(Ue),t.udef(Ue,"$"+ie[ut])}return Ue},-1),Ie(u,"$instance_variables",function(){var D=this,z=Ke;z=(t.Module.$$nesting=$,D.$constants());var ie=[];for(var Ue in D)D.hasOwnProperty(Ue)&&Ue.charAt(0)!=="$"&&Ue!=="constructor"&&!z["$include?"](Ue)&&ie.push("@"+Ue);return ie}),Ie(u,"$dup",function p(){var D=p.$$p||Ke,z=this,ie=Ke;return p.$$p=null,ie=Z(z,X(z,"dup",p,!1,!0),"dup",[],D),ie.$copy_class_variables(z),ie.$copy_constants(z),ie}),Ie(u,"$copy_class_variables",function(D){var z=this;for(var ie in D.$$cvars)z.$$cvars[ie]=D.$$cvars[ie]}),Ie(u,"$copy_constants",function(D){var z=this,ie,Ue=D.$$const;for(ie in Ue)s(z,ie,Ue[ie])}),Ie(u,"$refine",function p(D){var z=p.$$p||Ke,ie,Ue=this,ut=Ke,yt=Ke,Tt=Ke;return p.$$p=null,ie=[Ue,Ke,Ke],ut=ie[0],yt=ie[1],Tt=ie[2],Tt=t.id(D),typeof Ue.$$refine_modules>"u"&&(Ue.$$refine_modules=Object.create(null)),typeof Ue.$$refine_modules[Tt]>"u"?yt=Ue.$$refine_modules[Tt]=ve("Refinement").$new():yt=Ue.$$refine_modules[Tt],yt.refinement_module=ut,yt.refined_class=D,Be(yt,"class_exec",[],z.$to_proc()),yt}),Ie(u,"$refinements",function(){var D=this,z=D.$$refine_modules,ie=te([],{});if(typeof z>"u")return ie;for(var Ue in z)ie["$[]="](z[Ue].refined_class,z[Ue]);return ie}),Ie(u,"$using",function(D){return Oe.$raise("Module#using is not permitted in methods")}),ge(u,"class_eval","module_eval"),ge(u,"class_exec","module_exec"),ge(u,"inspect","to_s")}("::",null,j),function(re,m){var f=he(re,m,"Refinement"),u=f.$$prototype;return u.refinement_module=u.refined_class=Ke,f.$attr_reader("refined_class"),Ie(f,"$inspect",function $(){var h=$.$$p||Ke,p=this;return $.$$p=null,e(p.refinement_module)?"#<refinement:"+p.refined_class.$inspect()+"@"+p.refinement_module.$inspect()+">":Z(p,X(p,"inspect",$,!1,!0),"inspect",[],h)})}("::",ke)};Opal.modules["corelib/class"]=function(t){var e=t.klass,n=t.send,s=t.defs,o=t.def,d=t.rb_plus,b=t.return_val,k=t.slice,C=t.send2,g=t.find_super,se=t.Kernel,we=t.alias,he=t.top,Ce=[],Be=t.nil,Ie=t.$$$;return t.add_stubs("require,class_eval,to_proc,+,subclasses,flatten,map,initialize_copy,allocate,name,to_s,raise"),he.$require("corelib/module"),function(ee,ke,Oe){var Ne=e(ee,ke,"Class"),Fe=[Ne].concat(Oe),Te=t.$r(Fe);return s(Ne,"$new",function Me(te){var pe=Me.$$p||Be;if(Me.$$p=null,te==null&&(te=Te("Object")),!te.$$is_class)throw t.TypeError.$new("superclass must be a Class");var F=t.allocate_class(Be,te);return te.$inherited(F),pe!==Be&&n(F,"class_eval",[],pe.$to_proc()),F},-1),o(Ne,"$allocate",function(){var te=this,pe=new te.$$constructor;return pe.$$id=t.uid(),pe}),o(Ne,"$descendants",function(){var te=this;return d(te.$subclasses(),n(te.$subclasses(),"map",[],"descendants".$to_proc()).$flatten())}),o(Ne,"$inherited",b(Be)),o(Ne,"$initialize_dup",function(te){var pe=this;pe.$initialize_copy(te),pe.$$name=null,pe.$$full_name=null}),o(Ne,"$new",function Me(te){var pe=Me.$$p||Be,F,ue,G=this;Me.$$p=null,F=k(arguments),ue=F;var x=G.$allocate();return t.send(x,x.$initialize,ue,pe),x},-1),o(Ne,"$subclasses",function(){var te=this;if(typeof WeakRef<"u"){var pe,F,ue=[];for(pe=0;pe<te.$$subclasses.length;pe++)F=te.$$subclasses[pe].deref(),F!==void 0&&ue.push(F);return ue}else return te.$$subclasses}),o(Ne,"$superclass",function(){var te=this;return te.$$super||Be}),o(Ne,"$to_s",function Me(){Me.$$p;var te=this;Me.$$p=null;var pe=te.$$singleton_of;return pe&&pe.$$is_a_module?"#<Class:"+pe.$name()+">":pe?"#<Class:#<"+pe.$$class.$name()+":0x"+t.id(pe).$to_s(16)+">>":C(te,g(te,"to_s",Me,!1,!0),"to_s",[],null)}),o(Ne,"$attached_object",function(){var te=this;if(te.$$singleton_of!=null)return te.$$singleton_of;se.$raise(Ie("TypeError"),"`"+te+"' is not a singleton class")}),we(Ne,"inspect","to_s")}("::",null,Ce)};Opal.modules["corelib/basic_object"]=function(t){var e=t.klass,n=t.slice,s=t.def,o=t.alias,d=t.return_val,b=t.Opal,k=t.truthy,C=t.range,g=t.Kernel,se=t.to_a,we=t.hash2,he=t.send,Ce=t.eqeq,Be=t.rb_ge,Ie=t.nil,ee=t.$$$;return t.add_stubs("==,raise,inspect,pristine,!,nil?,cover?,size,merge,compile,proc,[],first,>=,length,instance_variable_get,any?,new,caller"),function(ke,Oe){var Ne=e(ke,Oe,"BasicObject");return s(Ne,"$initialize",function(Te){return n(arguments),Ie},-1),s(Ne,"$==",function(Te){var Me=this;return Me===Te}),s(Ne,"$eql?",function(Te){var Me=this;return Me["$=="](Te)}),o(Ne,"equal?","=="),s(Ne,"$__id__",function(){var Te=this;return Te.$$id!=null||t.prop(Te,"$$id",t.uid()),Te.$$id}),s(Ne,"$__send__",function Fe(Te,Me){var te=Fe.$$p||Ie,pe,F,ue=this;Fe.$$p=null,pe=n(arguments,1),F=pe,Te.$$is_string||ue.$raise(ee("TypeError"),""+ue.$inspect()+" is not a symbol nor a string");var G=ue[t.jsid(Te)];return G?(te!==Ie&&(G.$$p=te),G.apply(ue,F)):(te!==Ie&&(ue.$method_missing.$$p=te),ue.$method_missing.apply(ue,[Te].concat(F)))},-2),s(Ne,"$!",d(!1)),b.$pristine("!"),s(Ne,"$!=",function(Te){var Me=this;return Me["$=="](Te)["$!"]()}),s(Ne,"$instance_eval",function Fe(Te){var Me=Fe.$$p||Ie,te,pe,F,ue=this,G=Ie,x=Ie,Z=Ie,X=Ie,ge=Ie,j=Ie;if(Fe.$$p=null,te=n(arguments),pe=te,k(Me["$nil?"]())&&k(!!t.compile))k(C(1,3,!1)["$cover?"](pe.$size()))||g.$raise(ee("ArgumentError"),"wrong number of arguments (0 for 1..3)"),F=[].concat(se(pe)),G=F[0]==null?Ie:F[0],x=F[1]==null?Ie:F[1],F[2]==null||F[2],Z=we(["file","eval"],{file:k(X=x)?X:"(eval)",eval:!0}),ge=t.hash({arity_check:!1}).$merge(Z),j=b.$compile(G,ge),Me=he(g,"proc",[],function re(){var m=re.$$s==null?this:re.$$s;return new Function("Opal,self","return "+j)(t,m)},{$$s:ue});else{if(k(Me["$nil?"]())&&k(Be(pe.$length(),1))&&Ce(pe.$first()["$[]"](0),"@"))return ue.$instance_variable_get(pe.$first());k(pe["$any?"]())&&g.$raise(ee("ArgumentError"),"wrong number of arguments ("+pe.$size()+" for 0)")}var Ke=Me.$$s,ve;if(Me.$$s=null,ue.$$is_a_module){ue.$$eval=!0;try{ve=Me.call(ue,ue)}finally{ue.$$eval=!1}}else ve=Me.call(ue,ue);return Me.$$s=Ke,ve},-1),s(Ne,"$instance_exec",function Fe(Te){var Me=Fe.$$p||Ie,te,pe,F=this;Fe.$$p=null,te=n(arguments),pe=te,k(Me)||g.$raise(ee("ArgumentError"),"no block given");var ue=Me.$$s,G;if(Me.$$s=null,F.$$is_a_module){F.$$eval=!0;try{G=Me.apply(F,pe)}finally{F.$$eval=!1}}else G=Me.apply(F,pe);return Me.$$s=ue,G},-1),s(Ne,"$singleton_method_added",function(Te){return n(arguments),Ie},-1),s(Ne,"$singleton_method_removed",function(Te){return n(arguments),Ie},-1),s(Ne,"$singleton_method_undefined",function(Te){return n(arguments),Ie},-1),s(Ne,"$method_missing",function Fe(Te,Me){Fe.$$p;var te,pe,F=this,ue=Ie;return Fe.$$p=null,te=n(arguments,1),pe=te,ue=b.$inspect(F),g.$raise(ee("NoMethodError").$new("undefined method `"+Te+"' for "+ue,Te,pe),Ie,g.$caller(1))},-2),b.$pristine(Ne,"method_missing"),s(Ne,"$respond_to_missing?",function(Te,Me){return!1},-2)}("::",null)};Opal.modules["corelib/kernel"]=function(t){var e=t.truthy,n=t.coerce_to,s=t.respond_to,o=t.Opal,d=t.deny_frozen_access,b=t.freeze,k=t.freeze_props,C=t.jsid,g=t.module,se=t.return_val,we=t.def,he=t.Kernel,Ce=t.gvars,Be=t.slice,Ie=t.send,ee=t.to_a,ke=t.ensure_kwargs,Oe=t.eqeq,Ne=t.hash2,Fe=t.rb_plus,Te=t.eqeqeq,Me=t.return_self,te=t.rb_le,pe=t.extract_kwargs,F=t.rb_lt,ue=t.Object,G=t.alias,x=t.klass,Z=[],X=t.nil,ge=t.$$$;return t.add_stubs("!,=~,==,object_id,raise,new,class,coerce_to?,<<,map,caller,nil?,allocate,copy_instance_variables,copy_singleton_methods,initialize_clone,frozen?,freeze,initialize_copy,define_method,singleton_class,to_proc,initialize_dup,for,empty?,pop,call,append_features,extend_object,extended,gets,__id__,include?,each,instance_variables,instance_variable_get,inspect,+,to_s,instance_variable_name!,respond_to?,to_int,coerce_to!,Integer,===,enum_for,result,any?,print,format,puts,<=,length,[],readline,<,first,split,to_str,exception,backtrace,rand,respond_to_missing?,pristine,try_convert!,expand_path,join,start_with?,new_seed,srand,tag,value,open,is_a?,__send__,yield_self,include"),function(j,Ke){var ve=g(j,"Kernel"),re=[ve].concat(Ke),m=t.$r(re);we(ve,"$=~",se(!1)),we(ve,"$!~",function($){var h=this;return h["$=~"]($)["$!"]()}),we(ve,"$===",function($){var h=this,p=X;return e(p=h.$object_id()["$=="]($.$object_id()))?p:h["$=="]($)}),we(ve,"$<=>",function($){var h=this;h.$$comparable=!0;var p=h["$=="]($);return p&&p!==X?0:X}),we(ve,"$method",function($){var h=this,p=h[C($)];return(!p||p.$$stub)&&he.$raise(ge("NameError").$new("undefined method `"+$+"' for class `"+h.$class()+"'",$)),ge("Method").$new(h,p.$$owner||h.$class(),p,$)}),we(ve,"$methods",function($){var h=this;return $==null&&($=!0),e($)?t.methods(h):t.own_methods(h)},-1),we(ve,"$public_methods",function($){var h=this;return $==null&&($=!0),e($)?t.methods(h):t.receiver_methods(h)},-1),we(ve,"$Array",function($){var h;return $===X?[]:$.$$is_array?$:(h=o["$coerce_to?"]($,ge("Array"),"to_ary"),h!==X||(h=o["$coerce_to?"]($,ge("Array"),"to_a"),h!==X)?h:[$])}),we(ve,"$at_exit",function u(){var $=u.$$p||X,h=X;return Ce.__at_exit__==null&&(Ce.__at_exit__=X),u.$$p=null,Ce.__at_exit__=e(h=Ce.__at_exit__)?h:[],Ce.__at_exit__["$<<"]($),$}),we(ve,"$caller",function($,h){$==null&&($=1),h==null&&(h=X);var p,D;p=new Error().$backtrace(),D=[];for(var z=$+1,ie=p.length;z<ie;z++)p[z].match(/runtime\.js/)||D.push(p[z]);return h!=X&&(D=D.slice(0,h)),D},-1),we(ve,"$caller_locations",function($){var h,p,D=this;return h=Be(arguments),p=h,Ie(Ie(D,"caller",ee(p)),"map",[],function(ie){return ie==null&&(ie=X),ge(ge(ge("Thread"),"Backtrace"),"Location").$new(ie)})},-1),we(ve,"$class",function(){var $=this;return $.$$class}),we(ve,"$copy_instance_variables",function($){var h=this,p=Object.keys($),D,z,ie;for(D=0,z=p.length;D<z;D++)ie=p[D],ie.charAt(0)!=="$"&&$.hasOwnProperty(ie)&&(h[ie]=$[ie])}),we(ve,"$copy_singleton_methods",function($){var h=this,p,D,z,ie;if($.hasOwnProperty("$$meta")&&$.$$meta!==null){var Ue=t.get_singleton_class($),ut=t.get_singleton_class(h);for(z=Object.getOwnPropertyNames(Ue.$$prototype),p=0,ie=z.length;p<ie;p++)D=z[p],t.is_method(D)&&(ut.$$prototype[D]=Ue.$$prototype[D]);ut.$$const=Object.assign({},Ue.$$const),Object.setPrototypeOf(ut.$$prototype,Object.getPrototypeOf(Ue.$$prototype))}for(p=0,z=Object.getOwnPropertyNames($),ie=z.length;p<ie;p++)D=z[p],D.charAt(0)==="$"&&D.charAt(1)!=="$"&&$.hasOwnProperty(D)&&(h[D]=$[D])}),we(ve,"$clone",function($){var h,p=this,D=X;return $=ke($),h=$.$$smap.freeze,h==null&&(h=X),e(h["$nil?"]())||Oe(h,!0)||Oe(h,!1)||p.$raise(m("ArgumentError"),"unexpected value for freeze: "+h.$class()),D=p.$class().$allocate(),D.$copy_instance_variables(p),D.$copy_singleton_methods(p),D.$initialize_clone(p,Ne(["freeze"],{freeze:h})),(Oe(h,!0)||e(h["$nil?"]())&&e(p["$frozen?"]()))&&D.$freeze(),D},-1),we(ve,"$initialize_clone",function($,h){var p=this;return h=ke(h),h.$$smap.freeze,p.$initialize_copy($),p},-2),we(ve,"$define_singleton_method",function u($,h){var p=u.$$p||X,D=this;return u.$$p=null,Ie(D.$singleton_class(),"define_method",[$,h],p.$to_proc())},-2),we(ve,"$dup",function(){var $=this,h=X;return h=$.$class().$allocate(),h.$copy_instance_variables($),h.$initialize_dup($),h}),we(ve,"$initialize_dup",function($){var h=this;return h.$initialize_copy($)}),we(ve,"$enum_for",function u($,h){var p=u.$$p||X,D,z,ie,Ue=this;return u.$$p=null,D=Be(arguments),D.length>0&&(z=D.shift()),z==null&&(z="each"),ie=D,Ie(ge("Enumerator"),"for",[Ue,z].concat(ee(ie)),p.$to_proc())},-1),we(ve,"$equal?",function($){var h=this;return h===$}),we(ve,"$exit",function($){var h=X,p=X;for(Ce.__at_exit__==null&&(Ce.__at_exit__=X),$==null&&($=!0),Ce.__at_exit__=e(h=Ce.__at_exit__)?h:[];!e(Ce.__at_exit__["$empty?"]());)p=Ce.__at_exit__.$pop(),p.$call();return $.$$is_boolean?$=$?0:1:$=n($,ge("Integer"),"to_int"),t.exit($),X},-1),we(ve,"$extend",function($){var h,p,D=this;h=Be(arguments),p=h,p.length==0&&D.$raise(ge("ArgumentError"),"wrong number of arguments (given 0, expected 1+)"),d(D);for(var z=D.$singleton_class(),ie=p.length-1;ie>=0;ie--){var Ue=p[ie];Ue.$$is_module||he.$raise(ge("TypeError"),"wrong argument type "+Ue.$class()+" (expected Module)"),Ue.$append_features(z),Ue.$extend_object(D),Ue.$extended(D)}return D},-1),we(ve,"$freeze",function(){var $=this;return e($["$frozen?"]())?$:typeof $=="object"?(k($),b($)):$}),we(ve,"$frozen?",function(){var $=this;switch(typeof $){case"string":case"symbol":case"number":case"boolean":return!0;case"object":return $.$$frozen||!1;default:return!1}}),we(ve,"$gets",function($){var h,p;return Ce.stdin==null&&(Ce.stdin=X),h=Be(arguments),p=h,Ie(Ce.stdin,"gets",ee(p))},-1),we(ve,"$hash",function(){var $=this;return $.$__id__()}),we(ve,"$initialize_copy",se(X));var f=[];return we(ve,"$inspect",function(){var $=this,h=X,p=X,D=X,z=X;return function(){try{try{return h="",p=$.$__id__(),e(f["$include?"](p))?h=" ...":(f["$<<"](p),D=!0,Ie($.$instance_variables(),"each",[],function ie(Ue){var ut=ie.$$s==null?this:ie.$$s,yt=X,Tt=X;return Ue==null&&(Ue=X),yt=ut.$instance_variable_get(Ue),Tt=m("Opal").$inspect(yt),h=Fe(h," "+Ue+"="+Tt)},{$$s:$})),"#<"+$.$class()+":0x"+p.$to_s(16)+h+">"}catch(ie){if(t.rescue(ie,[m("StandardError")])){z=ie;try{return"#<"+$.$class()+":0x"+p.$to_s(16)+">"}finally{t.pop_exception()}}else throw ie}}finally{e(D)&&f.$pop()}}()}),we(ve,"$instance_of?",function($){var h=this;return!$.$$is_class&&!$.$$is_module&&he.$raise(ge("TypeError"),"class or module required"),h.$$class===$}),we(ve,"$instance_variable_defined?",function($){var h=this;return $=o["$instance_variable_name!"]($),t.hasOwnProperty.call(h,$.substr(1))}),we(ve,"$instance_variable_get",function($){var h=this;$=o["$instance_variable_name!"]($);var p=h[t.ivar($.substr(1))];return p??X}),we(ve,"$instance_variable_set",function($,h){var p=this;return d(p),$=o["$instance_variable_name!"]($),p[t.ivar($.substr(1))]=h}),we(ve,"$remove_instance_variable",function($){var h=this;$=o["$instance_variable_name!"]($);var p=t.ivar($.substr(1)),D;return h.hasOwnProperty(p)?(D=h[p],delete h[p],D):he.$raise(ge("NameError"),"instance variable "+$+" not defined")}),we(ve,"$instance_variables",function(){var $=this,h=[],p;for(var D in $)$.hasOwnProperty(D)&&D.charAt(0)!=="$"&&(D.substr(-1)==="$"?p=D.slice(0,D.length-1):p=D,h.push("@"+p));return h}),we(ve,"$Integer",function($,h){var p,D,z;return $.$$is_string?$==="0"?0:(h===void 0?h=0:(h=n(h,ge("Integer"),"to_int"),(h===1||h<0||h>36)&&he.$raise(ge("ArgumentError"),"invalid radix "+h)),D=$.toLowerCase(),D=D.replace(/(\d)_(?=\d)/g,"$1"),D=D.replace(/^(\s*[+-]?)(0[bodx]?)/,function(ie,Ue,ut){switch(ut){case"0b":if(h===0||h===2)return h=2,Ue;case"0":case"0o":if(h===0||h===8)return h=8,Ue;case"0d":if(h===0||h===10)return h=10,Ue;case"0x":if(h===0||h===16)return h=16,Ue}he.$raise(ge("ArgumentError"),'invalid value for Integer(): "'+$+'"')}),h=h===0?10:h,z="0-"+(h<=10?h-1:"9a-"+String.fromCharCode(97+(h-11))),new RegExp("^\\s*[+-]?["+z+"]+\\s*$").test(D)||he.$raise(ge("ArgumentError"),'invalid value for Integer(): "'+$+'"'),p=parseInt(D,h),isNaN(p)&&he.$raise(ge("ArgumentError"),'invalid value for Integer(): "'+$+'"'),p):(h!==void 0&&he.$raise(ge("ArgumentError"),"base specified for non string value"),$===X&&he.$raise(ge("TypeError"),"can't convert nil into Integer"),$.$$is_number?(($===1/0||$===-1/0||isNaN($))&&he.$raise(ge("FloatDomainError"),$),Math.floor($)):$["$respond_to?"]("to_int")&&(p=$.$to_int(),p!==X)?p:o["$coerce_to!"]($,ge("Integer"),"to_i"))},-2),we(ve,"$Float",function($){var h;return $===X&&he.$raise(ge("TypeError"),"can't convert nil into Float"),$.$$is_string?(h=$.toString(),h=h.replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(h)?he.$Integer(h):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(h)||he.$raise(ge("ArgumentError"),'invalid value for Float(): "'+$+'"'),parseFloat(h))):o["$coerce_to!"]($,ge("Float"),"to_f")}),we(ve,"$Hash",function($){return e($["$nil?"]())||Oe($,[])?Ne([],{}):Te(ge("Hash"),$)?$:o["$coerce_to!"]($,ge("Hash"),"to_hash")}),we(ve,"$is_a?",function($){var h=this;return!$.$$is_class&&!$.$$is_module&&he.$raise(ge("TypeError"),"class or module required"),t.is_a(h,$)}),we(ve,"$itself",Me),we(ve,"$lambda",function u(){var $=u.$$p||X;return u.$$p=null,t.lambda($)}),we(ve,"$load",function($){return $=o["$coerce_to!"]($,ge("String"),"to_str"),t.load($)}),we(ve,"$loop",function u(){var $=u.$$p||X,h=this,p=X;if(u.$$p=null,$===X)return Ie(h,"enum_for",["loop"],function(){return ge(ge("Float"),"INFINITY")});for(;e(!0);)try{t.yieldX($,[])}catch(D){if(t.rescue(D,[ge("StopIteration")])){p=D;try{return p.$result()}finally{t.pop_exception()}}else throw D}return h}),we(ve,"$nil?",se(!1)),we(ve,"$printf",function($){var h,p,D=this;return h=Be(arguments),p=h,e(p["$any?"]())&&D.$print(Ie(D,"format",ee(p))),X},-1),we(ve,"$proc",function u(){var $=u.$$p||X;return u.$$p=null,e($)||he.$raise(ge("ArgumentError"),"tried to create Proc object without a block"),$.$$is_lambda=!1,$}),we(ve,"$puts",function($){var h,p;return Ce.stdout==null&&(Ce.stdout=X),h=Be(arguments),p=h,Ie(Ce.stdout,"puts",ee(p))},-1),we(ve,"$p",function($){var h,p;return h=Be(arguments),p=h,Ie(p,"each",[],function(z){return Ce.stdout==null&&(Ce.stdout=X),z==null&&(z=X),Ce.stdout.$puts(z.$inspect())}),e(te(p.$length(),1))?p["$[]"](0):p},-1),we(ve,"$print",function($){var h,p;return Ce.stdout==null&&(Ce.stdout=X),h=Be(arguments),p=h,Ie(Ce.stdout,"print",ee(p))},-1),we(ve,"$readline",function($){var h,p;return Ce.stdin==null&&(Ce.stdin=X),h=Be(arguments),p=h,Ie(Ce.stdin,"readline",ee(p))},-1),we(ve,"$warn",function($,h){var p,D,z,ie,Ue,ut,yt=this,Tt=X;return Ce.VERBOSE==null&&(Ce.VERBOSE=X),Ce.stderr==null&&(Ce.stderr=X),p=Be(arguments),D=pe(p),D=ke(D),z=p,ie=D.$$smap.uplevel,ie==null&&(ie=X),e(ie)&&(ie=o["$coerce_to!"](ie,ge("Integer"),"to_str"),e(F(ie,0))&&he.$raise(ge("ArgumentError"),"negative level ("+ie+")"),Tt=(Ue=(ut=yt.$caller(Fe(ie,1),1).$first(),ut===X||ut==null?X:ut.$split(":in `")),Ue===X||Ue==null?X:Ue.$first()),e(Tt)&&(Tt=""+Tt+": "),z=Ie(z,"map",[],function(Lt){return Lt==null&&(Lt=X),""+Tt+"warning: "+Lt})),e(Ce.VERBOSE["$nil?"]())||e(z["$empty?"]())?X:Ie(Ce.stderr,"puts",ee(z))},-1),we(ve,"$raise",function($,h,p){throw Ce["!"]==null&&(Ce["!"]=X),Ce["@"]==null&&(Ce["@"]=X),h==null&&(h=X),p==null&&(p=X),$==null&&Ce["!"]!==X?Ce["!"]:($==null?$=ge("RuntimeError").$new(""):s($,"$to_str")?$=ge("RuntimeError").$new($.$to_str()):$.$$is_class&&s($,"$exception")?$=$.$exception(h):$.$$is_exception||($=ge("TypeError").$new("exception class/object expected")),p!==X&&$.$set_backtrace(p),Ce["!"]!==X&&t.exceptions.push(Ce["!"]),Ce["!"]=$,Ce["@"]=$.$backtrace(),$)},-1),we(ve,"$rand",function($){return $===void 0?ge(ge("Random"),"DEFAULT").$rand():($.$$is_number&&($<0&&($=Math.abs($)),$%1!==0&&($=$.$to_i()),$===0&&($=void 0)),ge(ge("Random"),"DEFAULT").$rand($))},-1),we(ve,"$respond_to?",function($,h){var p=this;h==null&&(h=!1);var D=p[C($)];return typeof D=="function"&&!D.$$stub?!0:p["$respond_to_missing?"].$$pristine===!0?!1:p["$respond_to_missing?"]($,h)},-2),we(ve,"$respond_to_missing?",function($,h){return!1},-2),o.$pristine(ve,"respond_to?","respond_to_missing?"),we(ve,"$require",function($){return typeof $!="string"&&t.String&&t.Array&&($=o["$coerce_to!"]($,ge("String"),"to_str")),t.require($)}),we(ve,"$require_relative",function($){return o["$try_convert!"]($,ge("String"),"to_str"),$=ge("File").$expand_path(ge("File").$join(t.current_file,"..",$)),t.require($)}),we(ve,"$require_tree",function($,h){var p;h=ke(h),p=h.$$smap.autoload,p==null&&(p=!1);var D=[];$=ge("File").$expand_path($),$=t.normalize($),$==="."&&($="");for(var z in t.modules)z["$start_with?"]($)&&(p?D.push([z,!0]):D.push([z,t.require(z)]));return D},-2),we(ve,"$singleton_class",function(){var $=this;return t.get_singleton_class($)}),we(ve,"$sleep",function($){$==null&&($=X),$===X&&he.$raise(ge("TypeError"),"can't convert NilClass into time interval"),$.$$is_number||he.$raise(ge("TypeError"),"can't convert "+$.$class()+" into time interval"),$<0&&he.$raise(ge("ArgumentError"),"time interval must be positive");for(var h=t.global.performance?function(){return performance.now()}:function(){return new Date},p=h();h()-p<=$*1e3;);return Math.round($)},-1),we(ve,"$srand",function($){return $==null&&($=m("Random").$new_seed()),ge("Random").$srand($)},-1),we(ve,"$String",function($){var h=X;return e(h=o["$coerce_to?"]($,ge("String"),"to_str"))?h:o["$coerce_to!"]($,ge("String"),"to_s")}),we(ve,"$tap",function u(){var $=u.$$p||X,h=this;return u.$$p=null,t.yield1($,h),h}),we(ve,"$to_proc",Me),we(ve,"$to_s",function(){var $=this;return"#<"+$.$class()+":0x"+$.$__id__().$to_s(16)+">"}),we(ve,"$catch",function u($){var h=u.$$p||X,p=X,D=X;u.$$p=null,$==null&&($=X);try{return $=e(p=$)?p:ue.$new(),t.yield1(h,$)}catch(z){if(t.rescue(z,[ge("UncaughtThrowError")])){D=z;try{return Oe(D.$tag(),$)?D.$value():he.$raise()}finally{t.pop_exception()}}else throw z}},-1),we(ve,"$throw",function($,h){return h==null&&(h=X),he.$raise(ge("UncaughtThrowError").$new($,h))},-2),we(ve,"$open",function u($){var h=u.$$p||X,p,D;return u.$$p=null,p=Be(arguments),D=p,Ie(ge("File"),"open",ee(D),h.$to_proc())},-1),we(ve,"$yield_self",function u(){var $=u.$$p||X,h=this;return u.$$p=null,$===X?Ie(h,"enum_for",["yield_self"],se(1)):t.yield1($,h)}),G(ve,"fail","raise"),G(ve,"kind_of?","is_a?"),G(ve,"object_id","__id__"),G(ve,"public_send","__send__"),G(ve,"send","__send__"),G(ve,"then","yield_self"),G(ve,"to_enum","enum_for")}("::",Z),function(j,Ke){var ve=x(j,Ke,"Object");return delete ue.$$prototype.$require,ve.$include(he)}("::",null)};Opal.modules["corelib/main"]=function(t){var e=t.return_val,n=t.def,s=t.Object,o=t.slice,d=t.Kernel,b=t.top;return t.nil,t.add_stubs("include,raise"),function(k,C){return n(k,"$to_s",e("main")),n(k,"$include",function(se){return s.$include(se)}),n(k,"$autoload",function(se){var we,he;return we=o(arguments),he=we,t.Object.$autoload.apply(t.Object,he)},-1),n(k,"$using",function(se){return d.$raise("main.using is permitted only at toplevel")})}(t.get_singleton_class(b))};Opal.modules["corelib/error/errno"]=function(t){var e=t.module,n=t.truthy,s=t.rb_plus,o=t.send2,d=t.find_super,b=t.def,k=t.klass,C=t.nil,g=t.$$$;return t.add_stubs("+,errno,class,attr_reader"),function(se,we){var he=e(se,"Errno"),Ce=C,Be=C;Ce=[["EINVAL","Invalid argument",22],["EEXIST","File exists",17],["EISDIR","Is a directory",21],["EMFILE","Too many open files",24],["ESPIPE","Illegal seek",29],["EACCES","Permission denied",13],["EPERM","Operation not permitted",1],["ENOENT","No such file or directory",2],["ENAMETOOLONG","File name too long",36]],Be=C;var Ie;for(Ie=0;Ie<Ce.length;Ie++)(function(){var ee=Ce[Ie][0],ke=Ce[Ie][1],Oe=Ce[Ie][2];Be=t.klass(he,t.SystemCallError,ee),Be.errno=Oe,function(Ne,Fe){return b(Ne,"$new",function Te(Me){Te.$$p;var te=this,pe=C;return Te.$$p=null,Me==null&&(Me=C),pe=ke,n(Me)&&(pe=s(pe," - "+Me)),o(te,d(te,"new",Te,!1,!0),"new",[pe],null)},-1)}(t.get_singleton_class(Be))})()}("::"),function(se,we,he){var Ce=k(se,we,"SystemCallError");return b(Ce,"$errno",function(){var Ie=this;return Ie.$class().$errno()}),function(Be,Ie){return Be.$attr_reader("errno")}(t.get_singleton_class(Ce))}("::",g("StandardError"))};Opal.modules["corelib/error"]=function(t){var e=t.klass,n=t.slice,s=t.gvars,o=t.defs,d=t.send,b=t.to_a,k=t.def,C=t.truthy,g=t.hash2,se=t.Kernel,we=t.not,he=t.rb_plus,Ce=t.eqeq,Be=t.Object,Ie=t.ensure_kwargs,ee=t.send2,ke=t.find_super,Oe=t.module,Ne=[],Fe=t.nil,Te=t.$$$;return t.add_stubs("new,map,backtrace,clone,to_s,merge,tty?,[],include?,raise,dup,empty?,!,caller,shift,+,class,join,cause,full_message,==,reverse,split,autoload,attr_reader,inspect"),function(Me,te,pe){var F=e(Me,te,"Exception"),ue=[F].concat(pe),G=t.$r(ue),x=F.$$prototype;x.message=Fe,t.prop(F.$$prototype,"$$is_exception",!0);var Z;Error.stackTraceLimit=100,o(F,"$new",function(j){var Ke,ve,re=this;s["!"]==null&&(s["!"]=Fe),Ke=n(arguments),ve=Ke;var m=ve.length>0?ve[0]:Fe,f=new re.$$constructor(m);return f.name=re.$$name,f.message=m,f.cause=s["!"],t.send(f,f.$initialize,ve),t.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(f,Z),f},-1),Z=F.$new,o(F,"$exception",function(j){var Ke,ve,re=this;return Ke=n(arguments),ve=Ke,d(re,"new",b(ve))},-1),k(F,"$initialize",function(j){var Ke,ve,re=this;return Ke=n(arguments),ve=Ke,re.message=ve.length>0?ve[0]:Fe},-1);function X(ge){for(var j=[],Ke,ve=0;ve<ge.length;ve++){var re=ge[ve];!re||!re.$$is_string||((Ke=re.match(/^    at (.*?) \((.*?)\)$/))?j.push(Ke[2]+":in `"+Ke[1]+"'"):(Ke=re.match(/^    at (.*?)$/))?j.push(Ke[1]+":in `undefined'"):(Ke=re.match(/^  from (.*?)$/))?j.push(Ke[1]):(Ke=re.match(/^(.*?)@(.*?)$/))&&j.push(Ke[2]+":in `"+Ke[1]+"'"))}return j}return k(F,"$backtrace",function(){var j=this;if(j.backtrace)return j.backtrace;var Ke=j.stack;return typeof Ke<"u"&&Ke.$$is_string?j.backtrace=X(Ke.split(`
`)):Ke?j.backtrace=X(Ke):[]}),k(F,"$backtrace_locations",function(){var j,Ke=this;return Ke.backtrace_locations||(Ke.backtrace_locations=(j=Ke.$backtrace(),j===Fe||j==null?Fe:d(j,"map",[],function(re){return re==null&&(re=Fe),Te(Te(Te("Thread"),"Backtrace"),"Location").$new(re)}))),Ke.backtrace_locations}),k(F,"$cause",function(){var j=this;return j.cause||Fe}),k(F,"$exception",function(j){var Ke=this;if(j==null&&(j=Fe),j===Fe||Ke===j)return Ke;var ve=Ke.$clone();return ve.message=j,Ke.backtrace&&(ve.backtrace=Ke.backtrace.$dup()),ve.stack=Ke.stack,ve.cause=Ke.cause,ve},-1),k(F,"$message",function(){var j=this;return j.$to_s()}),k(F,"$full_message",function(j){var Ke,ve=this,re=Fe,m=Fe,f=Fe,u=Fe,$=Fe,h=Fe,p=Fe,D=Fe,z=Fe;return s.stderr==null&&(s.stderr=Fe),j==null&&(j=Fe),C(G("Hash","skip_raise")?"constant":Fe)?(j=g(["highlight","order"],{highlight:s.stderr["$tty?"](),order:"top"}).$merge(C(re=j)?re:g([],{})),Ke=[j["$[]"]("highlight"),j["$[]"]("order")],m=Ke[0],f=Ke[1],C([!0,!1]["$include?"](m))||se.$raise(Te("ArgumentError"),"expected true or false as highlight: "+m),C(["top","bottom"]["$include?"](f))||se.$raise(Te("ArgumentError"),"expected :top or :bottom as order: "+f),C(m)?(u="\x1B[1;4m",$="\x1B[1m",h="\x1B[m"):u=$=h="",p=ve.$backtrace().$dup(),(we(p)||C(p["$empty?"]()))&&(p=ve.$caller()),D=p.$shift(),z=""+D+": ",z=he(z,""+$+ve.$to_s()+" ("+u+ve.$class()+h+$+")"+h+`
`),z=he(z,d(p,"map",[],function(Ue){return Ue==null&&(Ue=Fe),"	from "+Ue+`
`}).$join()),C(ve.$cause())&&(z=he(z,ve.$cause().$full_message(g(["highlight"],{highlight:m})))),Ce(f,"bottom")&&(z=z.$split(`
`).$reverse().$join(`
`),z=he(""+$+"Traceback"+h+` (most recent call last):
`,z)),z):""+ve.message+`
`+ve.stack},-1),k(F,"$inspect",function(){var j=this,Ke=Fe;return Ke=j.$to_s(),C(Ke["$empty?"]())?j.$class().$to_s():"#<"+j.$class().$to_s()+": "+j.$to_s()+">"}),k(F,"$set_backtrace",function(j){var Ke=this,ve=!0,re,m;if(j===Fe)Ke.backtrace=Fe,Ke.stack="";else if(j.$$is_string)Ke.backtrace=[j],Ke.stack="  from "+j;else{if(j.$$is_array){for(re=0,m=j.length;re<m;re++)if(!j[re].$$is_string){ve=!1;break}}else ve=!1;ve===!1&&se.$raise(Te("TypeError"),"backtrace must be Array of String"),Ke.backtrace=j,Ke.stack=d(j,"map",[],function(u){return u==null&&(u=Fe),he("  from ",u)}).join(`
`)}return j}),k(F,"$to_s",function(){var j=this,Ke=Fe,ve=Fe;return C(Ke=C(ve=j.message)?j.message.$to_s():ve)?Ke:j.$class().$to_s()})}("::",Error,Ne),e("::",Te("Exception"),"ScriptError"),e("::",Te("ScriptError"),"SyntaxError"),e("::",Te("ScriptError"),"LoadError"),e("::",Te("ScriptError"),"NotImplementedError"),e("::",Te("Exception"),"SystemExit"),e("::",Te("Exception"),"NoMemoryError"),e("::",Te("Exception"),"SignalException"),e("::",Te("SignalException"),"Interrupt"),e("::",Te("Exception"),"SecurityError"),e("::",Te("Exception"),"SystemStackError"),e("::",Te("Exception"),"StandardError"),e("::",Te("StandardError"),"EncodingError"),e("::",Te("StandardError"),"ZeroDivisionError"),e("::",Te("StandardError"),"NameError"),e("::",Te("NameError"),"NoMethodError"),e("::",Te("StandardError"),"RuntimeError"),e("::",Te("RuntimeError"),"FrozenError"),e("::",Te("StandardError"),"LocalJumpError"),e("::",Te("StandardError"),"TypeError"),e("::",Te("StandardError"),"ArgumentError"),e("::",Te("ArgumentError"),"UncaughtThrowError"),e("::",Te("StandardError"),"IndexError"),e("::",Te("IndexError"),"StopIteration"),e("::",Te("StopIteration"),"ClosedQueueError"),e("::",Te("IndexError"),"KeyError"),e("::",Te("StandardError"),"RangeError"),e("::",Te("RangeError"),"FloatDomainError"),e("::",Te("StandardError"),"IOError"),e("::",Te("IOError"),"EOFError"),e("::",Te("StandardError"),"SystemCallError"),e("::",Te("StandardError"),"RegexpError"),e("::",Te("StandardError"),"ThreadError"),e("::",Te("StandardError"),"FiberError"),Be.$autoload("Errno","corelib/error/errno"),function(Me,te){var pe=e(Me,te,"FrozenError");return pe.$attr_reader("receiver"),k(pe,"$initialize",function F(ue,G){var x;F.$$p;var Z=this;return F.$$p=null,G=Ie(G),x=G.$$smap.receiver,x==null&&(x=Fe),ee(Z,ke(Z,"initialize",F,!1,!0),"initialize",[ue],null),Z.receiver=x},-2)}("::",Te("RuntimeError")),function(Me,te){var pe=e(Me,te,"UncaughtThrowError"),F=pe.$$prototype;return F.tag=Fe,pe.$attr_reader("tag","value"),k(pe,"$initialize",function ue(G,x){ue.$$p;var Z=this;return ue.$$p=null,x==null&&(x=Fe),Z.tag=G,Z.value=x,ee(Z,ke(Z,"initialize",ue,!1,!0),"initialize",["uncaught throw "+Z.tag.$inspect()],null)},-2)}("::",Te("ArgumentError")),function(Me,te){var pe=e(Me,te,"NameError");return pe.$attr_reader("name"),k(pe,"$initialize",function F(ue,G){F.$$p;var x=this;return F.$$p=null,G==null&&(G=Fe),ee(x,ke(x,"initialize",F,!1,!0),"initialize",[ue],null),x.name=G},-2)}("::",null),function(Me,te){var pe=e(Me,te,"NoMethodError");return pe.$attr_reader("args"),k(pe,"$initialize",function F(ue,G,x){F.$$p;var Z=this;return F.$$p=null,G==null&&(G=Fe),x==null&&(x=[]),ee(Z,ke(Z,"initialize",F,!1,!0),"initialize",[ue,G],null),Z.args=x},-2)}("::",null),function(Me,te){var pe=e(Me,te,"StopIteration");return pe.$attr_reader("result")}("::",null),function(Me,te){var pe=e(Me,te,"KeyError"),F=pe.$$prototype;return F.receiver=F.key=Fe,k(pe,"$initialize",function ue(G,x){var Z,X;ue.$$p;var ge=this;return ue.$$p=null,x=Ie(x),Z=x.$$smap.receiver,Z==null&&(Z=Fe),X=x.$$smap.key,X==null&&(X=Fe),ee(ge,ke(ge,"initialize",ue,!1,!0),"initialize",[G],null),ge.receiver=Z,ge.key=X},-2),k(pe,"$receiver",function(){var G=this,x=Fe;return C(x=G.receiver)?x:se.$raise(Te("ArgumentError"),"no receiver is available")}),k(pe,"$key",function(){var G=this,x=Fe;return C(x=G.key)?x:se.$raise(Te("ArgumentError"),"no key is available")})}("::",null),function(Me,te){var pe=Oe(Me,"JS"),F=[pe].concat(te);return e(F[0],null,"Error"),Fe}("::",Ne)};Opal.modules["corelib/constants"]=function(t){var e=t.const_set;t.nil;var n=t.$$$;return e("::","RUBY_PLATFORM","opal"),e("::","RUBY_ENGINE","opal"),e("::","RUBY_VERSION","3.2.0"),e("::","RUBY_ENGINE_VERSION","1.7.3"),e("::","RUBY_RELEASE_DATE","2023-03-23"),e("::","RUBY_PATCHLEVEL",0),e("::","RUBY_REVISION","0"),e("::","RUBY_COPYRIGHT","opal - Copyright (C) 2011-2023 Adam Beynon and the Opal contributors"),e("::","RUBY_DESCRIPTION","opal "+n("RUBY_ENGINE_VERSION")+" ("+n("RUBY_RELEASE_DATE")+" revision "+n("RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(t){var e=t.Object;return t.nil,t.add_stubs("require"),e.$require("corelib/runtime"),e.$require("corelib/helpers"),e.$require("corelib/module"),e.$require("corelib/class"),e.$require("corelib/basic_object"),e.$require("corelib/kernel"),e.$require("corelib/main"),e.$require("corelib/error"),e.$require("corelib/constants")};Opal.modules["corelib/nil"]=function(t){var e=t.klass,n=t.Kernel,s=t.def,o=t.return_val,d=t.ensure_kwargs,b=t.NilClass,k=t.slice,C=t.truthy,g=t.rb_gt,se=t.alias,we=t.nil,he=t.$$$;return t.add_stubs("raise,name,new,>,length,Rational,to_i"),function(Ce,Be,Ie){var ee=e(Ce,Be,"NilClass");return ee.$$prototype.$$meta=ee,function(ke,Oe){return s(ke,"$allocate",function(){var Fe=this;return n.$raise(he("TypeError"),"allocator undefined for "+Fe.$name())}),t.udef(ke,"$new"),we}(t.get_singleton_class(ee)),s(ee,"$!",o(!0)),s(ee,"$&",o(!1)),s(ee,"$|",function(Oe){return Oe!==!1&&Oe!==we}),s(ee,"$^",function(Oe){return Oe!==!1&&Oe!==we}),s(ee,"$==",function(Oe){return Oe===we}),s(ee,"$dup",o(we)),s(ee,"$clone",function(Oe){return Oe=d(Oe),Oe.$$smap.freeze,we},-1),s(ee,"$inspect",o("nil")),s(ee,"$nil?",o(!0)),s(ee,"$singleton_class",function(){return b}),s(ee,"$to_a",function(){return[]}),s(ee,"$to_h",function(){return t.hash()}),s(ee,"$to_i",o(0)),s(ee,"$to_s",o("")),s(ee,"$to_c",function(){return he("Complex").$new(0,0)}),s(ee,"$rationalize",function(Oe){var Ne,Fe;return Ne=k(arguments),Fe=Ne,C(g(Fe.$length(),1))&&n.$raise(he("ArgumentError")),n.$Rational(0,1)},-1),s(ee,"$to_r",function(){return n.$Rational(0,1)}),s(ee,"$instance_variables",function(){return[]}),se(ee,"to_f","to_i")}("::",null)};Opal.modules["corelib/boolean"]=function(t){var e=t.klass,n=t.Kernel,s=t.def,o=t.return_self,d=t.ensure_kwargs,b=t.slice,k=t.truthy,C=t.send2,g=t.find_super,se=t.to_a,we=t.alias,he=t.nil,Ce=t.$$$;return t.add_stubs("raise,name,==,to_s,__id__"),function(Be,Ie,ee){var ke=e(Be,Ie,"Boolean");t.prop(ke.$$prototype,"$$is_boolean",!0);for(var Oe=["$$class","$$meta"],Ne=0;Ne<Oe.length;Ne++)Object.defineProperty(ke.$$prototype,Oe[Ne],{configurable:!0,enumerable:!1,get:function(){return this==!0?t.TrueClass:this==!1?t.FalseClass:t.Boolean}});return Object.defineProperty(ke.$$prototype,"$$id",{configurable:!0,enumerable:!1,get:function(){return this==!0?2:this==!1?0:he}}),function(Fe,Te){return s(Fe,"$allocate",function(){var te=this;return n.$raise(Ce("TypeError"),"allocator undefined for "+te.$name())}),t.udef(Fe,"$new"),he}(t.get_singleton_class(ke)),s(ke,"$__id__",function(){var Te=this;return Te.valueOf()?2:0}),s(ke,"$!",function(){var Te=this;return Te!=!0}),s(ke,"$&",function(Te){var Me=this;return Me==!0?Te!==!1&&Te!==he:!1}),s(ke,"$|",function(Te){var Me=this;return Me==!0?!0:Te!==!1&&Te!==he}),s(ke,"$^",function(Te){var Me=this;return Me==!0?Te===!1||Te===he:Te!==!1&&Te!==he}),s(ke,"$==",function(Te){var Me=this;return Me==!0===Te.valueOf()}),s(ke,"$singleton_class",function(){var Te=this;return Te.$$meta}),s(ke,"$to_s",function(){var Te=this;return Te==!0?"true":"false"}),s(ke,"$dup",o),s(ke,"$clone",function(Te){var Me=this;return Te=d(Te),Te.$$smap.freeze,Me},-1),s(ke,"$method_missing",function Fe(Te,Me){var te=Fe.$$p||he,pe,F,ue=this;Fe.$$p=null,pe=b(arguments,1),F=pe;var G=ue.$$class.$$prototype[t.jsid(Te)];return k(typeof G<"u"&&!G.$$stub)||C(ue,g(ue,"method_missing",Fe,!1,!0),"method_missing",[Te].concat(se(F)),te),t.send(ue,G,F,te)},-2),s(ke,"$respond_to_missing?",function(Te,Me){var te=this,pe=te.$$class.$$prototype[t.jsid(Te)];return typeof pe<"u"&&!pe.$$stub},-2),we(ke,"eql?","=="),we(ke,"equal?","=="),we(ke,"inspect","to_s"),we(ke,"object_id","__id__")}("::",Boolean),e("::",Ce("Boolean"),"TrueClass"),e("::",Ce("Boolean"),"FalseClass"),he};Opal.modules["corelib/comparable"]=function(t){var e=t.truthy,n=t.module,s=t.rb_gt,o=t.rb_lt,d=t.eqeqeq,b=t.Kernel,k=t.def,C=t.nil,g=t.$$$;return t.add_stubs(">,<,===,raise,class,<=>,equal?"),function(se){var we=n(se,"Comparable"),he=C;function Ce(ee){return t.is_a(ee,t.Integer)?ee:s(ee,0)?1:o(ee,0)?-1:0}function Be(ee,ke){var Oe;d(C,he=ke)||d(!0,he)||d(!1,he)||d(g("Integer"),he)||d(g("Float"),he)?Oe=ke.$inspect():Oe=ke.$$class,b.$raise(g("ArgumentError"),"comparison of "+ee.$class()+" with "+Oe+" failed")}function Ie(ee,ke){var Oe=ee["$<=>"](ke);return e(Oe)||Be(ee,ke),Ce(Oe)}return k(we,"$==",function(ke){var Oe=this,Ne=C;return e(Oe["$equal?"](ke))?!0:Oe["$<=>"]==t.Kernel["$<=>"]?!1:Oe.$$comparable?(Oe.$$comparable=!1,!1):e(Ne=Oe["$<=>"](ke))?Ce(Ne)==0:!1}),k(we,"$>",function(ke){var Oe=this;return Ie(Oe,ke)>0}),k(we,"$>=",function(ke){var Oe=this;return Ie(Oe,ke)>=0}),k(we,"$<",function(ke){var Oe=this;return Ie(Oe,ke)<0}),k(we,"$<=",function(ke){var Oe=this;return Ie(Oe,ke)<=0}),k(we,"$between?",function(ke,Oe){var Ne=this;return!(o(Ne,ke)||s(Ne,Oe))}),k(we,"$clamp",function(ke,Oe){var Ne=this;Oe==null&&(Oe=C);var Fe,Te;if(Oe===C&&(t.is_a(ke,t.Range)||b.$raise(g("TypeError"),"wrong argument type "+ke.$class()+" (expected Range)"),Te=ke.excl,Oe=ke.end,ke=ke.begin,Oe!==C&&Te&&b.$raise(g("ArgumentError"),"cannot clamp with an exclusive range")),ke!==C&&Oe!==C&&Ie(ke,Oe)>0&&b.$raise(g("ArgumentError"),"min argument must be smaller than max argument"),ke!==C){if(Fe=Ie(Ne,ke),Fe==0)return Ne;if(Fe<0)return ke}return Oe!==C&&(Fe=Ie(Ne,Oe),Fe>0)?Oe:Ne},-2)}("::")};Opal.modules["corelib/regexp"]=function(t){var e=t.coerce_to,n=t.prop,s=t.freeze,o=t.klass,d=t.const_set,b=t.send2,k=t.find_super,C=t.def,g=t.truthy,se=t.gvars,we=t.slice,he=t.Kernel,Ce=t.Opal,Be=t.alias,Ie=t.send,ee=t.hash2,ke=t.rb_plus,Oe=t.ensure_kwargs,Ne=t.rb_ge,Fe=t.to_a,Te=t.eqeqeq,Me=t.rb_minus,te=t.return_ivar,pe=[],F=t.nil,ue=t.$$$;return t.add_stubs("nil?,[],raise,escape,options,to_str,new,join,coerce_to!,!,match,coerce_to?,begin,frozen?,uniq,map,scan,source,to_proc,transform_values,group_by,each_with_index,+,last,=~,==,attr_reader,>=,length,is_a?,include?,names,regexp,named_captures,===,captures,-,inspect,empty?,each,to_a"),o("::",ue("StandardError"),"RegexpError"),function(G,x,Z){var X=o(G,x,"Regexp"),ge=[X].concat(Z),j=t.$r(ge);return d(X,"IGNORECASE",1),d(X,"EXTENDED",2),d(X,"MULTILINE",4),t.prop(X.$$prototype,"$$is_regexp",!0),function(Ke,ve){var re=[Ke].concat(ve),m=t.$r(re);return C(Ke,"$allocate",function f(){var u=f.$$p||F,$=this,h=F;return f.$$p=null,h=b($,k($,"allocate",f,!1,!0),"allocate",[],u),h.uninitialized=!0,h}),C(Ke,"$escape",function(u){return t.escape_regexp(u)}),C(Ke,"$last_match",function(u){return se["~"]==null&&(se["~"]=F),u==null&&(u=F),g(u["$nil?"]())?se["~"]:g(se["~"])?se["~"]["$[]"](u):F},-1),C(Ke,"$union",function(u){var $,h,p=this;$=we(arguments),h=$;var D,z,ie,Ue,ut;if(h.length==0)return/(?!)/;if(h.length==1&&h[0].$$is_regexp)return h[0];D=h[0].$$is_array,h.length>1&&D&&he.$raise(ue("TypeError"),"no implicit conversion of Array into String"),D&&(h=h[0]),Ue=void 0,z=[];for(var yt=0;yt<h.length;yt++)ie=h[yt],ie.$$is_string?z.push(p.$escape(ie)):ie.$$is_regexp?(ut=ie.$options(),Ue!=null&&Ue!=ut&&he.$raise(ue("TypeError"),"All expressions must use the same options"),Ue=ut,z.push("("+ie.source+")")):z.push(p.$escape(ie.$to_str()));return p.$new(z.$join("|"),Ue)},-1),C(Ke,"$new",function(u,$){if(u.$$is_regexp)return new RegExp(u);if(u=Ce["$coerce_to!"](u,ue("String"),"to_str"),u.charAt(u.length-1)==="\\"&&u.charAt(u.length-2)!=="\\"&&he.$raise(ue("RegexpError"),"too short escape sequence: /"+u+"/"),u=u.replace("\\A","^").replace("\\z","$"),$===void 0||$["$!"]())return new RegExp(u);if($.$$is_number){var h="";m("IGNORECASE")&$&&(h+="i"),m("MULTILINE")&$&&(h+="m"),$=h}else $="i";return new RegExp(u,$)},-2),Be(Ke,"compile","new"),Be(Ke,"quote","escape")}(t.get_singleton_class(X),ge),C(X,"$==",function(ve){var re=this;return ve instanceof RegExp&&re.toString()===ve.toString()}),C(X,"$===",function(ve){var re=this;return re.$match(Ce["$coerce_to?"](ve,ue("String"),"to_str"))!==F}),C(X,"$=~",function(ve){var re=this,m=F;return se["~"]==null&&(se["~"]=F),g(m=re.$match(ve))?se["~"].$begin(0):m}),C(X,"$freeze",function(){var ve=this;return g(ve["$frozen?"]())?ve:(ve.hasOwnProperty("$$g")||n(ve,"$$g",null),ve.hasOwnProperty("$$gm")||n(ve,"$$gm",null),s(ve))}),C(X,"$inspect",function(){var ve=this,re=/^\/(.*)\/([^\/]*)$/,m=ve.toString(),f=re.exec(m);if(f){for(var u=f[1],$=f[2],h=u.split(""),p=h.length,D=!1,z="",ie=0;ie<p;ie++){var Ue=h[ie];!D&&Ue=="/"&&(z=z.concat("\\")),z=z.concat(Ue),Ue=="\\"?D?D=!1:D=!0:D=!1}return"/"+z+"/"+$}else return m}),C(X,"$match",function Ke(ve,re){var m=Ke.$$p||F,f=this;if(se["~"]==null&&(se["~"]=F),Ke.$$p=null,f.uninitialized&&he.$raise(ue("TypeError"),"uninitialized Regexp"),re===void 0){if(ve===F)return se["~"]=F;var u=f.exec(e(ve,ue("String"),"to_str"));return u?(se["~"]=ue("MatchData").$new(f,u),m===F?se["~"]:t.yield1(m,se["~"])):se["~"]=F}if(re=e(re,ue("Integer"),"to_int"),ve===F||(ve=e(ve,ue("String"),"to_str"),re<0&&(re+=ve.length,re<0)))return se["~"]=F;for(var $,h=t.global_regexp(f);;){if($=h.exec(ve),$===null)return se["~"]=F;if($.index>=re)return se["~"]=ue("MatchData").$new(h,$),m===F?se["~"]:t.yield1(m,se["~"]);h.lastIndex=$.index+1}},-2),C(X,"$match?",function(ve,re){var m=this;if(m.uninitialized&&he.$raise(ue("TypeError"),"uninitialized Regexp"),re===void 0)return ve===F?!1:m.test(e(ve,ue("String"),"to_str"));if(re=e(re,ue("Integer"),"to_int"),ve===F||(ve=e(ve,ue("String"),"to_str"),re<0&&(re+=ve.length,re<0)))return!1;var f,u=t.global_regexp(m);return f=u.exec(ve),!(f===null||f.index<re)},-2),C(X,"$names",function(){var ve=this;return Ie(ve.$source().$scan(/\(?<(\w+)>/,ee(["no_matchdata"],{no_matchdata:!0})),"map",[],"first".$to_proc()).$uniq()}),C(X,"$named_captures",function(){var ve=this;return Ie(Ie(Ie(ve.$source().$scan(/\(?<(\w+)>/,ee(["no_matchdata"],{no_matchdata:!0})),"map",[],"first".$to_proc()).$each_with_index(),"group_by",[],"first".$to_proc()),"transform_values",[],function(m){return m==null&&(m=F),Ie(m,"map",[],function(u){return u==null&&(u=F),ke(u.$last(),1)})})}),C(X,"$~",function(){var ve=this;return se._==null&&(se._=F),ve["$=~"](se._)}),C(X,"$source",function(){var ve=this;return ve.source}),C(X,"$options",function(){var ve=this;ve.uninitialized&&he.$raise(ue("TypeError"),"uninitialized Regexp");var re=0;return ve.multiline&&(re|=j("MULTILINE")),ve.ignoreCase&&(re|=j("IGNORECASE")),re}),C(X,"$casefold?",function(){var ve=this;return ve.ignoreCase}),Be(X,"eql?","=="),Be(X,"to_s","source")}("::",RegExp,pe),function(G,x,Z){var X=o(G,x,"MatchData"),ge=[X].concat(Z),j=t.$r(ge),Ke=X.$$prototype;return Ke.matches=F,X.$attr_reader("post_match","pre_match","regexp","string"),C(X,"$initialize",function(re,m,f){var u,$=this;f=Oe(f),u=f.$$smap.no_matchdata,u==null&&(u=!1),g(u)||(se["~"]=$),$.regexp=re,$.begin=m.index,$.string=m.input,$.pre_match=m.input.slice(0,m.index),$.post_match=m.input.slice(m.index+m[0].length),$.matches=[];for(var h=0,p=m.length;h<p;h++){var D=m[h];D==null?$.matches.push(F):$.matches.push(D)}},-3),C(X,"$match",function(re){var m=this,f=F;return g(f=m["$[]"](re))?f:g(re["$is_a?"](j("Integer")))&&g(Ne(re,m.$length()))?he.$raise(ue("IndexError"),"index "+re+" out of matches"):F}),C(X,"$match_length",function(re){var m,f=this;return m=f.$match(re),m===F||m==null?F:m.$length()}),C(X,"$[]",function(re){var m,f,u=this;return m=we(arguments),f=m,f[0].$$is_string?(u.$regexp().$names()["$include?"](f["$[]"](0))["$!"]()&&he.$raise(ue("IndexError"),"undefined group name reference: "+f["$[]"](0)),u.$named_captures()["$[]"](f["$[]"](0))):Ie(u.matches,"[]",Fe(f))},-1),C(X,"$offset",function(re){var m=this;return re!==0&&he.$raise(ue("ArgumentError"),"MatchData#offset only supports 0th element"),[m.begin,m.begin+m.matches[re].length]}),C(X,"$==",function(re){var m=this,f=F,u=F,$=F,h=F;return Te(ue("MatchData"),re)?g(f=g(u=g($=g(h=m.string==re.string)?m.regexp.toString()==re.regexp.toString():h)?m.pre_match==re.pre_match:$)?m.post_match==re.post_match:u)?m.begin==re.begin:f:!1}),C(X,"$begin",function(re){var m=this;return re!==0&&he.$raise(ue("ArgumentError"),"MatchData#begin only supports 0th element"),m.begin}),C(X,"$end",function(re){var m=this;return re!==0&&he.$raise(ue("ArgumentError"),"MatchData#end only supports 0th element"),m.begin+m.matches[re].length}),C(X,"$captures",function(){var re=this;return re.matches.slice(1)}),C(X,"$named_captures",function(){var re=this,m=F;return m=re.$captures(),Ie(re.$regexp().$named_captures(),"transform_values",[],function(u){return u==null&&(u=F),m["$[]"](Me(u.$last(),1))})}),C(X,"$names",function(){var re=this;return re.$regexp().$names()}),C(X,"$inspect",function(){var re=this,m="#<MatchData "+re.matches[0].$inspect();if(re.$regexp().$names()["$empty?"]())for(var f=1,u=re.matches.length;f<u;f++)m+=" "+f+":"+re.matches[f].$inspect();else Ie(re.$named_captures(),"each",[],function(h,p){return h==null&&(h=F),p==null&&(p=F),m+=" "+h+":"+p.$inspect()});return m+">"}),C(X,"$length",function(){var re=this;return re.matches.length}),C(X,"$to_a",te("matches")),C(X,"$to_s",function(){var re=this;return re.matches[0]}),C(X,"$values_at",function(re){var m,f,u=this;m=we(arguments),f=m;var $,h,p,D=[];for($=0;$<f.length;$++){if(f[$].$$is_range&&(h=f[$].$to_a(),h.unshift($,1),Array.prototype.splice.apply(f,h)),p=Ce["$coerce_to!"](f[$],ue("Integer"),"to_int"),p<0&&(p+=u.matches.length,p<0)){D.push(F);continue}D.push(u.matches[p])}return D},-1),Be(X,"eql?","=="),Be(X,"size","length")}(pe[0],null,pe)};Opal.modules["corelib/string"]=function(t){var e=t.coerce_to,n=t.respond_to,s=t.global_multiline_regexp,o=t.prop,d=t.klass,b=t.def,k=t.Opal,C=t.defs,g=t.slice,se=t.send,we=t.to_a,he=t.extract_kwargs,Ce=t.ensure_kwargs,Be=t.eqeqeq,Ie=t.Kernel,ee=t.truthy,ke=t.gvars,Oe=t.rb_divide,Ne=t.rb_plus,Fe=t.eqeq,Te=t.hash2,Me=t.alias,te=t.const_set,pe=t.top,F=[],ue=t.$r(F),G=t.nil,x=t.$$$;return t.add_stubs("require,include,coerce_to?,initialize,===,format,raise,respond_to?,to_s,to_str,<=>,==,=~,new,force_encoding,casecmp,empty?,ljust,ceil,/,+,rjust,floor,coerce_to!,nil?,class,copy_singleton_methods,initialize_clone,initialize_dup,enum_for,chomp,[],to_i,length,each_line,to_proc,to_a,match,match?,captures,proc,succ,escape,include?,upcase,unicode_normalize,dup,__id__,next,intern,pristine"),pe.$require("corelib/comparable"),pe.$require("corelib/regexp"),function(Z,X,ge){var j=d(Z,X,"String"),Ke=[j].concat(ge),ve=t.$r(Ke);j.$include(x("Comparable")),t.prop(j.$$prototype,"$$is_string",!0),b(j,"$__id__",function(){var f=this;return f.toString()}),C(j,"$try_convert",function(f){return k["$coerce_to?"](f,x("String"),"to_str")}),C(j,"$new",function(f){var u,$,h=this;u=g(arguments),$=u;var p=$[0]||"",D=$[$.length-1];return p=e(p,x("String"),"to_str"),D&&D.$$is_hash&&D.$$smap.encoding&&(p=p.$force_encoding(D.$$smap.encoding)),p=new h.$$constructor(p),p.$initialize.$$pristine||se(p,"initialize",we($)),p},-1),b(j,"$initialize",function(f,u){var $,h;return $=g(arguments),h=he($),h=Ce(h),$.length>0&&$.shift(),h.$$smap.encoding,h.$$smap.capacity,G},-1),b(j,"$%",function(f){var u=this;return Be(x("Array"),f)?se(u,"format",[u].concat(we(f))):u.$format(u,f)}),b(j,"$*",function(f){var u=this;if(f=e(f,x("Integer"),"to_int"),f<0&&Ie.$raise(x("ArgumentError"),"negative argument"),f===0)return"";var $="",h=u.toString();for(h.length*f>=1<<28&&Ie.$raise(x("RangeError"),"multiply count must not overflow maximum string size");(f&1)===1&&($+=h),f>>>=1,f!==0;)h+=h;return $}),b(j,"$+",function(f){var u=this;if(f=e(f,x("String"),"to_str"),f==""&&u.$$class===t.String)return u;if(u==""&&f.$$class===t.String)return f;var $=u+f;return u.encoding===$.encoding&&f.encoding===$.encoding||u.encoding.name==="UTF-8"||f.encoding.name==="UTF-8"?$:t.enc($,u.encoding)}),b(j,"$<=>",function(f){var u=this;if(ee(f["$respond_to?"]("to_str")))return f=f.$to_str().$to_s(),u>f?1:u<f?-1:0;var $=f["$<=>"](u);return $===G?G:$>0?-1:$<0?1:0}),b(j,"$==",function(f){var u=this;return f.$$is_string?u.toString()===f.toString():n(f,"$to_str")?f["$=="](u):!1}),b(j,"$=~",function(f){var u=this;return f.$$is_string&&Ie.$raise(x("TypeError"),"type mismatch: String given"),f["$=~"](u)}),b(j,"$[]",function(f,u){var $=this,h=$.length,p,D;if(f.$$is_range)return p=f.excl,D=f,u=f.end===G?-1:e(f.end,x("Integer"),"to_int"),f=f.begin===G?0:e(f.begin,x("Integer"),"to_int"),Math.abs(f)>h?G:(f<0&&(f+=h),u<0&&(u+=h),(!p||D.end===G)&&(u+=1),u=u-f,u<0&&(u=0),$.substr(f,u));if(f.$$is_string)return u!=null&&Ie.$raise(x("TypeError")),$.indexOf(f)!==-1?f:G;if(f.$$is_regexp){var z=$.match(f);return z===null?(ke["~"]=G,G):(ke["~"]=x("MatchData").$new(f,z),u==null?z[0]:(u=e(u,x("Integer"),"to_int"),u<0&&-u<z.length?z[u+=z.length]:u>=0&&u<z.length?z[u]:G))}return f=e(f,x("Integer"),"to_int"),f<0&&(f+=h),u==null?f>=h||f<0?G:$.substr(f,1):(u=e(u,x("Integer"),"to_int"),u<0||f>h||f<0?G:$.substr(f,u))},-2),b(j,"$b",function(){var f=this;return new String(f).$force_encoding("binary")}),b(j,"$capitalize",function(){var f=this;return f.charAt(0).toUpperCase()+f.substr(1).toLowerCase()}),b(j,"$casecmp",function(f){var u=this;if(!ee(f["$respond_to?"]("to_str")))return G;f=e(f,x("String"),"to_str").$to_s();var $=/^[\x00-\x7F]*$/;return $.test(u)&&$.test(f)&&(u=u.toLowerCase(),f=f.toLowerCase()),u["$<=>"](f)}),b(j,"$casecmp?",function(f){var u=this,$=u.$casecmp(f);return $===G?G:$===0}),b(j,"$center",function(f,u){var $=this;if(u==null&&(u=" "),f=e(f,x("Integer"),"to_int"),u=e(u,x("String"),"to_str").$to_s(),ee(u["$empty?"]())&&Ie.$raise(x("ArgumentError"),"zero width padding"),ee(f<=$.length))return $;var h=$.$ljust(Oe(Ne(f,$.length),2).$ceil(),u),p=$.$rjust(Oe(Ne(f,$.length),2).$floor(),u);return p+h.slice($.length)},-2),b(j,"$chomp",function(f){var u=this;if(ke["/"]==null&&(ke["/"]=G),f==null&&(f=ke["/"]),ee(f===G||u.length===0))return u;f=k["$coerce_to!"](f,x("String"),"to_str").$to_s();var $;if(f===`
`)$=u.replace(/\r?\n?$/,"");else if(f==="")$=u.replace(/(\r?\n)+$/,"");else if(u.length>=f.length){var h=u.substr(u.length-f.length,f.length);h===f&&($=u.substr(0,u.length-f.length))}return $??u},-1),b(j,"$chop",function(){var f=this,u=f.length,$;return u<=1?$="":f.charAt(u-1)===`
`&&f.charAt(u-2)==="\r"?$=f.substr(0,u-2):$=f.substr(0,u-1),$}),b(j,"$chr",function(){var f=this;return f.charAt(0)}),b(j,"$clone",function(f){var u,$=this,h=G;return f=Ce(f),u=f.$$smap.freeze,u==null&&(u=G),ee(u["$nil?"]())||Fe(u,!0)||Fe(u,!1)||$.$raise(ve("ArgumentError"),"unexpected value for freeze: "+u.$class()),h=new String($),h.$copy_singleton_methods($),h.$initialize_clone($,Te(["freeze"],{freeze:u})),Fe(u,!0)?h.$$frozen||(h.$$frozen=!0):ee(u["$nil?"]())&&$.$$frozen&&(h.$$frozen=!0),h},-1),b(j,"$dup",function(){var f=this,u=G;return u=new String(f),u.$initialize_dup(f),u}),b(j,"$count",function(f){var u,$,h=this;u=g(arguments),$=u,$.length===0&&Ie.$raise(x("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var p=re($);return p===null?0:h.length-h.replace(new RegExp(p,"g"),"").length},-1),b(j,"$delete",function(f){var u,$,h=this;u=g(arguments),$=u,$.length===0&&Ie.$raise(x("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var p=re($);return p===null?h:h.replace(new RegExp(p,"g"),"")},-1),b(j,"$delete_prefix",function(f){var u=this;return f.$$is_string||(f=e(f,x("String"),"to_str")),u.slice(0,f.length)===f?u.slice(f.length):u}),b(j,"$delete_suffix",function(f){var u=this;return f.$$is_string||(f=e(f,x("String"),"to_str")),u.slice(u.length-f.length)===f?u.slice(0,u.length-f.length):u}),b(j,"$downcase",function(){var f=this;return f.toLowerCase()}),b(j,"$each_line",function m(f,u){var $=m.$$p||G,h,p,D,z,ie=this;if(ke["/"]==null&&(ke["/"]=G),m.$$p=null,h=g(arguments),p=he(h),p=Ce(p),h.length>0&&(D=h.shift()),D==null&&(D=ke["/"]),z=p.$$smap.chomp,z==null&&(z=!1),$===G)return ie.$enum_for("each_line",D,Te(["chomp"],{chomp:z}));if(D===G)return t.yield1($,ie),ie;D=e(D,x("String"),"to_str");var Ue,ut,yt,Tt,Ht,Lt,Kt,Ut;if(D.length===0){for(Ue=ie.split(/((?:\r?\n){2})(?:(?:\r?\n)*)/),ut=0,yt=Ue.length;ut<yt;ut+=2)(Ue[ut]||Ue[ut+1])&&(Ut=(Ue[ut]||"")+(Ue[ut+1]||""),z&&(Ut=Ut.$chomp(`
`)),t.yield1($,Ut));return ie}for(Ht=ie.$chomp(D),Lt=ie.length!=Ht.length,Kt=Ht.split(D),ut=0,Tt=Kt.length;ut<Tt;ut++)Ut=Kt[ut],(ut<Tt-1||Lt)&&(Ut+=D),z&&(Ut=Ut.$chomp(D)),t.yield1($,Ut);return ie},-1),b(j,"$empty?",function(){var f=this;return f.length===0}),b(j,"$end_with?",function(f){var u,$,h=this;u=g(arguments),$=u;for(var p=0,D=$.length;p<D;p++){var z=e($[p],x("String"),"to_str").$to_s();if(h.length>=z.length&&h.substr(h.length-z.length,z.length)==z)return!0}return!1},-1),b(j,"$gsub",function m(f,u){var $=m.$$p||G,h=this;if(m.$$p=null,u===void 0&&$===G)return h.$enum_for("gsub",f);var p="",D=G,z=0,ie,Ue;f.$$is_regexp?f=s(f):(f=e(f,x("String"),"to_str"),f=new RegExp(f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(var ut;;){if(ie=f.exec(h),ie===null){ke["~"]=G,p+=h.slice(z);break}D=x("MatchData").$new(f,ie),u===void 0?(ut=f.lastIndex,Ue=$(ie[0]),f.lastIndex=ut):u.$$is_hash?Ue=u["$[]"](ie[0]).$to_s():(u.$$is_string||(u=e(u,x("String"),"to_str")),Ue=u.replace(/([\\]+)([0-9+&`'])/g,function(yt,Tt,Ht){if(Tt.length%2===0)return yt;switch(Ht){case"+":for(var Lt=ie.length-1;Lt>0;Lt--)if(ie[Lt]!==void 0)return Tt.slice(1)+ie[Lt];return"";case"&":return Tt.slice(1)+ie[0];case"`":return Tt.slice(1)+h.slice(0,ie.index);case"'":return Tt.slice(1)+h.slice(ie.index+ie[0].length);default:return Tt.slice(1)+(ie[Ht]||"")}}).replace(/\\\\/g,"\\")),f.lastIndex===ie.index?(p+=h.slice(z,ie.index)+Ue+(h[ie.index]||""),f.lastIndex+=1):p+=h.slice(z,ie.index)+Ue,z=f.lastIndex}return ke["~"]=D,p},-2),b(j,"$hash",function(){var f=this;return f.toString()}),b(j,"$hex",function(){var f=this;return f.$to_i(16)}),b(j,"$include?",function(f){var u=this;return f.$$is_string||(f=e(f,x("String"),"to_str")),u.indexOf(f)!==-1}),b(j,"$index",function(f,u){var $=this,h,p,D;if(u===void 0)u=0;else if(u=e(u,x("Integer"),"to_int"),u<0&&(u+=$.length,u<0))return G;if(f.$$is_regexp)for(D=s(f);;){if(p=D.exec($),p===null){ke["~"]=G,h=-1;break}if(p.index>=u){ke["~"]=x("MatchData").$new(D,p),h=p.index;break}D.lastIndex=p.index+1}else f=e(f,x("String"),"to_str"),f.length===0&&u>$.length?h=-1:h=$.indexOf(f,u);return h===-1?G:h},-2),b(j,"$inspect",function(){var f=this,u=/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,$={"\x07":"\\a","\x1B":"\\e","\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"},h=f.replace(u,function(p){return $[p]?$[p]:(p=p.charCodeAt(0),p<=255&&(f.encoding["$binary?"]()||f.internal_encoding["$binary?"]())?"\\x"+("00"+p.toString(16).toUpperCase()).slice(-2):"\\u"+("0000"+p.toString(16).toUpperCase()).slice(-4))});return'"'+h.replace(/\#[\$\@\{]/g,"\\$&")+'"'}),b(j,"$intern",function(){var f=this;return f.toString()}),b(j,"$length",function(){var f=this;return f.length}),Me(j,"size","length"),b(j,"$lines",function m(f,u){var $=m.$$p||G,h,p,D,z,ie=this,Ue=G;return ke["/"]==null&&(ke["/"]=G),m.$$p=null,h=g(arguments),p=he(h),p=Ce(p),h.length>0&&(D=h.shift()),D==null&&(D=ke["/"]),z=p.$$smap.chomp,z==null&&(z=!1),Ue=se(ie,"each_line",[D,Te(["chomp"],{chomp:z})],$.$to_proc()),ee($)?ie:Ue.$to_a()},-1),b(j,"$ljust",function(f,u){var $=this;if(u==null&&(u=" "),f=e(f,x("Integer"),"to_int"),u=e(u,x("String"),"to_str").$to_s(),ee(u["$empty?"]())&&Ie.$raise(x("ArgumentError"),"zero width padding"),ee(f<=$.length))return $;var h=-1,p="";for(f-=$.length;++h<f;)p+=u;return $+p.slice(0,f)},-2),b(j,"$lstrip",function(){var f=this;return f.replace(/^[\u0000\s]*/,"")}),b(j,"$ascii_only?",function(){var f=this;return f.encoding.ascii?/^[\x00-\x7F]*$/.test(f):!1}),b(j,"$match",function m(f,u){var $=m.$$p||G,h=this;return m.$$p=null,(Be(ve("String"),f)||ee(f["$respond_to?"]("to_str")))&&(f=x("Regexp").$new(f.$to_str())),Be(x("Regexp"),f)||Ie.$raise(x("TypeError"),"wrong argument type "+f.$class()+" (expected Regexp)"),se(f,"match",[h,u],$.$to_proc())},-2),b(j,"$match?",function(f,u){var $=this;return(Be(ve("String"),f)||ee(f["$respond_to?"]("to_str")))&&(f=x("Regexp").$new(f.$to_str())),Be(x("Regexp"),f)||Ie.$raise(x("TypeError"),"wrong argument type "+f.$class()+" (expected Regexp)"),f["$match?"]($,u)},-2),b(j,"$next",function(){var f=this,u=f.length;if(u===0)return"";for(var $=f,h=f.search(/[a-zA-Z0-9]/),p=!1,D;u--;){if(D=f.charCodeAt(u),D>=48&&D<=57||D>=65&&D<=90||D>=97&&D<=122)switch(D){case 57:p=!0,D=48;break;case 90:p=!0,D=65;break;case 122:p=!0,D=97;break;default:p=!1,D+=1}else h===-1?D===255?(p=!0,D=0):(p=!1,D+=1):p=!0;if($=$.slice(0,u)+String.fromCharCode(D)+$.slice(u+1),p&&(u===0||u===h)){switch(D){case 65:break;case 97:break;default:D+=1}u===0?$=String.fromCharCode(D)+$:$=$.slice(0,u)+String.fromCharCode(D)+$.slice(u),p=!1}if(!p)break}return $}),b(j,"$oct",function(){var f=this,u,$=f,h=8;return/^\s*_/.test($)?0:($=$.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(p,D,z,ie){switch(ie.charAt(0)){case"+":case"-":return p;case"0":if(ie.charAt(1)==="x"&&z==="0x")return p}switch(z){case"0b":h=2;break;case"0":case"0o":h=8;break;case"0d":h=10;break;case"0x":h=16;break}return D+ie}),u=parseInt($.replace(/_(?!_)/g,""),h),isNaN(u)?0:u)}),b(j,"$ord",function(){var f=this;return typeof f.codePointAt=="function"?f.codePointAt(0):f.charCodeAt(0)}),b(j,"$partition",function(f){var u=this,$,h;return f.$$is_regexp?(h=f.exec(u),h===null?$=-1:(x("MatchData").$new(f,h),f=h[0],$=h.index)):(f=e(f,x("String"),"to_str"),$=u.indexOf(f)),$===-1?[u,"",""]:[u.slice(0,$),u.slice($,$+f.length),u.slice($+f.length)]}),b(j,"$reverse",function(){var f=this;return f.split("").reverse().join("")}),b(j,"$rindex",function(f,u){var $=this,h,p,D,z;if(u===void 0)u=$.length;else if(u=e(u,x("Integer"),"to_int"),u<0&&(u+=$.length,u<0))return G;if(f.$$is_regexp){for(p=null,D=s(f);z=D.exec($),!(z===null||z.index>u);)p=z,D.lastIndex=p.index+1;p===null?(ke["~"]=G,h=-1):(x("MatchData").$new(D,p),h=p.index)}else f=e(f,x("String"),"to_str"),h=$.lastIndexOf(f,u);return h===-1?G:h},-2),b(j,"$rjust",function(f,u){var $=this;if(u==null&&(u=" "),f=e(f,x("Integer"),"to_int"),u=e(u,x("String"),"to_str").$to_s(),ee(u["$empty?"]())&&Ie.$raise(x("ArgumentError"),"zero width padding"),ee(f<=$.length))return $;var h=Math.floor(f-$.length),p=Math.floor(h/u.length),D=Array(p+1).join(u),z=h-D.length;return D+u.slice(0,z)+$},-2),b(j,"$rpartition",function(f){var u=this,$,h,p,D;if(f.$$is_regexp){for(h=null,p=s(f);D=p.exec(u),D!==null;)h=D,p.lastIndex=h.index+1;h===null?$=-1:(x("MatchData").$new(p,h),f=h[0],$=h.index)}else f=e(f,x("String"),"to_str"),$=u.lastIndexOf(f);return $===-1?["","",u]:[u.slice(0,$),u.slice($,$+f.length),u.slice($+f.length)]}),b(j,"$rstrip",function(){var f=this;return f.replace(/[\s\u0000]*$/,"")}),b(j,"$scan",function m(f,u){var $=m.$$p||G,h,p=this;m.$$p=null,u=Ce(u),h=u.$$smap.no_matchdata,h==null&&(h=!1);var D=[],z=G,ie;for(f.$$is_regexp?f=s(f):(f=e(f,x("String"),"to_str"),f=new RegExp(f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));(ie=f.exec(p))!=null;)z=x("MatchData").$new(f,ie,Te(["no_matchdata"],{no_matchdata:h})),$===G?ie.length==1?D.push(ie[0]):D.push(z.$captures()):ie.length==1?t.yield1($,ie[0]):t.yield1($,z.$captures()),f.lastIndex===ie.index&&(f.lastIndex+=1);return h||(ke["~"]=z),$!==G?p:D},-2),b(j,"$singleton_class",function(){var f=this;return t.get_singleton_class(f)}),b(j,"$split",function(f,u){var $=this,h=G;if(ke[";"]==null&&(ke[";"]=G),$.length===0)return[];if(u===void 0)u=0;else if(u=k["$coerce_to!"](u,x("Integer"),"to_int"),u===1)return[$];(f===void 0||f===G)&&(f=ee(h=ke[";"])?h:" ");var p=[],D=$.toString(),z=0,ie,Ue,ut;if(f.$$is_regexp?f=s(f):(f=e(f,x("String"),"to_str").$to_s(),f===" "?(f=/\s+/gm,D=D.replace(/^\s+/,"")):f=new RegExp(f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm")),p=D.split(f),p.length===1&&p[0]===D)return[p[0]];for(;(Ue=p.indexOf(void 0))!==-1;)p.splice(Ue,1);if(u===0){for(;p[p.length-1]==="";)p.length-=1;return p}if(ie=f.exec(D),u<0){if(ie!==null&&ie[0]===""&&f.source.indexOf("(?=")===-1)for(Ue=0,ut=ie.length;Ue<ut;Ue++)p.push("");return p}if(ie!==null&&ie[0]==="")return p.splice(u-1,p.length-1,p.slice(u-1).join("")),p;if(u>=p.length)return p;for(Ue=0;ie!==null&&(Ue++,z=f.lastIndex,Ue+1!==u);)ie=f.exec(D);return p.splice(u-1,p.length-1,D.slice(z)),p},-1),b(j,"$squeeze",function(f){var u,$,h=this;if(u=g(arguments),$=u,$.length===0)return h.replace(/(.)\1+/g,"$1");var p=re($);return p===null?h:h.replace(new RegExp("("+p+")\\1+","g"),"$1")},-1),b(j,"$start_with?",function(f){var u,$,h=this;u=g(arguments),$=u;for(var p=0,D=$.length;p<D;p++)if($[p].$$is_regexp){var z=$[p],ie=z.exec(h);if(ie!=null&&ie.index===0)return ke["~"]=x("MatchData").$new(z,ie),!0;ke["~"]=G}else{var Ue=e($[p],x("String"),"to_str").$to_s();if(h.indexOf(Ue)===0)return!0}return!1},-1),b(j,"$strip",function(){var f=this;return f.replace(/^[\s\u0000]*|[\s\u0000]*$/g,"")}),b(j,"$sub",function m(f,u){var $=m.$$p||G,h=this;m.$$p=null,f.$$is_regexp||(f=e(f,x("String"),"to_str"),f=new RegExp(f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var p,D=f.exec(h);return D===null?(ke["~"]=G,p=h.toString()):(x("MatchData").$new(f,D),u===void 0?($===G&&Ie.$raise(x("ArgumentError"),"wrong number of arguments (1 for 2)"),p=h.slice(0,D.index)+$(D[0])+h.slice(D.index+D[0].length)):u.$$is_hash?p=h.slice(0,D.index)+u["$[]"](D[0]).$to_s()+h.slice(D.index+D[0].length):(u=e(u,x("String"),"to_str"),u=u.replace(/([\\]+)([0-9+&`'])/g,function(z,ie,Ue){if(ie.length%2===0)return z;switch(Ue){case"+":for(var ut=D.length-1;ut>0;ut--)if(D[ut]!==void 0)return ie.slice(1)+D[ut];return"";case"&":return ie.slice(1)+D[0];case"`":return ie.slice(1)+h.slice(0,D.index);case"'":return ie.slice(1)+h.slice(D.index+D[0].length);default:return ie.slice(1)+(D[Ue]||"")}}).replace(/\\\\/g,"\\"),p=h.slice(0,D.index)+u+h.slice(D.index+D[0].length))),p},-2),b(j,"$sum",function(f){var u=this;f==null&&(f=16),f=e(f,x("Integer"),"to_int");for(var $=0,h=u.length,p=0;p<h;p++)$+=u.charCodeAt(p);return f<=0?$:$&Math.pow(2,f)-1},-1),b(j,"$swapcase",function(){var f=this,u=f.replace(/([a-z]+)|([A-Z]+)/g,function($,h,p){return h?$.toUpperCase():$.toLowerCase()});return u}),b(j,"$to_f",function(){var f=this;if(f.charAt(0)==="_")return 0;var u=parseFloat(f.replace(/_/g,""));return isNaN(u)||u==1/0||u==-1/0?0:u}),b(j,"$to_i",function(f){var u=this;f==null&&(f=10);var $,h=u.toLowerCase(),p=e(f,x("Integer"),"to_int");return(p===1||p<0||p>36)&&Ie.$raise(x("ArgumentError"),"invalid radix "+p),/^\s*_/.test(h)?0:(h=h.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(D,z,ie,Ue){switch(Ue.charAt(0)){case"+":case"-":return D;case"0":if(Ue.charAt(1)==="x"&&ie==="0x"&&(p===0||p===16))return D}switch(ie){case"0b":if(p===0||p===2)return p=2,z+Ue;break;case"0":case"0o":if(p===0||p===8)return p=8,z+Ue;break;case"0d":if(p===0||p===10)return p=10,z+Ue;break;case"0x":if(p===0||p===16)return p=16,z+Ue;break}return D}),$=parseInt(h.replace(/_(?!_)/g,""),p),isNaN($)?0:$)},-1),b(j,"$to_proc",function m(){m.$$p;var f=this,u=G,$=G,h=G;return m.$$p=null,u=f.valueOf(),$=t.jsid(u),h=se(Ie,"proc",[],function p(D){var z=p.$$p||G,ie,Ue;p.$$p=null,ie=g(arguments),Ue=ie,Ue.length===0&&Ie.$raise(x("ArgumentError"),"no receiver given");var ut=Ue[0];ut==null&&(ut=G);var yt=ut[$];return yt?Ue=Ue.slice(1):(yt=ut.$method_missing,Ue[0]=u),typeof z=="function"&&(yt.$$p=z),Ue.length===0?yt.call(ut):yt.apply(ut,Ue)},-1),h.$$source_location=G,h}),b(j,"$to_s",function(){var f=this;return f.toString()}),b(j,"$tr",function(f,u){var $=this;if(f=e(f,x("String"),"to_str").$to_s(),u=e(u,x("String"),"to_str").$to_s(),f.length==0||f===u)return $;var h,p,D,z,ie,Ue,ut,yt={},Tt=f.split(""),Ht=Tt.length,Lt=u.split(""),Kt=Lt.length,Ut=!1,Xt=null;Tt[0]==="^"&&Tt.length>1&&(Ut=!0,Tt.shift(),Xt=Lt[Kt-1],Ht-=1);var Gt=[],$t=null;for(p=!1,h=0;h<Ht;h++)if(z=Tt[h],$t==null)$t=z,Gt.push(z);else if(z==="-")$t==="-"?(Gt.push("-"),Gt.push("-")):h==Ht-1?Gt.push("-"):p=!0;else if(p){for(ie=$t.charCodeAt(0),Ue=z.charCodeAt(0),ie>Ue&&Ie.$raise(x("ArgumentError"),'invalid range "'+String.fromCharCode(ie)+"-"+String.fromCharCode(Ue)+'" in string transliteration'),D=ie+1;D<Ue;D++)Gt.push(String.fromCharCode(D));Gt.push(z),p=null,$t=null}else Gt.push(z);if(Tt=Gt,Ht=Tt.length,Ut)for(h=0;h<Ht;h++)yt[Tt[h]]=!0;else{if(Kt>0){var De=[],Ye=null;for(p=!1,h=0;h<Kt;h++)if(z=Lt[h],Ye==null)Ye=z,De.push(z);else if(z==="-")Ye==="-"?(De.push("-"),De.push("-")):h==Kt-1?De.push("-"):p=!0;else if(p){for(ie=Ye.charCodeAt(0),Ue=z.charCodeAt(0),ie>Ue&&Ie.$raise(x("ArgumentError"),'invalid range "'+String.fromCharCode(ie)+"-"+String.fromCharCode(Ue)+'" in string transliteration'),D=ie+1;D<Ue;D++)De.push(String.fromCharCode(D));De.push(z),p=null,Ye=null}else De.push(z);Lt=De,Kt=Lt.length}var et=Ht-Kt;if(et>0){var T=Kt>0?Lt[Kt-1]:"";for(h=0;h<et;h++)Lt.push(T)}for(h=0;h<Ht;h++)yt[Tt[h]]=Lt[h]}var L="";for(h=0,ut=$.length;h<ut;h++){z=$.charAt(h);var be=yt[z];Ut?L+=be==null?Xt:z:L+=be??z}return L}),b(j,"$tr_s",function(f,u){var $=this;if(f=e(f,x("String"),"to_str").$to_s(),u=e(u,x("String"),"to_str").$to_s(),f.length==0)return $;var h,p,D,z,ie,Ue,ut,yt={},Tt=f.split(""),Ht=Tt.length,Lt=u.split(""),Kt=Lt.length,Ut=!1,Xt=null;Tt[0]==="^"&&Tt.length>1&&(Ut=!0,Tt.shift(),Xt=Lt[Kt-1],Ht-=1);var Gt=[],$t=null;for(p=!1,h=0;h<Ht;h++)if(z=Tt[h],$t==null)$t=z,Gt.push(z);else if(z==="-")$t==="-"?(Gt.push("-"),Gt.push("-")):h==Ht-1?Gt.push("-"):p=!0;else if(p){for(ie=$t.charCodeAt(0),Ue=z.charCodeAt(0),ie>Ue&&Ie.$raise(x("ArgumentError"),'invalid range "'+String.fromCharCode(ie)+"-"+String.fromCharCode(Ue)+'" in string transliteration'),D=ie+1;D<Ue;D++)Gt.push(String.fromCharCode(D));Gt.push(z),p=null,$t=null}else Gt.push(z);if(Tt=Gt,Ht=Tt.length,Ut)for(h=0;h<Ht;h++)yt[Tt[h]]=!0;else{if(Kt>0){var De=[],Ye=null;for(p=!1,h=0;h<Kt;h++)if(z=Lt[h],$t==null)$t=z,De.push(z);else if(z==="-")Ye==="-"?(De.push("-"),De.push("-")):h==Kt-1?De.push("-"):p=!0;else if(p){for(ie=$t.charCodeAt(0),Ue=z.charCodeAt(0),ie>Ue&&Ie.$raise(x("ArgumentError"),'invalid range "'+String.fromCharCode(ie)+"-"+String.fromCharCode(Ue)+'" in string transliteration'),D=ie+1;D<Ue;D++)De.push(String.fromCharCode(D));De.push(z),p=null,$t=null}else De.push(z);Lt=De,Kt=Lt.length}var et=Ht-Kt;if(et>0){var T=Kt>0?Lt[Kt-1]:"";for(h=0;h<et;h++)Lt.push(T)}for(h=0;h<Ht;h++)yt[Tt[h]]=Lt[h]}var L="",be=null;for(h=0,ut=$.length;h<ut;h++){z=$.charAt(h);var Pe=yt[z];Ut?Pe==null?be==null&&(L+=Xt,be=!0):(L+=z,be=null):Pe!=null?(be==null||be!==Pe)&&(L+=Pe,be=Pe):(L+=z,be=null)}return L}),b(j,"$upcase",function(){var f=this;return f.toUpperCase()}),b(j,"$upto",function m(f,u){var $=m.$$p||G,h=this;if(m.$$p=null,u==null&&(u=!1),$===G)return h.$enum_for("upto",f,u);var p,D,z=h.toString();if(f=e(f,x("String"),"to_str"),z.length===1&&f.length===1)for(p=z.charCodeAt(0),D=f.charCodeAt(0);p<=D&&!(u&&p===D);)$(String.fromCharCode(p)),p+=1;else if(parseInt(z,10).toString()===z&&parseInt(f,10).toString()===f)for(p=parseInt(z,10),D=parseInt(f,10);p<=D&&!(u&&p===D);)$(p.toString()),p+=1;else for(;z.length<=f.length&&z<=f&&!(u&&z===f);)$(z),z=z.$succ();return h},-2);function re(m){function f(yt){var Tt="",Ht,Lt=yt.length,Kt,Ut,Xt,Gt,$t;for(Ht=0;Ht<Lt;Ht++)if(Kt=yt.charAt(Ht),Kt==="-"&&Ht>0&&Ht<Lt-1&&!Ut){for(Xt=yt.charCodeAt(Ht-1),Gt=yt.charCodeAt(Ht+1),Xt>Gt&&Ie.$raise(x("ArgumentError"),'invalid range "'+Xt+"-"+Gt+'" in string transliteration'),$t=Xt+1;$t<Gt+1;$t++)Tt+=String.fromCharCode($t);Ut=!0,Ht++}else Ut=Kt==="\\",Tt+=Kt;return Tt}function u(yt,Tt){if(yt.length===0)return Tt;var Ht="",Lt,Kt=yt.length,Ut;for(Lt=0;Lt<Kt;Lt++)Ut=yt.charAt(Lt),Tt.indexOf(Ut)!==-1&&(Ht+=Ut);return Ht}var $,h,p,D,z,ie,Ue="",ut="";for($=0,h=m.length;$<h;$++)p=e(m[$],x("String"),"to_str"),D=p.charAt(0)==="^"&&p.length>1,p=f(D?p.slice(1):p),D?ut=u(ut,p):Ue=u(Ue,p);if(Ue.length>0&&ut.length>0){for(ie="",$=0,h=Ue.length;$<h;$++)z=Ue.charAt($),ut.indexOf(z)===-1&&(ie+=z);Ue=ie,ut=""}return Ue.length>0?"["+x("Regexp").$escape(Ue)+"]":ut.length>0?"[^"+x("Regexp").$escape(ut)+"]":null}return b(j,"$instance_variables",function(){return[]}),C(j,"$_load",function(f){var u,$,h=this;return u=g(arguments),$=u,se(h,"new",we($))},-1),b(j,"$unicode_normalize",function(f){var u=this;return f==null&&(f="nfc"),ee(["nfc","nfd","nfkc","nfkd"]["$include?"](f))||Ie.$raise(x("ArgumentError"),"Invalid normalization form "+f),u.normalize(f.$upcase())},-1),b(j,"$unicode_normalized?",function(f){var u=this;return f==null&&(f="nfc"),u.$unicode_normalize(f)["$=="](u)},-1),b(j,"$unpack",function(f){return Ie.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")}),b(j,"$unpack1",function(f){return Ie.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")}),b(j,"$freeze",function(){var f=this;return typeof f=="string"||o(f,"$$frozen",!0),f}),b(j,"$-@",function(){var f=this;return typeof f=="string"||f.$$frozen?f:f.encoding.name=="UTF-8"&&f.internal_encoding.name=="UTF-8"?f.toString():f.$dup().$freeze()}),b(j,"$frozen?",function(){var f=this;return typeof f=="string"||f.$$frozen===!0}),Me(j,"+@","dup"),Me(j,"===","=="),Me(j,"byteslice","[]"),Me(j,"eql?","=="),Me(j,"equal?","==="),Me(j,"object_id","__id__"),Me(j,"slice","[]"),Me(j,"succ","next"),Me(j,"to_str","to_s"),Me(j,"to_sym","intern"),k.$pristine(j,"initialize")}("::",String,F),te(F[0],"Symbol",ue("String"))};Opal.modules["corelib/enumerable"]=function(t){var e=t.truthy,n=t.coerce_to,s=t.yield1,o=t.yieldX,d=t.deny_frozen_access,b=t.module,k=t.send,C=t.slice,g=t.to_a,se=t.Opal,we=t.thrower,he=t.def,Ce=t.Kernel,Be=t.return_val,Ie=t.rb_gt,ee=t.rb_times,ke=t.rb_lt,Oe=t.eqeq,Ne=t.rb_plus,Fe=t.rb_minus,Te=t.rb_divide,Me=t.rb_le,te=t.hash2,pe=t.lambda,F=t.not,ue=t.alias,G=[],x=t.nil,Z=t.$$$;return t.add_stubs("each,public_send,destructure,to_enum,enumerator_size,new,yield,raise,slice_when,!,enum_for,flatten,map,to_proc,compact,to_a,warn,proc,==,nil?,respond_to?,coerce_to!,>,*,try_convert,<,+,-,ceil,/,size,select,__send__,length,<=,[],push,<<,[]=,===,inspect,<=>,first,reverse,sort,take,sort_by,compare,call,dup,sort!,map!,include?,-@,key?,values,transform_values,group_by,fetch,to_h,coerce_to?,class,zip,detect,find_all,collect_concat,collect,inject,entries"),function(X,ge){var j=b(X,"Enumerable"),Ke=[j].concat(ge),ve=t.$r(Ke);function re(m){return m.length===0&&(m=[x]),m.length>1&&(m=[m]),m}return he(j,"$all?",function m(f){try{var u=we("return"),$=m.$$p||x,h=this;return m.$$p=null,e(f!==void 0)?k(h,"each",[],function(D){var z,ie,Ue=x;if(z=C(arguments),ie=z,Ue=re(ie),e(k(f,"public_send",["==="].concat(g(Ue)))))return x;u.$throw(!1)},{$$arity:-1,$$ret:u}):$!==x?k(h,"each",[],function(D){var z,ie;if(z=C(arguments),ie=z,e(t.yieldX($,g(ie))))return x;u.$throw(!1)},{$$arity:-1,$$ret:u}):k(h,"each",[],function(D){var z,ie;if(z=C(arguments),ie=z,e(se.$destructure(ie)))return x;u.$throw(!1)},{$$arity:-1,$$ret:u}),!0}catch(p){if(p===u)return p.$v;throw p}},-1),he(j,"$any?",function m(f){try{var u=we("return"),$=m.$$p||x,h=this;return m.$$p=null,e(f!==void 0)?k(h,"each",[],function(D){var z,ie,Ue=x;if(z=C(arguments),ie=z,Ue=re(ie),e(k(f,"public_send",["==="].concat(g(Ue)))))u.$throw(!0);else return x},{$$arity:-1,$$ret:u}):$!==x?k(h,"each",[],function(D){var z,ie;if(z=C(arguments),ie=z,e(t.yieldX($,g(ie))))u.$throw(!0);else return x},{$$arity:-1,$$ret:u}):k(h,"each",[],function(D){var z,ie;if(z=C(arguments),ie=z,e(se.$destructure(ie)))u.$throw(!0);else return x},{$$arity:-1,$$ret:u}),!1}catch(p){if(p===u)return p.$v;throw p}},-1),he(j,"$chunk",function m(){var f=m.$$p||x,u=this;return m.$$p=null,f===x?k(u,"to_enum",["chunk"],function $(){var h=$.$$s==null?this:$.$$s;return h.$enumerator_size()},{$$s:u}):k(Z("Enumerator"),"new",[],function $(h){var p=$.$$s==null?this:$.$$s;h==null&&(h=x);var D=x,z=[];function ie(){z.length>0&&h.$yield(D,z)}p.$each.$$p=function(Ue){var ut=s(f,Ue);ut===x?(ie(),z=[],D=x):(D===x||D===ut?z.push(Ue):(ie(),z=[Ue]),D=ut)},p.$each(),ie()},{$$s:u})}),he(j,"$chunk_while",function m(){var f=m.$$p||x,u=this;return m.$$p=null,f===x&&Ce.$raise(Z("ArgumentError"),"no block given"),k(u,"slice_when",[],function(h,p){return h==null&&(h=x),p==null&&(p=x),t.yieldX(f,[h,p])["$!"]()})}),he(j,"$collect",function m(){var f=m.$$p||x,u=this;if(m.$$p=null,f===x)return k(u,"enum_for",["collect"],function h(){var p=h.$$s==null?this:h.$$s;return p.$enumerator_size()},{$$s:u});var $=[];return u.$each.$$p=function(){var h=o(f,arguments);$.push(h)},u.$each(),$}),he(j,"$collect_concat",function m(){var f=m.$$p||x,u=this;return m.$$p=null,f===x?k(u,"enum_for",["collect_concat"],function $(){var h=$.$$s==null?this:$.$$s;return h.$enumerator_size()},{$$s:u}):k(u,"map",[],f.$to_proc()).$flatten(1)}),he(j,"$compact",function(){var f=this;return f.$to_a().$compact()}),he(j,"$count",function m(f){var u=m.$$p||x,$=this,h=x;return m.$$p=null,h=0,f!=null&&u!==x&&$.$warn("warning: given block not used"),e(f!=null)?u=k(Ce,"proc",[],function(D){var z,ie;return z=C(arguments),ie=z,se.$destructure(ie)["$=="](f)},-1):e(u["$nil?"]())&&(u=k(Ce,"proc",[],Be(!0))),k($,"each",[],function(D){var z,ie;return z=C(arguments),ie=z,e(o(u,ie))?h++:x},-1),h},-1),he(j,"$cycle",function m(f){var u=m.$$p||x,$=this;if(m.$$p=null,f==null&&(f=x),u===x)return k($,"enum_for",["cycle",f],function z(){var ie=z.$$s==null?this:z.$$s;return e(f["$nil?"]())?e(ie["$respond_to?"]("size"))?Z(Z("Float"),"INFINITY"):x:(f=se["$coerce_to!"](f,Z("Integer"),"to_int"),e(Ie(f,0))?ee(ie.$enumerator_size(),f):0)},{$$s:$});if(!e(f["$nil?"]())&&(f=se["$coerce_to!"](f,Z("Integer"),"to_int"),e(f<=0)))return x;var h=[],p,D;if($.$each.$$p=function(){var z=se.$destructure(arguments);s(u,z),h.push(z)},$.$each(),h.length===0)return x;if(f===x)for(;;)for(p=0,D=h.length;p<D;p++)s(u,h[p]);else for(;f>1;){for(p=0,D=h.length;p<D;p++)s(u,h[p]);f--}},-1),he(j,"$detect",function m(f){try{var u=we("return"),$=m.$$p||x,h=this;return m.$$p=null,$===x?h.$enum_for("detect",f):(k(h,"each",[],function(D){var z,ie,Ue=x;if(z=C(arguments),ie=z,Ue=se.$destructure(ie),e(t.yield1($,Ue)))u.$throw(Ue);else return x},{$$arity:-1,$$ret:u}),f!==void 0?typeof f=="function"?f():f:x)}catch(p){if(p===u)return p.$v;throw p}},-1),he(j,"$drop",function(f){var u=this;f=n(f,Z("Integer"),"to_int"),e(f<0)&&Ce.$raise(Z("ArgumentError"),"attempt to drop negative size");var $=[],h=0;return u.$each.$$p=function(){f<=h&&$.push(se.$destructure(arguments)),h++},u.$each(),$}),he(j,"$drop_while",function m(){var f=m.$$p||x,u=this;if(m.$$p=null,f===x)return u.$enum_for("drop_while");var $=[],h=!0;return u.$each.$$p=function(){var p=se.$destructure(arguments);if(h){var D=s(f,p);e(D)||(h=!1,$.push(p))}else $.push(p)},u.$each(),$}),he(j,"$each_cons",function m(f){var u=m.$$p||x,$=this;if(m.$$p=null,e(arguments.length!=1)&&Ce.$raise(Z("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),f=se.$try_convert(f,Z("Integer"),"to_int"),e(f<=0)&&Ce.$raise(Z("ArgumentError"),"invalid size"),u===x)return k($,"enum_for",["each_cons",f],function p(){var D=p.$$s==null?this:p.$$s,z=x;return z=D.$enumerator_size(),e(z["$nil?"]())?x:Oe(z,0)||e(ke(z,f))?0:Ne(Fe(z,f),1)},{$$s:$});var h=[];return $.$each.$$p=function(){var p=se.$destructure(arguments);h.push(p),h.length>f&&h.shift(),h.length==f&&s(u,h.slice(0,f))},$.$each(),$}),he(j,"$each_entry",function m(f){var u=m.$$p||x,$,h,p=this;return m.$$p=null,$=C(arguments),h=$,u===x?k(p,"to_enum",["each_entry"].concat(g(h)),function D(){var z=D.$$s==null?this:D.$$s;return z.$enumerator_size()},{$$s:p}):(p.$each.$$p=function(){var D=se.$destructure(arguments);s(u,D)},p.$each.apply(p,h),p)},-1),he(j,"$each_slice",function m(f){var u=m.$$p||x,$=this;if(m.$$p=null,f=n(f,Z("Integer"),"to_int"),e(f<=0)&&Ce.$raise(Z("ArgumentError"),"invalid slice size"),u===x)return k($,"enum_for",["each_slice",f],function p(){var D=p.$$s==null?this:p.$$s;return e(D["$respond_to?"]("size"))?Te(D.$size(),f).$ceil():x},{$$s:$});var h=[];return $.$each.$$p=function(){var p=se.$destructure(arguments);h.push(p),h.length===f&&(s(u,h),h=[])},$.$each(),h.length>0&&s(u,h),$}),he(j,"$each_with_index",function m(f){var u=m.$$p||x,$,h,p=this;if(m.$$p=null,$=C(arguments),h=$,u===x)return k(p,"enum_for",["each_with_index"].concat(g(h)),function z(){var ie=z.$$s==null?this:z.$$s;return ie.$enumerator_size()},{$$s:p});var D=0;return p.$each.$$p=function(){var z=se.$destructure(arguments);u(z,D),D++},p.$each.apply(p,h),p},-1),he(j,"$each_with_object",function m(f){var u=m.$$p||x,$=this;return m.$$p=null,u===x?k($,"enum_for",["each_with_object",f],function h(){var p=h.$$s==null?this:h.$$s;return p.$enumerator_size()},{$$s:$}):($.$each.$$p=function(){var h=se.$destructure(arguments);u(h,f)},$.$each(),f)}),he(j,"$entries",function(f){var u,$,h=this;u=C(arguments),$=u;var p=[];return h.$each.$$p=function(){p.push(se.$destructure(arguments))},h.$each.apply(h,$),p},-1),he(j,"$filter_map",function m(){var f=m.$$p||x,u=this;return m.$$p=null,f===x?k(u,"enum_for",["filter_map"],function $(){var h=$.$$s==null?this:$.$$s;return h.$enumerator_size()},{$$s:u}):k(k(u,"map",[],f.$to_proc()),"select",[],"itself".$to_proc())}),he(j,"$find_all",function m(){var f=m.$$p||x,u=this;if(m.$$p=null,f===x)return k(u,"enum_for",["find_all"],function h(){var p=h.$$s==null?this:h.$$s;return p.$enumerator_size()},{$$s:u});var $=[];return u.$each.$$p=function(){var h=se.$destructure(arguments),p=s(f,h);e(p)&&$.push(h)},u.$each(),$}),he(j,"$find_index",function m(f){try{var u=we("return"),$=m.$$p||x,h=this,p=x;return m.$$p=null,e(f===void 0&&$===x)?h.$enum_for("find_index"):(f!=null&&$!==x&&h.$warn("warning: given block not used"),p=0,e(f!=null)?k(h,"each",[],function(z){var ie,Ue;return ie=C(arguments),Ue=ie,Oe(se.$destructure(Ue),f)&&u.$throw(p),p+=1},{$$arity:-1,$$ret:u}):k(h,"each",[],function(z){var ie,Ue;return ie=C(arguments),Ue=ie,e(t.yieldX($,g(Ue)))&&u.$throw(p),p+=1},{$$arity:-1,$$ret:u}),x)}catch(D){if(D===u)return D.$v;throw D}},-1),he(j,"$first",function(f){try{var u=we("return"),$=this,h=x,p=x;return e(f===void 0)?k($,"each",[],function(z){z==null&&(z=x),u.$throw(z)},{$$ret:u}):(h=[],f=n(f,Z("Integer"),"to_int"),e(f<0)&&Ce.$raise(Z("ArgumentError"),"attempt to take negative size"),e(f==0)?[]:(p=0,k($,"each",[],function(z){var ie,Ue;if(ie=C(arguments),Ue=ie,h.push(se.$destructure(Ue)),e(f<=++p))u.$throw(h);else return x},{$$arity:-1,$$ret:u}),h))}catch(D){if(D===u)return D.$v;throw D}},-1),he(j,"$grep",function m(f){var u=m.$$p||x,$=this,h=x;return m.$$p=null,h=[],k($,"each",[],function(D){var z,ie,Ue=x;return z=C(arguments),ie=z,Ue=re(ie),e(k(f,"__send__",["==="].concat(g(Ue))))?(u!==x?(e(Ie(ie.$length(),1))&&(ie=[ie]),ie=t.yieldX(u,g(ie))):e(Me(ie.$length(),1))&&(ie=ie["$[]"](0)),h.$push(ie)):x},-1),h}),he(j,"$grep_v",function m(f){var u=m.$$p||x,$=this,h=x;return m.$$p=null,h=[],k($,"each",[],function(D){var z,ie,Ue=x;return z=C(arguments),ie=z,Ue=re(ie),e(k(f,"__send__",["==="].concat(g(Ue))))?x:(u!==x?(e(Ie(ie.$length(),1))&&(ie=[ie]),ie=t.yieldX(u,g(ie))):e(Me(ie.$length(),1))&&(ie=ie["$[]"](0)),h.$push(ie))},-1),h}),he(j,"$group_by",function m(){var f=m.$$p||x,u,$=this,h=x,p=x;return m.$$p=null,f===x?k($,"enum_for",["group_by"],function D(){var z=D.$$s==null?this:D.$$s;return z.$enumerator_size()},{$$s:$}):(h=te([],{}),$.$each.$$p=function(){var D=se.$destructure(arguments),z=s(f,D);(e(p=h["$[]"](z))?p:(u=[z,[]],k(h,"[]=",u),u[u.length-1]))["$<<"](D)},$.$each(),h)}),he(j,"$include?",function(f){try{var u=we("return"),$=this;return k($,"each",[],function(p){var D,z;if(D=C(arguments),z=D,Oe(se.$destructure(z),f))u.$throw(!0);else return x},{$$arity:-1,$$ret:u}),!1}catch(h){if(h===u)return h.$v;throw h}}),he(j,"$inject",function m(f,u){var $=m.$$p||x,h=this;m.$$p=null;var p=f;return $!==x&&u===void 0?h.$each.$$p=function(){var D=se.$destructure(arguments);if(p===void 0){p=D;return}D=o($,[p,D]),p=D}:(u===void 0&&(Z("Symbol")["$==="](f)||Ce.$raise(Z("TypeError"),""+f.$inspect()+" is not a Symbol"),u=f,p=void 0),h.$each.$$p=function(){var D=se.$destructure(arguments);if(p===void 0){p=D;return}p=p.$__send__(u,D)}),h.$each(),p??x},-1),he(j,"$lazy",function(){var f=this;return k(Z(Z("Enumerator"),"Lazy"),"new",[f,f.$enumerator_size()],function($,h){var p,D;return $==null&&($=x),p=C(arguments,1),D=p,k($,"yield",g(D))},-2)}),he(j,"$enumerator_size",function(){var f=this;return e(f["$respond_to?"]("size"))?f.$size():x}),he(j,"$max",function m(f){var u=m.$$p||x,$=this;if(m.$$p=null,f===void 0||f===x){var h,p;return $.$each.$$p=function(){var D=se.$destructure(arguments);if(h===void 0){h=D;return}u!==x?p=o(u,[D,h]):p=D["$<=>"](h),p===x&&Ce.$raise(Z("ArgumentError"),"comparison failed"),p>0&&(h=D)},$.$each(),h===void 0?x:h}return f=n(f,Z("Integer"),"to_int"),k($,"sort",[],u.$to_proc()).$reverse().$first(f)},-1),he(j,"$max_by",function m(f){var u=m.$$p||x,$=this;if(m.$$p=null,f==null&&(f=x),!e(u))return k($,"enum_for",["max_by",f],function D(){var z=D.$$s==null?this:D.$$s;return z.$enumerator_size()},{$$s:$});if(!e(f["$nil?"]()))return k($,"sort_by",[],u.$to_proc()).$reverse().$take(f);var h,p;return $.$each.$$p=function(){var D=se.$destructure(arguments),z=s(u,D);if(h===void 0){h=D,p=z;return}z["$<=>"](p)>0&&(h=D,p=z)},$.$each(),h===void 0?x:h},-1),he(j,"$min",function m(f){var u=m.$$p||x,$=this;if(m.$$p=null,f==null&&(f=x),!e(f["$nil?"]()))return u!==x?k($,"sort",[],function(D,z){return D==null&&(D=x),z==null&&(z=x),t.yieldX(u,[D,z])}).$take(f):$.$sort().$take(f);var h;return u!==x?$.$each.$$p=function(){var p=se.$destructure(arguments);if(h===void 0){h=p;return}var D=u(p,h);D===x&&Ce.$raise(Z("ArgumentError"),"comparison failed"),D<0&&(h=p)}:$.$each.$$p=function(){var p=se.$destructure(arguments);if(h===void 0){h=p;return}se.$compare(p,h)<0&&(h=p)},$.$each(),h===void 0?x:h},-1),he(j,"$min_by",function m(f){var u=m.$$p||x,$=this;if(m.$$p=null,f==null&&(f=x),!e(u))return k($,"enum_for",["min_by",f],function D(){var z=D.$$s==null?this:D.$$s;return z.$enumerator_size()},{$$s:$});if(!e(f["$nil?"]()))return k($,"sort_by",[],u.$to_proc()).$take(f);var h,p;return $.$each.$$p=function(){var D=se.$destructure(arguments),z=s(u,D);if(h===void 0){h=D,p=z;return}z["$<=>"](p)<0&&(h=D,p=z)},$.$each(),h===void 0?x:h},-1),he(j,"$minmax",function m(){var f=m.$$p||x,u=this,$=x;m.$$p=null,f=e($=f)?$:k(Ce,"proc",[],function(ie,Ue){return ie==null&&(ie=x),Ue==null&&(Ue=x),ie["$<=>"](Ue)});var h=x,p=x,D=!0;return u.$each.$$p=function(){var z=se.$destructure(arguments);if(D)h=p=z,D=!1;else{var ie=f.$call(h,z);ie===x?Ce.$raise(Z("ArgumentError"),"comparison failed"):ie>0&&(h=z);var Ue=f.$call(p,z);Ue===x?Ce.$raise(Z("ArgumentError"),"comparison failed"):Ue<0&&(p=z)}},u.$each(),[h,p]}),he(j,"$minmax_by",function m(){var f=m.$$p||x,u=this;if(m.$$p=null,!e(f))return k(u,"enum_for",["minmax_by"],function z(){var ie=z.$$s==null?this:z.$$s;return ie.$enumerator_size()},{$$s:u});var $=x,h=x,p,D;return u.$each.$$p=function(){var z=se.$destructure(arguments),ie=s(f,z);(p===void 0||ie["$<=>"](p)<0)&&($=z,p=ie),(D===void 0||ie["$<=>"](D)>0)&&(h=z,D=ie)},u.$each(),[$,h]}),he(j,"$none?",function m(f){try{var u=we("return"),$=m.$$p||x,h=this;return m.$$p=null,e(f!==void 0)?k(h,"each",[],function(D){var z,ie,Ue=x;if(z=C(arguments),ie=z,Ue=re(ie),e(k(f,"public_send",["==="].concat(g(Ue)))))u.$throw(!1);else return x},{$$arity:-1,$$ret:u}):$!==x?k(h,"each",[],function(D){var z,ie;if(z=C(arguments),ie=z,e(t.yieldX($,g(ie))))u.$throw(!1);else return x},{$$arity:-1,$$ret:u}):k(h,"each",[],function(D){var z,ie,Ue=x;if(z=C(arguments),ie=z,Ue=se.$destructure(ie),e(Ue))u.$throw(!1);else return x},{$$arity:-1,$$ret:u}),!0}catch(p){if(p===u)return p.$v;throw p}},-1),he(j,"$one?",function m(f){try{var u=we("return"),$=m.$$p||x,h=this,p=x;return m.$$p=null,p=0,e(f!==void 0)?k(h,"each",[],function(z){var ie,Ue,ut=x;if(ie=C(arguments),Ue=ie,ut=re(Ue),e(k(f,"public_send",["==="].concat(g(ut)))))if(p=Ne(p,1),e(Ie(p,1)))u.$throw(!1);else return x;else return x},{$$arity:-1,$$ret:u}):$!==x?k(h,"each",[],function(z){var ie,Ue;if(ie=C(arguments),Ue=ie,!e(t.yieldX($,g(Ue))))return x;if(p=Ne(p,1),e(Ie(p,1)))u.$throw(!1);else return x},{$$arity:-1,$$ret:u}):k(h,"each",[],function(z){var ie,Ue;if(ie=C(arguments),Ue=ie,!e(se.$destructure(Ue)))return x;if(p=Ne(p,1),e(Ie(p,1)))u.$throw(!1);else return x},{$$arity:-1,$$ret:u}),p["$=="](1)}catch(D){if(D===u)return D.$v;throw D}},-1),he(j,"$partition",function m(){var f=m.$$p||x,u=this;if(m.$$p=null,f===x)return k(u,"enum_for",["partition"],function p(){var D=p.$$s==null?this:p.$$s;return D.$enumerator_size()},{$$s:u});var $=[],h=[];return u.$each.$$p=function(){var p=se.$destructure(arguments),D=s(f,p);e(D)?$.push(p):h.push(p)},u.$each(),[$,h]}),he(j,"$reject",function m(){var f=m.$$p||x,u=this;if(m.$$p=null,f===x)return k(u,"enum_for",["reject"],function h(){var p=h.$$s==null?this:h.$$s;return p.$enumerator_size()},{$$s:u});var $=[];return u.$each.$$p=function(){var h=se.$destructure(arguments),p=s(f,h);e(p)||$.push(h)},u.$each(),$}),he(j,"$reverse_each",function m(){var f=m.$$p||x,u=this;if(m.$$p=null,f===x)return k(u,"enum_for",["reverse_each"],function p(){var D=p.$$s==null?this:p.$$s;return D.$enumerator_size()},{$$s:u});var $=[];u.$each.$$p=function(){$.push(arguments)},u.$each();for(var h=$.length-1;h>=0;h--)o(f,$[h]);return $}),he(j,"$slice_before",function m(f){var u=m.$$p||x,$=this;return m.$$p=null,e(f===void 0&&u===x)&&Ce.$raise(Z("ArgumentError"),"both pattern and block are given"),e(f!==void 0&&u!==x||arguments.length>1)&&Ce.$raise(Z("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),k(Z("Enumerator"),"new",[],function h(p){var D=h.$$s==null?this:h.$$s;p==null&&(p=x);var z=[];u!==x?f===void 0?D.$each.$$p=function(){var ie=se.$destructure(arguments),Ue=s(u,ie);e(Ue)&&z.length>0&&(p["$<<"](z),z=[]),z.push(ie)}:D.$each.$$p=function(){var ie=se.$destructure(arguments),Ue=u(ie,f.$dup());e(Ue)&&z.length>0&&(p["$<<"](z),z=[]),z.push(ie)}:D.$each.$$p=function(){var ie=se.$destructure(arguments),Ue=f["$==="](ie);e(Ue)&&z.length>0&&(p["$<<"](z),z=[]),z.push(ie)},D.$each(),z.length>0&&p["$<<"](z)},{$$s:$})},-1),he(j,"$slice_after",function m(f){var u=m.$$p||x,$=this;return m.$$p=null,e(f===void 0&&u===x)&&Ce.$raise(Z("ArgumentError"),"both pattern and block are given"),e(f!==void 0&&u!==x||arguments.length>1)&&Ce.$raise(Z("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),e(f!==void 0)&&(u=k(Ce,"proc",[],function(p){return p==null&&(p=x),f["$==="](p)})),k(Z("Enumerator"),"new",[],function h(p){var D=h.$$s==null?this:h.$$s;p==null&&(p=x);var z;D.$each.$$p=function(){var ie=se.$destructure(arguments),Ue=s(u,ie);z==null&&(z=[]),e(Ue)?(z.push(ie),p.$yield(z),z=null):z.push(ie)},D.$each(),z!=null&&p.$yield(z)},{$$s:$})},-1),he(j,"$slice_when",function m(){var f=m.$$p||x,u=this;return m.$$p=null,f===x&&Ce.$raise(Z("ArgumentError"),"wrong number of arguments (0 for 1)"),k(Z("Enumerator"),"new",[],function $(h){var p=$.$$s==null?this:$.$$s;h==null&&(h=x);var D=x,z=x;p.$each_cons.$$p=function(){var ie=se.$destructure(arguments),Ue=ie[0],ut=ie[1],yt=o(f,[Ue,ut]);z=ut,D===x&&(D=[]),e(yt)?(D.push(Ue),h.$yield(D),D=[]):D.push(Ue)},p.$each_cons(2),D!==x&&(D.push(z),h.$yield(D))},{$$s:u})}),he(j,"$sort",function m(){var f=m.$$p||x,u=this,$=x;return m.$$p=null,$=u.$to_a(),f===x&&(f=pe(function(p,D){return p==null&&(p=x),D==null&&(D=x),p["$<=>"](D)})),k($,"sort",[],f.$to_proc())}),he(j,"$sort_by",function m(){var f=m.$$p||x,u=this,$=x;return m.$$p=null,f===x?k(u,"enum_for",["sort_by"],function h(){var p=h.$$s==null?this:h.$$s;return p.$enumerator_size()},{$$s:u}):($=k(u,"map",[],function(){var p=x;return p=se.$destructure(arguments),[t.yield1(f,p),p]}),k($,"sort!",[],function(p,D){return p==null&&(p=x),D==null&&(D=x),p[0]["$<=>"](D[0])}),k($,"map!",[],function(p){return p==null&&(p=x),p[1]}))}),he(j,"$sum",function m(f){var u=m.$$p||x,$=this,h=x,p=x;return m.$$p=null,f==null&&(f=0),h=f,p=0,k($,"each",[],function(z){var ie,Ue,ut=x,yt=x,Tt=x;return ie=C(arguments),Ue=ie,ut=u!==x?t.yieldX(u,g(Ue)):se.$destructure(Ue),F([Z(Z("Float"),"INFINITY"),Z(Z("Float"),"INFINITY")["$-@"]()]["$include?"](ut))&&e(ut["$respond_to?"]("-"))?(yt=Fe(ut,p),Tt=Ne(h,yt),p=Fe(Fe(Tt,h),yt),h=Tt):h=Ne(h,ut)},-1),h},-1),he(j,"$take",function(f){var u=this;return u.$first(f)}),he(j,"$take_while",function m(){try{var f=we("return"),u=m.$$p||x,$=this,h=x;return m.$$p=null,e(u)?(h=[],k($,"each",[],function(D){var z,ie,Ue=x;return z=C(arguments),ie=z,Ue=se.$destructure(ie),e(t.yield1(u,Ue))||f.$throw(h),h.push(Ue)},{$$arity:-1,$$ret:f})):$.$enum_for("take_while")}catch(p){if(p===f)return p.$v;throw p}}),he(j,"$uniq",function m(){var f=m.$$p||x,u=this,$=x;return m.$$p=null,$=te([],{}),k(u,"each",[],function(p){var D,z,ie,Ue=x,ut=x;return D=C(arguments),z=D,Ue=se.$destructure(z),ut=f!==x?t.yield1(f,Ue):Ue,e($["$key?"](ut))?x:(ie=[ut,Ue],k($,"[]=",ie),ie[ie.length-1])},-1),$.$values()}),he(j,"$tally",function(f){var u=this,$=x;return f&&f!==x&&d(f),$=k(k(u,"group_by",[],"itself".$to_proc()),"transform_values",[],"count".$to_proc()),e(f)?(k($,"each",[],function(p,D){var z;return p==null&&(p=x),D==null&&(D=x),z=[p,Ne(f.$fetch(p,0),D)],k(f,"[]=",z),z[z.length-1]}),f):$},-1),he(j,"$to_h",function m(f){var u=m.$$p||x,$,h,p=this;if(m.$$p=null,$=C(arguments),h=$,u!==x)return k(k(p,"map",[],u.$to_proc()),"to_h",g(h));var D=te([],{});return p.$each.$$p=function(){var z=se.$destructure(arguments),ie=se["$coerce_to?"](z,Z("Array"),"to_ary"),Ue,ut;ie.$$is_array||Ce.$raise(Z("TypeError"),"wrong element type "+ie.$class()+" (expected array)"),ie.length!==2&&Ce.$raise(Z("ArgumentError"),"wrong array length (expected 2, was "+ie.$length()+")"),Ue=ie[0],ut=ie[1],t.hash_put(D,Ue,ut)},p.$each.apply(p,h),D},-1),he(j,"$to_set",function m(f,u){var $=m.$$p||x,h,p,D,z=this;return m.$$p=null,h=C(arguments),h.length>0&&(p=h.shift()),p==null&&(p=ve("Set")),D=h,k(p,"new",[z].concat(g(D)),$.$to_proc())},-1),he(j,"$zip",function m(f){m.$$p;var u,$,h=this;return m.$$p=null,u=C(arguments),$=u,k(h.$to_a(),"zip",g($))},-1),ue(j,"find","detect"),ue(j,"filter","find_all"),ue(j,"flat_map","collect_concat"),ue(j,"map","collect"),ue(j,"member?","include?"),ue(j,"reduce","inject"),ue(j,"select","find_all"),ue(j,"to_a","entries")}("::",G)};Opal.modules["corelib/enumerator/arithmetic_sequence"]=function(t){var e=t.klass,n=t.truthy,s=t.to_a,o=t.eqeq,d=t.Kernel,b=t.def,k=t.rb_gt,C=t.rb_lt,g=t.rb_le,se=t.rb_ge,we=t.rb_plus,he=t.rb_minus,Ce=t.eqeqeq,Be=t.not,Ie=t.rb_times,ee=t.rb_divide,ke=t.alias,Oe=[],Ne=t.nil,Fe=t.$$$;return t.add_stubs("is_a?,==,raise,respond_to?,class,attr_reader,begin,end,exclude_end?,>,step,<,<=,>=,-@,_lesser_than_end?,<<,+,-,===,%,_greater_than_begin?,reverse,!,include?,*,to_i,abs,/,hash,inspect"),function(Te,Me,te){var pe=e(Te,Me,"Enumerator"),F=[pe].concat(te);return function(ue,G,x){var Z=e(ue,G,"ArithmeticSequence"),X=[Z].concat(x),ge=t.$r(X),j=Z.$$prototype;j.step_arg2=j.receiver_num=j.step_arg1=j.step=j.range=j.topfx=j.bypfx=j.creation_method=j.skipped_arg=Ne,t.prop(Z.$$prototype,"$$is_arithmetic_seq",!0);var Ke=1/0;return b(Z,"$initialize",function(re,m,f){var u,$=this,h=Ne;return f==null&&(f="step"),$.creation_method=f,n(re["$is_a?"](Fe("Array")))?(u=[].concat(s(re)),$.step_arg1=u[0]==null?Ne:u[0],$.step_arg2=u[1]==null?Ne:u[1],$.topfx=u[2]==null?Ne:u[2],$.bypfx=u[3]==null?Ne:u[3],$.receiver_num=m,$.step=1,$.range=n($.step_arg2)?($.step=$.step_arg2,t.Range.$new($.receiver_num,$.step_arg1,!1)):n($.step_arg1)?t.Range.$new($.receiver_num,$.step_arg1,!1):t.Range.$new($.receiver_num,Ne,!1)):(n(m)||($.skipped_arg=!0),u=[re,n(h=m)?h:1],$.range=u[0],$.step=u[1]),$.object=$,o($.step,0)&&d.$raise(ge("ArgumentError"),"step can't be 0"),n($.step["$respond_to?"]("to_int"))?Ne:d.$raise(ge("ArgumentError"),"no implicit conversion of "+$.step.$class()+" into Integer")},-2),Z.$attr_reader("step"),b(Z,"$begin",function(){var re=this;return re.range.$begin()}),b(Z,"$end",function(){var re=this;return re.range.$end()}),b(Z,"$exclude_end?",function(){var re=this;return re.range["$exclude_end?"]()}),b(Z,"$_lesser_than_end?",function(re){var m=this,f=Ne,u=Ne;return f=n(u=m.$end())?u:Ke,n(k(m.$step(),0))?n(m["$exclude_end?"]())?C(re,f):g(re,f):n(m["$exclude_end?"]())?k(re,f):se(re,f)}),b(Z,"$_greater_than_begin?",function(re){var m=this,f=Ne,u=Ne;return f=n(u=m.$begin())?u:Ke["$-@"](),n(k(m.$step(),0))?k(re,f):C(re,f)}),b(Z,"$first",function(re){var m=this,f=Ne,u=Ne,$=Ne;if(f=n(u=m.$begin())?u:Ke["$-@"](),!n(re))return n(m["$_lesser_than_end?"](f))?f:Ne;for($=[];n(n(u=m["$_lesser_than_end?"](f))?k(re,0):u);)$["$<<"](f),f=we(f,m.$step()),re=he(re,1);return $},-1),b(Z,"$each",function ve(){var re=ve.$$p||Ne,m=this,f=Ne,u=Ne;if(ve.$$p=null,re===Ne)return m;for(Ce(Ne,f=m.$begin())&&d.$raise(ge("TypeError"),"nil can't be coerced into Integer"),u=n(f=m.$begin())?f:Ke["$-@"]();n(m["$_lesser_than_end?"](u));)t.yield1(re,u),u=we(u,m.$step());return m}),b(Z,"$last",function(re){var m=this,f=Ne,u=Ne,$=Ne;if(Ce(Ke,f=m.$end())||Ce(Ke["$-@"](),f)?d.$raise(Fe("FloatDomainError"),m.$end()):Ce(Ne,f)&&d.$raise(Fe("RangeError"),"cannot get the last element of endless arithmetic sequence"),u=he(m.$end(),he(m.$end(),m.$begin())["$%"](m.$step())),n(m["$_lesser_than_end?"](u))||(u=he(u,m.$step())),!n(re))return n(m["$_greater_than_begin?"](u))?u:Ne;for($=[];n(n(f=m["$_greater_than_begin?"](u))?k(re,0):f);)$["$<<"](u),u=he(u,m.$step()),re=he(re,1);return $.$reverse()},-1),b(Z,"$size",function(){var re=this,m=Ne,f=Ne;return m=n(k(re.$step(),0))?1:-1,Be(re["$_lesser_than_end?"](re.$begin()))?0:n([Ke["$-@"](),Ke]["$include?"](re.$step()))?1:n([Ie(Ke["$-@"](),m),Ne]["$include?"](re.$begin()))||n([Ie(Ke,m),Ne]["$include?"](re.$end()))?Ke:(f=he(re.$end(),he(re.$end(),re.$begin())["$%"](re.$step())),n(re["$_lesser_than_end?"](f))||(f=he(f,re.$step())),we(ee(he(f,re.$begin()),re.$step()).$abs().$to_i(),1))}),b(Z,"$==",function(re){var m=this,f=Ne,u=Ne,$=Ne,h=Ne;return n(f=n(u=n($=n(h=m.$class()["$=="](re.$class()))?m.$begin()["$=="](re.$begin()):h)?m.$end()["$=="](re.$end()):$)?m.$step()["$=="](re.$step()):u)?m["$exclude_end?"]()["$=="](re["$exclude_end?"]()):f}),b(Z,"$hash",function(){var re=this;return[re.$begin(),re.$end(),re.$step(),re["$exclude_end?"]()].$hash()}),b(Z,"$inspect",function(){var re=this,m=Ne;return n(re.receiver_num)?(m=n(re.step_arg2)?"("+re.topfx+re.step_arg1.$inspect()+", "+re.bypfx+re.step_arg2.$inspect()+")":n(re.step_arg1)?"("+re.topfx+re.step_arg1.$inspect()+")":Ne,"("+re.receiver_num.$inspect()+"."+re.creation_method+m+")"):(m=n(re.skipped_arg)?Ne:"("+re.step+")","(("+re.range.$inspect()+")."+re.creation_method+m+")")}),ke(Z,"===","=="),ke(Z,"eql?","==")}(pe,pe,F)}("::",null,Oe)};Opal.modules["corelib/enumerator/chain"]=function(t){var e=t.deny_frozen_access,n=t.klass,s=t.slice,o=t.def,d=t.send,b=t.to_a,k=t.truthy,C=t.rb_plus,g=t.thrower,se=t.nil,we=t.$$$;return t.add_stubs("to_enum,size,each,<<,to_proc,include?,+,reverse_each,respond_to?,rewind,inspect"),function(he,Ce){var Be=n(he,Ce,"Enumerator");return function(Ie,ee){var ke=n(Ie,ee,"Chain"),Oe=ke.$$prototype;return Oe.enums=Oe.iterated=se,o(ke,"$initialize",function(Fe){var Te,Me,te=this;return Te=s(arguments),Me=Te,e(te),te.enums=Me,te.iterated=[],te.object=te},-1),o(ke,"$each",function Ne(Fe){var Te=Ne.$$p||se,Me,te,pe=this;return Ne.$$p=null,Me=s(arguments),te=Me,Te===se?d(pe,"to_enum",["each"].concat(b(te)),function F(){var ue=F.$$s==null?this:F.$$s;return ue.$size()},{$$s:pe}):(d(pe.enums,"each",[],function F(ue){var G=F.$$s==null?this:F.$$s;return G.iterated==null&&(G.iterated=se),ue==null&&(ue=se),G.iterated["$<<"](ue),d(ue,"each",b(te),Te.$to_proc())},{$$s:pe}),pe)},-1),o(ke,"$size",function(Fe){try{var Te=g("return"),Me,te,pe=this,F=se;return Me=s(arguments),te=Me,F=0,d(pe.enums,"each",[],function(G){var x=se;return G==null&&(G=se),x=d(G,"size",b(te)),k([se,we(we("Float"),"INFINITY")]["$include?"](x))&&Te.$throw(x),F=C(F,x)},{$$ret:Te}),F}catch(ue){if(ue===Te)return ue.$v;throw ue}},-1),o(ke,"$rewind",function(){var Fe=this;return d(Fe.iterated,"reverse_each",[],function(Me){return Me==null&&(Me=se),k(Me["$respond_to?"]("rewind"))?Me.$rewind():se}),Fe.iterated=[],Fe}),o(ke,"$inspect",function(){var Fe=this;return"#<Enumerator::Chain: "+Fe.enums.$inspect()+">"})}(Be,Be)}("::",null)};Opal.modules["corelib/enumerator/generator"]=function(t){var e=t.deny_frozen_access,n=t.klass,s=t.truthy,o=t.Kernel,d=t.def,b=t.slice,k=t.send,C=[],g=t.nil,se=t.$$$;return t.add_stubs("include,raise,new,to_proc"),function(we,he,Ce){var Be=n(we,he,"Enumerator"),Ie=[Be].concat(Ce);return function(ee,ke,Oe){var Ne=n(ee,ke,"Generator"),Fe=[Ne].concat(Oe),Te=t.$r(Fe),Me=Ne.$$prototype;return Me.block=g,Ne.$include(se("Enumerable")),d(Ne,"$initialize",function te(){var pe=te.$$p||g,F=this;return te.$$p=null,e(F),s(pe)||o.$raise(se("LocalJumpError"),"no block given"),F.block=pe}),d(Ne,"$each",function te(pe){var F=te.$$p||g,ue,G,x=this,Z=g;te.$$p=null,ue=b(arguments),G=ue,Z=k(Te("Yielder"),"new",[],F.$to_proc());try{G.unshift(Z),t.yieldX(x.block,G)}catch(X){if(X&&X.$thrower_type=="breaker")return X.$v;throw X}return x},-1)}(Ie[0],null,Ie)}(C[0],null,C)};Opal.modules["corelib/enumerator/lazy"]=function(t){var e=t.truthy,n=t.coerce_to,s=t.yield1,o=t.yieldX,d=t.deny_frozen_access,b=t.klass,k=t.slice,C=t.send2,g=t.find_super,se=t.to_a,we=t.defs,he=t.Kernel,Ce=t.send,Be=t.def,Ie=t.return_self,ee=t.Opal,ke=t.rb_lt,Oe=t.eqeqeq,Ne=t.rb_plus,Fe=t.alias,Te=[],Me=t.nil,te=t.$$$;return t.add_stubs("raise,each,new,enumerator_size,yield,respond_to?,try_convert,<,===,+,for,class,to_proc,destructure,inspect,to_a,find_all,collect_concat,collect,enum_for"),function(pe,F,ue){var G=b(pe,F,"Enumerator"),x=[G].concat(ue);return function(Z,X,ge){var j=b(Z,X,"Lazy"),Ke=[j].concat(ge),ve=t.$r(Ke),re=j.$$prototype;return re.enumerator=Me,b(j,te("Exception"),"StopLazyError"),we(j,"$for",function m(f,u){var $,h,p=m.$$p||Me,D=this,z=Me;return m.$$p=null,$=k(arguments,1),h=$,z=C(D,g(D,"for",m,!1,!0),"for",[f].concat(se(h)),p),z.enumerator=f,z},-2),Be(j,"$initialize",function m(f,u){var $=m.$$p||Me,h=this;return m.$$p=null,u==null&&(u=Me),d(h),$===Me&&he.$raise(te("ArgumentError"),"tried to call lazy new without a block"),h.enumerator=f,C(h,g(h,"initialize",m,!1,!0),"initialize",[u],function(D,z){var ie,Ue;D==null&&(D=Me),ie=k(arguments,1),Ue=ie;try{return Ce(f,"each",se(Ue),function(yt){var Tt,Ht;Tt=k(arguments),Ht=Tt,Ht.unshift(D),o($,Ht)},-1)}catch(ut){if(t.rescue(ut,[ve("StopLazyError")]))try{return Me}finally{t.pop_exception()}else throw ut}},-2)},-2),Be(j,"$lazy",Ie),Be(j,"$collect",function m(){var f=m.$$p||Me,u=this;return m.$$p=null,e(f)||he.$raise(te("ArgumentError"),"tried to call lazy map without a block"),Ce(ve("Lazy"),"new",[u,u.$enumerator_size()],function(h,p){var D,z;h==null&&(h=Me),D=k(arguments,1),z=D;var ie=o(f,z);h.$yield(ie)},-2)}),Be(j,"$collect_concat",function m(){var f=m.$$p||Me,u=this;return m.$$p=null,e(f)||he.$raise(te("ArgumentError"),"tried to call lazy map without a block"),Ce(ve("Lazy"),"new",[u,Me],function(h,p){var D,z;h==null&&(h=Me),D=k(arguments,1),z=D;var ie=o(f,z);if(ie["$respond_to?"]("force")&&ie["$respond_to?"]("each"))Ce(ie,"each",[],function(yt){return yt==null&&(yt=Me),h.$yield(yt)});else{var Ue=ee.$try_convert(ie,te("Array"),"to_ary");Ue===Me?h.$yield(ie):Ce(ie,"each",[],function(yt){return yt==null&&(yt=Me),h.$yield(yt)})}},-2)}),Be(j,"$drop",function(f){var u=this,$=Me,h=Me,p=Me;return f=n(f,te("Integer"),"to_int"),e(ke(f,0))&&he.$raise(te("ArgumentError"),"attempt to drop negative size"),$=u.$enumerator_size(),h=Oe(te("Integer"),$)&&e(ke(f,$))?f:$,p=0,Ce(ve("Lazy"),"new",[u,h],function(z,ie){var Ue,ut;return z==null&&(z=Me),Ue=k(arguments,1),ut=Ue,e(ke(p,f))?p=Ne(p,1):Ce(z,"yield",se(ut))},-2)}),Be(j,"$drop_while",function m(){var f=m.$$p||Me,u=this,$=Me;return m.$$p=null,e(f)||he.$raise(te("ArgumentError"),"tried to call lazy drop_while without a block"),$=!0,Ce(ve("Lazy"),"new",[u,Me],function(p,D){var z,ie;if(p==null&&(p=Me),z=k(arguments,1),ie=z,e($)){var Ue=o(f,ie);e(Ue)||($=!1,Ce(p,"yield",se(ie)))}else return Ce(p,"yield",se(ie))},-2)}),Be(j,"$enum_for",function m(f,u){var $=m.$$p||Me,h,p,D,z=this;return m.$$p=null,h=k(arguments),h.length>0&&(p=h.shift()),p==null&&(p="each"),D=h,Ce(z.$class(),"for",[z,p].concat(se(D)),$.$to_proc())},-1),Be(j,"$find_all",function m(){var f=m.$$p||Me,u=this;return m.$$p=null,e(f)||he.$raise(te("ArgumentError"),"tried to call lazy select without a block"),Ce(ve("Lazy"),"new",[u,Me],function(h,p){var D,z;h==null&&(h=Me),D=k(arguments,1),z=D;var ie=o(f,z);e(ie)&&Ce(h,"yield",se(z))},-2)}),Be(j,"$grep",function m(f){var u=m.$$p||Me,$=this;return m.$$p=null,e(u)?Ce(ve("Lazy"),"new",[$,Me],function(p,D){var z,ie;p==null&&(p=Me),z=k(arguments,1),ie=z;var Ue=ee.$destructure(ie),ut=f["$==="](Ue);e(ut)&&(ut=s(u,Ue),p.$yield(s(u,Ue)))},-2):Ce(ve("Lazy"),"new",[$,Me],function(p,D){var z,ie;p==null&&(p=Me),z=k(arguments,1),ie=z;var Ue=ee.$destructure(ie),ut=f["$==="](Ue);e(ut)&&p.$yield(Ue)},-2)}),Be(j,"$reject",function m(){var f=m.$$p||Me,u=this;return m.$$p=null,e(f)||he.$raise(te("ArgumentError"),"tried to call lazy reject without a block"),Ce(ve("Lazy"),"new",[u,Me],function(h,p){var D,z;h==null&&(h=Me),D=k(arguments,1),z=D;var ie=o(f,z);e(ie)||Ce(h,"yield",se(z))},-2)}),Be(j,"$take",function(f){var u=this,$=Me,h=Me,p=Me;return f=n(f,te("Integer"),"to_int"),e(ke(f,0))&&he.$raise(te("ArgumentError"),"attempt to take negative size"),$=u.$enumerator_size(),h=Oe(te("Integer"),$)&&e(ke(f,$))?f:$,p=0,Ce(ve("Lazy"),"new",[u,h],function(z,ie){var Ue,ut;return z==null&&(z=Me),Ue=k(arguments,1),ut=Ue,e(ke(p,f))?(Ce(z,"yield",se(ut)),p=Ne(p,1)):he.$raise(ve("StopLazyError"))},-2)}),Be(j,"$take_while",function m(){var f=m.$$p||Me,u=this;return m.$$p=null,e(f)||he.$raise(te("ArgumentError"),"tried to call lazy take_while without a block"),Ce(ve("Lazy"),"new",[u,Me],function(h,p){var D,z;h==null&&(h=Me),D=k(arguments,1),z=D;var ie=o(f,z);e(ie)?Ce(h,"yield",se(z)):he.$raise(ve("StopLazyError"))},-2)}),Be(j,"$inspect",function(){var f=this;return"#<"+f.$class()+": "+f.enumerator.$inspect()+">"}),Fe(j,"force","to_a"),Fe(j,"filter","find_all"),Fe(j,"flat_map","collect_concat"),Fe(j,"map","collect"),Fe(j,"select","find_all"),Fe(j,"to_enum","enum_for")}(G,G,x)}("::",null,Te)};Opal.modules["corelib/enumerator/yielder"]=function(t){var e=t.klass,n=t.def,s=t.slice,o=t.send,d=t.to_a,b=[],k=t.nil;return t.add_stubs("yield,proc"),function(C,g,se){var we=e(C,g,"Enumerator"),he=[we].concat(se);return function(Ce,Be){var Ie=e(Ce,Be,"Yielder"),ee=Ie.$$prototype;return ee.block=k,n(Ie,"$initialize",function ke(){var Oe=ke.$$p||k,Ne=this;return ke.$$p=null,Ne.block=Oe,Ne}),n(Ie,"$yield",function(Oe){var Ne,Fe,Te=this;Ne=s(arguments),Fe=Ne;var Me=t.yieldX(Te.block,Fe);if(Me&&Me.$thrower_type=="break")throw Me;return Me},-1),n(Ie,"$<<",function(Oe){var Ne=this;return Ne.$yield(Oe),Ne}),n(Ie,"$to_proc",function(){var Oe=this;return o(Oe,"proc",[],function Ne(Fe){var Te,Me,te=Ne.$$s==null?this:Ne.$$s;return Te=s(arguments),Me=Te,o(te,"yield",d(Me))},{$$arity:-1,$$s:Oe})})}(he[0],null)}(b[0],null,b)};Opal.modules["corelib/enumerator"]=function(t){var e=t.slice,n=t.coerce_to,s=t.deny_frozen_access,o=t.klass,d=t.defs,b=t.truthy,k=t.send,C=t.not,g=t.def,se=t.rb_plus,we=t.to_a,he=t.Opal,Ce=t.send2,Be=t.find_super,Ie=t.rb_ge,ee=t.Kernel,ke=t.rb_le,Oe=t.alias,Ne=t.top,Fe=[],Te=t.nil,Me=t.$$$;return t.add_stubs("require,include,allocate,new,to_proc,!,respond_to?,empty?,nil?,+,class,__send__,call,enum_for,size,destructure,map,>=,length,raise,[],peek_values,<=,next_values,inspect,any?,each_with_object,autoload"),Ne.$require("corelib/enumerable"),function(te,pe,F){var ue=o(te,pe,"Enumerator"),G=[ue].concat(F),x=t.$r(G),Z=ue.$$prototype;return Z.size=Z.args=Z.object=Z.method=Z.values=Z.cursor=Te,ue.$include(Me("Enumerable")),ue.$$prototype.$$is_enumerator=!0,d(ue,"$for",function X(ge,j,Ke){var ve=X.$$p||Te,re,m,f,u=this;X.$$p=null,re=e(arguments,1),re.length>0&&(m=re.shift()),m==null&&(m="each"),f=re;var $=u.$allocate();return $.object=ge,$.size=ve,$.method=m,$.args=f,$.cursor=0,$},-2),g(ue,"$initialize",function X(ge){var j=X.$$p||Te,Ke=this;return X.$$p=null,e(arguments),s(Ke),Ke.cursor=0,b(j)?(Ke.object=k(x("Generator"),"new",[],j.$to_proc()),Ke.method="each",Ke.args=[],Ke.size=arguments[0]||Te,b(Ke.size)&&C(Ke.size["$respond_to?"]("call"))?Ke.size=n(Ke.size,Me("Integer"),"to_int"):Te):(Ke.object=arguments[0],Ke.method=arguments[1]||"each",Ke.args=e(arguments,2),Ke.size=Te)},-1),g(ue,"$each",function X(ge){var j=X.$$p||Te,Ke,ve,re=this;return X.$$p=null,Ke=e(arguments),ve=Ke,b(j["$nil?"]())&&b(ve["$empty?"]())?re:(ve=se(re.args,ve),b(j["$nil?"]())?k(re.$class(),"new",[re.object,re.method].concat(we(ve))):k(re.object,"__send__",[re.method].concat(we(ve)),j.$to_proc()))},-1),g(ue,"$size",function(){var ge=this;return b(ge.size["$respond_to?"]("call"))?k(ge.size,"call",we(ge.args)):ge.size}),g(ue,"$with_index",function X(ge){var j=X.$$p||Te,Ke=this;if(X.$$p=null,ge==null&&(ge=0),ge=b(ge)?n(ge,Me("Integer"),"to_int"):0,!b(j))return k(Ke,"enum_for",["with_index",ge],function re(){var m=re.$$s==null?this:re.$$s;return m.$size()},{$$s:Ke});var ve=ge;return Ke.$each.$$p=function(){var re=he.$destructure(arguments),m=j(re,ve);return ve++,m},Ke.$each()},-1),g(ue,"$each_with_index",function X(){var ge=X.$$p||Te,j=this;return X.$$p=null,ge===Te?k(j,"enum_for",["each_with_index"],function Ke(){var ve=Ke.$$s==null?this:Ke.$$s;return ve.$size()},{$$s:j}):(Ce(j,Be(j,"each_with_index",X,!1,!0),"each_with_index",[],ge),j.object)}),g(ue,"$rewind",function(){var ge=this;return ge.cursor=0,ge}),g(ue,"$peek_values",function(){var ge=this,j=Te;return ge.values=b(j=ge.values)?j:k(ge,"map",[],function(ve){var re,m;return re=e(arguments),m=re,m},-1),b(Ie(ge.cursor,ge.values.$length()))&&ee.$raise(Me("StopIteration"),"iteration reached an end"),ge.values["$[]"](ge.cursor)}),g(ue,"$peek",function(){var ge=this,j=Te;return j=ge.$peek_values(),b(ke(j.$length(),1))?j["$[]"](0):j}),g(ue,"$next_values",function(){var ge=this,j=Te;return j=ge.$peek_values(),ge.cursor=se(ge.cursor,1),j}),g(ue,"$next",function(){var ge=this,j=Te;return j=ge.$next_values(),b(ke(j.$length(),1))?j["$[]"](0):j}),g(ue,"$feed",function(ge){var j=this;return j.$raise(x("NotImplementedError"),"Opal doesn't support Enumerator#feed")}),g(ue,"$+",function(ge){var j=this;return Me(Me("Enumerator"),"Chain").$new(j,ge)}),g(ue,"$inspect",function(){var ge=this,j=Te;return j="#<"+ge.$class()+": "+ge.object.$inspect()+":"+ge.method,b(ge.args["$any?"]())&&(j=se(j,"("+ge.args.$inspect()["$[]"](Me("Range").$new(1,-2))+")")),se(j,">")}),Oe(ue,"with_object","each_with_object"),ue.$autoload("ArithmeticSequence","corelib/enumerator/arithmetic_sequence"),ue.$autoload("Chain","corelib/enumerator/chain"),ue.$autoload("Generator","corelib/enumerator/generator"),ue.$autoload("Lazy","corelib/enumerator/lazy"),ue.$autoload("Yielder","corelib/enumerator/yielder")}("::",null,Fe)};Opal.modules["corelib/numeric"]=function(t){var e=t.klass,n=t.truthy,s=t.Kernel,o=t.def,d=t.to_ary,b=t.return_self,k=t.rb_minus,C=t.rb_times,g=t.rb_lt,se=t.eqeq,we=t.rb_divide,he=t.return_val,Ce=t.Opal,Be=t.slice,Ie=t.extract_kwargs,ee=t.ensure_kwargs,ke=t.not,Oe=t.send,Ne=t.rb_ge,Fe=t.rb_le,Te=t.rb_plus,Me=t.rb_gt,te=t.alias,pe=t.top,F=t.nil,ue=t.$$$;return t.add_stubs("require,include,instance_of?,class,Float,respond_to?,coerce,__send__,raise,equal?,-,*,div,<,-@,ceil,to_f,denominator,to_r,==,floor,/,%,Complex,zero?,numerator,abs,arg,coerce_to!,round,<=>,compare,is_a?,!,new,enum_for,to_proc,negative?,>=,<=,+,to_i,truncate,>,angle,conj,imag,rect"),pe.$require("corelib/comparable"),function(G,x){var Z=e(G,x,"Numeric");return Z.$include(ue("Comparable")),o(Z,"$coerce",function(ge){var j=this;return n(ge["$instance_of?"](j.$class()))?[ge,j]:[s.$Float(ge),s.$Float(j)]}),o(Z,"$__coerced__",function(ge,j){var Ke,ve,re=this,m=F,f=F;if(n(j["$respond_to?"]("coerce")))return ve=j.$coerce(re),Ke=d(ve),m=Ke[0]==null?F:Ke[0],f=Ke[1]==null?F:Ke[1],m.$__send__(ge,f);switch(ge){case"+":case"-":case"*":case"/":case"%":case"&":case"|":case"^":case"**":return s.$raise(ue("TypeError"),""+j.$class()+" can't be coerced into Numeric");case">":case">=":case"<":case"<=":case"<=>":return s.$raise(ue("ArgumentError"),"comparison of "+re.$class()+" with "+j.$class()+" failed");default:return F}}),o(Z,"$<=>",function(ge){var j=this;return n(j["$equal?"](ge))?0:F}),o(Z,"$+@",b),o(Z,"$-@",function(){var ge=this;return k(0,ge)}),o(Z,"$%",function(ge){var j=this;return k(j,C(ge,j.$div(ge)))}),o(Z,"$abs",function(){var ge=this;return g(ge,0)?ge["$-@"]():ge}),o(Z,"$abs2",function(){var ge=this;return C(ge,ge)}),o(Z,"$angle",function(){var ge=this;return g(ge,0)?ue(ue("Math"),"PI"):0}),o(Z,"$ceil",function(ge){var j=this;return ge==null&&(ge=0),j.$to_f().$ceil(ge)},-1),o(Z,"$conj",b),o(Z,"$denominator",function(){var ge=this;return ge.$to_r().$denominator()}),o(Z,"$div",function(ge){var j=this;return se(ge,0)&&s.$raise(ue("ZeroDivisionError"),"divided by o"),we(j,ge).$floor()}),o(Z,"$divmod",function(ge){var j=this;return[j.$div(ge),j["$%"](ge)]}),o(Z,"$fdiv",function(ge){var j=this;return we(j.$to_f(),ge)}),o(Z,"$floor",function(ge){var j=this;return ge==null&&(ge=0),j.$to_f().$floor(ge)},-1),o(Z,"$i",function(){var ge=this;return s.$Complex(0,ge)}),o(Z,"$imag",he(0)),o(Z,"$integer?",he(!1)),o(Z,"$nonzero?",function(){var ge=this;return n(ge["$zero?"]())?F:ge}),o(Z,"$numerator",function(){var ge=this;return ge.$to_r().$numerator()}),o(Z,"$polar",function(){var ge=this;return[ge.$abs(),ge.$arg()]}),o(Z,"$quo",function(ge){var j=this;return we(Ce["$coerce_to!"](j,ue("Rational"),"to_r"),ge)}),o(Z,"$real",b),o(Z,"$real?",he(!0)),o(Z,"$rect",function(){var ge=this;return[ge,0]}),o(Z,"$round",function(ge){var j=this;return j.$to_f().$round(ge)},-1),o(Z,"$step",function X(ge,j,Ke){var ve=X.$$p||F,re,m,f,u,$,h,p=this,D=F;X.$$p=null,re=Be(arguments),m=Ie(re),m=ee(m),re.length>0&&(f=re.shift()),re.length>0&&(u=re.shift()),$=m.$$smap.to,h=m.$$smap.by,f!==void 0&&$!==void 0&&s.$raise(ue("ArgumentError"),"to is given twice"),u!==void 0&&h!==void 0&&s.$raise(ue("ArgumentError"),"step is given twice"),$!==void 0&&(f=$),h!==void 0&&(u=h),f===void 0&&(f=F);function z(){u===F&&s.$raise(ue("TypeError"),"step must be numeric"),u!=null&&u["$=="](0)&&s.$raise(ue("ArgumentError"),"step can't be 0"),(u===F||u==null)&&(u=1);var Xt=u["$<=>"](0);Xt===F&&s.$raise(ue("ArgumentError"),"0 can't be coerced into "+u.$class()),(f===F||f==null)&&(f=Xt>0?ue(ue("Float"),"INFINITY"):ue(ue("Float"),"INFINITY")["$-@"]()),Ce.$compare(p,f)}function ie(){if(u>0&&p>f||u<0&&p<f)return 0;if(u===1/0||u===-1/0)return 1;var Xt=Math.abs,Gt=Math.floor,$t=(Xt(p)+Xt(f)+Xt(f-p))/Xt(u)*ue(ue("Float"),"EPSILON");return $t===1/0||$t===-1/0?0:($t>.5&&($t=.5),Gt((f-p)/u+$t)+1)}function Ue(){if(z(),u===0)return 1/0;if(u%1!==0)return ie();if(u>0&&p>f||u<0&&p<f)return 0;var Xt=Math.ceil,Gt=Math.abs,$t=Gt(p-f)+1,De=Gt(u);return Xt($t/De)}if(ve===F)return(ke(f)||n(f["$is_a?"](ue("Numeric"))))&&(ke(u)||n(u["$is_a?"](ue("Numeric"))))?ue(ue("Enumerator"),"ArithmeticSequence").$new([f,u,n($)?"to: ":F,n(h)?"by: ":F],p):Oe(p,"enum_for",["step",f,u],Ue.$to_proc());z();var ut=u["$negative?"](),yt=u["$=="](0)||f===1/0&&!ut||f===-1/0&&ut;if(p.$$is_number&&u.$$is_number&&f.$$is_number)if(p%1===0&&(yt||f%1===0)&&u%1===0){var Tt=p;if(yt)for(;;Tt+=u)ve(Tt);else if(ut)for(;Tt>=f;Tt+=u)ve(Tt);else for(;Tt<=f;Tt+=u)ve(Tt);return p}else{var Ht=p.$to_f().valueOf();u=u.$to_f().valueOf(),f=f.$to_f().valueOf();var Lt=ie();if(!isFinite(u))Lt!==0&&ve(Ht);else if(u===0)for(;;)ve(Ht);else for(var Kt=0;Kt<Lt;Kt++){var Ut=Kt*u+p;(u>=0?f<Ut:f>Ut)&&(Ut=f),ve(Ut)}return p}for(D=p;n(ut?Ne(D,f):Fe(D,f));)t.yield1(ve,D),D=Te(D,u)},-1),o(Z,"$to_c",function(){var ge=this;return s.$Complex(ge,0)}),o(Z,"$to_int",function(){var ge=this;return ge.$to_i()}),o(Z,"$truncate",function(ge){var j=this;return ge==null&&(ge=0),j.$to_f().$truncate(ge)},-1),o(Z,"$zero?",function(){var ge=this;return ge["$=="](0)}),o(Z,"$positive?",function(){var ge=this;return Me(ge,0)}),o(Z,"$negative?",function(){var ge=this;return g(ge,0)}),o(Z,"$dup",b),o(Z,"$clone",function(ge){var j=this;return ge=ee(ge),ge.$$smap.freeze,j},-1),o(Z,"$finite?",he(!0)),o(Z,"$infinite?",he(F)),te(Z,"arg","angle"),te(Z,"conjugate","conj"),te(Z,"imaginary","imag"),te(Z,"magnitude","abs"),te(Z,"modulo","%"),te(Z,"phase","arg"),te(Z,"rectangular","rect")}("::",null)};Opal.modules["corelib/array"]=function(t){var e=t.truthy,n=t.falsy,s=t.hash_ids,o=t.yield1,d=t.hash_get,b=t.hash_put,k=t.hash_delete,C=t.coerce_to,g=t.respond_to,se=t.deny_frozen_access,we=t.freeze,he=t.klass,Ce=t.slice,Be=t.defs,Ie=t.Kernel,ee=t.def,ke=t.Opal,Oe=t.eqeqeq,Ne=t.hash2,Fe=t.send2,Te=t.find_super,Me=t.send,te=t.rb_gt,pe=t.rb_times,F=t.eqeq,ue=t.rb_minus,G=t.to_a,x=t.to_ary,Z=t.gvars,X=t.rb_ge,ge=t.assign_ivar,j=t.rb_lt,Ke=t.return_self,ve=t.neqeq,re=t.alias,m=t.top,f=[],u=t.nil,$=t.$$$;return t.add_stubs("require,include,to_a,warn,raise,replace,respond_to?,to_ary,coerce_to?,===,join,to_str,hash,<=>,==,object_id,inspect,enum_for,class,bsearch_index,to_proc,nil?,coerce_to!,>,*,enumerator_size,empty?,size,map,equal?,dup,each,reduce,-,[],dig,eql?,length,exclude_end?,flatten,frozen?,__id__,&,!,intersection,to_s,new,item,max,min,>=,**,delete_if,reverse,rotate,rand,at,keep_if,shuffle!,<,sort,sort_by,!=,times,[]=,<<,uniq,|,values,is_a?,end,begin,upto,reject,push,select,select!,collect,collect!,unshift,pristine,singleton_class"),m.$require("corelib/enumerable"),m.$require("corelib/numeric"),function(h,p,D){var z=he(h,p,"Array"),ie=[z].concat(D),Ue=t.$r(ie);z.$include($("Enumerable")),t.prop(z.$$prototype,"$$is_array",!0);function ut($t){for(var De=$t[0],Ye=1,et=$t.length;Ye<et;Ye++)$t[Ye-1]=$t[Ye];return $t.pop(),De}function yt($t,De){return De.$$name===t.Array?$t:De.$allocate().$replace($t.$to_a())}function Tt($t,De,Ye){for(var et,T=null,L=new Array($t.length),be=0,Pe=0,rt=$t.length;be<rt;be++){if(!T)try{et=o(Ye,$t[be])}catch(mt){T=mt}(T||De(et))&&(L[Pe]=$t[be],Pe+=1)}if(Pe!==be&&($t.splice.apply($t,[0,L.length].concat(L)),$t.splice(Pe,L.length)),T)throw T}Be(z,"$[]",function(De){var Ye,et,T=this;return Ye=Ce(arguments),et=Ye,yt(et,T)},-1),ee(z,"$initialize",function $t(De,Ye){var et=$t.$$p||u,T=this;if($t.$$p=null,De==null&&(De=u),Ye==null&&(Ye=u),se(T),Ye!==u&&et!==u&&Ie.$warn("warning: block supersedes default value argument"),De>$($("Integer"),"MAX")&&Ie.$raise($("ArgumentError"),"array size too big"),arguments.length>2&&Ie.$raise($("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),arguments.length===0)return T.splice(0,T.length),T;if(arguments.length===1){if(De.$$is_array)return T.$replace(De.$to_a()),T;if(De["$respond_to?"]("to_ary"))return T.$replace(De.$to_ary()),T}De=C(De,$("Integer"),"to_int"),De<0&&Ie.$raise($("ArgumentError"),"negative array size"),T.splice(0,T.length);var L,be;if(et===u)for(L=0;L<De;L++)T.push(Ye);else for(L=0,be;L<De;L++)be=et(L),T[L]=be;return T},-1),Be(z,"$try_convert",function(De){return ke["$coerce_to?"](De,$("Array"),"to_ary")}),ee(z,"$&",function(De){var Ye=this;De=Oe($("Array"),De)?De.$to_a():C(De,$("Array"),"to_ary").$to_a();var et=[],T=Ne([],{}),L,be,Pe;for(L=0,be=De.length;L<be;L++)b(T,De[L],!0);for(L=0,be=Ye.length;L<be;L++)Pe=Ye[L],k(T,Pe)!==void 0&&et.push(Pe);return et}),ee(z,"$|",function(De){var Ye=this;De=Oe($("Array"),De)?De.$to_a():C(De,$("Array"),"to_ary").$to_a();var et=Ne([],{}),T,L;for(T=0,L=Ye.length;T<L;T++)b(et,Ye[T],!0);for(T=0,L=De.length;T<L;T++)b(et,De[T],!0);return et.$keys()}),ee(z,"$*",function(De){var Ye=this;if(e(De["$respond_to?"]("to_str")))return Ye.$join(De.$to_str());De=C(De,$("Integer"),"to_int"),e(De<0)&&Ie.$raise($("ArgumentError"),"negative argument");for(var et=[],T=Ye.$to_a(),L=0;L<De;L++)et=et.concat(T);return et}),ee(z,"$+",function(De){var Ye=this;return De=Oe($("Array"),De)?De.$to_a():C(De,$("Array"),"to_ary").$to_a(),Ye.concat(De)}),ee(z,"$-",function(De){var Ye=this;if(De=Oe($("Array"),De)?De.$to_a():C(De,$("Array"),"to_ary").$to_a(),e(Ye.length===0))return[];if(e(De.length===0))return Ye.slice();var et=[],T=Ne([],{}),L,be,Pe;for(L=0,be=De.length;L<be;L++)b(T,De[L],!0);for(L=0,be=Ye.length;L<be;L++)Pe=Ye[L],d(T,Pe)===void 0&&et.push(Pe);return et}),ee(z,"$<<",function(De){var Ye=this;return se(Ye),Ye.push(De),Ye}),ee(z,"$<=>",function(De){var Ye=this;if(Oe($("Array"),De))De=De.$to_a();else if(e(De["$respond_to?"]("to_ary")))De=De.$to_ary().$to_a();else return u;if(Ye.$hash()===De.$hash())return 0;for(var et=Math.min(Ye.length,De.length),T=0;T<et;T++){var L=Ye[T]["$<=>"](De[T]);if(L!==0)return L}return Ye.length["$<=>"](De.length)}),ee(z,"$==",function(De){var Ye=this,et={};function T(L,be){var Pe,rt,mt,l;if(L===be)return!0;if(!be.$$is_array)return g(be,"$to_ary")?be["$=="](L):!1;if(L.$$constructor!==Array&&(L=L.$to_a()),be.$$constructor!==Array&&(be=be.$to_a()),L.length!==be.length)return!1;for(et[L.$object_id()]=!0,Pe=0,rt=L.length;Pe<rt;Pe++)if(mt=L[Pe],l=be[Pe],mt.$$is_array){if(l.$$is_array&&l.length!==mt.length||!et.hasOwnProperty(mt.$object_id())&&!T(mt,l))return!1}else if(!mt["$=="](l))return!1;return!0}return T(Ye,De)});function Ht($t,De){var Ye=$t.length,et,T,L,be;return et=De.excl,T=De.begin===u?0:C(De.begin,t.Integer,"to_int"),L=De.end===u?-1:C(De.end,t.Integer,"to_int"),T<0&&(T+=Ye,T<0)||(De.excl_rev&&De.begin!==u&&(T+=1),T>Ye)?u:L<0&&(L+=Ye,L<0)?[]:((!et||De.end===u)&&(L+=1),be=$t.slice(T,L),be)}function Lt($t,De){var Ye,et=[],T=0,L;for(De.step<0?(L={begin:De.range.end,end:De.range.begin,excl:!1,excl_rev:De.range.excl},Ye=Ht($t,L).$reverse()):Ye=Ht($t,De.range);T<Ye.length;)et.push(Ye[T]),T+=Math.abs(De.step);return et}function Kt($t,De,Ye){var et=$t.length,T;return De=C(De,t.Integer,"to_int"),De<0&&(De+=et,De<0)?u:Ye===void 0?De>=et||De<0?u:$t[De]:(Ye=C(Ye,t.Integer,"to_int"),Ye<0||De>et||De<0?u:(T=$t.slice(De,De+Ye),T))}ee(z,"$[]",function(De,Ye){var et=this;return De.$$is_range?Ht(et,De):De.$$is_arithmetic_seq?Lt(et,De):Kt(et,De,Ye)},-2),ee(z,"$[]=",function(De,Ye,et){var T=this,L=u,be=u;se(T),L=u;var Pe,rt=T.length;if(De.$$is_range){Ye.$$is_array?L=Ye.$to_a():Ye["$respond_to?"]("to_ary")?L=Ye.$to_ary().$to_a():L=[Ye];var mt=De.excl,l=De.begin===u?0:C(De.begin,t.Integer,"to_int"),ce=De.end===u?-1:C(De.end,t.Integer,"to_int");if(l<0&&(l+=rt,l<0&&Ie.$raise($("RangeError"),""+De.$inspect()+" out of range")),ce<0&&(ce+=rt),(!mt||De.end===u)&&(ce+=1),l>rt)for(Pe=rt;Pe<l;Pe++)T[Pe]=u;return ce<0?T.splice.apply(T,[l,0].concat(L)):T.splice.apply(T,[l,ce-l].concat(L)),Ye}else{et===void 0?be=1:(be=Ye,Ye=et,Ye.$$is_array?L=Ye.$to_a():Ye["$respond_to?"]("to_ary")?L=Ye.$to_ary().$to_a():L=[Ye]);var oe;if(De=C(De,$("Integer"),"to_int"),be=C(be,$("Integer"),"to_int"),De<0&&(oe=De,De+=rt,De<0&&Ie.$raise($("IndexError"),"index "+oe+" too small for array; minimum "+-T.length)),be<0&&Ie.$raise($("IndexError"),"negative length ("+be+")"),De>rt)for(Pe=rt;Pe<De;Pe++)T[Pe]=u;return et===void 0?T[De]=Ye:T.splice.apply(T,[De,be].concat(L)),Ye}},-3),ee(z,"$any?",function $t(De){var Ye=$t.$$p||u,et=this;return $t.$$p=null,et.length===0?!1:Fe(et,Te(et,"any?",$t,!1,!0),"any?",[De],Ye)},-1),ee(z,"$assoc",function(De){for(var Ye=this,et=0,T=Ye.length,L;et<T;et++)if(L=Ye[et],L.length&&L[0]["$=="](De))return L;return u}),ee(z,"$at",function(De){var Ye=this;return De=C(De,$("Integer"),"to_int"),De<0&&(De+=Ye.length),De<0||De>=Ye.length?u:Ye[De]}),ee(z,"$bsearch_index",function $t(){var De=$t.$$p||u,Ye=this;if($t.$$p=null,De===u)return Ye.$enum_for("bsearch_index");for(var et=0,T=Ye.length,L,be,Pe,rt=!1,mt=u;et<T;){if(L=et+Math.floor((T-et)/2),be=Ye[L],Pe=o(De,be),Pe===!0)mt=L,rt=!0;else if(Pe===!1||Pe===u)rt=!1;else if(Pe.$$is_number){if(Pe===0)return L;rt=Pe<0}else Ie.$raise($("TypeError"),"wrong argument type "+Pe.$class()+" (must be numeric, true, false or nil)");rt?T=L:et=L+1}return mt}),ee(z,"$bsearch",function $t(){var De=$t.$$p||u,Ye=this,et=u;return $t.$$p=null,De===u?Ye.$enum_for("bsearch"):(et=Me(Ye,"bsearch_index",[],De.$to_proc()),et!=null&&et.$$is_number?Ye[et]:et)}),ee(z,"$cycle",function $t(De){var Ye=$t.$$p||u,et=this;if($t.$$p=null,De==null&&(De=u),Ye===u)return Me(et,"enum_for",["cycle",De],function be(){var Pe=be.$$s==null?this:be.$$s;return e(De["$nil?"]())?$($("Float"),"INFINITY"):(De=ke["$coerce_to!"](De,$("Integer"),"to_int"),e(te(De,0))?pe(Pe.$enumerator_size(),De):0)},{$$s:et});if(e(et["$empty?"]())||F(De,0))return u;var T,L;if(De===u)for(;;)for(T=0,L=et.length;T<L;T++)o(Ye,et[T]);else{if(De=ke["$coerce_to!"](De,$("Integer"),"to_int"),De<=0)return et;for(;De>0;){for(T=0,L=et.length;T<L;T++)o(Ye,et[T]);De--}}return et},-1),ee(z,"$clear",function(){var De=this;return se(De),De.splice(0,De.length),De}),ee(z,"$count",function $t(De){var Ye=$t.$$p||u,et=this;return $t.$$p=null,e(De!==void 0)||e(Ye)?Fe(et,Te(et,"count",$t,!1,!0),"count",[De],Ye):et.$size()},-1),ee(z,"$initialize_copy",function(De){var Ye=this;return Ye.$replace(De)}),ee(z,"$collect",function $t(){var De=$t.$$p||u,Ye=this;if($t.$$p=null,De===u)return Me(Ye,"enum_for",["collect"],function Pe(){var rt=Pe.$$s==null?this:Pe.$$s;return rt.$size()},{$$s:Ye});for(var et=[],T=0,L=Ye.length;T<L;T++){var be=o(De,Ye[T]);et.push(be)}return et}),ee(z,"$collect!",function $t(){var De=$t.$$p||u,Ye=this;if($t.$$p=null,De===u)return Me(Ye,"enum_for",["collect!"],function be(){var Pe=be.$$s==null?this:be.$$s;return Pe.$size()},{$$s:Ye});se(Ye);for(var et=0,T=Ye.length;et<T;et++){var L=o(De,Ye[et]);Ye[et]=L}return Ye});function Ut($t,De){return $t===De||De===0?1:De>0&&$t>De?Ut($t-1,De-1)+Ut($t-1,De):0}ee(z,"$combination",function $t(De){var Ye=$t.$$p||u,et=this,T=u;if($t.$$p=null,T=ke["$coerce_to!"](De,$("Integer"),"to_int"),Ye===u)return Me(et,"enum_for",["combination",T],function oe(){var Q=oe.$$s==null?this:oe.$$s;return Ut(Q.length,T)},{$$s:et});var L,be,Pe,rt,mt,l,ce;if(T===0)t.yield1(Ye,[]);else if(T===1)for(L=0,be=et.length;L<be;L++)t.yield1(Ye,[et[L]]);else if(T===et.length)t.yield1(Ye,et.slice());else if(T>=0&&T<et.length){for(Pe=[],L=0;L<=T+1;L++)Pe.push(0);for(rt=[],mt=0,l=!1,Pe[0]=-1;!l;){for(rt[mt]=et[Pe[mt+1]];mt<T-1;)mt++,ce=Pe[mt+1]=Pe[mt]+1,rt[mt]=et[ce];t.yield1(Ye,rt.slice()),mt++;do l=mt===0,Pe[mt]++,mt--;while(Pe[mt+1]+T===et.length+mt+1)}}return et}),ee(z,"$repeated_combination",function $t(De){var Ye=$t.$$p||u,et=this,T=u;if($t.$$p=null,T=ke["$coerce_to!"](De,$("Integer"),"to_int"),Ye===u)return Me(et,"enum_for",["repeated_combination",T],function be(){var Pe=be.$$s==null?this:be.$$s;return Ut(Pe.length+T-1,T)},{$$s:et});function L(be,Pe,rt,mt){if(rt.length==be){var l=rt.slice();t.yield1(Ye,l);return}for(var ce=Pe;ce<mt.length;ce++)rt.push(mt[ce]),L(be,ce,rt,mt),rt.pop()}return T>=0&&L(T,0,[],et),et}),ee(z,"$compact",function(){for(var De=this,Ye=[],et=0,T=De.length,L;et<T;et++)(L=De[et])!==u&&Ye.push(L);return Ye}),ee(z,"$compact!",function(){var De=this;se(De);for(var Ye=De.length,et=0,T=De.length;et<T;et++)De[et]===u&&(De.splice(et,1),T--,et--);return De.length===Ye?u:De}),ee(z,"$concat",function(De){var Ye,et,T=this;return Ye=Ce(arguments),et=Ye,se(T),et=Me(et,"map",[],function L(be){var Pe=L.$$s==null?this:L.$$s;return be==null&&(be=u),be=Oe($("Array"),be)?be.$to_a():C(be,$("Array"),"to_ary").$to_a(),e(be["$equal?"](Pe))&&(be=be.$dup()),be},{$$s:T}),Me(et,"each",[],function L(be){var Pe=L.$$s==null?this:L.$$s;be==null&&(be=u);for(var rt=0,mt=be.length;rt<mt;rt++)Pe.push(be[rt])},{$$s:T}),T},-1),ee(z,"$delete",function $t(De){var Ye=$t.$$p||u,et=this;$t.$$p=null;for(var T=et.length,L=0,be=T;L<be;L++)et[L]["$=="](De)&&(se(et),et.splice(L,1),be--,L--);return et.length===T?Ye!==u?t.yieldX(Ye,[]):u:De}),ee(z,"$delete_at",function(De){var Ye=this;if(se(Ye),De=C(De,$("Integer"),"to_int"),De<0&&(De+=Ye.length),De<0||De>=Ye.length)return u;var et=Ye[De];return Ye.splice(De,1),et}),ee(z,"$delete_if",function $t(){var De=$t.$$p||u,Ye=this;return $t.$$p=null,De===u?Me(Ye,"enum_for",["delete_if"],function et(){var T=et.$$s==null?this:et.$$s;return T.$size()},{$$s:Ye}):(se(Ye),Tt(Ye,n,De),Ye)}),ee(z,"$difference",function(De){var Ye,et,T=this;return Ye=Ce(arguments),et=Ye,Me(et,"reduce",[T.$to_a().$dup()],function(be,Pe){return be==null&&(be=u),Pe==null&&(Pe=u),ue(be,Pe)})},-1),ee(z,"$dig",function(De,Ye){var et,T,L=this,be=u;return et=Ce(arguments,1),T=et,be=L["$[]"](De),be===u||T.length===0?be:(e(be["$respond_to?"]("dig"))||Ie.$raise($("TypeError"),""+be.$class()+" does not have #dig method"),Me(be,"dig",G(T)))},-2),ee(z,"$drop",function(De){var Ye=this;return De=C(De,$("Integer"),"to_int"),De<0&&Ie.$raise($("ArgumentError")),Ye.slice(De)}),ee(z,"$dup",function $t(){var De=$t.$$p||u,Ye=this;return $t.$$p=null,Ye.$$class===t.Array&&Ye.$$class.$allocate.$$pristine&&Ye.$copy_instance_variables.$$pristine&&Ye.$initialize_dup.$$pristine?Ye.slice(0):Fe(Ye,Te(Ye,"dup",$t,!1,!0),"dup",[],De)}),ee(z,"$each",function $t(){var De=$t.$$p||u,Ye=this;if($t.$$p=null,De===u)return Me(Ye,"enum_for",["each"],function L(){var be=L.$$s==null?this:L.$$s;return be.$size()},{$$s:Ye});for(var et=0,T=Ye.length;et<T;et++)o(De,Ye[et]);return Ye}),ee(z,"$each_index",function $t(){var De=$t.$$p||u,Ye=this;if($t.$$p=null,De===u)return Me(Ye,"enum_for",["each_index"],function L(){var be=L.$$s==null?this:L.$$s;return be.$size()},{$$s:Ye});for(var et=0,T=Ye.length;et<T;et++)o(De,et);return Ye}),ee(z,"$empty?",function(){var De=this;return De.length===0}),ee(z,"$eql?",function(De){var Ye=this,et={};function T(L,be){var Pe,rt,mt,l;if(!be.$$is_array||(be=be.$to_a(),L.length!==be.length))return!1;for(et[L.$object_id()]=!0,Pe=0,rt=L.length;Pe<rt;Pe++)if(mt=L[Pe],l=be[Pe],mt.$$is_array){if(l.$$is_array&&l.length!==mt.length||!et.hasOwnProperty(mt.$object_id())&&!T(mt,l))return!1}else if(!mt["$eql?"](l))return!1;return!0}return T(Ye,De)}),ee(z,"$fetch",function $t(De,Ye){var et=$t.$$p||u,T=this;$t.$$p=null;var L=De;if(De=C(De,$("Integer"),"to_int"),De<0&&(De+=T.length),De>=0&&De<T.length)return T[De];if(et!==u&&Ye!=null&&T.$warn("warning: block supersedes default value argument"),et!==u)return et(L);if(Ye!=null)return Ye;T.length===0?Ie.$raise($("IndexError"),"index "+L+" outside of array bounds: 0...0"):Ie.$raise($("IndexError"),"index "+L+" outside of array bounds: -"+T.length+"..."+T.length)},-2),ee(z,"$fill",function $t(De){var Ye=$t.$$p||u,et,T,L,be,Pe=this,rt=u,mt=u,l=u,ce=u,oe=u;$t.$$p=null,et=Ce(arguments),T=et,se(Pe);var Q,me;if(e(Ye)?(e(T.length>2)&&Ie.$raise($("ArgumentError"),"wrong number of arguments ("+T.$length()+" for 0..2)"),be=T,L=x(be),rt=L[0]==null?u:L[0],mt=L[1]==null?u:L[1]):(e(T.length==0)?Ie.$raise($("ArgumentError"),"wrong number of arguments (0 for 1..3)"):e(T.length>3)&&Ie.$raise($("ArgumentError"),"wrong number of arguments ("+T.$length()+" for 1..3)"),be=T,L=x(be),l=L[0]==null?u:L[0],rt=L[1]==null?u:L[1],mt=L[2]==null?u:L[2]),Oe($("Range"),rt)){if(e(mt)&&Ie.$raise($("TypeError"),"length invalid with range"),ce=rt.begin===u?0:C(rt.begin,$("Integer"),"to_int"),e(ce<0)&&(ce+=this.length),e(ce<0)&&Ie.$raise($("RangeError"),""+rt.$inspect()+" out of range"),oe=rt.end===u?-1:C(rt.end,$("Integer"),"to_int"),e(oe<0)&&(oe+=this.length),e(rt["$exclude_end?"]())||(oe+=1),e(oe<=ce))return Pe}else if(e(rt))if(ce=C(rt,$("Integer"),"to_int"),e(ce<0)&&(ce+=this.length),e(ce<0)&&(ce=0),e(mt)){if(oe=C(mt,$("Integer"),"to_int"),e(oe==0))return Pe;oe+=ce}else oe=this.length;else ce=0,oe=this.length;if(e(ce>this.length))for(Q=this.length;Q<oe;Q++)Pe[Q]=u;if(e(oe>this.length)&&(this.length=oe),e(Ye))for(this.length;ce<oe;ce++)me=Ye(ce),Pe[ce]=me;else for(this.length;ce<oe;ce++)Pe[ce]=l;return Pe},-1),ee(z,"$first",function(De){var Ye=this;return De==null?Ye.length===0?u:Ye[0]:(De=C(De,$("Integer"),"to_int"),De<0&&Ie.$raise($("ArgumentError"),"negative array size"),Ye.slice(0,De))},-1),ee(z,"$flatten",function(De){var Ye=this;function et(T,L){var be=[],Pe,rt,mt,l;for(T=T.$to_a(),Pe=0,rt=T.length;Pe<rt;Pe++){if(mt=T[Pe],!g(mt,"$to_ary",!0)){be.push(mt);continue}if(l=mt.$to_ary(),l===u){be.push(mt);continue}switch(l.$$is_array||Ie.$raise($("TypeError")),l===Ye&&Ie.$raise($("ArgumentError")),L){case void 0:be=be.concat(et(l));break;case 0:be.push(l);break;default:be.push.apply(be,et(l,L-1))}}return be}return De!==void 0&&(De=C(De,$("Integer"),"to_int")),et(Ye,De)},-1),ee(z,"$flatten!",function(De){var Ye=this;se(Ye);var et=Ye.$flatten(De);if(Ye.length==et.length){for(var T=0,L=Ye.length;T<L&&Ye[T]===et[T];T++);if(T==L)return u}return Ye.$replace(et),Ye},-1),ee(z,"$freeze",function(){var De=this;return e(De["$frozen?"]())?De:we(De)}),ee(z,"$hash",function(){var De=this,Ye=s===void 0,et=["A"],T=De.$object_id(),L,be,Pe;try{if(Ye&&(s=Object.create(null)),s[T])return"self";for(Pe in s)if(L=s[Pe],De["$eql?"](L))return"self";for(s[T]=De,be=0;be<De.length;be++)L=De[be],et.push(L.$hash());return et.join(",")}finally{Ye&&(s=void 0)}}),ee(z,"$include?",function(De){for(var Ye=this,et=0,T=Ye.length;et<T;et++)if(Ye[et]["$=="](De))return!0;return!1}),ee(z,"$index",function $t(De){var Ye=$t.$$p||u,et=this;$t.$$p=null;var T,L,be;if(De!=null&&Ye!==u&&et.$warn("warning: given block not used"),De!=null){for(T=0,L=et.length;T<L;T++)if(et[T]["$=="](De))return T}else if(Ye!==u){for(T=0,L=et.length;T<L;T++)if(be=Ye(et[T]),be!==!1&&be!==u)return T}else return et.$enum_for("index");return u},-1),ee(z,"$insert",function(De,Ye){var et,T,L=this;if(et=Ce(arguments,1),T=et,se(L),De=C(De,$("Integer"),"to_int"),T.length>0){if(De<0&&(De+=L.length+1,De<0&&Ie.$raise($("IndexError"),""+De+" is out of bounds")),De>L.length)for(var be=L.length;be<De;be++)L.push(u);L.splice.apply(L,[De,0].concat(T))}return L},-2);var Xt=[];ee(z,"$inspect",function(){var De=this,Ye=[],et=De.$__id__(),T=!0;return function(){try{if(Xt.indexOf(et)!==-1)return T=!1,"[...]";Xt.push(et);for(var L=0,be=De.length;L<be;L++){var Pe=De["$[]"](L);Ye.push(Ue("Opal").$inspect(Pe))}return"["+Ye.join(", ")+"]"}finally{T&&Xt.pop()}}()}),ee(z,"$intersection",function(De){var Ye,et,T=this;return Ye=Ce(arguments),et=Ye,Me(et,"reduce",[T.$to_a().$dup()],function(be,Pe){return be==null&&(be=u),Pe==null&&(Pe=u),be["$&"](Pe)})},-1),ee(z,"$intersect?",function(De){var Ye=this;return Ye.$intersection(De)["$empty?"]()["$!"]()}),ee(z,"$join",function(De){var Ye=this;if(Z[","]==null&&(Z[","]=u),De==null&&(De=u),e(Ye.length===0))return"";e(De===u)&&(De=Z[","]);var et=[],T,L,be,Pe;for(T=0,L=Ye.length;T<L;T++){if(be=Ye[T],g(be,"$to_str")&&(Pe=be.$to_str(),Pe!==u)){et.push(Pe.$to_s());continue}if(g(be,"$to_ary")&&(Pe=be.$to_ary(),Pe===Ye&&Ie.$raise($("ArgumentError")),Pe!==u)){et.push(Pe.$join(De));continue}if(g(be,"$to_s")&&(Pe=be.$to_s(),Pe!==u)){et.push(Pe);continue}Ie.$raise($("NoMethodError").$new(""+Ue("Opal").$inspect(Ye.$item())+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return De===u?et.join(""):et.join(ke["$coerce_to!"](De,$("String"),"to_str").$to_s())},-1),ee(z,"$keep_if",function $t(){var De=$t.$$p||u,Ye=this;return $t.$$p=null,De===u?Me(Ye,"enum_for",["keep_if"],function et(){var T=et.$$s==null?this:et.$$s;return T.$size()},{$$s:Ye}):(se(Ye),Tt(Ye,e,De),Ye)}),ee(z,"$last",function(De){var Ye=this;return De==null?Ye.length===0?u:Ye[Ye.length-1]:(De=C(De,$("Integer"),"to_int"),De<0&&Ie.$raise($("ArgumentError"),"negative array size"),De>Ye.length&&(De=Ye.length),Ye.slice(Ye.length-De,Ye.length))},-1),ee(z,"$length",function(){var De=this;return De.length}),ee(z,"$max",function $t(De){var Ye=$t.$$p||u,et=this;return $t.$$p=null,Me(et.$each(),"max",[De],Ye.$to_proc())},-1),ee(z,"$min",function $t(){var De=$t.$$p||u,Ye=this;return $t.$$p=null,Me(Ye.$each(),"min",[],De.$to_proc())});function Gt($t,De){for(var Ye=De>=0?1:0;De;)Ye*=$t,$t--,De--;return Ye}return ee(z,"$permutation",function $t(De){var Ye=$t.$$p||u,et=this,T=u,L=u;if($t.$$p=null,Ye===u)return Me(et,"enum_for",["permutation",De],function l(){var ce=l.$$s==null?this:l.$$s;return Gt(ce.length,De===void 0?ce.length:De)},{$$s:et});var be,Pe,rt;if(De===void 0?De=et.length:De=C(De,$("Integer"),"to_int"),!(De<0||et.length<De))if(De===0)t.yield1(Ye,[]);else if(De===1)for(var mt=0;mt<et.length;mt++)t.yield1(Ye,[et[mt]]);else T=Ue("Array").$new(De),L=Ue("Array").$new(et.length,!1),be=function(l,ce,oe,Q,me){et=this;for(var w=0;w<et.length;w++)if(Q["$[]"](w)["$!"]())if(ce[oe]=w,oe<l-1)Q[w]=!0,be.call(et,l,ce,oe+1,Q,me),Q[w]=!1;else{rt=[];for(var W=0;W<ce.length;W++)rt.push(et[ce[W]]);o(me,rt)}},Ye!==u?(Pe=et.slice(),be.call(Pe,De,T,0,L,Ye)):be.call(et,De,T,0,L,Ye);return et},-1),ee(z,"$repeated_permutation",function $t(De){var Ye=$t.$$p||u,et=this,T=u;if($t.$$p=null,T=ke["$coerce_to!"](De,$("Integer"),"to_int"),Ye===u)return Me(et,"enum_for",["repeated_permutation",T],function be(){var Pe=be.$$s==null?this:be.$$s;return e(X(T,0))?Pe.$size()["$**"](T):0},{$$s:et});function L(be,Pe,rt){if(Pe.length==be){var mt=Pe.slice();t.yield1(Ye,mt);return}for(var l=0;l<rt.length;l++)Pe.push(rt[l]),L(be,Pe,rt),Pe.pop()}return L(T,[],et.slice()),et}),ee(z,"$pop",function(De){var Ye=this;return se(Ye),e(De===void 0)?e(Ye.length===0)?u:Ye.pop():(De=C(De,$("Integer"),"to_int"),e(De<0)&&Ie.$raise($("ArgumentError"),"negative array size"),e(Ye.length===0)?[]:e(De===1)?[Ye.pop()]:e(De>Ye.length)?Ye.splice(0,Ye.length):Ye.splice(Ye.length-De,Ye.length))},-1),ee(z,"$product",function $t(De){var Ye=$t.$$p||u,et,T,L=this;$t.$$p=null,et=Ce(arguments),T=et;var be=Ye!==u?null:[],Pe=T.length+1,rt=new Array(Pe),mt=new Array(Pe),l=new Array(Pe),ce,oe,Q,me,w=1;for(l[0]=L,ce=1;ce<Pe;ce++)l[ce]=C(T[ce-1],$("Array"),"to_ary");for(ce=0;ce<Pe;ce++){if(me=l[ce].length,me===0)return be||L;w*=me,w>2147483647&&Ie.$raise($("RangeError"),"too big to product"),mt[ce]=me,rt[ce]=0}e:for(;;){for(Q=[],ce=0;ce<Pe;ce++)Q.push(l[ce][rt[ce]]);for(be?be.push(Q):t.yield1(Ye,Q),oe=Pe-1,rt[oe]++;rt[oe]===mt[oe];){if(rt[oe]=0,--oe<0)break e;rt[oe]++}}return be||L},-1),ee(z,"$push",function(De){var Ye,et,T=this;Ye=Ce(arguments),et=Ye,se(T);for(var L=0,be=et.length;L<be;L++)T.push(et[L]);return T},-1),ee(z,"$rassoc",function(De){for(var Ye=this,et=0,T=Ye.length,L;et<T;et++)if(L=Ye[et],L.length&&L[1]!==void 0&&L[1]["$=="](De))return L;return u}),ee(z,"$reject",function $t(){var De=$t.$$p||u,Ye=this;if($t.$$p=null,De===u)return Me(Ye,"enum_for",["reject"],function Pe(){var rt=Pe.$$s==null?this:Pe.$$s;return rt.$size()},{$$s:Ye});for(var et=[],T=0,L=Ye.length,be;T<L;T++)be=De(Ye[T]),(be===!1||be===u)&&et.push(Ye[T]);return et}),ee(z,"$reject!",function $t(){var De=$t.$$p||u,Ye=this,et=u;return $t.$$p=null,De===u?Me(Ye,"enum_for",["reject!"],function T(){var L=T.$$s==null?this:T.$$s;return L.$size()},{$$s:Ye}):(se(Ye),et=Ye.$length(),Me(Ye,"delete_if",[],De.$to_proc()),F(Ye.$length(),et)?u:Ye)}),ee(z,"$replace",function(De){var Ye=this;return se(Ye),De=Oe($("Array"),De)?De.$to_a():C(De,$("Array"),"to_ary").$to_a(),Ye.splice(0,Ye.length),Ye.push.apply(Ye,De),Ye}),ee(z,"$reverse",function(){var De=this;return De.slice(0).reverse()}),ee(z,"$reverse!",function(){var De=this;return se(De),De.reverse()}),ee(z,"$reverse_each",function $t(){var De=$t.$$p||u,Ye=this;return $t.$$p=null,De===u?Me(Ye,"enum_for",["reverse_each"],function et(){var T=et.$$s==null?this:et.$$s;return T.$size()},{$$s:Ye}):(Me(Ye.$reverse(),"each",[],De.$to_proc()),Ye)}),ee(z,"$rindex",function $t(De){var Ye=$t.$$p||u,et=this;$t.$$p=null;var T,L;if(De!=null&&Ye!==u&&et.$warn("warning: given block not used"),De!=null){for(T=et.length-1;T>=0&&!(T>=et.length);T--)if(et[T]["$=="](De))return T}else if(Ye!==u){for(T=et.length-1;T>=0&&!(T>=et.length);T--)if(L=Ye(et[T]),L!==!1&&L!==u)return T}else if(De==null)return et.$enum_for("rindex");return u},-1),ee(z,"$rotate",function(De){var Ye=this;De==null&&(De=1);var et,T,L,be;return De=C(De,$("Integer"),"to_int"),Ye.length===1?Ye.slice():Ye.length===0?[]:(et=Ye.slice(),T=De%et.length,L=et.slice(T),be=et.slice(0,T),L.concat(be))},-1),ee(z,"$rotate!",function(De){var Ye=this,et=u;return De==null&&(De=1),se(Ye),Ye.length===0||Ye.length===1?Ye:(De=C(De,$("Integer"),"to_int"),et=Ye.$rotate(De),Ye.$replace(et))},-1),function($t,De){var Ye=he($t,De,"SampleRandom"),et=Ye.$$prototype;return et.rng=u,ee(Ye,"$initialize",ge("rng")),ee(Ye,"$rand",function(L){var be=this,Pe=u;return Pe=C(be.rng.$rand(L),$("Integer"),"to_int"),e(Pe<0)&&Ie.$raise($("RangeError"),"random value must be >= 0"),e(Pe<L)||Ie.$raise($("RangeError"),"random value must be less than Array size"),Pe})}(z,null),ee(z,"$sample",function(De,Ye){var et=this,T=u,L=u;if(e(De===void 0))return et.$at(Ie.$rand(et.length));if(e(Ye===void 0)?e(T=ke["$coerce_to?"](De,$("Hash"),"to_hash"))?(Ye=T,De=u):(Ye=u,De=C(De,$("Integer"),"to_int")):(De=C(De,$("Integer"),"to_int"),Ye=C(Ye,$("Hash"),"to_hash")),e(De)&&e(De<0)&&Ie.$raise($("ArgumentError"),"count must be greater than 0"),e(Ye)&&(L=Ye["$[]"]("random")),L=e(L)&&e(L["$respond_to?"]("rand"))?Ue("SampleRandom").$new(L):Ie,!e(De))return et[L.$rand(et.length)];var be,Pe,rt,mt,l,ce,oe,Q;switch(De>et.length&&(De=et.length),De){case 0:return[];case 1:return[et[L.$rand(et.length)]];case 2:return mt=L.$rand(et.length),l=L.$rand(et.length-1),mt<=l&&l++,[et[mt],et[l]];default:if(et.length/De>3){for(be=!1,Pe=0,rt=Ue("Array").$new(De),mt=1,rt[0]=L.$rand(et.length);mt<De;){for(ce=L.$rand(et.length),l=0;l<mt;){for(;ce===rt[l];){if(Pe++,Pe>100){be=!0;break}ce=L.$rand(et.length)}if(be)break;l++}if(be)break;rt[mt]=ce,mt++}if(!be){for(mt=0;mt<De;)rt[mt]=et[rt[mt]],mt++;return rt}}rt=et.slice();for(var me=0;me<De;me++)oe=L.$rand(et.length-me)+me,Q=rt[me],rt[me]=rt[oe],rt[oe]=Q;return De===et.length?rt:rt["$[]"](0,De)}},-1),ee(z,"$select",function $t(){var De=$t.$$p||u,Ye=this;if($t.$$p=null,De===u)return Me(Ye,"enum_for",["select"],function rt(){var mt=rt.$$s==null?this:rt.$$s;return mt.$size()},{$$s:Ye});for(var et=[],T=0,L=Ye.length,be,Pe;T<L;T++)be=Ye[T],Pe=o(De,be),e(Pe)&&et.push(be);return et}),ee(z,"$select!",function $t(){var De=$t.$$p||u,Ye=this;if($t.$$p=null,De===u)return Me(Ye,"enum_for",["select!"],function T(){var L=T.$$s==null?this:T.$$s;return L.$size()},{$$s:Ye});se(Ye);var et=Ye.length;return Me(Ye,"keep_if",[],De.$to_proc()),Ye.length===et?u:Ye}),ee(z,"$shift",function(De){var Ye=this;return se(Ye),e(De===void 0)?e(Ye.length===0)?u:ut(Ye):(De=C(De,$("Integer"),"to_int"),e(De<0)&&Ie.$raise($("ArgumentError"),"negative array size"),e(Ye.length===0)?[]:Ye.splice(0,De))},-1),ee(z,"$shuffle",function(De){var Ye=this;return Ye.$dup().$to_a()["$shuffle!"](De)},-1),ee(z,"$shuffle!",function(De){var Ye=this;se(Ye);var et,T=Ye.length,L,be;for(De!==void 0&&(De=ke["$coerce_to?"](De,$("Hash"),"to_hash"),De!==u&&(De=De["$[]"]("random"),De!==u&&De["$respond_to?"]("rand")&&(et=De)));T;)et?(L=et.$rand(T).$to_int(),L<0&&Ie.$raise($("RangeError"),"random number too small "+L),L>=T&&Ie.$raise($("RangeError"),"random number too big "+L)):L=Ye.$rand(T),be=Ye[--T],Ye[T]=Ye[L],Ye[L]=be;return Ye},-1),ee(z,"$slice!",function(De,Ye){var et=this,T=u,L=u,be=u,Pe=u,rt=u;if(se(et),T=u,e(Ye===void 0))if(Oe($("Range"),De)){L=De,T=et["$[]"](L),be=L.begin===u?0:C(L.begin,$("Integer"),"to_int"),Pe=L.end===u?-1:C(L.end,$("Integer"),"to_int"),be<0&&(be+=et.length),Pe<0?Pe+=et.length:Pe>=et.length&&(Pe=et.length-1,L.excl&&(Pe+=1));var mt=Pe-be;L.excl&&L.end!==u?Pe-=1:mt+=1,be<et.length&&be>=0&&Pe<et.length&&Pe>=0&&mt>0&&et.splice(be,mt)}else{if(rt=C(De,$("Integer"),"to_int"),rt<0&&(rt+=et.length),rt<0||rt>=et.length)return u;T=et[rt],rt===0?et.shift():et.splice(rt,1)}else{if(rt=C(De,$("Integer"),"to_int"),Ye=C(Ye,$("Integer"),"to_int"),Ye<0)return u;T=et["$[]"](rt,Ye),rt<0&&(rt+=et.length),rt+Ye>et.length&&(Ye=et.length-rt),rt<et.length&&rt>=0&&et.splice(rt,Ye)}return T},-2),ee(z,"$sort",function $t(){var De=$t.$$p||u,Ye=this;return $t.$$p=null,e(Ye.length>1)?(De===u&&(De=function(et,T){return et["$<=>"](T)}),Ye.slice().sort(function(et,T){var L=De(et,T);return L===u&&Ie.$raise($("ArgumentError"),"comparison of "+et.$inspect()+" with "+T.$inspect()+" failed"),te(L,0)?1:j(L,0)?-1:0})):Ye}),ee(z,"$sort!",function $t(){var De=$t.$$p||u,Ye=this;$t.$$p=null,se(Ye);var et;De!==u?et=Me(Ye.slice(),"sort",[],De.$to_proc()):et=Ye.slice().$sort(),Ye.length=0;for(var T=0,L=et.length;T<L;T++)Ye.push(et[T]);return Ye}),ee(z,"$sort_by!",function $t(){var De=$t.$$p||u,Ye=this;return $t.$$p=null,De===u?Me(Ye,"enum_for",["sort_by!"],function et(){var T=et.$$s==null?this:et.$$s;return T.$size()},{$$s:Ye}):(se(Ye),Ye.$replace(Me(Ye,"sort_by",[],De.$to_proc())))}),ee(z,"$take",function(De){var Ye=this;return De<0&&Ie.$raise($("ArgumentError")),Ye.slice(0,De)}),ee(z,"$take_while",function $t(){var De=$t.$$p||u,Ye=this;$t.$$p=null;for(var et=[],T=0,L=Ye.length,be,Pe;T<L;T++){if(be=Ye[T],Pe=De(be),Pe===!1||Pe===u)return et;et.push(be)}return et}),ee(z,"$to_a",function(){var De=this;return De.$$class===t.Array?De:t.Array.$new(De)}),ee(z,"$to_ary",Ke),ee(z,"$to_h",function $t(){var De=$t.$$p||u,Ye=this,et=u;$t.$$p=null,et=Ye,De!==u&&(et=Me(et,"map",[],De.$to_proc()));var T,L=et.length,be,Pe,rt,mt=Ne([],{});for(T=0;T<L;T++)be=ke["$coerce_to?"](et[T],$("Array"),"to_ary"),be.$$is_array||Ie.$raise($("TypeError"),"wrong element type "+be.$class()+" at "+T+" (expected array)"),be.length!==2&&Ie.$raise($("ArgumentError"),"wrong array length at "+T+" (expected 2, was "+be.$length()+")"),Pe=be[0],rt=be[1],b(mt,Pe,rt);return mt}),ee(z,"$transpose",function(){var De=this,Ye=u,et=u;return e(De["$empty?"]())?[]:(Ye=[],et=u,Me(De,"each",[],function(L){var be=u;return L==null&&(L=u),L=Oe($("Array"),L)?L.$to_a():C(L,$("Array"),"to_ary").$to_a(),et=e(be=et)?be:L.length,ve(L.length,et)&&Ie.$raise($("IndexError"),"element size differs ("+L.length+" should be "+et+")"),Me(L.length,"times",[],function(rt){var mt,l=u;return rt==null&&(rt=u),l=e(be=Ye["$[]"](rt))?be:(mt=[rt,[]],Me(Ye,"[]=",mt),mt[mt.length-1]),l["$<<"](L.$at(rt))})}),Ye)}),ee(z,"$union",function(De){var Ye,et,T=this;return Ye=Ce(arguments),et=Ye,Me(et,"reduce",[T.$uniq()],function(be,Pe){return be==null&&(be=u),Pe==null&&(Pe=u),be["$|"](Pe)})},-1),ee(z,"$uniq",function $t(){var De=$t.$$p||u,Ye=this;$t.$$p=null;var et=Ne([],{}),T,L,be,Pe;if(De===u)for(T=0,L=Ye.length;T<L;T++)be=Ye[T],d(et,be)===void 0&&b(et,be,be);else for(T=0,L=Ye.length;T<L;T++)be=Ye[T],Pe=o(De,be),d(et,Pe)===void 0&&b(et,Pe,be);return et.$values()}),ee(z,"$uniq!",function $t(){var De=$t.$$p||u,Ye=this;$t.$$p=null,se(Ye);var et=Ye.length,T=Ne([],{}),L,be,Pe,rt;for(L=0,be=et;L<be;L++){if(Pe=Ye[L],rt=De===u?Pe:o(De,Pe),d(T,rt)===void 0){b(T,rt,Pe);continue}Ye.splice(L,1),be--,L--}return Ye.length===et?u:Ye}),ee(z,"$unshift",function(De){var Ye,et,T=this;Ye=Ce(arguments),et=Ye,se(T);var L=T.length,be=et.length;if(be==0)return T;for(var Pe=L-be,rt=0;rt<be;rt++)T.push(T[Pe+rt]);for(var mt=L-1;mt-be>=0;)T[mt]=T[mt-be],mt--;for(var l=0;l<be;l++)T[l]=et[l];return T},-1),ee(z,"$values_at",function(De){var Ye,et,T=this,L=u;return Ye=Ce(arguments),et=Ye,L=[],Me(et,"each",[],function be(Pe){var rt=be.$$s==null?this:be.$$s,mt=u,l=u,ce=u;return Pe==null&&(Pe=u),e(Pe["$is_a?"]($("Range")))?(mt=Pe.$end()===u?-1:C(Pe.$end(),$("Integer"),"to_int"),l=Pe.$begin()===u?0:C(Pe.$begin(),$("Integer"),"to_int"),l<0?(l=l+rt.length,u):(mt<0&&(mt=mt+rt.length),Pe["$exclude_end?"]()&&Pe.$end()!==u&&mt--,mt<l?u:Me(l,"upto",[mt],function oe(Q){var me=oe.$$s==null?this:oe.$$s;return Q==null&&(Q=u),L["$<<"](me.$at(Q))},{$$s:rt}))):(ce=C(Pe,$("Integer"),"to_int"),L["$<<"](rt.$at(ce)))},{$$s:T}),L},-1),ee(z,"$zip",function $t(De){var Ye=$t.$$p||u,et,T,L=this,be=u;$t.$$p=null,et=Ce(arguments),T=et;var Pe=[],rt=L.length,mt,l,ce,oe,Q;for(oe=0,Q=T.length;oe<Q;oe++)if(l=T[oe],!l.$$is_array){if(l.$$is_range||l.$$is_enumerator){T[oe]=l.$take(rt);continue}T[oe]=(e(be=ke["$coerce_to?"](l,$("Array"),"to_ary"))?be:ke["$coerce_to!"](l,$("Enumerator"),"to_enum","each")).$to_a()}for(ce=0;ce<rt;ce++){for(mt=[L[ce]],oe=0,Q=T.length;oe<Q;oe++)l=T[oe][ce],l==null&&(l=u),mt[oe+1]=l;Pe[ce]=mt}if(Ye!==u){for(ce=0;ce<rt;ce++)t.yield1(Ye,Pe[ce]);return u}return Pe},-1),Be(z,"$inherited",function(De){De.$$prototype.$to_a=function(){return this.slice(0,this.length)}}),ee(z,"$instance_variables",function $t(){var De=$t.$$p||u,Ye=this;return $t.$$p=null,Me(Fe(Ye,Te(Ye,"instance_variables",$t,!1,!0),"instance_variables",[],De),"reject",[],function(T){var L=u;return T==null&&(T=u),e(L=/^@\d+$/.test(T))?L:T["$=="]("@length")})}),ee(z,"$pack",function(De){return Ce(arguments),Ie.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},-1),re(z,"append","push"),re(z,"filter","select"),re(z,"filter!","select!"),re(z,"map","collect"),re(z,"map!","collect!"),re(z,"prepend","unshift"),re(z,"size","length"),re(z,"slice","[]"),re(z,"to_s","inspect"),ke.$pristine(z.$singleton_class(),"allocate"),ke.$pristine(z,"copy_instance_variables","initialize_dup")}("::",Array,f)};Opal.modules["corelib/hash"]=function(t){var e=t.yield1,n=t.hash,s=t.hash_init,o=t.hash_get,d=t.hash_put,b=t.hash_delete,k=t.deny_frozen_access,C=t.freeze,g=t.klass,se=t.slice,we=t.Opal,he=t.Kernel,Ce=t.defs,Be=t.def,Ie=t.send,ee=t.rb_ge,ke=t.rb_gt,Oe=t.hash2,Ne=t.truthy,Fe=t.to_a,Te=t.return_self,Me=t.alias,te=t.top,pe=[],F=t.nil,ue=t.$$$;return t.add_stubs("require,include,coerce_to?,[],merge!,allocate,raise,coerce_to!,each,fetch,>=,>,==,compare_by_identity,lambda?,abs,arity,enum_for,size,respond_to?,class,dig,except!,dup,delete,new,inspect,map,to_proc,flatten,frozen?,eql?,default,default_proc,default_proc=,default=,to_h,proc,clone,select,select!,has_key?,indexes,index,length,[]=,has_value?"),te.$require("corelib/enumerable"),function(G,x,Z){var X=g(G,x,"Hash"),ge=[X].concat(Z),j=t.$r(ge);X.$include(ue("Enumerable")),X.$$prototype.$$is_hash=!0,Ce(X,"$[]",function(re){var m,f,u=this;m=se(arguments),f=m;var $,h=f.length,p;if(h===1){if($=we["$coerce_to?"](f["$[]"](0),ue("Hash"),"to_hash"),$!==F)return u.$allocate()["$merge!"]($);for(f=we["$coerce_to?"](f["$[]"](0),ue("Array"),"to_ary"),f===F&&he.$raise(ue("ArgumentError"),"odd number of arguments for Hash"),h=f.length,$=u.$allocate(),p=0;p<h;p++)if(f[p].$$is_array)switch(f[p].length){case 1:$.$store(f[p][0],F);break;case 2:$.$store(f[p][0],f[p][1]);break;default:he.$raise(ue("ArgumentError"),"invalid number of elements ("+f[p].length+" for 1..2)")}return $}for(h%2!==0&&he.$raise(ue("ArgumentError"),"odd number of arguments for Hash"),$=u.$allocate(),p=0;p<h;p+=2)$.$store(f[p],f[p+1]);return $},-1),Ce(X,"$allocate",function(){var re=this,m=new re.$$constructor;return s(m),m.$$none=F,m.$$proc=F,m}),Ce(X,"$try_convert",function(re){return we["$coerce_to?"](re,ue("Hash"),"to_hash")}),Be(X,"$initialize",function ve(re){var m=ve.$$p||F,f=this;return ve.$$p=null,k(f),re!==void 0&&m!==F&&he.$raise(ue("ArgumentError"),"wrong number of arguments (1 for 0)"),f.$$none=re===void 0?F:re,f.$$proc=m,f},-1),Be(X,"$==",function(re){var m=this;if(m===re)return!0;if(!re.$$is_hash||m.$$keys.length!==re.$$keys.length)return!1;for(var f=0,u=m.$$keys,$=u.length,h,p,D;f<$;f++)if(h=u[f],h.$$is_string?(p=m.$$smap[h],D=re.$$smap[h]):(p=h.value,D=o(re,h.key)),D===void 0||!p["$eql?"](D))return!1;return!0}),Be(X,"$>=",function(re){var m=this,f=F;return re=we["$coerce_to!"](re,ue("Hash"),"to_hash"),m.$$keys.length<re.$$keys.length?!1:(f=!0,Ie(re,"each",[],function u($,h){var p=u.$$s==null?this:u.$$s,D=F;if($==null&&($=F),h==null&&(h=F),D=p.$fetch($,null),D==null||D!==h){f=!1;return}},{$$s:m}),f)}),Be(X,"$>",function(re){var m=this;return re=we["$coerce_to!"](re,ue("Hash"),"to_hash"),m.$$keys.length<=re.$$keys.length?!1:ee(m,re)}),Be(X,"$<",function(re){var m=this;return re=we["$coerce_to!"](re,ue("Hash"),"to_hash"),ke(re,m)}),Be(X,"$<=",function(re){var m=this;return re=we["$coerce_to!"](re,ue("Hash"),"to_hash"),ee(re,m)}),Be(X,"$[]",function(re){var m=this,f=o(m,re);return f!==void 0?f:m.$default(re)}),Be(X,"$[]=",function(re,m){var f=this;return k(f),d(f,re,m),m}),Be(X,"$assoc",function(re){for(var m=this,f=0,u=m.$$keys,$=u.length,h;f<$;f++)if(h=u[f],h.$$is_string){if(h["$=="](re))return[h,m.$$smap[h]]}else if(h.key["$=="](re))return[h.key,h.value];return F}),Be(X,"$clear",function(){var re=this;return k(re),s(re),re}),Be(X,"$clone",function(){var re=this,m=new re.$$class;return s(m),t.hash_clone(re,m),m}),Be(X,"$compact",function(){for(var re=this,m=n(),f=0,u=re.$$keys,$=u.length,h,p,D;f<$;f++)h=u[f],h.$$is_string?p=re.$$smap[h]:(p=h.value,h=h.key),p!==F&&d(m,h,p);return m}),Be(X,"$compact!",function(){var re=this;k(re);for(var m=!1,f=0,u=re.$$keys,$=u.length,h,p,D;f<$;f++)h=u[f],h.$$is_string?p=re.$$smap[h]:(p=h.value,h=h.key),p===F&&b(re,h)!==void 0&&(m=!0,$--,f--);return m?re:F}),Be(X,"$compare_by_identity",function(){var re=this;k(re);var m,f,u,$=re.$$keys,h;if(re.$$by_identity)return re;if(re.$$keys.length===0)return re.$$by_identity=!0,re;for(h=Oe([],{}).$compare_by_identity(),m=0,f=$.length;m<f;m++)u=$[m],u.$$is_string||(u=u.key),d(h,u,o(re,u));return re.$$by_identity=!0,re.$$map=h.$$map,re.$$smap=h.$$smap,re}),Be(X,"$compare_by_identity?",function(){var re=this;return re.$$by_identity===!0}),Be(X,"$default",function(re){var m=this;return re!==void 0&&m.$$proc!==F&&m.$$proc!==void 0?m.$$proc.$call(m,re):m.$$none===void 0?F:m.$$none},-1),Be(X,"$default=",function(re){var m=this;return k(m),m.$$proc=F,m.$$none=re,re}),Be(X,"$default_proc",function(){var re=this;return re.$$proc!==void 0?re.$$proc:F}),Be(X,"$default_proc=",function(re){var m=this;k(m);var f=re;return f!==F&&(f=we["$coerce_to!"](f,ue("Proc"),"to_proc"),f["$lambda?"]()&&f.$arity().$abs()!==2&&he.$raise(ue("TypeError"),"default_proc takes two arguments")),m.$$none=F,m.$$proc=f,re}),Be(X,"$delete",function ve(re){var m=ve.$$p||F,f=this;ve.$$p=null,k(f);var u=b(f,re);return u!==void 0?u:m!==F?t.yield1(m,re):F}),Be(X,"$delete_if",function ve(){var re=ve.$$p||F,m=this;if(ve.$$p=null,!Ne(re))return Ie(m,"enum_for",["delete_if"],function z(){var ie=z.$$s==null?this:z.$$s;return ie.$size()},{$$s:m});k(m);for(var f=0,u=m.$$keys,$=u.length,h,p,D;f<$;f++)h=u[f],h.$$is_string?p=m.$$smap[h]:(p=h.value,h=h.key),D=re(h,p),D!==!1&&D!==F&&b(m,h)!==void 0&&($--,f--);return m}),Be(X,"$dig",function(re,m){var f,u,$=this,h=F;return f=se(arguments,1),u=f,h=$["$[]"](re),h===F||u.length===0?h:(Ne(h["$respond_to?"]("dig"))||he.$raise(ue("TypeError"),""+h.$class()+" does not have #dig method"),Ie(h,"dig",Fe(u)))},-2),Be(X,"$each",function ve(){var re=ve.$$p||F,m=this;if(ve.$$p=null,!Ne(re))return Ie(m,"enum_for",["each"],function D(){var z=D.$$s==null?this:D.$$s;return z.$size()},{$$s:m});for(var f=0,u=m.$$keys.slice(),$=u.length,h,p;f<$;f++)h=u[f],h.$$is_string?p=m.$$smap[h]:(p=h.value,h=h.key),e(re,[h,p]);return m}),Be(X,"$each_key",function ve(){var re=ve.$$p||F,m=this;if(ve.$$p=null,!Ne(re))return Ie(m,"enum_for",["each_key"],function p(){var D=p.$$s==null?this:p.$$s;return D.$size()},{$$s:m});for(var f=0,u=m.$$keys.slice(),$=u.length,h;f<$;f++)h=u[f],re(h.$$is_string?h:h.key);return m}),Be(X,"$each_value",function ve(){var re=ve.$$p||F,m=this;if(ve.$$p=null,!Ne(re))return Ie(m,"enum_for",["each_value"],function p(){var D=p.$$s==null?this:p.$$s;return D.$size()},{$$s:m});for(var f=0,u=m.$$keys.slice(),$=u.length,h;f<$;f++)h=u[f],re(h.$$is_string?m.$$smap[h]:h.value);return m}),Be(X,"$empty?",function(){var re=this;return re.$$keys.length===0}),Be(X,"$except",function(re){var m,f,u=this;return m=se(arguments),f=m,Ie(u.$dup(),"except!",Fe(f))},-1),Be(X,"$except!",function(re){var m,f,u=this;return m=se(arguments),f=m,Ie(f,"each",[],function $(h){var p=$.$$s==null?this:$.$$s;return h==null&&(h=F),p.$delete(h)},{$$s:u}),u},-1),Be(X,"$fetch",function ve(re,m){var f=ve.$$p||F,u=this;ve.$$p=null;var $=o(u,re);return $!==void 0?$:f!==F?f(re):m!==void 0?m:he.$raise(ue("KeyError").$new("key not found: "+re.$inspect(),Oe(["key","receiver"],{key:re,receiver:u})))},-2),Be(X,"$fetch_values",function ve(re){var m=ve.$$p||F,f,u,$=this;return ve.$$p=null,f=se(arguments),u=f,Ie(u,"map",[],function h(p){var D=h.$$s==null?this:h.$$s;return p==null&&(p=F),Ie(D,"fetch",[p],m.$to_proc())},{$$s:$})},-1),Be(X,"$flatten",function(re){var m=this;re==null&&(re=1),re=we["$coerce_to!"](re,ue("Integer"),"to_int");for(var f=[],u=0,$=m.$$keys,h=$.length,p,D;u<h;u++){if(p=$[u],p.$$is_string?D=m.$$smap[p]:(D=p.value,p=p.key),f.push(p),D.$$is_array){if(re===1){f.push(D);continue}f=f.concat(D.$flatten(re-2));continue}f.push(D)}return f},-1),Be(X,"$freeze",function(){var re=this;return Ne(re["$frozen?"]())?re:C(re)}),Be(X,"$has_key?",function(re){var m=this;return o(m,re)!==void 0}),Be(X,"$has_value?",function(re){for(var m=this,f=0,u=m.$$keys,$=u.length,h;f<$;f++)if(h=u[f],(h.$$is_string?m.$$smap[h]:h.value)["$=="](re))return!0;return!1}),Be(X,"$hash",function(){var re=this,m=t.hash_ids===void 0,f=re.$object_id(),u=["Hash"],$,h;try{if(m&&(t.hash_ids=Object.create(null)),t[f])return"self";for($ in t.hash_ids)if(h=t.hash_ids[$],re["$eql?"](h))return"self";t.hash_ids[f]=re;for(var p=0,D=re.$$keys,z=D.length;p<z;p++)$=D[p],$.$$is_string?u.push([$,re.$$smap[$].$hash()]):u.push([$.key_hash,$.value.$hash()]);return u.sort().join()}finally{m&&(t.hash_ids=void 0)}}),Be(X,"$index",function(re){for(var m=this,f=0,u=m.$$keys,$=u.length,h,p;f<$;f++)if(h=u[f],h.$$is_string?p=m.$$smap[h]:(p=h.value,h=h.key),p["$=="](re))return h;return F}),Be(X,"$indexes",function(re){var m,f,u=this;m=se(arguments),f=m;for(var $=[],h=0,p=f.length,D,z;h<p;h++){if(D=f[h],z=o(u,D),z===void 0){$.push(u.$default());continue}$.push(z)}return $},-1);var Ke;return Be(X,"$inspect",function(){var re=this,m=Ke===void 0,f=re.$object_id(),u=[];return function(){try{if(m&&(Ke={}),Ke.hasOwnProperty(f))return"{...}";Ke[f]=!0;for(var $=0,h=re.$$keys,p=h.length,D,z;$<p;$++)D=h[$],D.$$is_string?z=re.$$smap[D]:(z=D.value,D=D.key),D=j("Opal").$inspect(D),z=j("Opal").$inspect(z),u.push(D+"=>"+z);return"{"+u.join(", ")+"}"}finally{m&&(Ke=void 0)}}()}),Be(X,"$invert",function(){for(var re=this,m=n(),f=0,u=re.$$keys,$=u.length,h,p;f<$;f++)h=u[f],h.$$is_string?p=re.$$smap[h]:(p=h.value,h=h.key),d(m,p,h);return m}),Be(X,"$keep_if",function ve(){var re=ve.$$p||F,m=this;if(ve.$$p=null,!Ne(re))return Ie(m,"enum_for",["keep_if"],function z(){var ie=z.$$s==null?this:z.$$s;return ie.$size()},{$$s:m});k(m);for(var f=0,u=m.$$keys,$=u.length,h,p,D;f<$;f++)h=u[f],h.$$is_string?p=m.$$smap[h]:(p=h.value,h=h.key),D=re(h,p),(D===!1||D===F)&&b(m,h)!==void 0&&($--,f--);return m}),Be(X,"$keys",function(){for(var re=this,m=[],f=0,u=re.$$keys,$=u.length,h;f<$;f++)h=u[f],h.$$is_string?m.push(h):m.push(h.key);return m}),Be(X,"$length",function(){var re=this;return re.$$keys.length}),Be(X,"$merge",function ve(re){var m=ve.$$p||F,f,u,$=this;return ve.$$p=null,f=se(arguments),u=f,Ie($.$dup(),"merge!",Fe(u),m.$to_proc())},-1),Be(X,"$merge!",function ve(re){var m=ve.$$p||F,f,u,$=this;ve.$$p=null,f=se(arguments),u=f,k($);var h,p,D,z,ie,Ue,ut,yt;for(h=0;h<u.length;++h)if(D=we["$coerce_to!"](u[h],ue("Hash"),"to_hash"),z=D.$$keys,ie=z.length,m===F)for(p=0;p<ie;p++)Ue=z[p],Ue.$$is_string?yt=D.$$smap[Ue]:(yt=Ue.value,Ue=Ue.key),d($,Ue,yt);else for(p=0;p<ie;p++){if(Ue=z[p],Ue.$$is_string?yt=D.$$smap[Ue]:(yt=Ue.value,Ue=Ue.key),ut=o($,Ue),ut===void 0){d($,Ue,yt);continue}d($,Ue,m(Ue,ut,yt))}return $},-1),Be(X,"$rassoc",function(re){for(var m=this,f=0,u=m.$$keys,$=u.length,h,p;f<$;f++)if(h=u[f],h.$$is_string?p=m.$$smap[h]:(p=h.value,h=h.key),p["$=="](re))return[h,p];return F}),Be(X,"$rehash",function(){var re=this;return k(re),t.hash_rehash(re),re}),Be(X,"$reject",function ve(){var re=ve.$$p||F,m=this;if(ve.$$p=null,!Ne(re))return Ie(m,"enum_for",["reject"],function ie(){var Ue=ie.$$s==null?this:ie.$$s;return Ue.$size()},{$$s:m});for(var f=n(),u=0,$=m.$$keys,h=$.length,p,D,z;u<h;u++)p=$[u],p.$$is_string?D=m.$$smap[p]:(D=p.value,p=p.key),z=re(p,D),(z===!1||z===F)&&d(f,p,D);return f}),Be(X,"$reject!",function ve(){var re=ve.$$p||F,m=this;if(ve.$$p=null,!Ne(re))return Ie(m,"enum_for",["reject!"],function ie(){var Ue=ie.$$s==null?this:ie.$$s;return Ue.$size()},{$$s:m});k(m);for(var f=!1,u=0,$=m.$$keys,h=$.length,p,D,z;u<h;u++)p=$[u],p.$$is_string?D=m.$$smap[p]:(D=p.value,p=p.key),z=re(p,D),z!==!1&&z!==F&&b(m,p)!==void 0&&(f=!0,h--,u--);return f?m:F}),Be(X,"$replace",function(re){var m=this;k(m),re=we["$coerce_to!"](re,ue("Hash"),"to_hash"),s(m);for(var f=0,u=re.$$keys,$=u.length,h,p,D;f<$;f++)h=u[f],h.$$is_string?D=re.$$smap[h]:(D=h.value,h=h.key),d(m,h,D);return Ne(re.$default_proc())?m["$default_proc="](re.$default_proc()):m["$default="](re.$default()),m}),Be(X,"$select",function ve(){var re=ve.$$p||F,m=this;if(ve.$$p=null,!Ne(re))return Ie(m,"enum_for",["select"],function ie(){var Ue=ie.$$s==null?this:ie.$$s;return Ue.$size()},{$$s:m});for(var f=n(),u=0,$=m.$$keys,h=$.length,p,D,z;u<h;u++)p=$[u],p.$$is_string?D=m.$$smap[p]:(D=p.value,p=p.key),z=re(p,D),z!==!1&&z!==F&&d(f,p,D);return f}),Be(X,"$select!",function ve(){var re=ve.$$p||F,m=this;if(ve.$$p=null,!Ne(re))return Ie(m,"enum_for",["select!"],function ie(){var Ue=ie.$$s==null?this:ie.$$s;return Ue.$size()},{$$s:m});k(m);for(var f=F,u=0,$=m.$$keys,h=$.length,p,D,z;u<h;u++)p=$[u],p.$$is_string?D=m.$$smap[p]:(D=p.value,p=p.key),z=re(p,D),(z===!1||z===F)&&(b(m,p)!==void 0&&(h--,u--),f=m);return f}),Be(X,"$shift",function(){var re=this;k(re);var m=re.$$keys,f;return m.length>0?(f=m[0],f=f.$$is_string?f:f.key,[f,b(re,f)]):F}),Be(X,"$slice",function(re){var m,f,u=this;m=se(arguments),f=m;for(var $=n(),h=0,p=f.length;h<p;h++){var D=f[h],z=o(u,D);z!==void 0&&d($,D,z)}return $},-1),Be(X,"$to_a",function(){for(var re=this,m=[],f=0,u=re.$$keys,$=u.length,h,p;f<$;f++)h=u[f],h.$$is_string?p=re.$$smap[h]:(p=h.value,h=h.key),m.push([h,p]);return m}),Be(X,"$to_h",function ve(){var re=ve.$$p||F,m=this;if(ve.$$p=null,re!==F)return Ie(m,"map",[],re.$to_proc()).$to_h();if(m.$$class===t.Hash)return m;var f=new t.Hash;return s(f),t.hash_clone(m,f),f}),Be(X,"$to_hash",Te),Be(X,"$to_proc",function(){var re=this;return Ie(re,"proc",[],function m(f){var u=m.$$s==null?this:m.$$s;return f==null&&he.$raise(ue("ArgumentError"),"no key given"),u["$[]"](f)},{$$arity:-1,$$s:re})}),Be(X,"$transform_keys",function ve(){var re=ve.$$p||F,m=this;if(ve.$$p=null,!Ne(re))return Ie(m,"enum_for",["transform_keys"],function z(){var ie=z.$$s==null?this:z.$$s;return ie.$size()},{$$s:m});for(var f=n(),u=0,$=m.$$keys,h=$.length,p,D;u<h;u++)p=$[u],p.$$is_string?D=m.$$smap[p]:(D=p.value,p=p.key),p=e(re,p),d(f,p,D);return f}),Be(X,"$transform_keys!",function ve(){var re=ve.$$p||F,m=this;if(ve.$$p=null,!Ne(re))return Ie(m,"enum_for",["transform_keys!"],function z(){var ie=z.$$s==null?this:z.$$s;return ie.$size()},{$$s:m});k(m);var f=t.slice(m.$$keys),u,$=f.length,h,p,D;for(u=0;u<$;u++)h=f[u],h.$$is_string?p=m.$$smap[h]:(p=h.value,h=h.key),D=e(re,h),b(m,h),d(m,D,p);return m}),Be(X,"$transform_values",function ve(){var re=ve.$$p||F,m=this;if(ve.$$p=null,!Ne(re))return Ie(m,"enum_for",["transform_values"],function z(){var ie=z.$$s==null?this:z.$$s;return ie.$size()},{$$s:m});for(var f=n(),u=0,$=m.$$keys,h=$.length,p,D;u<h;u++)p=$[u],p.$$is_string?D=m.$$smap[p]:(D=p.value,p=p.key),D=e(re,D),d(f,p,D);return f}),Be(X,"$transform_values!",function ve(){var re=ve.$$p||F,m=this;if(ve.$$p=null,!Ne(re))return Ie(m,"enum_for",["transform_values!"],function D(){var z=D.$$s==null?this:D.$$s;return z.$size()},{$$s:m});k(m);for(var f=0,u=m.$$keys,$=u.length,h,p;f<$;f++)h=u[f],h.$$is_string?p=m.$$smap[h]:(p=h.value,h=h.key),p=e(re,p),d(m,h,p);return m}),Be(X,"$values",function(){for(var re=this,m=[],f=0,u=re.$$keys,$=u.length,h;f<$;f++)h=u[f],h.$$is_string?m.push(re.$$smap[h]):m.push(h.value);return m}),Me(X,"dup","clone"),Me(X,"each_pair","each"),Me(X,"eql?","=="),Me(X,"filter","select"),Me(X,"filter!","select!"),Me(X,"include?","has_key?"),Me(X,"indices","indexes"),Me(X,"key","index"),Me(X,"key?","has_key?"),Me(X,"member?","has_key?"),Me(X,"size","length"),Me(X,"store","[]="),Me(X,"to_s","inspect"),Me(X,"update","merge!"),Me(X,"value?","has_value?"),Me(X,"values_at","indexes")}("::",null,pe)};Opal.modules["corelib/number"]=function(t){var e=t.klass,n=t.Opal,s=t.Kernel,o=t.def,d=t.eqeqeq,b=t.truthy,k=t.rb_gt,C=t.not,g=t.rb_lt,se=t.alias,we=t.send2,he=t.find_super,Ce=t.send,Be=t.rb_plus,Ie=t.rb_minus,ee=t.eqeq,ke=t.return_self,Oe=t.rb_divide,Ne=t.to_ary,Fe=t.rb_times,Te=t.rb_le,Me=t.rb_ge,te=t.return_val,pe=t.const_set,F=t.top,ue=[],G=t.nil,x=t.$$$;return t.add_stubs("require,bridge,raise,name,class,Float,respond_to?,coerce_to!,__coerced__,===,>,!,**,new,<,to_f,==,nan?,infinite?,enum_for,+,-,gcd,lcm,%,/,frexp,to_i,ldexp,rationalize,*,<<,to_r,truncate,-@,size,<=,>=,inspect,angle,to_s,is_a?,abs,__id__,next,coerce_to?"),F.$require("corelib/numeric"),function(Z,X,ge){var j=e(Z,X,"Number");n.$bridge(Number,j),t.prop(j.$$prototype,"$$is_number",!0),j.$$is_number_class=!0,function(u,$){return o(u,"$allocate",function(){var p=this;return s.$raise(x("TypeError"),"allocator undefined for "+p.$name())}),t.udef(u,"$new"),G}(t.get_singleton_class(j)),o(j,"$coerce",function($){var h=this;if($===G)s.$raise(x("TypeError"),"can't convert "+$.$class()+" into Float");else{if($.$$is_string)return[s.$Float($),h];if($["$respond_to?"]("to_f"))return[n["$coerce_to!"]($,x("Float"),"to_f"),h];if($.$$is_number)return[$,h];s.$raise(x("TypeError"),"can't convert "+$.$class()+" into Float")}}),o(j,"$__id__",function(){var $=this;return $*2+1}),o(j,"$+",function($){var h=this;return $.$$is_number?h+$:h.$__coerced__("+",$)}),o(j,"$-",function($){var h=this;return $.$$is_number?h-$:h.$__coerced__("-",$)}),o(j,"$*",function($){var h=this;return $.$$is_number?h*$:h.$__coerced__("*",$)}),o(j,"$/",function($){var h=this;return $.$$is_number?h/$:h.$__coerced__("/",$)}),o(j,"$%",function($){var h=this;if($.$$is_number){if($==-1/0)return $;if($==0)s.$raise(x("ZeroDivisionError"),"divided by 0");else return $<0||h<0?(h%$+$)%$:h%$}else return h.$__coerced__("%",$)}),o(j,"$&",function($){var h=this;return $.$$is_number?h&$:h.$__coerced__("&",$)}),o(j,"$|",function($){var h=this;return $.$$is_number?h|$:h.$__coerced__("|",$)}),o(j,"$^",function($){var h=this;return $.$$is_number?h^$:h.$__coerced__("^",$)}),o(j,"$<",function($){var h=this;return $.$$is_number?h<$:h.$__coerced__("<",$)}),o(j,"$<=",function($){var h=this;return $.$$is_number?h<=$:h.$__coerced__("<=",$)}),o(j,"$>",function($){var h=this;return $.$$is_number?h>$:h.$__coerced__(">",$)}),o(j,"$>=",function($){var h=this;return $.$$is_number?h>=$:h.$__coerced__(">=",$)});var Ke=function(u,$){return $.$$is_number?isNaN(u)||isNaN($)?G:u>$?1:u<$?-1:0:u.$__coerced__("<=>",$)};o(j,"$<=>",function($){var h=this;try{return Ke(h,$)}catch(p){if(t.rescue(p,[x("ArgumentError")]))try{return G}finally{t.pop_exception()}else throw p}}),o(j,"$<<",function($){var h=this;return $=n["$coerce_to!"]($,x("Integer"),"to_int"),$>0?h<<$:h>>-$}),o(j,"$>>",function($){var h=this;return $=n["$coerce_to!"]($,x("Integer"),"to_int"),$>0?h>>$:h<<-$}),o(j,"$[]",function($){var h=this;return $=n["$coerce_to!"]($,x("Integer"),"to_int"),$<0?0:$>=32?h<0?1:0:h>>$&1}),o(j,"$+@",function(){var $=this;return+$}),o(j,"$-@",function(){var $=this;return-$}),o(j,"$~",function(){var $=this;return~$}),o(j,"$**",function($){var h=this;return d(x("Integer"),$)?C(x("Integer")["$==="](h))||b(k($,0))?Math.pow(h,$):x("Rational").$new(h,1)["$**"]($):g(h,0)&&(d(x("Float"),$)||d(x("Rational"),$))?x("Complex").$new(h,0)["$**"]($.$to_f()):b($.$$is_number!=null)?Math.pow(h,$):h.$__coerced__("**",$)}),o(j,"$==",function($){var h=this;return $.$$is_number?h.valueOf()===$.valueOf():$["$respond_to?"]("==")?$["$=="](h):!1}),se(j,"===","=="),o(j,"$abs",function(){var $=this;return Math.abs($)}),o(j,"$abs2",function(){var $=this;return Math.abs($*$)}),o(j,"$allbits?",function($){var h=this;return $=n["$coerce_to!"]($,x("Integer"),"to_int"),(h&$)==$}),o(j,"$anybits?",function($){var h=this;return $=n["$coerce_to!"]($,x("Integer"),"to_int"),(h&$)!==0}),o(j,"$angle",function(){var $=this;return b($["$nan?"]())?$:$==0?1/$>0?0:Math.PI:$<0?Math.PI:0}),o(j,"$bit_length",function(){var $=this;if(d(x("Integer"),$)||s.$raise(x("NoMethodError").$new("undefined method `bit_length` for "+$+":Float","bit_length")),$===0||$===-1)return 0;for(var h=0,p=$<0?~$:$;p!=0;)h+=1,p>>>=1;return h}),o(j,"$ceil",function($){var h=this;$==null&&($=0);var p=h.$to_f();if(p%1===0&&$>=0)return p;var D=Math.pow(10,$),z=Math.ceil(p*D)/D;return p%1===0&&(z=Math.round(z)),z},-1),o(j,"$chr",function($){var h=this;return t.enc(String.fromCharCode(h),$||"BINARY")},-1),o(j,"$denominator",function u(){var $=u.$$p||G,h=this;return u.$$p=null,b(h["$nan?"]())||b(h["$infinite?"]())?1:we(h,he(h,"denominator",u,!1,!0),"denominator",[],$)}),o(j,"$downto",function u($){var h=u.$$p||G,p=this;if(u.$$p=null,h===G)return Ce(p,"enum_for",["downto",$],function z(){var ie=z.$$s==null?this:z.$$s;return d(x("Numeric"),$)||s.$raise(x("ArgumentError"),"comparison of "+ie.$class()+" with "+$.$class()+" failed"),b(k($,ie))?0:Be(Ie(ie,$),1)},{$$s:p});$.$$is_number||s.$raise(x("ArgumentError"),"comparison of "+p.$class()+" with "+$.$class()+" failed");for(var D=p;D>=$;D--)h(D);return p}),o(j,"$equal?",function($){var h=this,p=G;return b(p=h["$=="]($))?p:isNaN(h)&&isNaN($)}),o(j,"$even?",function(){var $=this;return $%2===0}),o(j,"$floor",function($){var h=this;$==null&&($=0);var p=h.$to_f();if(p%1===0&&$>=0)return p;var D=Math.pow(10,$),z=Math.floor(p*D)/D;return p%1===0&&(z=Math.round(z)),z},-1),o(j,"$gcd",function($){var h=this;d(x("Integer"),$)||s.$raise(x("TypeError"),"not an integer");for(var p=Math.abs(h),D=Math.abs($);p>0;){var z=p;p=D%p,D=z}return D}),o(j,"$gcdlcm",function($){var h=this;return[h.$gcd($),h.$lcm($)]}),o(j,"$integer?",function(){var $=this;return $%1===0}),o(j,"$is_a?",function u($){var h=u.$$p||G,p=this;return u.$$p=null,ee($,x("Integer"))&&d(x("Integer"),p)||ee($,x("Integer"))&&d(x("Integer"),p)||ee($,x("Float"))&&d(x("Float"),p)?!0:we(p,he(p,"is_a?",u,!1,!0),"is_a?",[$],h)}),o(j,"$instance_of?",function u($){var h=u.$$p||G,p=this;return u.$$p=null,ee($,x("Integer"))&&d(x("Integer"),p)||ee($,x("Integer"))&&d(x("Integer"),p)||ee($,x("Float"))&&d(x("Float"),p)?!0:we(p,he(p,"instance_of?",u,!1,!0),"instance_of?",[$],h)}),o(j,"$lcm",function($){var h=this;return d(x("Integer"),$)||s.$raise(x("TypeError"),"not an integer"),h==0||$==0?0:Math.abs(h*$/h.$gcd($))}),o(j,"$next",function(){var $=this;return $+1}),o(j,"$nobits?",function($){var h=this;return $=n["$coerce_to!"]($,x("Integer"),"to_int"),(h&$)==0}),o(j,"$nonzero?",function(){var $=this;return $==0?G:$}),o(j,"$numerator",function u(){var $=u.$$p||G,h=this;return u.$$p=null,b(h["$nan?"]())||b(h["$infinite?"]())?h:we(h,he(h,"numerator",u,!1,!0),"numerator",[],$)}),o(j,"$odd?",function(){var $=this;return $%2!==0}),o(j,"$ord",ke),o(j,"$pow",function($,h){var p=this;return p==0&&s.$raise(x("ZeroDivisionError"),"divided by 0"),h===void 0?p["$**"]($):(x("Integer")["$==="]($)||s.$raise(x("TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),$<0&&s.$raise(x("TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),x("Integer")["$==="](h)||s.$raise(x("TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),h===0&&s.$raise(x("ZeroDivisionError"),"divided by 0"),p["$**"]($)["$%"](h))},-2),o(j,"$pred",function(){var $=this;return $-1}),o(j,"$quo",function u($){var h=u.$$p||G,p=this;return u.$$p=null,d(x("Integer"),p)?we(p,he(p,"quo",u,!1,!0),"quo",[$],h):Oe(p,$)}),o(j,"$rationalize",function($){var h,p,D=this,z=G,ie=G;return arguments.length>1&&s.$raise(x("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),d(x("Integer"),D)?x("Rational").$new(D,1):b(D["$infinite?"]())?s.$raise(x("FloatDomainError"),"Infinity"):b(D["$nan?"]())?s.$raise(x("FloatDomainError"),"NaN"):b($==null)?(p=x("Math").$frexp(D),h=Ne(p),z=h[0]==null?G:h[0],ie=h[1]==null?G:h[1],z=x("Math").$ldexp(z,x(x("Float"),"MANT_DIG")).$to_i(),ie=Ie(ie,x(x("Float"),"MANT_DIG")),x("Rational").$new(Fe(2,z),1["$<<"](Ie(1,ie))).$rationalize(x("Rational").$new(1,1["$<<"](Ie(1,ie))))):D.$to_r().$rationalize($)},-1),o(j,"$remainder",function($){var h=this;return Ie(h,Fe($,Oe(h,$).$truncate()))}),o(j,"$round",function($){var h,p,D=this,z=G;if(d(x("Integer"),D)){if(b($==null)||(d(x("Float"),$)&&b($["$infinite?"]())&&s.$raise(x("RangeError"),"Infinity"),$=n["$coerce_to!"]($,x("Integer"),"to_int"),b(g($,x(x("Integer"),"MIN")))&&s.$raise(x("RangeError"),"out of bounds"),b($>=0)))return D;if($=$["$-@"](),.415241*$-.125>D.$size())return 0;var ie=Math.pow(10,$),Ue=Math.floor((Math.abs(D)+ie/2)/ie)*ie;return D<0?-Ue:Ue}else{if(b(D["$nan?"]())&&b($==null)&&s.$raise(x("FloatDomainError"),"NaN"),$=n["$coerce_to!"]($||0,x("Integer"),"to_int"),b(Te($,0)))b(D["$nan?"]())?s.$raise(x("RangeError"),"NaN"):b(D["$infinite?"]())&&s.$raise(x("FloatDomainError"),"Infinity");else{if(ee($,0))return Math.round(D);if(b(D["$nan?"]())||b(D["$infinite?"]()))return D}return p=x("Math").$frexp(D),h=Ne(p),h[0]==null||h[0],z=h[1]==null?G:h[1],b(Me($,Ie(Be(x(x("Float"),"DIG"),2),b(k(z,0))?Oe(z,4):Ie(Oe(z,3),1))))?D:b(g($,(b(k(z,0))?Be(Oe(z,3),1):Oe(z,4))["$-@"]()))?0:Math.round(D*Math.pow(10,$))/Math.pow(10,$)}},-1),o(j,"$times",function u(){var $=u.$$p||G,h=this;if(u.$$p=null,!b($))return Ce(h,"enum_for",["times"],function D(){var z=D.$$s==null?this:D.$$s;return z},{$$s:h});for(var p=0;p<h;p++)$(p);return h}),o(j,"$to_f",ke),o(j,"$to_i",function(){var $=this;return $<0?Math.ceil($):Math.floor($)}),o(j,"$to_r",function(){var $,h,p=this,D=G,z=G;return d(x("Integer"),p)?x("Rational").$new(p,1):(h=x("Math").$frexp(p),$=Ne(h),D=$[0]==null?G:$[0],z=$[1]==null?G:$[1],D=x("Math").$ldexp(D,x(x("Float"),"MANT_DIG")).$to_i(),z=Ie(z,x(x("Float"),"MANT_DIG")),Fe(D,x(x("Float"),"RADIX")["$**"](z)).$to_r())}),o(j,"$to_s",function($){var h=this;return $==null&&($=10),$=n["$coerce_to!"]($,x("Integer"),"to_int"),(b(g($,2))||b(k($,36)))&&s.$raise(x("ArgumentError"),"invalid radix "+$),ee(h,0)&&b(1/h===-1/0)?"-0.0":h.toString($)},-1),o(j,"$truncate",function($){var h=this;$==null&&($=0);var p=h.$to_f();if(p%1===0&&$>=0)return p;var D=Math.pow(10,$),z=parseInt(p*D,10)/D;return p%1===0&&(z=Math.round(z)),z},-1),o(j,"$digits",function($){var h=this;$==null&&($=10),g(h,0)&&s.$raise(x(x("Math"),"DomainError"),"out of domain"),$=n["$coerce_to!"]($,x("Integer"),"to_int"),b(g($,2))&&s.$raise(x("ArgumentError"),"invalid radix "+$),h!=parseInt(h)&&s.$raise(x("NoMethodError"),"undefined method `digits' for "+h.$inspect());var p=h,D=[];if(h==0)return[0];for(;p!=0;)D.push(p%$),p=parseInt(p/$,10);return D},-1),o(j,"$divmod",function u($){var h=u.$$p||G,p=this;return u.$$p=null,b(p["$nan?"]())||b($["$nan?"]())?s.$raise(x("FloatDomainError"),"NaN"):b(p["$infinite?"]())?s.$raise(x("FloatDomainError"),"Infinity"):we(p,he(p,"divmod",u,!1,!0),"divmod",[$],h)}),o(j,"$upto",function u($){var h=u.$$p||G,p=this;if(u.$$p=null,h===G)return Ce(p,"enum_for",["upto",$],function z(){var ie=z.$$s==null?this:z.$$s;return d(x("Numeric"),$)||s.$raise(x("ArgumentError"),"comparison of "+ie.$class()+" with "+$.$class()+" failed"),b(g($,ie))?0:Be(Ie($,ie),1)},{$$s:p});$.$$is_number||s.$raise(x("ArgumentError"),"comparison of "+p.$class()+" with "+$.$class()+" failed");for(var D=p;D<=$;D++)h(D);return p}),o(j,"$zero?",function(){var $=this;return $==0}),o(j,"$size",te(4)),o(j,"$nan?",function(){var $=this;return isNaN($)}),o(j,"$finite?",function(){var $=this;return $!=1/0&&$!=-1/0&&!isNaN($)}),o(j,"$infinite?",function(){var $=this;return $==1/0?1:$==-1/0?-1:G}),o(j,"$positive?",function(){var $=this;return $!=0&&($==1/0||1/$>0)}),o(j,"$negative?",function(){var $=this;return $==-1/0||1/$<0});function ve(u){var $=new Uint8Array(8);return new DataView($.buffer).setFloat64(0,u,!0),$}function re(u){return new DataView(u.buffer).getFloat64(0,!0)}function m(u){for(var $=ve(u),h=0;h<$.length;h++)if($[h]===255)$[h]=0;else{$[h]++;break}return re($)}function f(u){for(var $=ve(u),h=0;h<$.length;h++)if($[h]===0)$[h]=255;else{$[h]--;break}return re($)}return o(j,"$next_float",function(){var $=this;return ee($,x(x("Float"),"INFINITY"))?x(x("Float"),"INFINITY"):b($["$nan?"]())?x(x("Float"),"NAN"):Me($,0)?m(Math.abs($)):f($)}),o(j,"$prev_float",function(){var $=this;return ee($,x(x("Float"),"INFINITY")["$-@"]())?x(x("Float"),"INFINITY")["$-@"]():b($["$nan?"]())?x(x("Float"),"NAN"):k($,0)?f($):-m(Math.abs($))}),se(j,"arg","angle"),se(j,"eql?","=="),se(j,"fdiv","/"),se(j,"inspect","to_s"),se(j,"kind_of?","is_a?"),se(j,"magnitude","abs"),se(j,"modulo","%"),se(j,"object_id","__id__"),se(j,"phase","angle"),se(j,"succ","next"),se(j,"to_int","to_i")}("::",x("Numeric")),pe("::","Fixnum",x("Number")),function(Z,X,ge){var j=e(Z,X,"Integer"),Ke=[j].concat(ge);return j.$$is_number_class=!0,j.$$is_integer_class=!0,function(ve,re){var m=[ve].concat(re),f=t.$r(m);return o(ve,"$allocate",function(){var $=this;return s.$raise(x("TypeError"),"allocator undefined for "+$.$name())}),t.udef(ve,"$new"),o(ve,"$sqrt",function($){return $=n["$coerce_to!"]($,x("Integer"),"to_int"),$<0&&s.$raise(x(x("Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt($),10)}),o(ve,"$try_convert",function($){var h=this;return f("Opal")["$coerce_to?"]($,h,"to_int")})}(t.get_singleton_class(j),Ke),pe(j,"MAX",Math.pow(2,30)-1),pe(j,"MIN",-Math.pow(2,30))}("::",x("Numeric"),ue),function(Z,X,ge){var j=e(Z,X,"Float");return j.$$is_number_class=!0,function(Ke,ve){return o(Ke,"$allocate",function(){var m=this;return s.$raise(x("TypeError"),"allocator undefined for "+m.$name())}),t.udef(Ke,"$new"),o(Ke,"$===",function(m){return!!m.$$is_number})}(t.get_singleton_class(j)),pe(j,"INFINITY",1/0),pe(j,"MAX",Number.MAX_VALUE),pe(j,"MIN",Number.MIN_VALUE),pe(j,"NAN",NaN),pe(j,"DIG",15),pe(j,"MANT_DIG",53),pe(j,"RADIX",2),pe(j,"EPSILON",Number.EPSILON||2220446049250313e-31)}("::",x("Numeric"))};Opal.modules["corelib/range"]=function(t){var e=t.klass,n=t.truthy,s=t.Kernel,o=t.def,d=t.not,b=t.send2,k=t.find_super,C=t.rb_lt,g=t.rb_le,se=t.send,we=t.eqeq,he=t.eqeqeq,Ce=t.return_ivar,Be=t.rb_gt,Ie=t.rb_minus,ee=t.Opal,ke=t.rb_divide,Oe=t.rb_plus,Ne=t.rb_times,Fe=t.rb_ge,Te=t.thrower,Me=t.alias,te=t.top,pe=[],F=t.nil,ue=t.$$$;return t.add_stubs("require,include,attr_reader,raise,nil?,<=>,include?,!,<,<=,enum_for,size,upto,to_proc,respond_to?,class,succ,==,===,exclude_end?,eql?,begin,end,last,to_a,>,-@,-,to_i,coerce_to!,ceil,/,is_a?,new,loop,+,*,>=,each_with_index,%,step,bsearch,inspect,[],hash,cover?"),te.$require("corelib/enumerable"),function(G,x,Z){var X=e(G,x,"Range"),ge=[X].concat(Z),j=t.$r(ge),Ke=X.$$prototype;Ke.begin=Ke.end=Ke.excl=F,X.$include(ue("Enumerable")),X.$$prototype.$$is_range=!0,X.$attr_reader("begin","end"),o(X,"$initialize",function(m,f,u){var $=this;return u==null&&(u=!1),n($.begin)&&s.$raise(ue("NameError"),"'initialize' called twice"),n(m["$<=>"](f))||n(m["$nil?"]())||n(f["$nil?"]())||s.$raise(ue("ArgumentError"),"bad value for range"),$.begin=m,$.end=f,$.excl=u},-3),o(X,"$===",function(m){var f=this;return f["$include?"](m)});function ve(re){return re.begin===F||re.end===F||re.begin===-1/0||re.end===1/0||re.begin===1/0||re.end===-1/0}return o(X,"$count",function re(){var m=re.$$p||F,f=this;return re.$$p=null,d(m!==F)&&n(ve(f))?ue(ue("Float"),"INFINITY"):b(f,k(f,"count",re,!1,!0),"count",[],m)}),o(X,"$to_a",function re(){var m=re.$$p||F,f=this;return re.$$p=null,n(ve(f))&&s.$raise(ue("TypeError"),"cannot convert endless range to an array"),b(f,k(f,"to_a",re,!1,!0),"to_a",[],m)}),o(X,"$cover?",function(m){var f=this,u=F,$=F,h=F,p=F,D=F;return u=n($=n(h=n(p=f.begin["$nil?"]())?-1:p)?h:f.begin["$<=>"](m))&&$,D=n($=n(h=n(p=f.end["$nil?"]())?-1:p)?h:m["$<=>"](f.end))&&$,n($=n(h=n(f.excl)?n(p=D)?C(D,0):p:n(p=D)?g(D,0):p)?u:h)?g(u,0):$}),o(X,"$each",function re(){var m=re.$$p||F,f=this,u=F,$=F,h=F;if(re.$$p=null,m===F)return se(f,"enum_for",["each"],function z(){var ie=z.$$s==null?this:z.$$s;return ie.$size()},{$$s:f});var p,D;if(f.begin.$$is_number&&f.end.$$is_number){for((f.begin%1!==0||f.end%1!==0)&&s.$raise(ue("TypeError"),"can't iterate from Float"),p=f.begin,D=f.end+(n(f.excl)?0:1);p<D;p++)m(p);return f}if(f.begin.$$is_string&&f.end.$$is_string)return se(f.begin,"upto",[f.end,f.excl],m.$to_proc()),f;for(u=f.begin,$=f.end,n(u["$respond_to?"]("succ"))||s.$raise(ue("TypeError"),"can't iterate from "+u.$class());n(n(h=f.end["$nil?"]())?h:C(u["$<=>"]($),0));)t.yield1(m,u),u=u.$succ();return d(f.excl)&&we(u,$)&&t.yield1(m,u),f}),o(X,"$eql?",function(m){var f=this,u=F,$=F;return he(ue("Range"),m)?n(u=n($=f.excl["$==="](m["$exclude_end?"]()))?f.begin["$eql?"](m.$begin()):$)?f.end["$eql?"](m.$end()):u:!1}),o(X,"$exclude_end?",Ce("excl")),o(X,"$first",function re(m){var f=re.$$p||F,u=this;return re.$$p=null,n(u.begin["$nil?"]())&&s.$raise(ue("RangeError"),"cannot get the minimum of beginless range"),n(m==null)?u.begin:b(u,k(u,"first",re,!1,!0),"first",[m],f)},-1),o(X,"$last",function(m){var f=this;return n(f.end["$nil?"]())&&s.$raise(ue("RangeError"),"cannot get the maximum of endless range"),n(m==null)?f.end:f.$to_a().$last(m)},-1),o(X,"$max",function re(){var m=re.$$p||F,f=this;return re.$$p=null,n(f.end["$nil?"]())?s.$raise(ue("RangeError"),"cannot get the maximum of endless range"):m!==F?b(f,k(f,"max",re,!1,!0),"max",[],m):d(f.begin["$nil?"]())&&(n(Be(f.begin,f.end))||n(f.excl)&&we(f.begin,f.end))?F:f.excl?f.end-1:f.end}),o(X,"$min",function re(){var m=re.$$p||F,f=this;return re.$$p=null,n(f.begin["$nil?"]())?s.$raise(ue("RangeError"),"cannot get the minimum of beginless range"):m!==F?b(f,k(f,"min",re,!1,!0),"min",[],m):d(f.end["$nil?"]())&&(n(Be(f.begin,f.end))||n(f.excl)&&we(f.begin,f.end))?F:f.begin}),o(X,"$size",function(){var m=this,f=F,u=F,$=F;return f=ue(ue("Float"),"INFINITY"),we(m.begin,f)&&d(m.end["$nil?"]())||we(m.end,f["$-@"]())&&d(m.begin["$nil?"]())?0:n(ve(m))?f:he(ue("Numeric"),m.begin)&&he(ue("Numeric"),m.end)?(u=m.begin,$=m.end,n(m.excl)&&($=Ie($,1)),n(C($,u))?0:(Math.abs($-u)+1).$to_i()):F}),o(X,"$step",function re(m){var f=re.$$p||F,u=this,$=F,h=F;re.$$p=null;function p(){m==null?m=1:m.$$is_number||(m=ee["$coerce_to!"](m,ue("Integer"),"to_int")),m<0?s.$raise(ue("ArgumentError"),"step can't be negative"):m===0&&s.$raise(ue("ArgumentError"),"step can't be 0")}function D(){if(!u.begin["$respond_to?"]("succ")||u.begin.$$is_string&&u.end.$$is_string)return F;if(m%1===0)return ke(u.$size(),m).$ceil();var z=u.begin,ie=u.end,Ue=Math.abs,ut=Math.floor,yt=(Ue(z)+Ue(ie)+Ue(ie-z))/Ue(m)*ue(ue("Float"),"EPSILON"),Tt;return yt>.5&&(yt=.5),u.excl?(Tt=ut((ie-z)/m-yt),Tt*m+z<ie&&Tt++):Tt=ut((ie-z)/m+yt)+1,Tt}return f===F?(n(u.begin["$is_a?"](j("Numeric")))||n(u.begin["$nil?"]()))&&(n(u.end["$is_a?"](j("Numeric")))||n(u.end["$nil?"]()))&&d(n($=u.begin["$nil?"]())?u.end["$nil?"]():$)?ue(ue("Enumerator"),"ArithmeticSequence").$new(u,m,"step"):se(u,"enum_for",["step",m],function(){return p(),D()}):(p(),n(u.begin.$$is_number&&u.end.$$is_number)?(h=0,function(){try{var z=Te("break");return se(u,"loop",[],function ie(){var Ue=ie.$$s==null?this:ie.$$s,ut=F;return Ue.begin==null&&(Ue.begin=F),Ue.excl==null&&(Ue.excl=F),Ue.end==null&&(Ue.end=F),ut=Oe(Ue.begin,Ne(h,m)),n(Ue.excl)?n(Fe(ut,Ue.end))&&z.$throw():n(Be(ut,Ue.end))&&z.$throw(),t.yield1(f,ut),h=Oe(h,1)},{$$s:u})}catch(ie){if(ie===z)return ie.$v;throw ie}}()):(u.begin.$$is_string&&u.end.$$is_string&&m%1!==0&&s.$raise(ue("TypeError"),"no implicit conversion to float from string"),se(u,"each_with_index",[],function(ie,Ue){return ie==null&&(ie=F),Ue==null&&(Ue=F),we(Ue["$%"](m),0)?t.yield1(f,ie):F})),u)},-1),o(X,"$%",function(m){var f=this;return n(f.begin["$is_a?"](j("Numeric")))&&n(f.end["$is_a?"](j("Numeric")))?ue(ue("Enumerator"),"ArithmeticSequence").$new(f,m,"%"):f.$step(m)}),o(X,"$bsearch",function re(){var m=re.$$p||F,f=this;return re.$$p=null,m===F?f.$enum_for("bsearch"):(n(ve(f)&&(f.begin.$$is_number||f.end.$$is_number))&&s.$raise(ue("NotImplementedError"),"Can't #bsearch an infinite range"),n(f.begin.$$is_number&&f.end.$$is_number)||s.$raise(ue("TypeError"),"can't do binary search for "+f.begin.$class()),se(f.$to_a(),"bsearch",[],m.$to_proc()))}),o(X,"$to_s",function(){var m=this,f=F;return""+(n(f=m.begin)?f:"")+(n(m.excl)?"...":"..")+(n(f=m.end)?f:"")}),o(X,"$inspect",function(){var m=this,f=F;return""+(n(f=m.begin)?m.begin.$inspect():f)+(n(m.excl)?"...":"..")+(n(f=m.end)?m.end.$inspect():f)}),o(X,"$marshal_load",function(m){var f=this;return f.begin=m["$[]"]("begin"),f.end=m["$[]"]("end"),f.excl=m["$[]"]("excl")}),o(X,"$hash",function(){var m=this;return[m.begin,m.end,m.excl].$hash()}),Me(X,"==","eql?"),Me(X,"include?","cover?"),Me(X,"member?","cover?")}("::",null,pe)};Opal.modules["corelib/proc"]=function(t){var e=t.slice,n=t.klass,s=t.truthy,o=t.Kernel,d=t.defs,b=t.def,k=t.send,C=t.to_a,g=t.return_self,se=t.ensure_kwargs,we=t.Opal,he=t.alias,Ce=t.nil,Be=t.$$$;return t.add_stubs("raise,proc,call,to_proc,new,source_location,coerce_to!,dup"),function(Ie,ee){var ke=n(Ie,ee,"Proc");return t.prop(ke.$$prototype,"$$is_proc",!0),t.prop(ke.$$prototype,"$$is_lambda",!1),d(ke,"$new",function Oe(){var Ne=Oe.$$p||Ce;return Oe.$$p=null,s(Ne)||o.$raise(Be("ArgumentError"),"tried to create a Proc object without a block"),Ne}),b(ke,"$call",function Oe(Ne){var Fe=Oe.$$p||Ce,Te,Me,te=this;Oe.$$p=null,Te=e(arguments),Me=Te,Fe!==Ce&&(te.$$p=Fe);var pe,F=te.$$brk,ue=te.$$ret;if(F||ue&&te.$$is_lambda)try{te.$$is_lambda?pe=te.apply(null,Me):pe=t.yieldX(te,Me)}catch(G){if(G===F)return G.$v;if(te.$$is_lambda&&G===ue)return G.$v;throw G}else te.$$is_lambda?pe=te.apply(null,Me):pe=t.yieldX(te,Me);return pe},-1),b(ke,"$>>",function Oe(Ne){Oe.$$p;var Fe=this;return Oe.$$p=null,k(o,"proc",[],function Te(Me){var te=Te.$$p||Ce,pe,F,ue=Te.$$s==null?this:Te.$$s,G=Ce;return Te.$$p=null,pe=e(arguments),F=pe,G=k(ue,"call",C(F),te.$to_proc()),Ne.$call(G)},{$$arity:-1,$$s:Fe})}),b(ke,"$<<",function Oe(Ne){Oe.$$p;var Fe=this;return Oe.$$p=null,k(o,"proc",[],function Te(Me){var te=Te.$$p||Ce,pe,F,ue=Te.$$s==null?this:Te.$$s,G=Ce;return Te.$$p=null,pe=e(arguments),F=pe,G=k(Ne,"call",C(F),te.$to_proc()),ue.$call(G)},{$$arity:-1,$$s:Fe})}),b(ke,"$to_proc",g),b(ke,"$lambda?",function(){var Ne=this;return!!Ne.$$is_lambda}),b(ke,"$arity",function(){var Ne=this;return Ne.$$is_curried?-1:Ne.$$arity!=null?Ne.$$arity:Ne.length}),b(ke,"$source_location",function(){var Ne=this,Fe=Ce;return Ne.$$is_curried?Ce:s(Fe=Ne.$$source_location)?Fe:Ce}),b(ke,"$binding",function(){var Ne=this;return Ne.$$is_curried&&o.$raise(Be("ArgumentError"),"Can't create Binding"),s(Be("::","Binding","skip_raise")?"constant":Ce)?Be("Binding").$new(Ce,[],Ne.$$s,Ne.$source_location()):Ce}),b(ke,"$parameters",function(Ne){var Fe,Te=this;if(Ne=se(Ne),Fe=Ne.$$smap.lambda,Te.$$is_curried)return[["rest"]];if(Te.$$parameters){if(Fe??Te.$$is_lambda)return Te.$$parameters;var Me=[],te,pe;for(te=0,pe=Te.$$parameters.length;te<pe;te++){var F=Te.$$parameters[te];F[0]==="req"&&(F=["opt",F[1]]),Me.push(F)}return Me}else return[]},-1),b(ke,"$curry",function(Ne){var Fe=this;Ne===void 0?Ne=Fe.length:(Ne=we["$coerce_to!"](Ne,Be("Integer"),"to_int"),Fe.$$is_lambda&&Ne!==Fe.length&&o.$raise(Be("ArgumentError"),"wrong number of arguments ("+Ne+" for "+Fe.length+")"));function Te(){var Me=e(arguments),te=Me.length,pe;return te>Ne&&Fe.$$is_lambda&&!Fe.$$is_curried&&o.$raise(Be("ArgumentError"),"wrong number of arguments ("+te+" for "+Ne+")"),te>=Ne?Fe.$call.apply(Fe,Me):(pe=function(){return Te.apply(null,Me.concat(e(arguments)))},pe.$$is_lambda=Fe.$$is_lambda,pe.$$is_curried=!0,pe)}return Te.$$is_lambda=Fe.$$is_lambda,Te.$$is_curried=!0,Te},-1),b(ke,"$dup",function(){var Ne=this,Fe=Ne.$$original_proc||Ne,Te=function(){return Fe.apply(this,arguments)};for(var Me in Ne)Ne.hasOwnProperty(Me)&&(Te[Me]=Ne[Me]);return Te}),he(ke,"===","call"),he(ke,"clone","dup"),he(ke,"yield","call"),he(ke,"[]","call")}("::",Function)};Opal.modules["corelib/method"]=function(t){var e=t.klass,n=t.def,s=t.truthy,o=t.slice,d=t.alias,b=t.Kernel,k=t.send,C=t.to_a,g=t.nil,se=t.$$$;return t.add_stubs("attr_reader,arity,curry,>>,<<,new,class,join,source_location,call,raise,bind,to_proc"),function(we,he){var Ce=e(we,he,"Method"),Be=Ce.$$prototype;return Be.method=Be.receiver=Be.owner=Be.name=g,Ce.$attr_reader("owner","receiver","name"),n(Ce,"$initialize",function(ee,ke,Oe,Ne){var Fe=this;return Fe.receiver=ee,Fe.owner=ke,Fe.name=Ne,Fe.method=Oe}),n(Ce,"$arity",function(){var ee=this;return ee.method.$arity()}),n(Ce,"$parameters",function(){var ee=this;return ee.method.$$parameters}),n(Ce,"$source_location",function(){var ee=this,ke=g;return s(ke=ee.method.$$source_location)?ke:["(eval)",0]}),n(Ce,"$comments",function(){var ee=this,ke=g;return s(ke=ee.method.$$comments)?ke:[]}),n(Ce,"$call",function Ie(ee){var ke=Ie.$$p||g,Oe,Ne,Fe=this;return Ie.$$p=null,Oe=o(arguments),Ne=Oe,Fe.method.$$p=ke,Fe.method.apply(Fe.receiver,Ne)},-1),n(Ce,"$curry",function(ee){var ke=this;return ke.method.$curry(ee)},-1),n(Ce,"$>>",function(ee){var ke=this;return ke.method["$>>"](ee)}),n(Ce,"$<<",function(ee){var ke=this;return ke.method["$<<"](ee)}),n(Ce,"$unbind",function(){var ee=this;return se("UnboundMethod").$new(ee.receiver.$class(),ee.owner,ee.method,ee.name)}),n(Ce,"$to_proc",function(){var ee=this,ke=ee.$call.bind(ee);return ke.$$unbound=ee.method,ke.$$is_lambda=!0,ke.$$arity=ee.method.$$arity==null?ee.method.length:ee.method.$$arity,ke.$$parameters=ee.method.$$parameters,ke}),n(Ce,"$inspect",function(){var ee=this;return"#<"+ee.$class()+": "+ee.receiver.$class()+"#"+ee.name+" (defined in "+ee.owner+" in "+ee.$source_location().$join(":")+")>"}),d(Ce,"[]","call"),d(Ce,"===","call")}("::",null),function(we,he){var Ce=e(we,he,"UnboundMethod"),Be=Ce.$$prototype;return Be.method=Be.owner=Be.name=Be.source=g,Ce.$attr_reader("source","owner","name"),n(Ce,"$initialize",function(ee,ke,Oe,Ne){var Fe=this;return Fe.source=ee,Fe.owner=ke,Fe.method=Oe,Fe.name=Ne}),n(Ce,"$arity",function(){var ee=this;return ee.method.$arity()}),n(Ce,"$parameters",function(){var ee=this;return ee.method.$$parameters}),n(Ce,"$source_location",function(){var ee=this,ke=g;return s(ke=ee.method.$$source_location)?ke:["(eval)",0]}),n(Ce,"$comments",function(){var ee=this,ke=g;return s(ke=ee.method.$$comments)?ke:[]}),n(Ce,"$bind",function(ee){var ke=this;if(ke.owner.$$is_module||t.is_a(ee,ke.owner))return se("Method").$new(ee,ke.owner,ke.method,ke.name);b.$raise(se("TypeError"),"can't bind singleton method to a different class (expected "+ee+".kind_of?("+ke.owner+" to be true)")}),n(Ce,"$bind_call",function Ie(ee,ke){var Oe=Ie.$$p||g,Ne,Fe,Te=this;return Ie.$$p=null,Ne=o(arguments,1),Fe=Ne,k(Te.$bind(ee),"call",C(Fe),Oe.$to_proc())},-2),n(Ce,"$inspect",function(){var ee=this;return"#<"+ee.$class()+": "+ee.source+"#"+ee.name+" (defined in "+ee.owner+" in "+ee.$source_location().$join(":")+")>"})}("::",null)};Opal.modules["corelib/variables"]=function(t){var e=t.gvars,n=t.const_set,s=t.Object,o=t.hash2,d=t.nil;return t.add_stubs("new"),e["&"]=e["~"]=e["`"]=e["'"]=d,e.LOADED_FEATURES=e['"']=t.loaded_features,e.LOAD_PATH=e[":"]=[],e["/"]=`
`,e[","]=d,n("::","ARGV",[]),n("::","ARGF",s.$new()),n("::","ENV",o([],{})),e.VERBOSE=!1,e.DEBUG=!1,e.SAFE=0};Opal.modules["corelib/io"]=function(t){var e=t.klass,n=t.const_set,s=t.not,o=t.truthy,d=t.def,b=t.return_ivar,k=t.return_val,C=t.slice,g=t.Kernel,se=t.gvars,we=t.send,he=t.to_a,Ce=t.rb_plus,Be=t.neqeq,Ie=t.range,ee=t.hash2,ke=t.eqeq,Oe=t.to_ary,Ne=t.rb_gt,Fe=t.assign_ivar_val,Te=t.alias,Me,te=t.nil,pe=t.$$$;t.add_stubs("attr_reader,attr_accessor,!,match?,include?,size,write,String,flatten,puts,sysread_noraise,+,!=,[],ord,getc,readchar,raise,gets,==,to_str,length,split,sub,sysread,>,to_a,each_line,enum_for,getbyte,closed_write?,closed_read?,each,eof,new,write_proc=,read_proc="),function(ue,G){var x=e(ue,G,"IO"),Z=x.$$prototype;return Z.read_buffer=Z.closed=te,n(x,"SEEK_SET",0),n(x,"SEEK_CUR",1),n(x,"SEEK_END",2),n(x,"SEEK_DATA",3),n(x,"SEEK_HOLE",4),n(x,"READABLE",1),n(x,"WRITABLE",4),x.$attr_reader("eof"),x.$attr_accessor("read_proc","sync","tty","write_proc"),d(x,"$initialize",function(ge,j){var Ke=this;return j==null&&(j="r"),Ke.fd=ge,Ke.flags=j,Ke.eof=!1,o(j["$include?"]("r"))&&s(j["$match?"](/[wa+]/))?Ke.closed="write":o(j["$match?"](/[wa]/))&&s(j["$match?"](/[r+]/))?Ke.closed="read":te},-2),d(x,"$fileno",b("fd")),d(x,"$tty?",function(){var ge=this;return ge.tty==!0}),d(x,"$write",function(ge){var j=this;return j.write_proc(ge),ge.$size()}),d(x,"$flush",k(te)),d(x,"$<<",function(ge){var j=this;return j.$write(ge),j}),d(x,"$print",function(ge){var j,Ke,ve=this;se[","]==null&&(se[","]=te),j=C(arguments),Ke=j;for(var re=0,m=Ke.length;re<m;re++)Ke[re]=g.$String(Ke[re]);return ve.$write(Ke.join(se[","])),te},-1),d(x,"$puts",function(ge){var j,Ke,ve=this;j=C(arguments),Ke=j;var re;if(Ke.length===0)return ve.$write(`
`),te;for(var m=0,f=Ke.length;m<f;m++)if(Ke[m].$$is_array){var u=Ke[m].$flatten();u.length>0&&we(ve,"puts",he(u))}else Ke[m].$$is_string?re=Ke[m].valueOf():re=g.$String(Ke[m]),re.endsWith(`
`)||(re+=`
`),ve.$write(re);return te},-1),d(x,"$getc",function(){var ge=this,j=te,Ke=te,ve=te;ge.read_buffer=o(j=ge.read_buffer)?j:"",Ke="";do if(ge.read_buffer=Ce(ge.read_buffer,Ke),Be(ge.read_buffer,""))return ve=ge.read_buffer["$[]"](0),ge.read_buffer=ge.read_buffer["$[]"](Ie(1,-1,!1)),ve;while(o(Ke=ge.$sysread_noraise(1)));return te}),d(x,"$getbyte",function(){var ge,j=this;return ge=j.$getc(),ge===te||ge==null?te:ge.$ord()}),d(x,"$readbyte",function(){var ge=this;return ge.$readchar().$ord()}),d(x,"$readchar",function(){var ge=this,j=te;return o(j=ge.$getc())?j:g.$raise(pe("EOFError"),"end of file reached")}),d(x,"$readline",function(ge){var j,Ke,ve=this,re=te;return j=C(arguments),Ke=j,o(re=we(ve,"gets",he(Ke)))?re:g.$raise(pe("EOFError"),"end of file reached")},-1),d(x,"$gets",function(ge,j,Ke){var ve,re,m=this,f=te,u=te,$=te,h=te,p=te,D=te;se["/"]==null&&(se["/"]=te),ge==null&&(ge=!1),j==null&&(j=te),Ke==null&&(Ke=ee([],{})),o(ge.$$is_number)&&s(j)&&(ve=[!1,ge,j],ge=ve[0],j=ve[1],Ke=ve[2]),o(ge.$$is_hash)&&s(j)&&ke(Ke,ee([],{}))?(ve=[!1,te,ge],ge=ve[0],j=ve[1],Ke=ve[2]):o(j.$$is_hash)&&ke(Ke,ee([],{}))&&(ve=[ge,te,j],ge=ve[0],j=ve[1],Ke=ve[2]),f=ge,ke(ge,!1)&&(ge=se["/"]),ke(ge,"")&&(ge=/\r?\n\r?\n/),ge=o(u=ge)?u:"",ke(f,"")||(ge=ge.$to_str()),$=ke(f,"")?2:ge.$length(),ke(ge," ")&&(ge=/ /),m.read_buffer=o(u=m.read_buffer)?u:"",h="",p=te;do if(m.read_buffer=Ce(m.read_buffer,h),Be(ge,"")&&o(o(ge.$$is_regexp)?m.read_buffer["$match?"](ge):m.read_buffer["$include?"](ge))){D=m.read_buffer,re=m.read_buffer.$split(ge,2),ve=Oe(re),p=ve[0]==null?te:ve[0],m.read_buffer=ve[1]==null?te:ve[1],Be(p,D)&&(p=Ce(p,D["$[]"](p.$length(),$)));break}while(o(h=m.$sysread_noraise(ke(ge,"")?65536:1)));return o(p)||(ve=[o(u=m.read_buffer)?u:"",""],p=ve[0],m.read_buffer=ve[1],ke(p,"")&&(p=te)),o(p)&&(o(j)&&(p=p["$[]"](t.Range.$new(0,j,!0)),m.read_buffer=Ce(p["$[]"](t.Range.$new(j,-1,!1)),m.read_buffer)),o(Ke["$[]"]("chomp"))&&(p=p.$sub(/\r?\n$/,"")),ke(f,"")&&(p=p.$sub(/^[\r\n]+/,""))),ke(f,!1)&&(se._=p),p},-1),d(x,"$sysread",function(ge){var j=this,Ke=te;return o(Ke=j.read_proc(ge))?Ke:(j.eof=!0,g.$raise(pe("EOFError"),"end of file reached"))}),d(x,"$sysread_noraise",function(ge){var j=this;try{return j.$sysread(ge)}catch(Ke){if(t.rescue(Ke,[pe("EOFError")]))try{return te}finally{t.pop_exception()}else throw Ke}}),d(x,"$readpartial",function(ge){var j,Ke=this,ve=te,re=te,m=te;return Ke.read_buffer=o(ve=Ke.read_buffer)?ve:"",re=Ke.$sysread(ge),j=[Ce(Ke.read_buffer,o(ve=re)?ve:""),""],m=j[0],Ke.read_buffer=j[1],ke(m,"")&&(m=te),m}),d(x,"$read",function(ge){var j,Ke=this,ve=te,re=te,m=te;ge==null&&(ge=te),Ke.read_buffer=o(ve=Ke.read_buffer)?ve:"",re="",m=te;do if(Ke.read_buffer=Ce(Ke.read_buffer,re),o(ge)&&o(Ne(Ke.read_buffer.$length(),ge)))return j=[Ke.read_buffer["$[]"](t.Range.$new(0,ge,!0)),Ke.read_buffer["$[]"](t.Range.$new(ge,-1,!1))],m=j[0],Ke.read_buffer=j[1],m;while(o(re=Ke.$sysread_noraise(o(ve=ge)?ve:65536)));return j=[Ke.read_buffer,""],m=j[0],Ke.read_buffer=j[1],m},-1),d(x,"$readlines",function(ge){var j=this;return se["/"]==null&&(se["/"]=te),ge==null&&(ge=se["/"]),j.$each_line(ge).$to_a()},-1),d(x,"$each",function X(ge,j){var Ke=X.$$p||te,ve,re,m,f=this,u=te;if(se["/"]==null&&(se["/"]=te),X.$$p=null,ve=C(arguments),ve.length>0&&(re=ve.shift()),re==null&&(re=se["/"]),m=ve,Ke===te)return we(f,"enum_for",["each",re].concat(he(m)));for(;o(u=we(f,"gets",[re].concat(he(m))));)t.yield1(Ke,u);return f},-1),d(x,"$each_byte",function X(){var ge=X.$$p||te,j=this,Ke=te;if(X.$$p=null,ge===te)return j.$enum_for("each_byte");for(;o(Ke=j.$getbyte());)t.yield1(ge,Ke);return j}),d(x,"$each_char",function X(){var ge=X.$$p||te,j=this,Ke=te;if(X.$$p=null,ge===te)return j.$enum_for("each_char");for(;o(Ke=j.$getc());)t.yield1(ge,Ke);return j}),d(x,"$close",Fe("closed","both")),d(x,"$close_read",function(){var ge=this;return ke(ge.closed,"write")?ge.closed="both":ge.closed="read"}),d(x,"$close_write",function(){var ge=this;return ke(ge.closed,"read")?ge.closed="both":ge.closed="write"}),d(x,"$closed?",function(){var ge=this;return ge.closed["$=="]("both")}),d(x,"$closed_read?",function(){var ge=this,j=te;return o(j=ge.closed["$=="]("read"))?j:ge.closed["$=="]("both")}),d(x,"$closed_write?",function(){var ge=this,j=te;return o(j=ge.closed["$=="]("write"))?j:ge.closed["$=="]("both")}),d(x,"$check_writable",function(){var ge=this;return o(ge["$closed_write?"]())?g.$raise(pe("IOError"),"not opened for writing"):te}),d(x,"$check_readable",function(){var ge=this;return o(ge["$closed_read?"]())?g.$raise(pe("IOError"),"not opened for reading"):te}),Te(x,"each_line","each"),Te(x,"eof?","eof")}("::",null),n("::","STDIN",se.stdin=pe("IO").$new(0,"r")),n("::","STDOUT",se.stdout=pe("IO").$new(1,"w")),n("::","STDERR",se.stderr=pe("IO").$new(2,"w"));var F=t.global.console;return pe("STDOUT")["$write_proc="](typeof process=="object"&&typeof process.stdout=="object"?function(ue){process.stdout.write(ue)}:function(ue){F.log(ue)}),pe("STDERR")["$write_proc="](typeof process=="object"&&typeof process.stderr=="object"?function(ue){process.stderr.write(ue)}:function(ue){F.warn(ue)}),Me=[function(ue){var G=prompt();return G!==null?G+`
`:te}],we(pe("STDIN"),"read_proc=",Me),Me[Me.length-1]};Opal.modules["opal/regexp_anchors"]=function(t){var e=t.module,n=t.const_set,s=[];t.nil;var o=t.$$$;return t.add_stubs("new"),function(d,b){var k=e(d,"Opal"),C=[k].concat(b),g=t.$r(C);return n(k,"REGEXP_START","^"),n(k,"REGEXP_END","$"),n(k,"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),n(k,"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),n(k,"INLINE_IDENTIFIER_REGEXP",g("Regexp").$new("[^"+o(k,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+o(k,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),n(k,"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),n(k,"CONST_NAME_REGEXP",g("Regexp").$new(""+o(k,"REGEXP_START")+"(::)?[A-Z][^"+o(k,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+o(k,"REGEXP_END")))}(s[0],s)};Opal.modules["opal/mini"]=function(t){var e=t.Object;return t.nil,t.add_stubs("require"),e.$require("opal/base"),e.$require("corelib/nil"),e.$require("corelib/boolean"),e.$require("corelib/string"),e.$require("corelib/comparable"),e.$require("corelib/enumerable"),e.$require("corelib/enumerator"),e.$require("corelib/array"),e.$require("corelib/hash"),e.$require("corelib/number"),e.$require("corelib/range"),e.$require("corelib/proc"),e.$require("corelib/method"),e.$require("corelib/regexp"),e.$require("corelib/variables"),e.$require("corelib/io"),e.$require("opal/regexp_anchors")};Opal.modules["corelib/kernel/format"]=function(t){var e=t.coerce_to,n=t.module,s=t.slice,o=t.truthy,d=t.eqeq,b=t.Opal,k=t.Kernel,C=t.gvars,g=t.def,se=t.alias,we=t.nil,he=t.$$$;return t.add_stubs("respond_to?,[],==,length,coerce_to?,nil?,to_a,raise,to_int,fetch,Integer,Float,to_ary,to_str,inspect,to_s,format"),function(Ce){var Be=n(Ce,"Kernel");return g(Be,"$format",function(ee,ke){var Oe,Ne,Fe=we;C.DEBUG==null&&(C.DEBUG=we),Oe=s(arguments,1),Ne=Oe,d(Ne.$length(),1)&&o(Ne["$[]"](0)["$respond_to?"]("to_ary"))&&(Fe=b["$coerce_to?"](Ne["$[]"](0),he("Array"),"to_ary"),o(Fe["$nil?"]())||(Ne=Fe.$to_a()));var Te="",Me=0,te,pe,F=ee.length,ue,G,x,Z,X,ge,j,Ke,ve,re,m,f,u,$=1,h=0,p,D=0,z=1,ie=2,Ue=4,ut=8,yt=16,Tt=32,Ht=64,Lt=128;function Kt(){p&Tt&&k.$raise(he("ArgumentError"),"flag after width"),p&Lt&&k.$raise(he("ArgumentError"),"flag after precision")}function Ut(){p&Tt&&k.$raise(he("ArgumentError"),"width given twice"),p&Lt&&k.$raise(he("ArgumentError"),"width after precision")}function Xt(T){return T>=Ne.length&&k.$raise(he("ArgumentError"),"too few arguments"),Ne[T]}function Gt(){switch(h){case-1:k.$raise(he("ArgumentError"),"unnumbered("+$+") mixed with numbered");case-2:k.$raise(he("ArgumentError"),"unnumbered("+$+") mixed with named")}return h=$++,Xt(h-1)}function $t(T){return h>0&&k.$raise(he("ArgumentError"),"numbered("+T+") after unnumbered("+h+")"),h===-2&&k.$raise(he("ArgumentError"),"numbered("+T+") after named"),T<1&&k.$raise(he("ArgumentError"),"invalid index - "+T+"$"),h=-1,Xt(T-1)}function De(){return u===void 0?Gt():u}function Ye(T){for(var L,be="";;pe++){if(pe===F&&k.$raise(he("ArgumentError"),"malformed format string - %*[0-9]"),ee.charCodeAt(pe)<48||ee.charCodeAt(pe)>57)return pe--,L=parseInt(be,10)||0,L>2147483647&&k.$raise(he("ArgumentError"),""+T+" too big"),L;be+=ee.charAt(pe)}}function et(T){var L,be=Ye(T);return ee.charAt(pe+1)==="$"?(pe++,L=$t(be)):L=Gt(),L.$to_int()}for(pe=ee.indexOf("%");pe!==-1;pe=ee.indexOf("%",pe)){switch(G=void 0,p=D,Z=-1,X=-1,u=void 0,te=pe,pe++,ee.charAt(pe)){case"%":Me=pe;case"":case`
`:case"\0":pe++;continue}e:for(;pe<F;pe++)switch(ee.charAt(pe)){case" ":Kt(),p|=yt;continue e;case"#":Kt(),p|=z;continue e;case"+":Kt(),p|=Ue;continue e;case"-":Kt(),p|=ie;continue e;case"0":Kt(),p|=ut;continue e;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(ge=Ye("width"),ee.charAt(pe+1)==="$"){if(pe+2===F){G="%",pe++;break e}u!==void 0&&k.$raise(he("ArgumentError"),"value given twice - %"+ge+"$"),u=$t(ge),pe++}else Ut(),p|=Tt,Z=ge;continue e;case"<":case"{":for(Ke=ee.charAt(pe)==="<"?">":"}",j="",pe++;;pe++){if(pe===F&&k.$raise(he("ArgumentError"),"malformed name - unmatched parenthesis"),ee.charAt(pe)===Ke){if(h>0&&k.$raise(he("ArgumentError"),"named "+j+" after unnumbered("+h+")"),h===-1&&k.$raise(he("ArgumentError"),"named "+j+" after numbered"),h=-2,(Ne[0]===void 0||!Ne[0].$$is_hash)&&k.$raise(he("ArgumentError"),"one hash required"),u=Ne[0].$fetch(j),Ke===">")continue e;if(G=u.toString(),X!==-1&&(G=G.slice(0,X)),p&ie)for(;G.length<Z;)G=G+" ";else for(;G.length<Z;)G=" "+G;break e}j+=ee.charAt(pe)}case"*":pe++,Ut(),p|=Tt,Z=et("width"),Z<0&&(p|=ie,Z=-Z);continue e;case".":if(p&Lt&&k.$raise(he("ArgumentError"),"precision given twice"),p|=Ht|Lt,X=0,pe++,ee.charAt(pe)==="*"){pe++,X=et("precision"),X<0&&(p&=-65);continue e}X=Ye("precision");continue e;case"d":case"i":case"u":if(ue=k.$Integer(De()),ue>=0){for(G=ue.toString();G.length<X;)G="0"+G;if(p&ie)for((p&Ue||p&yt)&&(G=(p&Ue?"+":" ")+G);G.length<Z;)G=G+" ";else if(p&ut&&X===-1){for(;G.length<Z-(p&Ue||p&yt?1:0);)G="0"+G;(p&Ue||p&yt)&&(G=(p&Ue?"+":" ")+G)}else for((p&Ue||p&yt)&&(G=(p&Ue?"+":" ")+G);G.length<Z;)G=" "+G}else{for(G=(-ue).toString();G.length<X;)G="0"+G;if(p&ie)for(G="-"+G;G.length<Z;)G=G+" ";else if(p&ut&&X===-1){for(;G.length<Z-1;)G="0"+G;G="-"+G}else for(G="-"+G;G.length<Z;)G=" "+G}break e;case"b":case"B":case"o":case"x":case"X":switch(ee.charAt(pe)){case"b":case"B":ve=2,re="0b",m=/^1+/,f="1";break;case"o":ve=8,re="0",m=/^3?7+/,f="7";break;case"x":case"X":ve=16,re="0x",m=/^f+/,f="f";break}if(ue=k.$Integer(De()),ue>=0){for(G=ue.toString(ve);G.length<X;)G="0"+G;if(p&ie)for((p&Ue||p&yt)&&(G=(p&Ue?"+":" ")+G),p&z&&ue!==0&&(G=re+G);G.length<Z;)G=G+" ";else if(p&ut&&X===-1){for(;G.length<Z-(p&Ue||p&yt?1:0)-(p&z&&ue!==0?re.length:0);)G="0"+G;p&z&&ue!==0&&(G=re+G),(p&Ue||p&yt)&&(G=(p&Ue?"+":" ")+G)}else for(p&z&&ue!==0&&(G=re+G),(p&Ue||p&yt)&&(G=(p&Ue?"+":" ")+G);G.length<Z;)G=" "+G}else if(p&Ue||p&yt){for(G=(-ue).toString(ve);G.length<X;)G="0"+G;if(p&ie)for(p&z&&(G=re+G),G="-"+G;G.length<Z;)G=G+" ";else if(p&ut&&X===-1){for(;G.length<Z-1-(p&z?2:0);)G="0"+G;p&z&&(G=re+G),G="-"+G}else for(p&z&&(G=re+G),G="-"+G;G.length<Z;)G=" "+G}else{for(G=(ue>>>0).toString(ve).replace(m,f);G.length<X-2;)G=f+G;if(p&ie)for(G=".."+G,p&z&&(G=re+G);G.length<Z;)G=G+" ";else if(p&ut&&X===-1){for(;G.length<Z-2-(p&z?re.length:0);)G=f+G;G=".."+G,p&z&&(G=re+G)}else for(G=".."+G,p&z&&(G=re+G);G.length<Z;)G=" "+G}ee.charAt(pe)===ee.charAt(pe).toUpperCase()&&(G=G.toUpperCase());break e;case"f":case"e":case"E":case"g":case"G":if(ue=k.$Float(De()),ue>=0||isNaN(ue)){if(ue===1/0)G="Inf";else switch(ee.charAt(pe)){case"f":G=ue.toFixed(X===-1?6:X);break;case"e":case"E":G=ue.toExponential(X===-1?6:X);break;case"g":case"G":G=ue.toExponential(),x=parseInt(G.split("e")[1],10),x<-4||x>=(X===-1?6:X)||(G=ue.toPrecision(X===-1?p&z?6:void 0:X));break}if(p&ie)for((p&Ue||p&yt)&&(G=(p&Ue?"+":" ")+G);G.length<Z;)G=G+" ";else if(p&ut&&ue!==1/0&&!isNaN(ue)){for(;G.length<Z-(p&Ue||p&yt?1:0);)G="0"+G;(p&Ue||p&yt)&&(G=(p&Ue?"+":" ")+G)}else for((p&Ue||p&yt)&&(G=(p&Ue?"+":" ")+G);G.length<Z;)G=" "+G}else{if(ue===-1/0)G="Inf";else switch(ee.charAt(pe)){case"f":G=(-ue).toFixed(X===-1?6:X);break;case"e":case"E":G=(-ue).toExponential(X===-1?6:X);break;case"g":case"G":G=(-ue).toExponential(),x=parseInt(G.split("e")[1],10),x<-4||x>=(X===-1?6:X)||(G=(-ue).toPrecision(X===-1?p&z?6:void 0:X));break}if(p&ie)for(G="-"+G;G.length<Z;)G=G+" ";else if(p&ut&&ue!==-1/0){for(;G.length<Z-1;)G="0"+G;G="-"+G}else for(G="-"+G;G.length<Z;)G=" "+G}ee.charAt(pe)===ee.charAt(pe).toUpperCase()&&ue!==1/0&&ue!==-1/0&&!isNaN(ue)&&(G=G.toUpperCase()),G=G.replace(/([eE][-+]?)([0-9])$/,"$10$2");break e;case"a":case"A":k.$raise(he("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if(ue=De(),ue["$respond_to?"]("to_ary")&&(ue=ue.$to_ary()[0]),ue["$respond_to?"]("to_str")?G=ue.$to_str():G=String.fromCharCode(e(ue,he("Integer"),"to_int")),G.length!==1&&k.$raise(he("ArgumentError"),"%c requires a character"),p&ie)for(;G.length<Z;)G=G+" ";else for(;G.length<Z;)G=" "+G;break e;case"p":if(G=De().$inspect(),X!==-1&&(G=G.slice(0,X)),p&ie)for(;G.length<Z;)G=G+" ";else for(;G.length<Z;)G=" "+G;break e;case"s":if(G=De().$to_s(),X!==-1&&(G=G.slice(0,X)),p&ie)for(;G.length<Z;)G=G+" ";else for(;G.length<Z;)G=" "+G;break e;default:k.$raise(he("ArgumentError"),"malformed format string - %"+ee.charAt(pe))}G===void 0&&k.$raise(he("ArgumentError"),"malformed format string - %"),Te+=ee.slice(Me,te)+G,Me=pe+1}return C.DEBUG&&h>=0&&$<Ne.length&&k.$raise(he("ArgumentError"),"too many arguments for format string"),Te+ee.slice(Me)},-2),se(Be,"sprintf","format")}("::")};Opal.modules["corelib/string/encoding"]=function(t){var e=t.klass,n=t.hash2,s=t.rb_plus,o=t.truthy,d=t.send,b=t.defs,k=t.eqeq,C=t.def,g=t.return_ivar,se=t.return_val,we=t.slice,he=t.Kernel,Ce=t.Opal,Be=t.rb_lt,Ie,ee=t.top,ke=[],Oe=t.$r(ke),Ne=t.nil,Fe=t.$$$;return t.add_stubs("require,+,[],clone,initialize,new,instance_eval,to_proc,each,const_set,tr,==,default_external,attr_accessor,singleton_class,attr_reader,raise,register,length,bytes,force_encoding,dup,bytesize,enum_for,each_byte,to_a,each_char,each_codepoint,coerce_to!,find,<,default_external="),ee.$require("corelib/string"),function(Te,Me){var te=e(Te,Me,"Encoding"),pe=te.$$prototype;return pe.name=pe.dummy=Ne,b(te,"$register",function F(ue,G){var x=F.$$p||Ne,Z=this,X=Ne,ge=Ne,j=Ne,Ke=Ne,ve=Ne,re=Ne;return F.$$p=null,G==null&&(G=n([],{})),X=s([ue],o(ge=G["$[]"]("aliases"))?ge:[]),j=o(ge=G["$[]"]("ascii"))&&ge,Ke=o(ge=G["$[]"]("dummy"))&&ge,o(G["$[]"]("inherits"))?(ve=G["$[]"]("inherits").$clone(),ve.$initialize(ue,X,j,Ke)):ve=Z.$new(ue,X,j,Ke),x!==Ne&&d(ve,"instance_eval",[],x.$to_proc()),re=t.encodings,d(X,"each",[],function m(f){var u=m.$$s==null?this:m.$$s;return f==null&&(f=Ne),u.$const_set(f.$tr("-","_"),ve),re[f]=ve},{$$s:Z})},-2),b(te,"$find",function(ue){var G=this;return k(ue,"default_external")?G.$default_external():t.find_encoding(ue)}),te.$singleton_class().$attr_accessor("default_external"),te.$attr_reader("name","names"),C(te,"$initialize",function(ue,G,x,Z){var X=this;return X.name=ue,X.names=G,X.ascii=x,X.dummy=Z}),C(te,"$ascii_compatible?",g("ascii")),C(te,"$dummy?",g("dummy")),C(te,"$binary?",se(!1)),C(te,"$to_s",g("name")),C(te,"$inspect",function(){var ue=this;return"#<Encoding:"+ue.name+(o(ue.dummy)?" (dummy)":Ne)+">"}),C(te,"$charsize",function(ue){for(var G=0,x=0,Z=ue.length;x<Z;x++){var X=ue.charCodeAt(x);X>=55296&&X<=56319||G++}return G}),C(te,"$each_char",function F(ue){var G=F.$$p||Ne;F.$$p=null;for(var x="",Z=0,X=ue.length;Z<X;Z++){var ge=ue.charCodeAt(Z),j=ue.charAt(Z);if(ge>=56320&&ge<=57343){x=j;continue}else ge>=55296&&ge<=56319&&(j=x+j);ue.encoding.name!="UTF-8"&&(j=new String(j),j.encoding=ue.encoding),t.yield1(G,j)}}),C(te,"$each_byte",function(ue){return we(arguments),he.$raise(Fe("NotImplementedError"))},-1),C(te,"$bytesize",function(ue){return we(arguments),he.$raise(Fe("NotImplementedError"))},-1),e("::",Fe("StandardError"),"EncodingError"),e("::",Fe("EncodingError"),"CompatibilityError"),Ne}("::",null),d(Fe("Encoding"),"register",["UTF-8",n(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],function Te(){var Me=Te.$$s==null?this:Te.$$s;return C(Me,"$each_byte",function te(pe){var F=te.$$p||Ne;te.$$p=null;for(var ue=1/0,G,x=pe.length,Z=null,X=0;X<x;++X){if(G=pe.charCodeAt(X),G>55295&&G<57344){if(!Z){if(G>56319){(ue-=3)>-1&&(t.yield1(F,239),t.yield1(F,191),t.yield1(F,189));continue}else if(X+1===x){(ue-=3)>-1&&(t.yield1(F,239),t.yield1(F,191),t.yield1(F,189));continue}Z=G;continue}if(G<56320){(ue-=3)>-1&&(t.yield1(F,239),t.yield1(F,191),t.yield1(F,189)),Z=G;continue}G=(Z-55296<<10|G-56320)+65536}else Z&&(ue-=3)>-1&&(t.yield1(F,239),t.yield1(F,191),t.yield1(F,189));if(Z=null,G<128){if((ue-=1)<0)break;t.yield1(F,G)}else if(G<2048){if((ue-=2)<0)break;t.yield1(F,G>>6|192),t.yield1(F,G&63|128)}else if(G<65536){if((ue-=3)<0)break;t.yield1(F,G>>12|224),t.yield1(F,G>>6&63|128),t.yield1(F,G&63|128)}else if(G<1114112){if((ue-=4)<0)break;t.yield1(F,G>>18|240),t.yield1(F,G>>12&63|128),t.yield1(F,G>>6&63|128),t.yield1(F,G&63|128)}}}),C(Me,"$bytesize",function(pe){return pe.$bytes().$length()})},{$$s:ee}),d(Fe("Encoding"),"register",["UTF-16LE"],function Te(){var Me=Te.$$s==null?this:Te.$$s;return C(Me,"$each_byte",function te(pe){var F=te.$$p||Ne;te.$$p=null;for(var ue=0,G=pe.length;ue<G;ue++){var x=pe.charCodeAt(ue);t.yield1(F,x&255),t.yield1(F,x>>8)}}),C(Me,"$bytesize",function(pe){return pe.length*2})},{$$s:ee}),d(Fe("Encoding"),"register",["UTF-16BE",n(["inherits"],{inherits:Fe(Fe("Encoding"),"UTF_16LE")})],function Te(){var Me=Te.$$s==null?this:Te.$$s;return C(Me,"$each_byte",function te(pe){var F=te.$$p||Ne;te.$$p=null;for(var ue=0,G=pe.length;ue<G;ue++){var x=pe.charCodeAt(ue);t.yield1(F,x>>8),t.yield1(F,x&255)}})},{$$s:ee}),d(Fe("Encoding"),"register",["UTF-32LE"],function Te(){var Me=Te.$$s==null?this:Te.$$s;return C(Me,"$each_byte",function te(pe){var F=te.$$p||Ne;te.$$p=null;for(var ue=0,G=pe.length;ue<G;ue++){var x=pe.charCodeAt(ue);t.yield1(F,x&255),t.yield1(F,x>>8),t.yield1(F,0),t.yield1(F,0)}}),C(Me,"$bytesize",function(pe){return pe.length*4})},{$$s:ee}),d(Fe("Encoding"),"register",["UTF-32BE",n(["inherits"],{inherits:Fe(Fe("Encoding"),"UTF_32LE")})],function Te(){var Me=Te.$$s==null?this:Te.$$s;return C(Me,"$each_byte",function te(pe){var F=te.$$p||Ne;te.$$p=null;for(var ue=0,G=pe.length;ue<G;ue++){var x=pe.charCodeAt(ue);t.yield1(F,0),t.yield1(F,0),t.yield1(F,x>>8),t.yield1(F,x&255)}})},{$$s:ee}),d(Fe("Encoding"),"register",["ASCII-8BIT",n(["aliases","ascii"],{aliases:["BINARY"],ascii:!0})],function Te(){var Me=Te.$$s==null?this:Te.$$s;return C(Me,"$each_char",function te(pe){var F=te.$$p||Ne;te.$$p=null;for(var ue=0,G=pe.length;ue<G;ue++){var x=new String(pe.charAt(ue));x.encoding=pe.encoding,t.yield1(F,x)}}),C(Me,"$charsize",function(pe){return pe.length}),C(Me,"$each_byte",function te(pe){var F=te.$$p||Ne;te.$$p=null;for(var ue=0,G=pe.length;ue<G;ue++){var x=pe.charCodeAt(ue);t.yield1(F,x&255)}}),C(Me,"$bytesize",function(pe){return pe.length}),C(Me,"$binary?",se(!0))},{$$s:ee}),Fe("Encoding").$register("ISO-8859-1",n(["aliases","ascii","inherits"],{aliases:["ISO8859-1"],ascii:!0,inherits:Fe(Fe("Encoding"),"ASCII_8BIT")})),Fe("Encoding").$register("US-ASCII",n(["aliases","ascii","inherits"],{aliases:["ASCII"],ascii:!0,inherits:Fe(Fe("Encoding"),"ASCII_8BIT")})),function(Te,Me){var te=e(Te,Me,"String"),pe=te.$$prototype;return pe.internal_encoding=pe.bytes=pe.encoding=Ne,te.$attr_reader("encoding"),te.$attr_reader("internal_encoding"),t.prop(String.prototype,"bytes",Ne),t.prop(String.prototype,"encoding",Fe(Fe("Encoding"),"UTF_8")),t.prop(String.prototype,"internal_encoding",Fe(Fe("Encoding"),"UTF_8")),C(te,"$b",function(){var ue=this;return ue.$dup().$force_encoding("binary")}),C(te,"$bytesize",function(){var ue=this;return ue.internal_encoding.$bytesize(ue)}),C(te,"$each_byte",function F(){var ue=F.$$p||Ne,G=this;return F.$$p=null,ue===Ne?d(G,"enum_for",["each_byte"],function x(){var Z=x.$$s==null?this:x.$$s;return Z.$bytesize()},{$$s:G}):(d(G.internal_encoding,"each_byte",[G],ue.$to_proc()),G)}),C(te,"$bytes",function(){var ue=this,G=Ne;return typeof ue=="string"?new String(ue).$each_byte().$to_a():(ue.bytes=o(G=ue.bytes)?G:ue.$each_byte().$to_a(),ue.bytes.$dup())}),C(te,"$each_char",function F(){var ue=F.$$p||Ne,G=this;return F.$$p=null,ue===Ne?d(G,"enum_for",["each_char"],function x(){var Z=x.$$s==null?this:x.$$s;return Z.$length()},{$$s:G}):(d(G.encoding,"each_char",[G],ue.$to_proc()),G)}),C(te,"$chars",function F(){var ue=F.$$p||Ne,G=this;return F.$$p=null,o(ue)?d(G,"each_char",[],ue.$to_proc()):G.$each_char().$to_a()}),C(te,"$each_codepoint",function F(){var ue=F.$$p||Ne,G=this;if(F.$$p=null,ue===Ne)return G.$enum_for("each_codepoint");for(var x=0,Z=G.length;x<Z;x++)t.yield1(ue,G.codePointAt(x));return G}),C(te,"$codepoints",function F(){var ue=F.$$p||Ne,G=this;return F.$$p=null,ue!==Ne?d(G,"each_codepoint",[],ue.$to_proc()):G.$each_codepoint().$to_a()}),C(te,"$encode",function(ue){var G=this;return t.enc(G,ue)}),C(te,"$force_encoding",function(ue){var G=this,x=G;return ue===x.encoding||(ue=Ce["$coerce_to!"](ue,Fe("String"),"to_s"),ue=Fe("Encoding").$find(ue),ue===x.encoding)||(x=t.set_encoding(x,ue)),x}),C(te,"$getbyte",function(ue){var G=this,x=Ne;return x=G.$bytes(),ue=Ce["$coerce_to!"](ue,Fe("Integer"),"to_int"),o(Be(x.$length(),ue))?Ne:x["$[]"](ue)}),C(te,"$initialize_copy",function(ue){return`
      self.encoding = other.encoding;
      self.internal_encoding = other.internal_encoding;
    `}),C(te,"$valid_encoding?",se(!0))}("::",null),Ie=[Fe(Oe("Encoding"),"UTF_8")],d(Fe("Encoding"),"default_external=",Ie),Ie[Ie.length-1]};Opal.modules["corelib/math"]=function(t){var e=t.type_error,n=t.module,s=t.const_set,o=t.Class,d=t.slice,b=t.Kernel,k=t.defs,C=t.truthy,g=t.send,se=t.def,we=t.rb_minus,he=t.eqeqeq,Ce=t.rb_divide,Be=[],Ie=t.nil,ee=t.$$$;return t.add_stubs("new,raise,Float,Integer,module_function,each,define_method,checked,float!,===,gamma,-,integer!,/,infinite?"),function(ke,Oe){var Ne=n(ke,"Math"),Fe=[Ne].concat(Oe),Te=t.$r(Fe);return s(Ne,"E",Math.E),s(Ne,"PI",Math.PI),s(Ne,"DomainError",o.$new(ee("StandardError"))),k(Ne,"$checked",function(te,pe){var F,ue;if(F=d(arguments,1),ue=F,isNaN(ue[0])||ue.length==2&&isNaN(ue[1]))return NaN;var G=Math[te].apply(null,ue);return isNaN(G)&&b.$raise(Te("DomainError"),'Numerical argument is out of domain - "'+te+'"'),G},-2),k(Ne,"$float!",function(te){try{return b.$Float(te)}catch(pe){if(t.rescue(pe,[ee("ArgumentError")]))try{return b.$raise(e(te,ee("Float")))}finally{t.pop_exception()}else throw pe}}),k(Ne,"$integer!",function(te){try{return b.$Integer(te)}catch(pe){if(t.rescue(pe,[ee("ArgumentError")]))try{return b.$raise(e(te,ee("Integer")))}finally{t.pop_exception()}else throw pe}}),Ne.$module_function(),C(typeof Math.erf<"u")||t.prop(Math,"erf",function(Me){var te=.254829592,pe=-.284496736,F=1.421413741,ue=-1.453152027,G=1.061405429,x=.3275911,Z=1;Me<0&&(Z=-1),Me=Math.abs(Me);var X=1/(1+x*Me),ge=1-((((G*X+ue)*X+F)*X+pe)*X+te)*X*Math.exp(-Me*Me);return Z*ge}),C(typeof Math.erfc<"u")||t.prop(Math,"erfc",function(Me){var te=Math.abs(Me),pe=1/(.5*te+1),F=pe*.17087277+-.82215223,ue=pe*F+1.48851587,G=pe*ue+-1.13520398,x=pe*G+.27886807,Z=pe*x+-.18628806,X=pe*Z+.09678418,ge=pe*X+.37409196,j=pe*ge+1.00002368,Ke=pe*j,ve=-te*te-1.26551223+Ke,re=pe*Math.exp(ve);return Me<0?2-re:re}),g(["acos","acosh","asin","asinh","atan","atanh","cbrt","cos","cosh","erf","erfc","exp","sin","sinh","sqrt","tanh"],"each",[],function Me(te){var pe=Me.$$s==null?this:Me.$$s;return te==null&&(te=Ie),g(pe,"define_method",[te],function(ue){return ue==null&&(ue=Ie),ee("Math").$checked(te,ee("Math")["$float!"](ue))})},{$$s:Ne}),se(Ne,"$atan2",function(te,pe){return ee("Math").$checked("atan2",ee("Math")["$float!"](te),ee("Math")["$float!"](pe))}),se(Ne,"$hypot",function(te,pe){return ee("Math").$checked("hypot",ee("Math")["$float!"](te),ee("Math")["$float!"](pe))}),se(Ne,"$frexp",function(te){if(te=Te("Math")["$float!"](te),isNaN(te))return[NaN,0];var pe=Math.floor(Math.log(Math.abs(te))/Math.log(2))+1,F=te/Math.pow(2,pe);return[F,pe]}),se(Ne,"$gamma",function(te){te=Te("Math")["$float!"](te);var pe,F,ue,G,x,Z,X,ge,j,Ke=4.7421875,ve=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(te))return NaN;if(te===0&&1/te<0)return-1/0;if((te===-1||te===-1/0)&&b.$raise(Te("DomainError"),'Numerical argument is out of domain - "gamma"'),Te("Integer")["$==="](te)){if(te<=0)return isFinite(te)?1/0:NaN;if(te>171)return 1/0;for(G=te-2,x=te-1;G>1;)x*=G,G--;return x==0&&(x=1),x}if(te<.5)return Math.PI/(Math.sin(Math.PI*te)*ee("Math").$gamma(we(1,te)));if(te>=171.35)return 1/0;if(te>85)return Z=te*te,X=Z*te,ge=X*te,j=ge*te,Math.sqrt(2*Math.PI/te)*Math.pow(te/Math.E,te)*(1+1/(12*te)+1/(288*Z)-139/(51840*X)-571/(2488320*ge)+163879/(209018880*j)+5246819/(75246796800*j*te));for(te-=1,ue=ve[0],pe=1;pe<ve.length;++pe)ue+=ve[pe]/(te+pe);return F=te+Ke+.5,Math.sqrt(2*Math.PI)*Math.pow(F,te+.5)*Math.exp(-F)*ue}),se(Ne,"$ldexp",function(te,pe){return te=Te("Math")["$float!"](te),pe=Te("Math")["$integer!"](pe),isNaN(pe)&&b.$raise(ee("RangeError"),"float NaN out of range of integer"),te*Math.pow(2,pe)}),se(Ne,"$lgamma",function(te){return te==-1?[1/0,1]:[Math.log(Math.abs(ee("Math").$gamma(te))),ee("Math").$gamma(te)<0?-1:1]}),se(Ne,"$log",function(te,pe){return he(ee("String"),te)&&b.$raise(e(te,ee("Float"))),C(pe==null)?ee("Math").$checked("log",ee("Math")["$float!"](te)):(he(ee("String"),pe)&&b.$raise(e(pe,ee("Float"))),Ce(ee("Math").$checked("log",ee("Math")["$float!"](te)),ee("Math").$checked("log",ee("Math")["$float!"](pe))))},-2),se(Ne,"$log10",function(te){return he(ee("String"),te)&&b.$raise(e(te,ee("Float"))),ee("Math").$checked("log10",ee("Math")["$float!"](te))}),se(Ne,"$log2",function(te){return he(ee("String"),te)&&b.$raise(e(te,ee("Float"))),ee("Math").$checked("log2",ee("Math")["$float!"](te))}),se(Ne,"$tan",function(te){return te=ee("Math")["$float!"](te),C(te["$infinite?"]())?ee(ee("Float"),"NAN"):ee("Math").$checked("tan",ee("Math")["$float!"](te))})}("::",Be)};Opal.modules["corelib/complex/base"]=function(t){var e=t.module,n=t.truthy,s=t.def,o=t.klass,d=[],b=t.nil;return t.add_stubs("new,from_string"),function(k,C){var g=e(k,"Kernel"),se=[g].concat(C),we=t.$r(se);return s(g,"$Complex",function(Ce,Be){return Be==null&&(Be=b),n(Be)?we("Complex").$new(Ce,Be):we("Complex").$new(Ce,0)},-2)}("::",d),function(k,C,g){var se=o(k,C,"String"),we=[se].concat(g),he=t.$r(we);return s(se,"$to_c",function(){var Be=this;return he("Complex").$from_string(Be)})}("::",null,d)};Opal.modules["corelib/complex"]=function(t){var e=t.klass,n=t.truthy,s=t.eqeqeq,o=t.Kernel,d=t.defs,b=t.rb_times,k=t.def,C=t.rb_plus,g=t.rb_minus,se=t.rb_divide,we=t.eqeq,he=t.to_ary,Ce=t.rb_gt,Be=t.neqeq,Ie=t.return_val,ee=t.const_set,ke=t.alias,Oe=t.top,Ne=[],Fe=t.nil,Te=t.$$$;return t.add_stubs("require,real?,===,raise,new,*,cos,sin,attr_reader,freeze,class,==,real,imag,Complex,-@,+,__coerced__,-,nan?,/,conj,abs2,quo,polar,exp,log,>,!=,divmod,**,hypot,atan2,lcm,denominator,finite?,infinite?,numerator,abs,arg,rationalize,to_f,to_i,to_r,inspect,zero?,positive?,Rational,rect,angle"),Oe.$require("corelib/numeric"),Oe.$require("corelib/complex/base"),function(Me,te,pe){var F=e(Me,te,"Complex"),ue=[F].concat(pe),G=t.$r(ue),x=F.$$prototype;return x.real=x.imag=Fe,d(F,"$rect",function(X,ge){var j=this;return ge==null&&(ge=0),s(Te("Numeric"),X)&&n(X["$real?"]())&&s(Te("Numeric"),ge)&&n(ge["$real?"]())||o.$raise(Te("TypeError"),"not a real"),j.$new(X,ge)},-2),d(F,"$polar",function(X,ge){var j=this;return ge==null&&(ge=0),s(Te("Numeric"),X)&&n(X["$real?"]())&&s(Te("Numeric"),ge)&&n(ge["$real?"]())||o.$raise(Te("TypeError"),"not a real"),j.$new(b(X,Te("Math").$cos(ge)),b(X,Te("Math").$sin(ge)))},-2),F.$attr_reader("real","imag"),k(F,"$initialize",function(X,ge){var j=this;return ge==null&&(ge=0),j.real=X,j.imag=ge,j.$freeze()},-2),k(F,"$coerce",function(X){var ge=this;return s(Te("Complex"),X)?[X,ge]:s(Te("Numeric"),X)&&n(X["$real?"]())?[Te("Complex").$new(X,0),ge]:o.$raise(Te("TypeError"),""+X.$class()+" can't be coerced into Complex")}),k(F,"$==",function(X){var ge=this,j=Fe;return s(Te("Complex"),X)?n(j=ge.real["$=="](X.$real()))?ge.imag["$=="](X.$imag()):j:s(Te("Numeric"),X)&&n(X["$real?"]())?n(j=ge.real["$=="](X))?ge.imag["$=="](0):j:X["$=="](ge)}),k(F,"$-@",function(){var X=this;return o.$Complex(X.real["$-@"](),X.imag["$-@"]())}),k(F,"$+",function(X){var ge=this;return s(Te("Complex"),X)?o.$Complex(C(ge.real,X.$real()),C(ge.imag,X.$imag())):s(Te("Numeric"),X)&&n(X["$real?"]())?o.$Complex(C(ge.real,X),ge.imag):ge.$__coerced__("+",X)}),k(F,"$-",function(X){var ge=this;return s(Te("Complex"),X)?o.$Complex(g(ge.real,X.$real()),g(ge.imag,X.$imag())):s(Te("Numeric"),X)&&n(X["$real?"]())?o.$Complex(g(ge.real,X),ge.imag):ge.$__coerced__("-",X)}),k(F,"$*",function(X){var ge=this;return s(Te("Complex"),X)?o.$Complex(g(b(ge.real,X.$real()),b(ge.imag,X.$imag())),C(b(ge.real,X.$imag()),b(ge.imag,X.$real()))):s(Te("Numeric"),X)&&n(X["$real?"]())?o.$Complex(b(ge.real,X),b(ge.imag,X)):ge.$__coerced__("*",X)}),k(F,"$/",function(X){var ge=this;return s(Te("Complex"),X)?s(Te("Number"),ge.real)&&n(ge.real["$nan?"]())||s(Te("Number"),ge.imag)&&n(ge.imag["$nan?"]())||s(Te("Number"),X.$real())&&n(X.$real()["$nan?"]())||s(Te("Number"),X.$imag())&&n(X.$imag()["$nan?"]())?Te("Complex").$new(Te(Te("Float"),"NAN"),Te(Te("Float"),"NAN")):se(b(ge,X.$conj()),X.$abs2()):s(Te("Numeric"),X)&&n(X["$real?"]())?o.$Complex(ge.real.$quo(X),ge.imag.$quo(X)):ge.$__coerced__("/",X)}),k(F,"$**",function(X){var ge,j,Ke=this,ve=Fe,re=Fe,m=Fe,f=Fe,u=Fe,$=Fe,h=Fe,p=Fe,D=Fe,z=Fe,ie=Fe;if(we(X,0))return Te("Complex").$new(1,0);if(s(Te("Complex"),X))return j=Ke.$polar(),ge=he(j),ve=ge[0]==null?Fe:ge[0],re=ge[1]==null?Fe:ge[1],m=X.$real(),f=X.$imag(),u=Te("Math").$exp(g(b(m,Te("Math").$log(ve)),b(f,re))),$=C(b(re,m),b(f,Te("Math").$log(ve))),Te("Complex").$polar(u,$);if(s(Te("Integer"),X))if(n(Ce(X,0))){for(h=Ke,p=h,D=g(X,1);Be(D,0);){for(j=D.$divmod(2),ge=he(j),z=ge[0]==null?Fe:ge[0],ie=ge[1]==null?Fe:ge[1];we(ie,0);)h=o.$Complex(g(b(h.$real(),h.$real()),b(h.$imag(),h.$imag())),b(b(2,h.$real()),h.$imag())),D=z,j=D.$divmod(2),ge=he(j),z=ge[0]==null?Fe:ge[0],ie=ge[1]==null?Fe:ge[1];p=b(p,h),D=g(D,1)}return p}else return se(Te("Rational").$new(1,1),Ke)["$**"](X["$-@"]());else return s(Te("Float"),X)||s(Te("Rational"),X)?(j=Ke.$polar(),ge=he(j),ve=ge[0]==null?Fe:ge[0],re=ge[1]==null?Fe:ge[1],Te("Complex").$polar(ve["$**"](X),b(re,X))):Ke.$__coerced__("**",X)}),k(F,"$abs",function(){var X=this;return Te("Math").$hypot(X.real,X.imag)}),k(F,"$abs2",function(){var X=this;return C(b(X.real,X.real),b(X.imag,X.imag))}),k(F,"$angle",function(){var X=this;return Te("Math").$atan2(X.imag,X.real)}),k(F,"$conj",function(){var X=this;return o.$Complex(X.real,X.imag["$-@"]())}),k(F,"$denominator",function(){var X=this;return X.real.$denominator().$lcm(X.imag.$denominator())}),k(F,"$eql?",function(X){var ge=this,j=Fe,Ke=Fe;return n(j=n(Ke=G("Complex")["$==="](X))?ge.real.$class()["$=="](ge.imag.$class()):Ke)?ge["$=="](X):j}),k(F,"$fdiv",function(X){var ge=this;return s(Te("Numeric"),X)||o.$raise(Te("TypeError"),""+X.$class()+" can't be coerced into Complex"),se(ge,X)}),k(F,"$finite?",function(){var X=this,ge=Fe;return n(ge=X.real["$finite?"]())?X.imag["$finite?"]():ge}),k(F,"$hash",function(){var X=this;return"Complex:"+X.real+":"+X.imag}),k(F,"$infinite?",function(){var X=this,ge=Fe;return n(ge=X.real["$infinite?"]())?ge:X.imag["$infinite?"]()}),k(F,"$inspect",function(){var X=this;return"("+X+")"}),k(F,"$numerator",function(){var X=this,ge=Fe;return ge=X.$denominator(),o.$Complex(b(X.real.$numerator(),se(ge,X.real.$denominator())),b(X.imag.$numerator(),se(ge,X.imag.$denominator())))}),k(F,"$polar",function(){var X=this;return[X.$abs(),X.$arg()]}),k(F,"$rationalize",function(X){var ge=this;return arguments.length>1&&o.$raise(Te("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),Be(ge.imag,0)&&o.$raise(Te("RangeError"),"can't convert "+ge+" into Rational"),ge.$real().$rationalize(X)},-1),k(F,"$real?",Ie(!1)),k(F,"$rect",function(){var X=this;return[X.real,X.imag]}),k(F,"$to_f",function(){var X=this;return we(X.imag,0)||o.$raise(Te("RangeError"),"can't convert "+X+" into Float"),X.real.$to_f()}),k(F,"$to_i",function(){var X=this;return we(X.imag,0)||o.$raise(Te("RangeError"),"can't convert "+X+" into Integer"),X.real.$to_i()}),k(F,"$to_r",function(){var X=this;return we(X.imag,0)||o.$raise(Te("RangeError"),"can't convert "+X+" into Rational"),X.real.$to_r()}),k(F,"$to_s",function(){var X=this,ge=Fe;return ge=X.real.$inspect(),ge=C(ge,s(Te("Number"),X.imag)&&n(X.imag["$nan?"]())||n(X.imag["$positive?"]())||n(X.imag["$zero?"]())?"+":"-"),ge=C(ge,X.imag.$abs().$inspect()),s(Te("Number"),X.imag)&&(n(X.imag["$nan?"]())||n(X.imag["$infinite?"]()))&&(ge=C(ge,"*")),C(ge,"i")}),ee(ue[0],"I",F.$new(0,1)),d(F,"$from_string",function(X){var ge=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/;X.match(ge);var j,Ke;function ve(){return ge.test(X)}function re(){var f=X.match(ge),u=f[0];return X=X.slice(u.length),u.replace(/_/g,"")}function m(){if(ve()){var f=parseFloat(re());if(X[0]==="/")if(X=X.slice(1),ve()){var u=parseFloat(re());return o.$Rational(f,u)}else return X="/"+X,f;else return f}else return null}return j=m(),j?(Ke=m(),Ke?o.$Complex(j,Ke):X[0]==="i"?o.$Complex(0,j):o.$Complex(j,0)):X[0]==="i"?o.$Complex(0,1):X[0]==="-"&&X[1]==="i"?o.$Complex(0,-1):X[0]==="+"&&X[1]==="i"?o.$Complex(0,1):o.$Complex(0,0)}),function(Z,X){return ke(Z,"rectangular","rect")}(t.get_singleton_class(F)),ke(F,"arg","angle"),ke(F,"conjugate","conj"),ke(F,"divide","/"),ke(F,"imaginary","imag"),ke(F,"magnitude","abs"),ke(F,"phase","arg"),ke(F,"quo","/"),ke(F,"rectangular","rect"),t.udef(F,"$negative?"),t.udef(F,"$positive?"),t.udef(F,"$step"),Fe}("::",Te("Numeric"),Ne)};Opal.modules["corelib/rational/base"]=function(t){var e=t.module,n=t.def,s=t.klass;t.nil;var o=t.$$$;return t.add_stubs("convert,from_string"),function(d){var b=e(d,"Kernel");return n(b,"$Rational",function(C,g){return g==null&&(g=1),o("Rational").$convert(C,g)},-2)}("::"),function(d,b){var k=s(d,b,"String");return n(k,"$to_r",function(){var g=this;return o("Rational").$from_string(g)})}("::",null)};Opal.modules["corelib/rational"]=function(t){var e=t.klass,n=t.eqeq,s=t.Kernel,o=t.truthy,d=t.rb_lt,b=t.rb_divide,k=t.defs,C=t.eqeqeq,g=t.not,se=t.Opal,we=t.def,he=t.return_ivar,Ce=t.rb_minus,Be=t.rb_times,Ie=t.rb_plus,ee=t.rb_gt,ke=t.rb_le,Oe=t.return_self,Ne=t.alias,Fe=t.top,Te=t.nil,Me=t.$$$;return t.add_stubs("require,to_i,==,raise,<,-@,new,gcd,/,nil?,===,reduce,to_r,!,equal?,coerce_to!,freeze,to_f,numerator,denominator,<=>,-,*,__coerced__,+,Rational,>,**,abs,ceil,with_precision,floor,<=,truncate,send"),Fe.$require("corelib/numeric"),Fe.$require("corelib/rational/base"),function(te,pe){var F=e(te,pe,"Rational"),ue=F.$$prototype;return ue.num=ue.den=Te,k(F,"$reduce",function(x,Z){var X=this,ge=Te;if(x=x.$to_i(),Z=Z.$to_i(),n(Z,0))s.$raise(Me("ZeroDivisionError"),"divided by 0");else if(o(d(Z,0)))x=x["$-@"](),Z=Z["$-@"]();else if(n(Z,1))return X.$new(x,Z);return ge=x.$gcd(Z),X.$new(b(x,ge),b(Z,ge))}),k(F,"$convert",function(x,Z){var X=this;return(o(x["$nil?"]())||o(Z["$nil?"]()))&&s.$raise(Me("TypeError"),"cannot convert nil into Rational"),C(Me("Integer"),x)&&C(Me("Integer"),Z)?X.$reduce(x,Z):((C(Me("Float"),x)||C(Me("String"),x)||C(Me("Complex"),x))&&(x=x.$to_r()),(C(Me("Float"),Z)||C(Me("String"),Z)||C(Me("Complex"),Z))&&(Z=Z.$to_r()),o(Z["$equal?"](1))&&g(Me("Integer")["$==="](x))?se["$coerce_to!"](x,Me("Rational"),"to_r"):C(Me("Numeric"),x)&&C(Me("Numeric"),Z)?b(x,Z):X.$reduce(x,Z))}),we(F,"$initialize",function(x,Z){var X=this;return X.num=x,X.den=Z,X.$freeze()}),we(F,"$numerator",he("num")),we(F,"$denominator",he("den")),we(F,"$coerce",function(x){var Z=this,X=Te;return C(Me("Rational"),X=x)?[x,Z]:C(Me("Integer"),X)?[x.$to_r(),Z]:C(Me("Float"),X)?[x,Z.$to_f()]:Te}),we(F,"$==",function(x){var Z=this,X=Te,ge=Te;return C(Me("Rational"),X=x)?o(ge=Z.num["$=="](x.$numerator()))?Z.den["$=="](x.$denominator()):ge:C(Me("Integer"),X)?o(ge=Z.num["$=="](x))?Z.den["$=="](1):ge:C(Me("Float"),X)?Z.$to_f()["$=="](x):x["$=="](Z)}),we(F,"$<=>",function(x){var Z=this,X=Te;return C(Me("Rational"),X=x)?Ce(Be(Z.num,x.$denominator()),Be(Z.den,x.$numerator()))["$<=>"](0):C(Me("Integer"),X)?Ce(Z.num,Be(Z.den,x))["$<=>"](0):C(Me("Float"),X)?Z.$to_f()["$<=>"](x):Z.$__coerced__("<=>",x)}),we(F,"$+",function(x){var Z=this,X=Te,ge=Te,j=Te;return C(Me("Rational"),X=x)?(ge=Ie(Be(Z.num,x.$denominator()),Be(Z.den,x.$numerator())),j=Be(Z.den,x.$denominator()),s.$Rational(ge,j)):C(Me("Integer"),X)?s.$Rational(Ie(Z.num,Be(x,Z.den)),Z.den):C(Me("Float"),X)?Ie(Z.$to_f(),x):Z.$__coerced__("+",x)}),we(F,"$-",function(x){var Z=this,X=Te,ge=Te,j=Te;return C(Me("Rational"),X=x)?(ge=Ce(Be(Z.num,x.$denominator()),Be(Z.den,x.$numerator())),j=Be(Z.den,x.$denominator()),s.$Rational(ge,j)):C(Me("Integer"),X)?s.$Rational(Ce(Z.num,Be(x,Z.den)),Z.den):C(Me("Float"),X)?Ce(Z.$to_f(),x):Z.$__coerced__("-",x)}),we(F,"$*",function(x){var Z=this,X=Te,ge=Te,j=Te;return C(Me("Rational"),X=x)?(ge=Be(Z.num,x.$numerator()),j=Be(Z.den,x.$denominator()),s.$Rational(ge,j)):C(Me("Integer"),X)?s.$Rational(Be(Z.num,x),Z.den):C(Me("Float"),X)?Be(Z.$to_f(),x):Z.$__coerced__("*",x)}),we(F,"$/",function(x){var Z=this,X=Te,ge=Te,j=Te;return C(Me("Rational"),X=x)?(ge=Be(Z.num,x.$denominator()),j=Be(Z.den,x.$numerator()),s.$Rational(ge,j)):C(Me("Integer"),X)?n(x,0)?b(Z.$to_f(),0):s.$Rational(Z.num,Be(Z.den,x)):C(Me("Float"),X)?b(Z.$to_f(),x):Z.$__coerced__("/",x)}),we(F,"$**",function(x){var Z=this,X=Te;return C(Me("Integer"),X=x)?n(Z,0)&&o(d(x,0))?Me(Me("Float"),"INFINITY"):o(ee(x,0))?s.$Rational(Z.num["$**"](x),Z.den["$**"](x)):o(d(x,0))?s.$Rational(Z.den["$**"](x["$-@"]()),Z.num["$**"](x["$-@"]())):s.$Rational(1,1):C(Me("Float"),X)?Z.$to_f()["$**"](x):C(Me("Rational"),X)?n(x,0)?s.$Rational(1,1):n(x.$denominator(),1)?o(d(x,0))?s.$Rational(Z.den["$**"](x.$numerator().$abs()),Z.num["$**"](x.$numerator().$abs())):s.$Rational(Z.num["$**"](x.$numerator()),Z.den["$**"](x.$numerator())):n(Z,0)&&o(d(x,0))?s.$raise(Me("ZeroDivisionError"),"divided by 0"):Z.$to_f()["$**"](x):Z.$__coerced__("**",x)}),we(F,"$abs",function(){var x=this;return s.$Rational(x.num.$abs(),x.den.$abs())}),we(F,"$ceil",function(x){var Z=this;return x==null&&(x=0),n(x,0)?b(Z.num["$-@"](),Z.den)["$-@"]().$ceil():Z.$with_precision("ceil",x)},-1),we(F,"$floor",function(x){var Z=this;return x==null&&(x=0),n(x,0)?b(Z.num["$-@"](),Z.den)["$-@"]().$floor():Z.$with_precision("floor",x)},-1),we(F,"$hash",function(){var x=this;return"Rational:"+x.num+":"+x.den}),we(F,"$inspect",function(){var x=this;return"("+x+")"}),we(F,"$rationalize",function(x){var Z=this;if(arguments.length>1&&s.$raise(Me("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),x==null)return Z;for(var X=x.$abs(),ge=Ce(Z,X),j=Ie(Z,X),Ke=0,ve=1,re=1,m=0,f,u,$,h,p;$=ge.$ceil(),!ke($,j);)h=$-1,f=h*ve+Ke,u=h*m+re,p=b(1,Ce(j,h)),j=b(1,Ce(ge,h)),ge=p,Ke=ve,re=m,ve=f,m=u;return s.$Rational($*ve+Ke,$*m+re)},-1),we(F,"$round",function(x){var Z=this,X=Te,ge=Te,j=Te;return x==null&&(x=0),n(x,0)?n(Z.num,0)?0:n(Z.den,1)?Z.num:(X=Ie(Be(Z.num.$abs(),2),Z.den),ge=Be(Z.den,2),j=b(X,ge).$truncate(),o(d(Z.num,0))?j["$-@"]():j):Z.$with_precision("round",x)},-1),we(F,"$to_f",function(){var x=this;return b(x.num,x.den)}),we(F,"$to_i",function(){var x=this;return x.$truncate()}),we(F,"$to_r",Oe),we(F,"$to_s",function(){var x=this;return""+x.num+"/"+x.den}),we(F,"$truncate",function(x){var Z=this;return x==null&&(x=0),n(x,0)?o(d(Z.num,0))?Z.$ceil():Z.$floor():Z.$with_precision("truncate",x)},-1),we(F,"$with_precision",function(x,Z){var X=this,ge=Te,j=Te;return C(Me("Integer"),Z)||s.$raise(Me("TypeError"),"not an Integer"),ge=10["$**"](Z),j=Be(X,ge),o(d(Z,1))?b(j.$send(x),ge).$to_i():s.$Rational(j.$send(x),ge)}),k(F,"$from_string",function(x){var Z=x.trimLeft(),X=/^[+-]?[\d_]+(\.[\d_]+)?/;Z.match(X);var ge,j;function Ke(){return X.test(Z)}function ve(){var re=Z.match(X),m=re[0];return Z=Z.slice(m.length),m.replace(/_/g,"")}return Ke()?(ge=parseFloat(ve()),Z[0]==="/"?(Z=Z.slice(1),Ke()?(j=parseFloat(ve()),s.$Rational(ge,j)):s.$Rational(ge,1)):s.$Rational(ge,1)):s.$Rational(0,1)}),Ne(F,"divide","/"),Ne(F,"quo","/")}("::",Me("Numeric"))};Opal.modules["corelib/time"]=function(t){var e=t.slice,n=t.deny_frozen_access,s=t.klass,o=t.Kernel,d=t.Opal,b=t.defs,k=t.eqeqeq,C=t.def,g=t.truthy,se=t.rb_gt,we=t.rb_lt,he=t.send,Ce=t.rb_plus,Be=t.rb_divide,Ie=t.rb_minus,ee=t.range,ke=t.neqeq,Oe=t.rb_le,Ne=t.eqeq,Fe=t.alias,Te=t.top,Me=[],te=t.nil,pe=t.$$$;return t.add_stubs("require,include,===,raise,coerce_to!,respond_to?,to_str,to_i,_parse_offset,new,<=>,to_f,nil?,>,<,strftime,each,define_method,year,month,day,+,round,/,-,copy_instance_variables,initialize_dup,is_a?,zero?,wday,utc?,mon,yday,hour,min,sec,rjust,ljust,zone,to_s,[],cweek_cyear,jd,to_date,format,isdst,!=,<=,==,ceil,local,gm,asctime,getgm,gmt_offset,inspect,usec,gmtime,gmt?"),Te.$require("corelib/comparable"),function(F,ue,G){var x=s(F,ue,"Time"),Z=[x].concat(G),X=t.$r(Z);x.$include(pe("Comparable"));var ge=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],j=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Ke=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ve=["January","February","March","April","May","June","July","August","September","October","November","December"];b(x,"$at",function(f,u){var $;return pe("Time")["$==="](f)?(u!==void 0&&o.$raise(pe("TypeError"),"can't convert Time into an exact number"),$=new Date(f.getTime()),$.timezone=f.timezone,$):(f.$$is_number||(f=d["$coerce_to!"](f,pe("Integer"),"to_int")),u===void 0?new Date(f*1e3):(u.$$is_number||(u=d["$coerce_to!"](u,pe("Integer"),"to_int")),new Date(f*1e3+u/1e3)))},-2);function re(m,f,u,$,h,p){if(m.$$is_string?m=parseInt(m,10):m=d["$coerce_to!"](m,pe("Integer"),"to_int"),f===te)f=1;else if(!f.$$is_number)if(f["$respond_to?"]("to_str"))switch(f=f.$to_str(),f.toLowerCase()){case"jan":f=1;break;case"feb":f=2;break;case"mar":f=3;break;case"apr":f=4;break;case"may":f=5;break;case"jun":f=6;break;case"jul":f=7;break;case"aug":f=8;break;case"sep":f=9;break;case"oct":f=10;break;case"nov":f=11;break;case"dec":f=12;break;default:f=f.$to_i()}else f=d["$coerce_to!"](f,pe("Integer"),"to_int");return(f<1||f>12)&&o.$raise(pe("ArgumentError"),"month out of range: "+f),f=f-1,u===te?u=1:u.$$is_string?u=parseInt(u,10):u=d["$coerce_to!"](u,pe("Integer"),"to_int"),(u<1||u>31)&&o.$raise(pe("ArgumentError"),"day out of range: "+u),$===te?$=0:$.$$is_string?$=parseInt($,10):$=d["$coerce_to!"]($,pe("Integer"),"to_int"),($<0||$>24)&&o.$raise(pe("ArgumentError"),"hour out of range: "+$),h===te?h=0:h.$$is_string?h=parseInt(h,10):h=d["$coerce_to!"](h,pe("Integer"),"to_int"),(h<0||h>59)&&o.$raise(pe("ArgumentError"),"min out of range: "+h),p===te?p=0:p.$$is_number||(p.$$is_string?p=parseInt(p,10):p=d["$coerce_to!"](p,pe("Integer"),"to_int")),(p<0||p>60)&&o.$raise(pe("ArgumentError"),"sec out of range: "+p),[m,f,u,$,h,p]}return b(x,"$new",function(f,u,$,h,p,D,z){var ie=this;u==null&&(u=te),$==null&&($=te),h==null&&(h=te),p==null&&(p=te),D==null&&(D=te),z==null&&(z=te);var Ue,ut,yt,Tt;return f===void 0?new Date:(Ue=re(f,u,$,h,p,D),f=Ue[0],u=Ue[1],$=Ue[2],h=Ue[3],p=Ue[4],D=Ue[5],z===te?(ut=new Date(f,u,$,h,p,0,D*1e3),f<100&&ut.setFullYear(f),ut):(yt=ie.$_parse_offset(z),Tt=new Date(Date.UTC(f,u,$,h,p,0,D*1e3)),f<100&&Tt.setUTCFullYear(f),ut=new Date(Tt.getTime()-yt*36e5),ut.timezone=yt,ut))},-1),b(x,"$_parse_offset",function(f){var u;if(f.$$is_string)if(f=="UTC")u=0;else if(/^[+-]\d\d:[0-5]\d$/.test(f)){var $,h,p;$=f[0],h=+(f[1]+f[2]),p=+(f[4]+f[5]),u=($=="-"?-1:1)*(h+p/60)}else o.$raise(pe("ArgumentError"),'"+HH:MM", "-HH:MM", "UTC" expected for utc_offset: '+f);else f.$$is_number?u=f/3600:o.$raise(pe("ArgumentError"),"Opal doesn't support other types for a timezone argument than Integer and String");return u}),b(x,"$local",function(f,u,$,h,p,D,z,ie,Ue,ut){u==null&&(u=te),$==null&&($=te),h==null&&(h=te),p==null&&(p=te),D==null&&(D=te),z==null&&(z=te),ie==null&&(ie=te),Ue==null&&(Ue=te),ut==null&&(ut=te);var yt,Tt;return arguments.length===10&&(yt=e(arguments),f=yt[5],u=yt[4],$=yt[3],h=yt[2],p=yt[1],D=yt[0]),yt=re(f,u,$,h,p,D),f=yt[0],u=yt[1],$=yt[2],h=yt[3],p=yt[4],D=yt[5],Tt=new Date(f,u,$,h,p,0,D*1e3),f<100&&Tt.setFullYear(f),Tt},-2),b(x,"$gm",function(f,u,$,h,p,D,z,ie,Ue,ut){u==null&&(u=te),$==null&&($=te),h==null&&(h=te),p==null&&(p=te),D==null&&(D=te),z==null&&(z=te),ie==null&&(ie=te),Ue==null&&(Ue=te),ut==null&&(ut=te);var yt,Tt;return arguments.length===10&&(yt=e(arguments),f=yt[5],u=yt[4],$=yt[3],h=yt[2],p=yt[1],D=yt[0]),yt=re(f,u,$,h,p,D),f=yt[0],u=yt[1],$=yt[2],h=yt[3],p=yt[4],D=yt[5],Tt=new Date(Date.UTC(f,u,$,h,p,0,D*1e3)),f<100&&Tt.setUTCFullYear(f),Tt.timezone=0,Tt},-2),b(x,"$now",function(){var f=this;return f.$new()}),C(x,"$+",function(f){var u=this;k(pe("Time"),f)&&o.$raise(pe("TypeError"),"time + time?"),f.$$is_number||(f=d["$coerce_to!"](f,pe("Integer"),"to_int"));var $=new Date(u.getTime()+f*1e3);return $.timezone=u.timezone,$}),C(x,"$-",function(f){var u=this;if(k(pe("Time"),f))return(u.getTime()-f.getTime())/1e3;f.$$is_number||(f=d["$coerce_to!"](f,pe("Integer"),"to_int"));var $=new Date(u.getTime()-f*1e3);return $.timezone=u.timezone,$}),C(x,"$<=>",function(f){var u=this,$=te;return k(pe("Time"),f)?u.$to_f()["$<=>"](f.$to_f()):($=f["$<=>"](u),g($["$nil?"]())?te:g(se($,0))?-1:g(we($,0))?1:0)}),C(x,"$==",function(f){var u=this,$=te;return g($=pe("Time")["$==="](f))?u.$to_f()===f.$to_f():$}),C(x,"$asctime",function(){var f=this;return f.$strftime("%a %b %e %H:%M:%S %Y")}),he([["year","getFullYear","getUTCFullYear"],["mon","getMonth","getUTCMonth",1],["wday","getDay","getUTCDay"],["day","getDate","getUTCDate"],["hour","getHours","getUTCHours"],["min","getMinutes","getUTCMinutes"],["sec","getSeconds","getUTCSeconds"]],"each",[],function m(f,u,$,h){var p=m.$$s==null?this:m.$$s;return f==null&&(f=te),u==null&&(u=te),$==null&&($=te),h==null&&(h=0),he(p,"define_method",[f],function D(){var z=D.$$s==null?this:D.$$s;return h+(z.timezone!=null?new Date(z.getTime()+z.timezone*36e5)[$]():z[u]())},{$$s:p})},{$$arity:-4,$$s:x}),C(x,"$yday",function(){var f=this,u=te,$=te,h=te;return u=X("Time").$new(f.$year()).$to_i(),$=X("Time").$new(f.$year(),f.$month(),f.$day()).$to_i(),h=86400,Ce(Be(Ie($,u),h).$round(),1)}),C(x,"$isdst",function(){var f=this,u=new Date(f.getFullYear(),0,1),$=new Date(f.getFullYear(),6,1);return f.getTimezoneOffset()<Math.max(u.getTimezoneOffset(),$.getTimezoneOffset())}),C(x,"$dup",function(){var f=this,u=te;return u=new Date(f.getTime()),u.$copy_instance_variables(f),u.$initialize_dup(f),u}),C(x,"$eql?",function(f){var u=this,$=te;return g($=f["$is_a?"](pe("Time")))?u["$<=>"](f)["$zero?"]():$}),he([["sunday?",0],["monday?",1],["tuesday?",2],["wednesday?",3],["thursday?",4],["friday?",5],["saturday?",6]],"each",[],function m(f,u){var $=m.$$s==null?this:m.$$s;return f==null&&(f=te),u==null&&(u=te),he($,"define_method",[f],function h(){var p=h.$$s==null?this:h.$$s;return p.$wday()===u},{$$s:$})},{$$s:x}),C(x,"$hash",function(){var f=this;return"Time:"+f.getTime()}),C(x,"$inspect",function(){var f=this;return g(f["$utc?"]())?f.$strftime("%Y-%m-%d %H:%M:%S UTC"):f.$strftime("%Y-%m-%d %H:%M:%S %z")}),C(x,"$succ",function(){var f=this,u=new Date(f.getTime()+1e3);return u.timezone=f.timezone,u}),C(x,"$usec",function(){var f=this;return f.getMilliseconds()*1e3}),C(x,"$zone",function(){var f=this;if(f.timezone===0)return"UTC";if(f.timezone!=null)return te;var u=f.toString(),$;return u.indexOf("(")==-1?$=u.match(/[A-Z]{3,4}/)[0]:$=u.match(/\((.+)\)(?:\s|$)/)[1],$=="GMT"&&/(GMT\W*\d{4})/.test(u)?RegExp.$1:$}),C(x,"$getgm",function(){var f=this,u=new Date(f.getTime());return u.timezone=0,u}),C(x,"$gmtime",function(){var f=this;return f.timezone!==0&&(n(f),f.timezone=0),f}),C(x,"$gmt?",function(){var f=this;return f.timezone===0}),C(x,"$gmt_offset",function(){var f=this;return f.timezone!=null?f.timezone*60:-f.getTimezoneOffset()*60}),C(x,"$strftime",function(f){var u=this;return f.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function($,h,p,D,z){var ie="",Ue,ut,yt,Tt=h.indexOf("0")!==-1,Ht=h.indexOf("-")===-1,Lt=h.indexOf("_")!==-1,Kt=h.indexOf("^")!==-1,Ut=h.indexOf("#")!==-1,Xt=(h.match(":")||[]).length;switch(p=parseInt(p,10),Tt&&Lt&&(h.indexOf("0")<h.indexOf("_")?Tt=!1:Lt=!1),z){case"Y":ie+=u.$year();break;case"C":Tt=!Lt,ie+=Math.round(u.$year()/100);break;case"y":Tt=!Lt,ie+=u.$year()%100;break;case"m":Tt=!Lt,ie+=u.$mon();break;case"B":ie+=ve[u.$mon()-1];break;case"b":case"h":Lt=!Tt,ie+=Ke[u.$mon()-1];break;case"d":Tt=!Lt,ie+=u.$day();break;case"e":Lt=!Tt,ie+=u.$day();break;case"j":Tt=!Lt,p=isNaN(p)?3:p,ie+=u.$yday();break;case"H":Tt=!Lt,ie+=u.$hour();break;case"k":Lt=!Tt,ie+=u.$hour();break;case"I":Tt=!Lt,ie+=u.$hour()%12||12;break;case"l":Lt=!Tt,ie+=u.$hour()%12||12;break;case"P":ie+=u.$hour()>=12?"pm":"am";break;case"p":ie+=u.$hour()>=12?"PM":"AM";break;case"M":Tt=!Lt,ie+=u.$min();break;case"S":Tt=!Lt,ie+=u.$sec();break;case"L":Tt=!Lt,p=isNaN(p)?3:p,ie+=u.getMilliseconds();break;case"N":p=isNaN(p)?9:p,ie+=u.getMilliseconds().toString().$rjust(3,"0"),ie=ie.$ljust(p,"0");break;case"z":var Gt=u.timezone==null?u.getTimezoneOffset():-u.timezone*60,$t=Math.floor(Math.abs(Gt)/60),De=Math.abs(Gt)%60;ie+=Gt<0?"+":"-",ie+=$t<10?"0":"",ie+=$t,Xt>0&&(ie+=":"),ie+=De<10?"0":"",ie+=De,Xt>1&&(ie+=":00");break;case"Z":ie+=u.$zone();break;case"A":ie+=ge[u.$wday()];break;case"a":ie+=j[u.$wday()];break;case"u":ie+=u.$wday()+1;break;case"w":ie+=u.$wday();break;case"V":ie+=u.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":ie+=u.$cweek_cyear()["$[]"](1);break;case"g":ie+=u.$cweek_cyear()["$[]"](1)["$[]"](ee(-2,-1,!1));break;case"s":ie+=u.$to_i();break;case"n":ie+=`
`;break;case"t":ie+="	";break;case"%":ie+="%";break;case"c":ie+=u.$strftime("%a %b %e %T %Y");break;case"D":case"x":ie+=u.$strftime("%m/%d/%y");break;case"F":ie+=u.$strftime("%Y-%m-%d");break;case"v":ie+=u.$strftime("%e-%^b-%4Y");break;case"r":ie+=u.$strftime("%I:%M:%S %p");break;case"R":ie+=u.$strftime("%H:%M");break;case"T":case"X":ie+=u.$strftime("%H:%M:%S");break;case"J":if(Ue=u.$to_date().$jd(),Ue<2405160){ie+=u.$strftime("%Y-%m-%d");break}else Ue<2419614?(ut="M",yt=1867):Ue<2424875?(ut="T",yt=1911):Ue<2447535?(ut="S",yt=1925):Ue<2458605?(ut="H",yt=1988):(ut="R",yt=2018);ie+=u.$format("%c%02d",ut,Ie(u.$year(),yt)),ie+=u.$strftime("-%m-%d");break;default:return $}return Kt&&(ie=ie.toUpperCase()),Ut&&(ie=ie.replace(/[A-Z]/,function(Ye){Ye.toLowerCase()}).replace(/[a-z]/,function(Ye){Ye.toUpperCase()})),Ht&&(Tt||Lt)&&(ie=ie.$rjust(isNaN(p)?2:p,Lt?" ":"0")),ie})}),C(x,"$to_a",function(){var f=this;return[f.$sec(),f.$min(),f.$hour(),f.$day(),f.$month(),f.$year(),f.$wday(),f.$yday(),f.$isdst(),f.$zone()]}),C(x,"$to_f",function(){var f=this;return f.getTime()/1e3}),C(x,"$to_i",function(){var f=this;return parseInt(f.getTime()/1e3,10)}),C(x,"$cweek_cyear",function(){var f=this,u=te,$=te,h=te,p=te,D=te,z=te,ie=te;return u=pe("Time").$new(f.$year(),1,1),$=u.$wday(),h=f.$year(),g(Oe($,4))&&ke($,0)?p=Ie($,1):(p=Ie(Ie($,7),1),Ne(p,-8)&&(p=-1)),D=Be(Ce(f.$yday(),p),7).$ceil(),g(Oe(D,0))?pe("Time").$new(Ie(f.$year(),1),12,31).$cweek_cyear():(Ne(D,53)&&(z=pe("Time").$new(f.$year(),12,31),ie=z.$wday(),g(Oe(ie,3))&&ke(ie,0)&&(D=1,h=Ce(h,1))),[D,h])}),function(m,f){return Fe(m,"mktime","local"),Fe(m,"utc","gm")}(t.get_singleton_class(x)),Fe(x,"ctime","asctime"),Fe(x,"dst?","isdst"),Fe(x,"getutc","getgm"),Fe(x,"gmtoff","gmt_offset"),Fe(x,"mday","day"),Fe(x,"month","mon"),Fe(x,"to_s","inspect"),Fe(x,"tv_sec","to_i"),Fe(x,"tv_usec","usec"),Fe(x,"utc","gmtime"),Fe(x,"utc?","gmt?"),Fe(x,"utc_offset","gmt_offset")}("::",Date,Me)};Opal.modules["corelib/struct"]=function(t){var e=t.klass,n=t.slice,s=t.extract_kwargs,o=t.ensure_kwargs,d=t.truthy,b=t.neqeq,k=t.eqeq,C=t.Opal,g=t.send,se=t.Class,we=t.to_a,he=t.def,Ce=t.defs,Be=t.Kernel,Ie=t.hash2,ee=t.rb_gt,ke=t.rb_minus,Oe=t.eqeqeq,Ne=t.rb_lt,Fe=t.rb_ge,Te=t.rb_plus,Me=t.alias,te=t.top,pe=[],F=t.nil,ue=t.$$$;return t.add_stubs("require,include,!=,upcase,[],==,class,unshift,const_name!,map,coerce_to!,new,each,define_struct_attribute,allocate,initialize,alias_method,module_eval,to_proc,const_set,raise,<<,members,define_method,instance_eval,last,>,length,-,keys,any?,join,[]=,each_with_index,hash,===,<,-@,size,>=,include?,to_sym,instance_of?,__id__,eql?,enum_for,+,name,each_pair,inspect,to_h,args,each_with_object,flatten,to_a,respond_to?,dig"),te.$require("corelib/enumerable"),function(G,x,Z){var X=e(G,x,"Struct"),ge=[X].concat(Z),j=t.$r(ge);X.$include(ue("Enumerable")),Ce(X,"$new",function ve(re,m,f){var u=ve.$$p||F,$,h,p,D,z=this,ie=F;if(ve.$$p=null,$=n(arguments,1),h=s($),h=o(h),p=$,D=h.$$smap.keyword_init,D==null&&(D=!1),d(re))if(k(re.$class(),ue("String"))&&b(re["$[]"](0).$upcase(),re["$[]"](0)))p.$unshift(re),re=F;else try{re=C["$const_name!"](re)}catch(Ue){if(t.rescue(Ue,[ue("TypeError"),ue("NameError")]))try{p.$unshift(re),re=F}finally{t.pop_exception()}else throw Ue}return g(p,"map",[],function(ut){return ut==null&&(ut=F),C["$coerce_to!"](ut,ue("String"),"to_str")}),ie=g(se,"new",[z],function Ue(){var ut=Ue.$$s==null?this:Ue.$$s;return g(p,"each",[],function yt(Tt){var Ht=yt.$$s==null?this:yt.$$s;return Tt==null&&(Tt=F),Ht.$define_struct_attribute(Tt)},{$$s:ut}),function(yt,Tt){return he(yt,"$new",function(Lt){var Kt,Ut,Xt=this,Gt=F;return Kt=n(arguments),Ut=Kt,Gt=Xt.$allocate(),Gt.$$data={},g(Gt,"initialize",we(Ut)),Gt},-1),yt.$alias_method("[]","new")}(t.get_singleton_class(ut))},{$$s:z}),d(u)&&g(ie,"module_eval",[],u.$to_proc()),ie.$$keyword_init=D,d(re)&&ue("Struct").$const_set(re,ie),ie},-2),Ce(X,"$define_struct_attribute",function(re){var m=this;return k(m,ue("Struct"))&&Be.$raise(ue("ArgumentError"),"you cannot define attributes to the Struct class"),m.$members()["$<<"](re),g(m,"define_method",[re],function f(){var u=f.$$s==null?this:f.$$s;return u.$$data[re]},{$$s:m}),g(m,"define_method",[""+re+"="],function f(u){var $=f.$$s==null?this:f.$$s;return u==null&&(u=F),$.$$data[re]=u},{$$s:m})}),Ce(X,"$members",function(){var re=this,m=F;return re.members==null&&(re.members=F),k(re,ue("Struct"))&&Be.$raise(ue("ArgumentError"),"the Struct class has no members"),re.members=d(m=re.members)?m:[]}),Ce(X,"$inherited",function(re){var m=this,f=F;return m.members==null&&(m.members=F),f=m.members,g(re,"instance_eval",[],function u(){var $=u.$$s==null?this:u.$$s;return $.members=f},{$$s:m})}),he(X,"$initialize",function(re){var m,f,u=this,$=F,h=F,p=F;return m=n(arguments),f=m,d(u.$class().$$keyword_init)?($=d(h=f.$last())?h:Ie([],{}),(d(ee(f.$length(),1))||d(f.length===1&&!$.$$is_hash))&&Be.$raise(ue("ArgumentError"),"wrong number of arguments (given "+f.$length()+", expected 0)"),p=ke($.$keys(),u.$class().$members()),d(p["$any?"]())&&Be.$raise(ue("ArgumentError"),"unknown keywords: "+p.$join(", ")),g(u.$class().$members(),"each",[],function D(z){var ie,Ue=D.$$s==null?this:D.$$s;return z==null&&(z=F),ie=[z,$["$[]"](z)],g(Ue,"[]=",ie),ie[ie.length-1]},{$$s:u})):(d(ee(f.$length(),u.$class().$members().$length()))&&Be.$raise(ue("ArgumentError"),"struct size differs"),g(u.$class().$members(),"each_with_index",[],function D(z,ie){var Ue,ut=D.$$s==null?this:D.$$s;return z==null&&(z=F),ie==null&&(ie=F),Ue=[z,f["$[]"](ie)],g(ut,"[]=",Ue),Ue[Ue.length-1]},{$$s:u}))},-1),he(X,"$initialize_copy",function(re){var m=this;m.$$data={};var f=Object.keys(re.$$data),u,$,h;for(u=0,$=f.length;u<$;u++)h=f[u],m.$$data[h]=re.$$data[h]}),Ce(X,"$keyword_init?",function(){var re=this;return re.$$keyword_init}),he(X,"$members",function(){var re=this;return re.$class().$members()}),he(X,"$hash",function(){var re=this;return j("Hash").$new(re.$$data).$hash()}),he(X,"$[]",function(re){var m=this;return Oe(ue("Integer"),re)?(d(Ne(re,m.$class().$members().$size()["$-@"]()))&&Be.$raise(ue("IndexError"),"offset "+re+" too small for struct(size:"+m.$class().$members().$size()+")"),d(Fe(re,m.$class().$members().$size()))&&Be.$raise(ue("IndexError"),"offset "+re+" too large for struct(size:"+m.$class().$members().$size()+")"),re=m.$class().$members()["$[]"](re)):Oe(ue("String"),re)?m.$$data.hasOwnProperty(re)||Be.$raise(ue("NameError").$new("no member '"+re+"' in struct",re)):Be.$raise(ue("TypeError"),"no implicit conversion of "+re.$class()+" into Integer"),re=C["$coerce_to!"](re,ue("String"),"to_str"),m.$$data[re]}),he(X,"$[]=",function(re,m){var f=this;return Oe(ue("Integer"),re)?(d(Ne(re,f.$class().$members().$size()["$-@"]()))&&Be.$raise(ue("IndexError"),"offset "+re+" too small for struct(size:"+f.$class().$members().$size()+")"),d(Fe(re,f.$class().$members().$size()))&&Be.$raise(ue("IndexError"),"offset "+re+" too large for struct(size:"+f.$class().$members().$size()+")"),re=f.$class().$members()["$[]"](re)):Oe(ue("String"),re)?d(f.$class().$members()["$include?"](re.$to_sym()))||Be.$raise(ue("NameError").$new("no member '"+re+"' in struct",re)):Be.$raise(ue("TypeError"),"no implicit conversion of "+re.$class()+" into Integer"),re=C["$coerce_to!"](re,ue("String"),"to_str"),f.$$data[re]=m}),he(X,"$==",function(re){var m=this;if(!d(re["$instance_of?"](m.$class())))return!1;var f={},u={};function $(h,p){var D,z,ie;f[h.$__id__()]=!0,u[p.$__id__()]=!0;for(D in h.$$data)if(z=h.$$data[D],ie=p.$$data[D],ue("Struct")["$==="](z)){if((!f.hasOwnProperty(z.$__id__())||!u.hasOwnProperty(ie.$__id__()))&&!$(z,ie))return!1}else if(!z["$=="](ie))return!1;return!0}return $(m,re)}),he(X,"$eql?",function(re){var m=this;if(!d(re["$instance_of?"](m.$class())))return!1;var f={},u={};function $(h,p){var D,z,ie;f[h.$__id__()]=!0,u[p.$__id__()]=!0;for(D in h.$$data)if(z=h.$$data[D],ie=p.$$data[D],ue("Struct")["$==="](z)){if((!f.hasOwnProperty(z.$__id__())||!u.hasOwnProperty(ie.$__id__()))&&!$(z,ie))return!1}else if(!z["$eql?"](ie))return!1;return!0}return $(m,re)}),he(X,"$each",function ve(){var re=ve.$$p||F,m=this;return ve.$$p=null,re===F?g(m,"enum_for",["each"],function f(){var u=f.$$s==null?this:f.$$s;return u.$size()},{$$s:m}):(g(m.$class().$members(),"each",[],function f(u){var $=f.$$s==null?this:f.$$s;return u==null&&(u=F),t.yield1(re,$["$[]"](u))},{$$s:m}),m)}),he(X,"$each_pair",function ve(){var re=ve.$$p||F,m=this;return ve.$$p=null,re===F?g(m,"enum_for",["each_pair"],function f(){var u=f.$$s==null?this:f.$$s;return u.$size()},{$$s:m}):(g(m.$class().$members(),"each",[],function f(u){var $=f.$$s==null?this:f.$$s;return u==null&&(u=F),t.yield1(re,[u,$["$[]"](u)])},{$$s:m}),m)}),he(X,"$length",function(){var re=this;return re.$class().$members().$length()}),he(X,"$to_a",function(){var re=this;return g(re.$class().$members(),"map",[],function m(f){var u=m.$$s==null?this:m.$$s;return f==null&&(f=F),u["$[]"](f)},{$$s:re})});var Ke=[];return he(X,"$inspect",function(){var re=this,m=F,f=F;return function(){try{return m="#<struct ",d(Ke["$include?"](re.$__id__()))?Te(m,":...>"):(Ke["$<<"](re.$__id__()),f=!0,Oe(ue("Struct"),re)&&d(re.$class().$name())&&(m=Te(m,""+re.$class()+" ")),m=Te(m,g(re.$each_pair(),"map",[],function($,h){return $==null&&($=F),h==null&&(h=F),""+$+"="+j("Opal").$inspect(h)}).$join(", ")),m=Te(m,">"),m)}finally{d(f)&&Ke.pop()}}()}),he(X,"$to_h",function ve(){var re=ve.$$p||F,m=this;return ve.$$p=null,re!==F?g(g(m,"map",[],re.$to_proc()),"to_h",we(m.$args())):g(m.$class().$members(),"each_with_object",[Ie([],{})],function f(u,$){var h,p=f.$$s==null?this:f.$$s;return u==null&&(u=F),$==null&&($=F),h=[u,p["$[]"](u)],g($,"[]=",h),h[h.length-1]},{$$s:m})}),he(X,"$values_at",function(re){var m,f,u=this;m=n(arguments),f=m,f=g(f,"map",[],function(z){return z==null&&(z=F),z.$$is_range?z.$to_a():z}).$flatten();for(var $=[],h=0,p=f.length;h<p;h++)f[h].$$is_number||Be.$raise(ue("TypeError"),"no implicit conversion of "+f[h].$class()+" into Integer"),$.push(u["$[]"](f[h]));return $},-1),he(X,"$dig",function(re,m){var f,u,$=this,h=F;return f=n(arguments,1),u=f,h=d(re.$$is_string&&$.$$data.hasOwnProperty(re))&&$.$$data[re]||F,h===F||u.length===0?h:(d(h["$respond_to?"]("dig"))||Be.$raise(ue("TypeError"),""+h.$class()+" does not have #dig method"),g(h,"dig",we(u)))},-2),Me(X,"size","length"),Me(X,"to_s","inspect"),Me(X,"values","to_a")}("::",null,pe)};Opal.modules["corelib/set"]=function(t){var e=t.freeze,n=t.klass,s=t.slice,o=t.defs,d=t.hash2,b=t.truthy,k=t.eqeqeq,C=t.Kernel,g=t.send,se=t.def,we=t.eqeq,he=t.rb_lt,Ce=t.rb_le,Be=t.alias,Ie=[],ee=t.nil,ke=t.$$$;return t.add_stubs("include,new,nil?,===,raise,each,add,merge,class,respond_to?,subtract,dup,join,to_a,equal?,instance_of?,==,instance_variable_get,size,is_a?,all?,include?,[]=,enum_for,[],<<,replace,compare_by_identity,name,compare_by_identity?,delete,select,frozen?,freeze,reject,delete_if,to_proc,keep_if,each_key,empty?,eql?,instance_eval,clear,<,<=,any?,!,intersect?,keys,|,proper_subset?,subset?,proper_superset?,superset?,-,select!,collect!"),function(Oe,Ne,Fe){var Te=n(Oe,Ne,"Set"),Me=[Te].concat(Fe),te=t.$r(Me),pe=ee,F=Te.$$prototype;F.hash=ee,Te.$include(ke("Enumerable")),o(Te,"$[]",function(x){var Z,X,ge=this;return Z=s(arguments),X=Z,ge.$new(X)},-1),se(Te,"$initialize",function G(x){var Z=G.$$p||ee,X=this;return G.$$p=null,x==null&&(x=ee),X.hash=d([],{}),b(x["$nil?"]())?ee:(k(ke("Enumerable"),x)||C.$raise(ke("ArgumentError"),"value must be enumerable"),b(Z)?g(x,"each",[],function ge(j){var Ke=ge.$$s==null?this:ge.$$s;return j==null&&(j=ee),Ke.$add(t.yield1(Z,j))},{$$s:X}):X.$merge(x))},-1),se(Te,"$dup",function(){var x=this,Z=ee;return Z=x.$class().$new(),Z.$merge(x)}),se(Te,"$-",function(x){var Z=this;return b(x["$respond_to?"]("each"))||C.$raise(ke("ArgumentError"),"value must be enumerable"),Z.$dup().$subtract(x)}),se(Te,"$inspect",function(){var x=this;return"#<Set: {"+x.$to_a().$join(",")+"}>"}),se(Te,"$==",function(x){var Z=this;return b(Z["$equal?"](x))?!0:b(x["$instance_of?"](Z.$class()))?Z.hash["$=="](x.$instance_variable_get("@hash")):b(x["$is_a?"](ke("Set")))&&we(Z.$size(),x.$size())?g(x,"all?",[],function X(ge){var j=X.$$s==null?this:X.$$s;return j.hash==null&&(j.hash=ee),ge==null&&(ge=ee),j.hash["$include?"](ge)},{$$s:Z}):!1}),se(Te,"$add",function(x){var Z=this;return Z.hash["$[]="](x,!0),Z}),se(Te,"$classify",function G(){var x=G.$$p||ee,Z=this,X=ee;return G.$$p=null,x===ee?Z.$enum_for("classify"):(X=g(ke("Hash"),"new",[],function ge(j,Ke){var ve,re=ge.$$s==null?this:ge.$$s;return j==null&&(j=ee),Ke==null&&(Ke=ee),ve=[Ke,re.$class().$new()],g(j,"[]=",ve),ve[ve.length-1]},{$$s:Z}),g(Z,"each",[],function(j){return j==null&&(j=ee),X["$[]"](t.yield1(x,j)).$add(j)}),X)}),se(Te,"$collect!",function G(){var x=G.$$p||ee,Z=this,X=ee;return G.$$p=null,x===ee?Z.$enum_for("collect!"):(X=Z.$class().$new(),g(Z,"each",[],function(j){return j==null&&(j=ee),X["$<<"](t.yield1(x,j))}),Z.$replace(X))}),se(Te,"$compare_by_identity",function(){var x=this;return b(x.hash["$respond_to?"]("compare_by_identity"))?(x.hash.$compare_by_identity(),x):x.$raise(te("NotImplementedError"),""+x.$class().$name()+"#compare_by_identity is not implemented")}),se(Te,"$compare_by_identity?",function(){var x=this,Z=ee;return b(Z=x.hash["$respond_to?"]("compare_by_identity?"))?x.hash["$compare_by_identity?"]():Z}),se(Te,"$delete",function(x){var Z=this;return Z.hash.$delete(x),Z}),se(Te,"$delete?",function(x){var Z=this;return b(Z["$include?"](x))?(Z.$delete(x),Z):ee}),se(Te,"$delete_if",function G(){var x=G.$$p||ee,Z=this;return G.$$p=null,x===ee?Z.$enum_for("delete_if"):(g(g(Z,"select",[],function(ge){return ge==null&&(ge=ee),t.yield1(x,ge)}),"each",[],function X(ge){var j=X.$$s==null?this:X.$$s;return j.hash==null&&(j.hash=ee),ge==null&&(ge=ee),j.hash.$delete(ge)},{$$s:Z}),Z)}),se(Te,"$freeze",function(){var x=this;return b(x["$frozen?"]())?x:(x.hash.$freeze(),e(x))}),se(Te,"$keep_if",function G(){var x=G.$$p||ee,Z=this;return G.$$p=null,x===ee?Z.$enum_for("keep_if"):(g(g(Z,"reject",[],function(ge){return ge==null&&(ge=ee),t.yield1(x,ge)}),"each",[],function X(ge){var j=X.$$s==null?this:X.$$s;return j.hash==null&&(j.hash=ee),ge==null&&(ge=ee),j.hash.$delete(ge)},{$$s:Z}),Z)}),se(Te,"$reject!",function G(){var x=G.$$p||ee,Z=this,X=ee;return G.$$p=null,x===ee?Z.$enum_for("reject!"):(X=Z.$size(),g(Z,"delete_if",[],x.$to_proc()),we(Z.$size(),X)?ee:Z)}),se(Te,"$select!",function G(){var x=G.$$p||ee,Z=this,X=ee;return G.$$p=null,x===ee?Z.$enum_for("select!"):(X=Z.$size(),g(Z,"keep_if",[],x.$to_proc()),we(Z.$size(),X)?ee:Z)}),se(Te,"$add?",function(x){var Z=this;return b(Z["$include?"](x))?ee:Z.$add(x)}),se(Te,"$each",function G(){var x=G.$$p||ee,Z=this;return G.$$p=null,x===ee?Z.$enum_for("each"):(g(Z.hash,"each_key",[],x.$to_proc()),Z)}),se(Te,"$empty?",function(){var x=this;return x.hash["$empty?"]()}),se(Te,"$eql?",function(x){var Z=this;return Z.hash["$eql?"](g(x,"instance_eval",[],function X(){var ge=X.$$s==null?this:X.$$s;return ge.hash==null&&(ge.hash=ee),ge.hash},{$$s:Z}))}),se(Te,"$clear",function(){var x=this;return x.hash.$clear(),x}),se(Te,"$include?",function(x){var Z=this;return Z.hash["$include?"](x)}),se(Te,"$merge",function(x){var Z=this;return g(x,"each",[],function X(ge){var j=X.$$s==null?this:X.$$s;return ge==null&&(ge=ee),j.$add(ge)},{$$s:Z}),Z}),se(Te,"$replace",function(x){var Z=this;return Z.$clear(),Z.$merge(x),Z}),se(Te,"$size",function(){var x=this;return x.hash.$size()}),se(Te,"$subtract",function(x){var Z=this;return g(x,"each",[],function X(ge){var j=X.$$s==null?this:X.$$s;return ge==null&&(ge=ee),j.$delete(ge)},{$$s:Z}),Z}),se(Te,"$|",function(x){var Z=this;return b(x["$respond_to?"]("each"))||C.$raise(ke("ArgumentError"),"value must be enumerable"),Z.$dup().$merge(x)});function ue(G){b(pe=G["$is_a?"](ke("Set")))||C.$raise(ke("ArgumentError"),"value must be a set")}return se(Te,"$superset?",function(x){var Z=this;return ue(x),b(he(Z.$size(),x.$size()))?!1:g(x,"all?",[],function X(ge){var j=X.$$s==null?this:X.$$s;return ge==null&&(ge=ee),j["$include?"](ge)},{$$s:Z})}),se(Te,"$proper_superset?",function(x){var Z=this;return ue(x),b(Ce(Z.$size(),x.$size()))?!1:g(x,"all?",[],function X(ge){var j=X.$$s==null?this:X.$$s;return ge==null&&(ge=ee),j["$include?"](ge)},{$$s:Z})}),se(Te,"$subset?",function(x){var Z=this;return ue(x),b(he(x.$size(),Z.$size()))?!1:g(Z,"all?",[],function(ge){return ge==null&&(ge=ee),x["$include?"](ge)})}),se(Te,"$proper_subset?",function(x){var Z=this;return ue(x),b(Ce(x.$size(),Z.$size()))?!1:g(Z,"all?",[],function(ge){return ge==null&&(ge=ee),x["$include?"](ge)})}),se(Te,"$intersect?",function(x){var Z=this;return ue(x),b(he(Z.$size(),x.$size()))?g(Z,"any?",[],function(ge){return ge==null&&(ge=ee),x["$include?"](ge)}):g(x,"any?",[],function X(ge){var j=X.$$s==null?this:X.$$s;return ge==null&&(ge=ee),j["$include?"](ge)},{$$s:Z})}),se(Te,"$disjoint?",function(x){var Z=this;return Z["$intersect?"](x)["$!"]()}),se(Te,"$to_a",function(){var x=this;return x.hash.$keys()}),Be(Te,"+","|"),Be(Te,"<","proper_subset?"),Be(Te,"<<","add"),Be(Te,"<=","subset?"),Be(Te,">","proper_superset?"),Be(Te,">=","superset?"),Be(Te,"difference","-"),Be(Te,"filter!","select!"),Be(Te,"length","size"),Be(Te,"map!","collect!"),Be(Te,"member?","include?"),Be(Te,"union","|")}("::",null,Ie)};Opal.modules["corelib/dir"]=function(t){var e=t.klass,n=t.def,s=t.truthy,o=t.alias,d=t.nil,b=t.$$$;return t.add_stubs("[],pwd"),function(k,C,g){var se=e(k,C,"Dir");return function(we,he){return n(we,"$chdir",function Ce(Be){var Ie=Ce.$$p||d,ee=d;return Ce.$$p=null,function(){try{return ee=t.current_dir,t.current_dir=Be,t.yieldX(Ie,[])}finally{t.current_dir=ee}}()}),n(we,"$pwd",function(){return t.current_dir||"."}),n(we,"$home",function(){var Be=d;return s(Be=b("ENV")["$[]"]("HOME"))?Be:"."}),o(we,"getwd","pwd")}(t.get_singleton_class(se))}("::",null)};Opal.modules["corelib/file"]=function(t){var e=t.truthy,n=t.klass,s=t.const_set,o=t.Opal,d=t.regexp,b=t.rb_plus,k=t.def,C=t.Kernel,g=t.eqeq,se=t.rb_lt,we=t.rb_minus,he=t.range,Ce=t.send,Be=t.slice,Ie=t.alias,ee=[],ke=t.nil,Oe=t.$$$;return t.add_stubs("respond_to?,to_path,coerce_to!,pwd,split,sub,+,unshift,join,home,raise,start_with?,absolute_path,==,<,dirname,-,basename,empty?,rindex,[],length,nil?,gsub,find,=~,map,each_with_index,flatten,reject,to_proc,end_with?,expand_path,exist?"),function(Ne,Fe,Te){var Me=n(Ne,Fe,"File"),te=[Me].concat(Te),pe=ke;return s(te[0],"Separator",s(te[0],"SEPARATOR","/")),s(te[0],"ALT_SEPARATOR",ke),s(te[0],"PATH_SEPARATOR",":"),s(te[0],"FNM_SYSCASE",0),pe=/^[a-zA-Z]:(?:\\|\/)/,function(F,ue){var G=[F].concat(ue),x=t.$r(G);k(F,"$absolute_path",function(j,Ke){var ve=ke,re=ke,m=ke,f=ke,u=ke,$=ke,h=ke,p=ke,D=ke,z=ke;Ke==null&&(Ke=ke),ve=x("SEPARATOR"),re=X(),m=[],j=e(j["$respond_to?"]("to_path"))?j.$to_path():j,j=o["$coerce_to!"](j,Oe("String"),"to_str"),Ke=e(f=Ke)?f:Oe("Dir").$pwd(),u=j.substr(0,ve.length)===ve||pe.test(j),$=Ke.substr(0,ve.length)===ve||pe.test(Ke),e(u)?(h=j.$split(d(["[",re,"]"])),p=pe.test(j)?"":j.$sub(d(["^([",re,"]+).*$"]),"\\1"),D=!0):(h=b(Ke.$split(d(["[",re,"]"])),j.$split(d(["[",re,"]"]))),p=pe.test(Ke)?"":Ke.$sub(d(["^([",re,"]+).*$"]),"\\1"),D=$);for(var ie,Ue=0,ut=h.length;Ue<ut;Ue++)ie=h[Ue],!(ie===ke||ie===""&&(m.length===0||D)||ie==="."&&(m.length===0||D))&&(ie===".."?m.pop():m.push(ie));return!D&&h[0]!=="."&&m.$unshift("."),z=m.$join(ve),e(D)&&(z=b(p,z)),z},-2),k(F,"$expand_path",function(j,Ke){var ve=this,re=ke,m=ke,f=ke,u=ke,$=ke;return Ke==null&&(Ke=ke),re=x("SEPARATOR"),m=X(),e(j[0]==="~"||Ke&&Ke[0]==="~")&&(f=x("Dir").$home(),e(f)||C.$raise(Oe("ArgumentError"),"couldn't find HOME environment -- expanding `~'"),u=pe.test(f)?"":f.$sub(d(["^([",m,"]+).*$"]),"\\1"),e(f["$start_with?"](u))||C.$raise(Oe("ArgumentError"),"non-absolute home"),f=b(f,re),$=d(["^\\~(?:",re,"|$)"]),j=j.$sub($,f),e(Ke)&&(Ke=Ke.$sub($,f))),ve.$absolute_path(j,Ke)},-2);function Z(ge){return e(ge["$respond_to?"]("to_path"))&&(ge=ge.$to_path()),ge=o["$coerce_to!"](ge,Oe("String"),"to_str"),ge}function X(){return x("ALT_SEPARATOR")===ke?t.escape_regexp(x("SEPARATOR")):t.escape_regexp(b(x("SEPARATOR"),x("ALT_SEPARATOR")))}return k(F,"$dirname",function(j,Ke){var ve=this,re=ke;if(Ke==null&&(Ke=1),g(Ke,0))return j;e(se(Ke,0))&&C.$raise(Oe("ArgumentError"),"level can't be negative"),re=X(),j=Z(j);var m=j.match(new RegExp("^["+re+"]")),f;return j=j.replace(new RegExp("["+re+"]+$"),""),j=j.replace(new RegExp("[^"+re+"]+$"),""),j=j.replace(new RegExp("["+re+"]+$"),""),j===""?f=m?"/":".":f=j,Ke==1?f:ve.$dirname(f,we(Ke,1))},-2),k(F,"$basename",function(j,Ke){var ve=ke;return Ke==null&&(Ke=ke),ve=X(),j=Z(j),j.length==0||(Ke!==ke?Ke=o["$coerce_to!"](Ke,Oe("String"),"to_str"):Ke=null,j=j.replace(new RegExp("(.)["+ve+"]*$"),"$1"),j=j.replace(new RegExp("^(?:.*["+ve+"])?([^"+ve+"]+)$"),"$1"),Ke===".*"?j=j.replace(/\.[^\.]+$/,""):Ke!==null&&(Ke=t.escape_regexp(Ke),j=j.replace(new RegExp(""+Ke+"$"),""))),j},-2),k(F,"$extname",function(j){var Ke=this,ve=ke,re=ke;return j=Z(j),ve=Ke.$basename(j),e(ve["$empty?"]())||(re=ve["$[]"](he(1,-1,!1)).$rindex("."),e(re["$nil?"]())||g(b(re,1),we(ve.$length(),1)))?"":ve["$[]"](t.Range.$new(b(re,1),-1,!1))}),k(F,"$exist?",function(j){return t.modules[j]!=null}),k(F,"$directory?",function(j){var Ke=ke;Ke=[];for(var ve in t.modules)Ke.push(ve);return j=j.$gsub(d(["(^.",x("SEPARATOR"),"+|",x("SEPARATOR"),"+$)"])),Ce(Ke,"find",[],function(m){return m==null&&(m=ke),m["$=~"](d(["^",j]))})}),k(F,"$join",function(j){var Ke,ve,re=ke;return Ke=Be(arguments),ve=Ke,e(ve["$empty?"]())?"":(re="",ve=Ce(ve.$flatten().$each_with_index(),"map",[],function(f,u){return f==null&&(f=ke),u==null&&(u=ke),g(u,0)&&e(f["$empty?"]())||g(ve.$length(),b(u,1))&&e(f["$empty?"]())?x("SEPARATOR"):f}),ve=Ce(ve,"reject",[],"empty?".$to_proc()),Ce(ve,"each_with_index",[],function(f,u){var $=ke;return f==null&&(f=ke),u==null&&(u=ke),$=ve["$[]"](b(u,1)),e($["$nil?"]())?re=""+re+f:(e(f["$end_with?"](x("SEPARATOR")))&&e($["$start_with?"](x("SEPARATOR")))&&(f=f.$sub(d([x("SEPARATOR"),"+$"]),"")),re=e(f["$end_with?"](x("SEPARATOR")))||e($["$start_with?"](x("SEPARATOR")))?""+re+f:""+re+f+x("SEPARATOR"))}),re)},-1),k(F,"$split",function(j){return j.$split(x("SEPARATOR"))}),Ie(F,"realpath","expand_path"),Ie(F,"exists?","exist?")}(t.get_singleton_class(Me),te)}("::",Oe("IO"),ee)};Opal.modules["corelib/process/base"]=function(t){var e=t.klass,n=t.slice,s=t.defs,o=t.return_val,d=t.nil;return function(b,k){var C=e(b,k,"Signal");return s(C,"$trap",function(se){return n(arguments),d},-1)}("::",null),function(b,k){var C=e(b,k,"GC");return s(C,"$start",o(d))}("::",null)};Opal.modules["corelib/process"]=function(t){var e=t.module,n=t.defs,s=t.truthy,o=t.return_val,d=t.Kernel,b=t.nil,k=t.$$$;return t.add_stubs("const_set,size,<<,__register_clock__,to_f,now,new,[],raise"),function(C){var g=e(C,"Process"),se=b;if(g.__clocks__=[],n(g,"$__register_clock__",function(Ce,Be){var Ie=this;return Ie.__clocks__==null&&(Ie.__clocks__=b),Ie.$const_set(Ce,Ie.__clocks__.$size()),Ie.__clocks__["$<<"](Be)}),g.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),se=!1,t.global.performance)se=function(){return performance.now()};else if(t.global.process&&process.hrtime){var we=process.hrtime();se=function(){var he=process.hrtime(we),Ce=he[1]/1e3|0;return he[0]*1e3+Ce/1e3}}return s(se)&&g.$__register_clock__("CLOCK_MONOTONIC",se),n(g,"$pid",o(0)),n(g,"$times",function(){var Ce=b;return Ce=k("Time").$now().$to_f(),k(k("Benchmark"),"Tms").$new(Ce,Ce,Ce,Ce,Ce)}),n(g,"$clock_gettime",function(Ce,Be){var Ie=this,ee=b;Ie.__clocks__==null&&(Ie.__clocks__=b),Be==null&&(Be="float_second"),s(ee=Ie.__clocks__["$[]"](Ce))||d.$raise(k(k("Errno"),"EINVAL"),"clock_gettime("+Ce+") "+Ie.__clocks__["$[]"](Ce));var ke=ee();switch(Be){case"float_second":return ke/1e3;case"float_millisecond":return ke/1;case"float_microsecond":return ke*1e3;case"second":return ke/1e3|0;case"millisecond":return ke/1|0;case"microsecond":return ke*1e3|0;case"nanosecond":return ke*1e6|0;default:d.$raise(k("ArgumentError"),"unexpected unit: "+Be)}},-2)}("::")};Opal.modules["corelib/random/formatter"]=function(t){var e=t.klass,n=t.module,s=t.def,o=t.range,d=t.send,b=t.rb_divide,k=t.Kernel,C=t.Opal,g=[],se=t.nil,we=t.$$$;return t.add_stubs("_verify_count,bytes,encode,strict_encode64,random_bytes,urlsafe_encode64,split,hex,[]=,[],map,to_proc,join,times,<<,|,ord,/,abs,random_float,raise,coerce_to!,flatten,new,random_number,length,include,extend"),function(he,Ce,Be){var Ie=e(he,Ce,"Random"),ee=[Ie].concat(Be);return function(ke,Oe){var Ne=n(ke,"Formatter"),Fe=[Ne].concat(Oe),Te=t.$r(Fe);return s(Ne,"$hex",function(te){var pe=this;te==null&&(te=se),te=we("Random").$_verify_count(te);for(var F=pe.$bytes(te),ue="",G=0;G<te;G++)ue+=F.charCodeAt(G).toString(16).padStart(2,"0");return ue.$encode("US-ASCII")},-1),s(Ne,"$random_bytes",function(te){var pe=this;return te==null&&(te=se),pe.$bytes(te)},-1),s(Ne,"$base64",function(te){var pe=this;return te==null&&(te=se),we("Base64").$strict_encode64(pe.$random_bytes(te)).$encode("US-ASCII")},-1),s(Ne,"$urlsafe_base64",function(te,pe){var F=this;return te==null&&(te=se),pe==null&&(pe=!1),we("Base64").$urlsafe_encode64(F.$random_bytes(te),pe).$encode("US-ASCII")},-1),s(Ne,"$uuid",function(){var te=this,pe=se;return pe=te.$hex(16).$split(""),pe["$[]="](12,"4"),pe["$[]="](16,(parseInt(pe["$[]"](16),16)&3|8).toString(16)),pe=[pe["$[]"](o(0,8,!0)),pe["$[]"](o(8,12,!0)),pe["$[]"](o(12,16,!0)),pe["$[]"](o(16,20,!0)),pe["$[]"](o(20,32,!0))],pe=d(pe,"map",[],"join".$to_proc()),pe.$join("-")}),s(Ne,"$random_float",function(){var te=this,pe=se,F=se;return pe=te.$bytes(4),F=0,d(4,"times",[],function(G){return G==null&&(G=se),F=F["$<<"](8),F=F["$|"](pe["$[]"](G).$ord())}),b(F.$abs(),2147483647)}),s(Ne,"$random_number",function(te){var pe=this;function F(){return pe.$random_float()}function ue(x){return Math.floor(F()*x)}function G(){var x=te.begin,Z=te.end;if(x===se||Z===se)return se;var X=Z-x;return X<0?se:X===0?x:(Z%1===0&&x%1===0&&!te.excl&&X++,ue(X)+x)}return te==null?F():te.$$is_range?G():te.$$is_number?(te<=0&&k.$raise(we("ArgumentError"),"invalid argument - "+te),te%1===0?ue(te):F()*te):(te=C["$coerce_to!"](te,we("Integer"),"to_int"),te<=0&&k.$raise(we("ArgumentError"),"invalid argument - "+te),ue(te))},-1),s(Ne,"$alphanumeric",function(te){var pe=this,F=se;return te==null&&(te=se),te=Te("Random").$_verify_count(te),F=d([o("0","9",!1),o("a","z",!1),o("A","Z",!1)],"map",[],"to_a".$to_proc()).$flatten(),d(we("Array"),"new",[te],function ue(G){var x=ue.$$s==null?this:ue.$$s;return F["$[]"](x.$random_number(F.$length()))},{$$s:pe}).$join()},-1)}(Ie,ee),Ie.$include(we(we("Random"),"Formatter")),Ie.$extend(we(we("Random"),"Formatter"))}("::",null,g)};Opal.modules["corelib/random/mersenne_twister"]=function(t){var e=t.klass,n=t.const_set,s=t.send,o=t.nil,d=t.$$$,b=o;return t.add_stubs("generator="),b=function(){var k=624,C=397,g=2567483615,se=2147483648,we=2147483647,he=function(Fe,Te){return Fe&se|Te&we},Ce=function(Fe,Te){return he(Fe,Te)>>>1^(Te&1?g:0)};function Be(Fe){var Te={left:0,next:k,state:new Array(k)};return Ie(Te,Fe),Te}function Ie(Fe,Te){var Me;for(Fe.state[0]=Te>>>0,Me=1;Me<k;Me++)Fe.state[Me]=1812433253*(Fe.state[Me-1]^Fe.state[Me-1]>>30>>>0)+Me,Fe.state[Me]&=4294967295;Fe.left=1,Fe.next=k}function ee(Fe){var Te=0,Me=Fe.state,te;for(Fe.left=k,Fe.next=0,te=k-C+1;--te;Te++)Me[Te]=Me[Te+C]^Ce(Me[Te+0],Me[Te+1]);for(te=C;--te;Te++)Me[Te]=Me[Te+(C-k)]^Ce(Me[Te+0],Me[Te+1]);Me[Te]=Me[Te+(C-k)]^Ce(Me[Te+0],Me[0])}function ke(Fe){var Te;return--Fe.left<=0&&ee(Fe),Te=Fe.state[Fe.next++],Te^=Te>>>11,Te^=Te<<7&2636928640,Te^=Te<<15&4022730752,Te^=Te>>>18,Te>>>0}function Oe(Fe,Te){return Fe>>>=5,Te>>>=6,(Fe*67108864+Te)*(1/9007199254740992)}function Ne(Fe){var Te=ke(Fe),Me=ke(Fe);return Oe(Te,Me)}return{genrand_real:Ne,init:Be}}(),function(k,C){var g=e(k,C,"Random"),se,we=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1;return n(g,"MERSENNE_TWISTER_GENERATOR",{new_seed:function(){return Math.round(Math.random()*we)},reseed:function(he){return b.init(he)},rand:function(he){return b.genrand_real(he)}}),se=[d(g,"MERSENNE_TWISTER_GENERATOR")],s(g,"generator=",se),se[se.length-1]}("::",null)};Opal.modules["corelib/random"]=function(t){var e=t.truthy,n=t.klass,s=t.Kernel,o=t.defs,d=t.Opal,b=t.def,k=t.eqeqeq,C=t.send,g=t.top,se=t.nil,we=t.$$$;return t.add_stubs("require,attr_reader,to_int,raise,new_seed,coerce_to!,reseed,rand,seed,bytes,===,==,state,_verify_count,encode,join,new,chr,random_number,random_float,const_defined?,const_set"),g.$require("corelib/random/formatter"),function(he,Ce){var Be=n(he,Ce,"Random");return Be.$attr_reader("seed","state"),o(Be,"$_verify_count",function(ee){return e(ee)||(ee=16),typeof ee!="number"&&(ee=ee.$to_int()),ee<0&&s.$raise(we("ArgumentError"),"negative string size (or size too big)"),ee=Math.floor(ee),ee}),b(Be,"$initialize",function(ee){var ke=this;return ee==null&&(ee=we("Random").$new_seed()),ee=d["$coerce_to!"](ee,we("Integer"),"to_int"),ke.state=ee,ke.$reseed(ee)},-1),b(Be,"$reseed",function(ee){var ke=this;return ke.seed=ee,ke.$rng=t.$$rand.reseed(ee)}),o(Be,"$new_seed",function(){return t.$$rand.new_seed()}),o(Be,"$rand",function(ee){var ke=this;return we(ke,"DEFAULT").$rand(ee)},-1),o(Be,"$srand",function(ee){var ke=this,Oe=se;return ee==null&&(ee=we("Random").$new_seed()),ee=d["$coerce_to!"](ee,we("Integer"),"to_int"),Oe=we(ke,"DEFAULT").$seed(),we(ke,"DEFAULT").$reseed(ee),Oe},-1),o(Be,"$urandom",function(ee){return we("SecureRandom").$bytes(ee)}),b(Be,"$==",function(ee){var ke=this,Oe=se;return k(we("Random"),ee)?e(Oe=ke.$seed()["$=="](ee.$seed()))?ke.$state()["$=="](ee.$state()):Oe:!1}),b(Be,"$bytes",function(ee){var ke=this;return ee=we("Random").$_verify_count(ee),C(we("Array"),"new",[ee],function Oe(){var Ne=Oe.$$s==null?this:Oe.$$s;return Ne.$rand(255).$chr()},{$$s:ke}).$join().$encode("ASCII-8BIT")}),o(Be,"$bytes",function(ee){var ke=this;return we(ke,"DEFAULT").$bytes(ee)}),b(Be,"$rand",function(ee){var ke=this;return ke.$random_number(ee)},-1),b(Be,"$random_float",function(){var ee=this;return ee.state++,t.$$rand.rand(ee.$rng)}),o(Be,"$random_float",function(){var ee=this;return we(ee,"DEFAULT").$random_float()}),o(Be,"$generator=",function(ee){var ke=this;return t.$$rand=ee,e(ke["$const_defined?"]("DEFAULT"))?we(ke,"DEFAULT").$reseed():ke.$const_set("DEFAULT",ke.$new(ke.$new_seed()))})}("::",null),g.$require("corelib/random/mersenne_twister")};Opal.modules["corelib/unsupported"]=function(t){var e=t.Kernel,n=t.klass,s=t.send,o=t.slice,d=t.module,b=t.def,k=t.return_val,C=t.alias,g=t.defs,se=t.top,we=[],he=t.nil,Ce=t.$$$;t.add_stubs("raise,warn,each,define_method,%,public,private_method_defined?,private_class_method,instance_method,instance_methods,method_defined?,private_methods");var Be={};function Ie(ke){switch(t.config.unsupported_features_severity){case"error":e.$raise(Ce("NotImplementedError"),ke);break;case"warning":ee(ke);break}}function ee(ke){Be[ke]||(Be[ke]=!0,se.$warn(ke))}return function(ke,Oe){var Ne=n(ke,Oe,"String"),Fe="String#%s not supported. Mutable String methods are not supported in Opal.";return s(["<<","capitalize!","chomp!","chop!","downcase!","gsub!","lstrip!","next!","reverse!","slice!","squeeze!","strip!","sub!","succ!","swapcase!","tr!","tr_s!","upcase!","prepend","[]=","clear","encode!","unicode_normalize!"],"each",[],function Te(Me){var te=Te.$$s==null?this:Te.$$s;return Me==null&&(Me=he),s(te,"define_method",[Me],function(F){return o(arguments),e.$raise(Ce("NotImplementedError"),Fe["$%"](Me))},-1)},{$$s:Ne})}("::",null),function(ke){var Oe=d(ke,"Kernel"),Ne="Object tainting is not supported by Opal";return b(Oe,"$taint",function(){var Te=this;return Ie(Ne),Te}),b(Oe,"$untaint",function(){var Te=this;return Ie(Ne),Te}),b(Oe,"$tainted?",function(){return Ie(Ne),!1})}("::"),function(ke,Oe){var Ne=n(ke,Oe,"Module");return b(Ne,"$public",function(Te){var Me,te,pe=this;return Me=o(arguments),te=Me,te.length===0?(pe.$$module_function=!1,he):te.length===1?te[0]:te},-1),b(Ne,"$private_class_method",function(Te){var Me,te;return Me=o(arguments),te=Me,te.length===1?te[0]:te},-1),b(Ne,"$private_method_defined?",k(!1)),b(Ne,"$private_constant",function(Te){return o(arguments),he},-1),C(Ne,"nesting","public"),C(Ne,"private","public"),C(Ne,"protected","public"),C(Ne,"protected_method_defined?","private_method_defined?"),C(Ne,"public_class_method","private_class_method"),C(Ne,"public_instance_method","instance_method"),C(Ne,"public_instance_methods","instance_methods"),C(Ne,"public_method_defined?","method_defined?")}("::",null),function(ke){var Oe=d(ke,"Kernel");return b(Oe,"$private_methods",function(Fe){return o(arguments),[]},-1),C(Oe,"protected_methods","private_methods"),C(Oe,"private_instance_methods","private_methods"),C(Oe,"protected_instance_methods","private_methods")}("::"),function(ke,Oe){var Ne=d(ke,"Kernel"),Fe=[Ne].concat(Oe),Te=t.$r(Fe);return b(Ne,"$eval",function(te){return o(arguments),e.$raise(Ce("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+Te("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},-1)}("::",we),g(se,"$public",function(Oe){var Ne,Fe;return Ne=o(arguments),Fe=Ne,Fe.length===1?Fe[0]:Fe},-1),g(se,"$private",function(Oe){var Ne,Fe;return Ne=o(arguments),Fe=Ne,Fe.length===1?Fe[0]:Fe},-1)};Opal.queue(function(t){var e=t.Object;return t.nil,t.add_stubs("require,autoload"),e.$require("opal/base"),e.$require("opal/mini"),e.$require("corelib/kernel/format"),e.$require("corelib/string/encoding"),e.$autoload("Math","corelib/math"),e.$require("corelib/complex/base"),e.$autoload("Complex","corelib/complex"),e.$require("corelib/rational/base"),e.$autoload("Rational","corelib/rational"),e.$require("corelib/time"),e.$autoload("Struct","corelib/struct"),e.$autoload("Set","corelib/set"),e.$autoload("Dir","corelib/dir"),e.$autoload("File","corelib/file"),e.$require("corelib/process/base"),e.$autoload("Process","corelib/process"),e.$autoload("Random","corelib/random"),e.$require("corelib/unsupported")});function hE(t){Opal.modules["asciidoctor/js/opal_ext/browser/file"]=function(l){var ce=l.klass,oe=l.defs,Q=[];return l.nil,l.add_stubs("new"),function(me,w,W){var Xe=ce(me,w,"File"),O=[Xe].concat(W),ze=l.$r(O);return oe(Xe,"$read",function(at){var Re="",Je=-1;try{var Le=new XMLHttpRequest;Le.open("GET",at,!1),Le.addEventListener("load",function(){Je=this.status,(Je===0||Je===200)&&(Re=this.responseText)}),Le.overrideMimeType("text/plain"),Le.send()}catch(He){throw ze("IOError").$new("Error reading file or directory: "+at+"; reason: "+He.message)}if(Je===404||Je===0&&!Re)throw ze("IOError").$new("No such file or directory: "+at);return Re})}(Q[0],null,Q)},Opal.modules["asciidoctor/js/opal_ext/browser"]=function(l){var ce=l.const_set,oe=l.top,Q=[];l.nil,l.add_stubs("require");var me,w,W,Xe;if(typeof t=="object"&&typeof t.runtime=="object"){var O=t.runtime;me=O.platform,w=O.engine,W=O.framework,Xe=O.ioModule}return Xe=Xe||"xmlhttprequest",me=me||"browser",w=w||"",W=W||"",ce(Q[0],"JAVASCRIPT_IO_MODULE",Xe),ce(Q[0],"JAVASCRIPT_PLATFORM",me),ce(Q[0],"JAVASCRIPT_ENGINE",w),ce(Q[0],"JAVASCRIPT_FRAMEWORK",W),oe.$require("asciidoctor/js/opal_ext/browser/file")},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/abstract_node"]=function(l){var ce=l.module,oe=l.klass,Q=l.hash2,me=l.truthy,w=l.def,W=[],Xe=l.nil,O=l.$$$;return l.add_stubs("web_path,path_resolver,uriish?,[],attr?,start_with?,descends_from?,base_dir,join,prepare_source_string,read,fetch,warn,logger,normalize_system_path,read_asset"),function(ze,N){var at=ce(ze,"Asciidoctor"),Re=[at].concat(N);return function(Je,Le,He){var gt=oe(Je,Le,"AbstractNode"),We=[gt].concat(He),ft=l.$r(We),Ze=gt.$$prototype;return Ze.document=Xe,w(gt,"$read_contents",function(pt,M){var ot=this,I=Xe,lt=Xe,ht=Xe;if(M==null&&(M=Q([],{})),I=ot.document,me(ft("Helpers")["$uriish?"](pt))||me(lt=M["$[]"]("start"))&&me(ft("Helpers")["$uriish?"](lt))&&me(pt=I.$path_resolver().$web_path(pt,lt)))if(me(I.$path_resolver()["$descends_from?"](pt,I.$base_dir()))||me(pt["$start_with?"]("chrome://"))||me(I["$attr?"]("allow-uri-read")))try{return me(M["$[]"]("normalize"))?ft("Helpers").$prepare_source_string(O("File").$read(pt)).$join(ft("LF")):O("File").$read(pt)}catch(J){if(l.rescue(J,[ft("StandardError")]))try{return me(M.$fetch("warn_on_failure",!0))&&ot.$logger().$warn("could not retrieve contents of "+(me(ht=M["$[]"]("label"))?ht:"asset")+" at URI: "+pt),Xe}finally{l.pop_exception()}else throw J}else return me(M.$fetch("warn_on_failure",!0))&&ot.$logger().$warn("cannot retrieve contents of "+(me(ht=M["$[]"]("label"))?ht:"asset")+" at URI: "+pt+" (allow-uri-read attribute not enabled)"),Xe;else return pt=ot.$normalize_system_path(pt,M["$[]"]("start"),Xe,Q(["target_name"],{target_name:me(ht=M["$[]"]("label"))?ht:"asset"})),ot.$read_asset(pt,Q(["normalize","warn_on_failure","label"],{normalize:M["$[]"]("normalize"),warn_on_failure:M.$fetch("warn_on_failure",!0),label:M["$[]"]("label")}))},-2),w(gt,"$generate_data_uri_from_uri",function(pt,M){var ot=this,I="",lt="",ht=-1;try{var J=new XMLHttpRequest;J.open("GET",pt,!1),J.overrideMimeType("text/plain; charset=x-user-defined"),J.addEventListener("load",function(){if(ht=this.status,ht===0||ht===200){for(var B="",Qe=this.responseText,Ae=0,qe=Qe.length;Ae<qe;++Ae){var Se=Qe.charCodeAt(Ae),$e=Se&255;B+=String.fromCharCode($e)}lt=btoa(B),I=this.getResponseHeader("content-type")}}),J.send(null),I||(pt.endsWith(".jpeg")||pt.endsWith(".jpg")||pt.endsWith(".jpe")?I="image/jpg":pt.endsWith(".png")?I="image/png":pt.endsWith(".svg")?I="image/svg+xml":pt.endsWith(".bmp")?I="image/bmp":(pt.endsWith(".tif")||pt.endsWith(".tiff"))&&(I="image/tiff"))}catch{ht=0}return ht===404||ht===0&&(!lt||!I)?(ot.$logger().$warn("could not retrieve image data from URI: "+pt),pt):"data:"+I+";base64,"+lt},-2)}(Re[0],null,Re)}(W[0],W)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/open_uri"]=function(l){var ce=l.module,oe=l.slice,Q=l.send,me=l.to_a,w=l.defs,W=[],Xe=l.nil;return l.add_stubs("new,path"),function(O,ze){var N=ce(O,"OpenURI"),at=[N].concat(ze),Re=l.$r(at);return w(Re("OpenURI"),"$open_uri",function Je(Le,He){var gt,We,ft=Je.$$p||Xe,Ze=this,it=Xe;return Je.$$p=null,gt=oe(arguments,1),We=gt,it=Q(Re("File"),"new",[Ze.$path()].concat(me(We))),ft!==Xe?l.yield1(ft,it):it},-2)}(W[0],W)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/path_resolver"]=function(l){var ce=l.module,oe=l.klass,Q=l.truthy,me=l.def,w=[],W=l.nil;return l.add_stubs("absolute_path?,start_with?"),function(Xe,O){var ze=ce(Xe,"Asciidoctor"),N=[ze].concat(O);return function(at,Re){var Je=oe(at,Re,"PathResolver");return me(Je,"$root?",function(He){var gt=this,We=W;return Q(We=gt["$absolute_path?"](He))?We:He["$start_with?"]("file://","http://","https://","chrome://")})}(N[0],null)}(w[0],w)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/reader"]=function(l){var ce=l.module,oe=l.klass,Q=l.truthy,me=l.eqeq,w=l.not,W=l.def,Xe=[],O=l.nil;return l.add_stubs("posixify,new,base_dir,start_with?,uriish?,key?,attributes,descends_from?,replace_next_line,absolute_path?,==,empty?,!,slice,length"),function(ze,N){var at=ce(ze,"Asciidoctor"),Re=[at].concat(N),Je=l.$r(Re);return function(Le,He,gt){var We=oe(Le,He,"PreprocessorReader"),ft=[We].concat(gt),Ze=l.$r(ft),it=We.$$prototype;return it.path_resolver=it.document=it.include_stack=it.dir=O,W(We,"$resolve_include_path",function(M,ot,I){var lt,ht=this,J=O,B=O,Qe=O,Ae=O,qe=O,Se=O,$e=O,ye=O;if(J=(ht.path_resolver=Q(B=ht.path_resolver)?B:Ze("PathResolver").$new("\\")).$posixify(M),lt=["file",ht.document.$base_dir()],lt[0],Qe=lt[1],Q(J["$start_with?"]("file://")))Ae=qe=J;else if(Q(Ze("Helpers")["$uriish?"](J))){if(!(Q(ht.path_resolver["$descends_from?"](J,Qe))||Q(ht.document.$attributes()["$key?"]("allow-uri-read"))))return ht.$replace_next_line("link:"+M+"["+ot+"]");Ae=qe=J}else if(Q(ht.path_resolver["$absolute_path?"](J)))Ae=qe="file://"+(Q(J["$start_with?"]("/"))?"":"/")+J;else if(me(Se=Q($e=ht.include_stack["$empty?"]())?Qe:ht.dir,"."))Ae=qe=J;else if(Q(Se["$start_with?"]("file://"))||w(Ze("Helpers")["$uriish?"](Se)))Ae=""+Se+"/"+J,Q($e)?qe=J:me(Qe,".")||w(ye=ht.path_resolver["$descends_from?"](Ae,Qe))?qe=Ae:qe=Ae.$slice(ye,Ae.$length());else if(Q($e))Ae=""+Se+"/"+(qe=J);else if(Q(ye=ht.path_resolver["$descends_from?"](Se,Qe))||Q(ht.document.$attributes()["$key?"]("allow-uri-read")))Ae=""+Se+"/"+J,qe=Q(ye)?Ae.$slice(ye,Ae.$length()):J;else return ht.$replace_next_line("link:"+M+"["+ot+"]");return[Ae,"file",qe]})}(Re[0],Je("Reader"),Re)}(Xe[0],Xe)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser"]=function(l){var ce=l.eqeq,oe=l.top,Q=[],me=l.$r(Q),w=l.nil;return l.add_stubs("==,require"),ce(me("JAVASCRIPT_IO_MODULE"),"xmlhttprequest")?(oe.$require("asciidoctor/js/asciidoctor_ext/browser/abstract_node"),oe.$require("asciidoctor/js/asciidoctor_ext/browser/open_uri"),oe.$require("asciidoctor/js/asciidoctor_ext/browser/path_resolver"),oe.$require("asciidoctor/js/asciidoctor_ext/browser/reader")):w},Opal.modules.set=Opal.return_val(Opal.nil),Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(l){var ce=l.module,oe=l.slice,Q=l.send,me=l.to_a,w=l.def,W=l.return_val,Xe=[],O=l.nil;return l.add_stubs("new"),function(ze,N){var at=ce(ze,"Kernel"),Re=[at].concat(N),Je=l.$r(Re);return w(at,"$open",function Le(He,gt){var We,ft,Ze=Le.$$p||O,it=O;return Le.$$p=null,We=oe(arguments,1),ft=We,it=Q(Je("File"),"new",[He].concat(me(ft))),Ze!==O?l.yield1(Ze,it):it},-2),w(at,"$__dir__",W(""))}(Xe[0],Xe)},Opal.modules["asciidoctor/js/opal_ext/file"]=function(l){var ce=l.klass,oe=l.def,Q=l.truthy,me=l.gvars,w=l.return_val,W=l.defs,Xe=[],O=l.nil;return l.add_stubs("attr_reader,delete,gsub,read,size,to_enum,chomp,each_line,readlines,split"),function(ze,N,at){var Re=ce(ze,N,"File"),Je=[Re].concat(at),Le=l.$r(Je),He=Re.$$prototype;return He.eof=He.path=O,Re.$attr_reader("eof"),Re.$attr_reader("lineno"),Re.$attr_reader("path"),oe(Re,"$initialize",function(We,ft){var Ze=this,it=O;return ft==null&&(ft="r"),Ze.path=We,Ze.contents=O,Ze.eof=!1,Ze.lineno=0,ft=ft.$delete("b"),it=/:(.*)/,ft=ft.$gsub(it,""),Ze.flags=ft},-2),oe(Re,"$read",function(){var We=this,ft=O;return Q(We.eof)?"":(ft=Le("File").$read(We.path),We.eof=!0,We.lineno=ft.$size(),ft)}),oe(Re,"$each_line",function gt(We){var ft=gt.$$p||O,Ze=this,it=O;if(me["/"]==null&&(me["/"]=O),gt.$$p=null,We==null&&(We=me["/"]),Q(Ze.eof))return ft!==O?Ze:[].$to_enum();if(ft!==O){it=Le("File").$read(Ze.path),Ze.eof=!1,Ze.lineno=0;for(var pt=it.$chomp(),M=it.length!=pt.length,ot=pt.split(We),I=0,lt=ot.length;I<lt;I++)Ze.lineno+=1,I<lt-1||M?l.yield1(ft,ot[I]+We):l.yield1(ft,ot[I]);return Ze.eof=!0,Ze}else return Ze.$read().$each_line()},-1),oe(Re,"$readlines",function(){var We=this;return Le("File").$readlines(We.path)}),function(gt,We){var ft=[gt].concat(We),Ze=l.$r(ft);return oe(gt,"$readlines",function(pt,M){var ot=O;return me["/"]==null&&(me["/"]=O),M==null&&(M=me["/"]),ot=Ze("File").$read(pt),ot.$split(M)},-2),oe(gt,"$file?",w(!0)),oe(gt,"$readable?",w(!0)),oe(gt,"$read",w(""))}(l.get_singleton_class(Re),Je)}(Xe[0],null,Xe),function(ze,N,at){var Re=ce(ze,N,"IO"),Je=[Re].concat(at),Le=l.$r(Je);return W(Re,"$read",function(gt){return Le("File").$read(gt)})}(Xe[0],null,Xe)},Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(l){var ce=l.klass,oe=l.send,Q=l.def,me=[],w=l.nil;return l.add_stubs("[]="),function(W,Xe){var O=ce(W,Xe,"MatchData"),ze=O.$$prototype;return ze.matches=w,Q(O,"$[]=",function(at,Re){var Je,Le=this;return Je=[at,Re],oe(Le.matches,"[]=",Je),Je[Je.length-1]})}(me[0],null)},Opal.modules["asciidoctor/js/opal_ext/string"]=function(l){var ce=l.klass,oe=l.truthy,Q=l.rb_lt,me=l.def,w=l.alias,W=l.rb_ge,Xe=l.eqeq,O=l.rb_minus,ze=[],N=l.nil;return l.add_stubs("method_defined?,<,length,bytes,to_s,byteslice,limit_bytesize,>=,==,-,_original_byteslice,unpack,_original_unpack"),function(at,Re){var Je=ce(at,Re,"String");return oe(Je["$method_defined?"]("limit_bytesize"))||me(Je,"$limit_bytesize",function(He){var gt=this,We=N;return oe(Q(He,gt.$bytes().$length()))?(We=gt.$byteslice(0,He),We.$to_s()):gt.$to_s()}),oe(Je["$method_defined?"]("limit"))||w(Je,"limit","limit_bytesize"),w(Je,"_original_byteslice","byteslice"),me(Je,"$byteslice",function(He,gt){var We=this;return gt==null&&(gt=1),Xe(He,3)&&oe(W(gt,He))&&oe(We.charCodeAt()===65279)?We.substr(1).$byteslice(0,O(gt,3)):We.$_original_byteslice(He,gt)},-2),w(Je,"_original_unpack","unpack"),me(Je,"$unpack",function(He){var gt=this;if(Xe(He,"C3")){if(oe(gt.charCodeAt()===65279))return[239,187,191];for(var We=[],ft=0;ft<3;ft++)ft<gt.length?We.push(gt.charCodeAt(ft)):We.push(N);return We}else return gt.$_original_unpack(He)})}(ze[0],null)},Opal.modules["asciidoctor/js/opal_ext/uri"]=function(l){var ce=l.module,oe=l.defs,Q=l.return_self,me=l.def,w=[];return l.nil,l.add_stubs("extend"),function(W,Xe){var O=ce(W,"URI"),ze=[O].concat(Xe),N=l.$r(ze);return oe(O,"$parse",function(Re){return Re.$extend(N("URI"))}),me(O,"$path",Q)}(w[0],w)},Opal.modules["asciidoctor/js/opal_ext/base64"]=function(l){var ce=l.module,oe=l.defs,Q=l.ensure_kwargs,me=l.truthy,w=[],W=l.nil;return l.add_stubs("delete"),function(Xe){var O=ce(Xe,"Base64"),ze,N;return ze=l.global.btoa||function(at){var Re;return at instanceof Buffer?Re=at:Re=Buffer.from(at.toString(),"binary"),Re.toString("base64")},N=l.global.atob||function(at){return Buffer.from(at,"base64").toString("binary")},oe(O,"$decode64",function(Re){return N(Re.replace(/\r?\n/g,""))}),oe(O,"$encode64",function(Re){return ze(Re).replace(/(.{60})/g,`$1
`).replace(/([^\n])$/g,`$1
`)}),oe(O,"$strict_decode64",function(Re){return N(Re)}),oe(O,"$strict_encode64",function(Re){return ze(Re)}),oe(O,"$urlsafe_decode64",function(Re){return N(Re.replace(/\-/g,"+").replace(/_/g,"/"))}),oe(O,"$urlsafe_encode64",function(Re,Je){var Le,He=W;return Je=Q(Je),Le=Je.$$smap.padding,Le==null&&(Le=!0),He=ze(Re).replace(/\+/g,"-").replace(/\//g,"_"),me(Le)||(He=He.$delete("=")),He},-2)}(w[0])},Opal.modules["asciidoctor/js/opal_ext/number"]=function(l){var ce=l.klass,oe=l.truthy,Q=l.rb_gt,me=l.def,w=[],W=l.$r(w);return l.nil,l.add_stubs("coerce_to!,>"),function(Xe,O,ze){var N=ce(Xe,O,"Number"),at=[N].concat(ze),Re=l.$r(at);return me(N,"$round",function(Le){var He=this;return Le=Re("Opal")["$coerce_to!"](Le,Re("Integer"),"to_int"),oe(Q(Le,0))?Number(He.toFixed(Le)):Math.round(He)},-1)}(w[0],W("Numeric"),w)},Opal.modules["asciidoctor/js/opal_ext"]=function(l){var ce=l.top;l.nil,l.add_stubs("require"),ce.$require("asciidoctor/js/opal_ext/kernel"),ce.$require("asciidoctor/js/opal_ext/file"),ce.$require("asciidoctor/js/opal_ext/match_data"),ce.$require("asciidoctor/js/opal_ext/string"),ce.$require("asciidoctor/js/opal_ext/uri"),ce.$require("asciidoctor/js/opal_ext/base64"),ce.$require("asciidoctor/js/opal_ext/number"),l.config.unsupported_features_severity="ignore",ce.$require("asciidoctor/js/opal_ext/browser")},Opal.modules["asciidoctor/js/rx"]=function(l){var ce=l.module,oe=l.const_set,Q=l.send,me=l.gvars,w=l.truthy,W=l.defs,Xe=l.rb_plus,O=[],ze=l.nil;return l.add_stubs("gsub,+,unpack_hex_range"),function(N,at){var Re=ce(N,"Asciidoctor"),Je=[Re].concat(at),Le=l.$r(Je);return oe(Je[0],"HEX_RANGE_RX",/([A-F0-9]{4})(?:-([A-F0-9]{4}))?/),W(Re,"$unpack_hex_range",function(gt){return Q(gt,"gsub",[Le("HEX_RANGE_RX")],function(){var ft,Ze=ze;return"\\u"+((ft=me["~"])===ze?ze:ft["$[]"](1))+(w(Ze=(ft=me["~"])===ze?ze:ft["$[]"](2))?"-\\u"+((ft=me["~"])===ze?ze:ft["$[]"](2)):Ze)})}),oe(Je[0],"P_L",Xe("A-Za-z",Re.$unpack_hex_range("00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D037F03860388-038A038C038E-03A103A3-03F503F7-0481048A-052F0531-055605590561-058705D0-05EA05F0-05F20620-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280840-085808A0-08B20904-0939093D09500958-09610971-09800985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA16F1-16F81700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191E1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA67F-A69DA6A0-A6E5A717-A71FA722-A788A78B-A78EA790-A7ADA7B0A7B1A7F7-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFA9E0-A9E4A9E6-A9EFA9FA-A9FEAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA7E-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDAAE0-AAEAAAF2-AAF4AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EAB30-AB5AAB5C-AB5FAB64AB65ABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC"))),oe(Je[0],"P_Nl",Re.$unpack_hex_range("16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF")),oe(Je[0],"P_Nd",Xe("0-9",Re.$unpack_hex_range("0660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0DE6-0DEF0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19D91A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9A9F0-A9F9AA50-AA59ABF0-ABF9FF10-FF19"))),oe(Je[0],"P_Pc",Re.$unpack_hex_range("005F203F20402054FE33FE34FE4D-FE4FFF3F")),oe(Je[0],"CC_ALPHA",""+Le("P_L")+Le("P_Nl")),oe(Je[0],"CG_ALPHA","["+Le("CC_ALPHA")+"]"),oe(Je[0],"CC_ALNUM",""+Le("CC_ALPHA")+Le("P_Nd")),oe(Je[0],"CG_ALNUM","["+Le("CC_ALNUM")+"]"),oe(Je[0],"CC_WORD",""+Le("CC_ALNUM")+Le("P_Pc")),oe(Je[0],"CG_WORD","["+Le("CC_WORD")+"]"),oe(Je[0],"CG_BLANK","[ \\t]"),oe(Je[0],"CC_EOL","(?=\\n|$)"),oe(Je[0],"CG_GRAPH","[^\\s\\x00-\\x1F\\x7F]"),oe(Je[0],"CC_ALL","[\\s\\S]"),oe(Je[0],"CC_ANY","[^\\n]")}(O[0],O)},Opal.modules.strscan=function(l){var ce=l.klass,oe=l.def,Q=l.truthy,me=l.eqeqeq,w=l.Opal,W=l.return_ivar,Xe=l.send,O=l.alias,ze=[],N=l.nil;return l.add_stubs("attr_reader,anchor,empty?,===,to_s,coerce_to!,scan_until,length,size,rest,pos=,beginning_of_line?,get_byte,private"),function(at,Re,Je){var Le=ce(at,Re,"StringScanner"),He=[Le].concat(Je),gt=l.$r(He),We=Le.$$prototype;return We.pos=We.string=We.working=We.matched=We.prev_pos=We.match=N,Le.$attr_reader("pos","matched"),oe(Le,"$initialize",function(Ze){var it=this;return it.string=Ze,it.pos=0,it.matched=N,it.working=Ze,it.match=[]}),Le.$attr_reader("string"),oe(Le,"$beginning_of_line?",function(){var Ze=this;return Ze.pos===0||Ze.string.charAt(Ze.pos-1)===`
`}),oe(Le,"$scan",function(Ze){var it=this;Ze=it.$anchor(Ze);var pt=Ze.exec(it.working);return pt==null?it.matched=N:(it.prev_pos=it.pos,it.pos+=pt[0].length,it.working=it.working.substring(pt[0].length),it.matched=pt[0],it.match=pt,pt[0])}),oe(Le,"$scan_until",function(Ze){var it=this;Ze=it.$anchor(Ze);for(var pt=it.working,M=0;pt.length!=M;++M){var ot=Ze.exec(pt.substr(M));if(ot!==null){var I=M+ot[0].length,lt=pt.substr(0,I);return it.matched=ot[0],it.match=ot,it.prev_pos=it.pos+M,it.pos+=I,it.working=pt.substr(I),lt}}return it.matched=N}),oe(Le,"$[]",function(Ze){var it=this,pt=N;if(Q(it.match["$empty?"]()))return N;me(gt("Symbol"),pt=Ze)?Ze=Ze.$to_s():me(gt("String"),pt)||(Ze=w["$coerce_to!"](Ze,gt("Integer"),"to_int"));var M=it.match;return Ze<0&&(Ze+=M.length),Ze<0||Ze>=M.length||M[Ze]==null?N:M[Ze]}),oe(Le,"$check",function(Ze){var it=this;Ze=it.$anchor(Ze);var pt=Ze.exec(it.working);return pt==null?it.matched=N:it.matched=pt[0]}),oe(Le,"$check_until",function(Ze){var it=this,pt=it.prev_pos,M=it.pos,ot=it.working,I=it.$scan_until(Ze);return it.prev_pos=pt,it.pos=M,it.working=ot,I}),oe(Le,"$peek",function(Ze){var it=this;return it.working.substring(0,Ze)}),oe(Le,"$eos?",function(){var Ze=this;return Ze.working.length===0}),oe(Le,"$exist?",function(Ze){var it=this,pt=Ze.exec(it.working);return pt==null?N:pt.index==0?0:pt.index+1}),oe(Le,"$skip",function(Ze){var it=this;Ze=it.$anchor(Ze);var pt=Ze.exec(it.working);if(pt==null)return it.match=[],it.matched=N;var M=pt[0],ot=M.length;return it.matched=M,it.match=pt,it.prev_pos=it.pos,it.pos+=ot,it.working=it.working.substring(ot),ot}),oe(Le,"$skip_until",function(Ze){var it=this,pt=it.$scan_until(Ze);return pt===N?N:(it.matched=pt.substr(-1),pt.length)}),oe(Le,"$get_byte",function(){var Ze=this,it=N;return Ze.pos<Ze.string.length?(Ze.prev_pos=Ze.pos,Ze.pos+=1,it=Ze.matched=Ze.working.substring(0,1),Ze.working=Ze.working.substring(1)):Ze.matched=N,it}),oe(Le,"$match?",function(Ze){var it=this;Ze=it.$anchor(Ze);var pt=Ze.exec(it.working);return pt==null?N:(it.prev_pos=it.pos,pt[0].length)}),oe(Le,"$pos=",function(Ze){var it=this;return Ze<0&&(Ze+=it.string.$length()),it.pos=Ze,it.working=it.string.slice(Ze)}),oe(Le,"$matched_size",function(){var Ze=this;return Ze.matched===N?N:Ze.matched.length}),oe(Le,"$post_match",function(){var Ze=this;return Ze.matched===N?N:Ze.string.substr(Ze.pos)}),oe(Le,"$pre_match",function(){var Ze=this;return Ze.matched===N?N:Ze.string.substr(0,Ze.prev_pos)}),oe(Le,"$reset",function(){var Ze=this;return Ze.working=Ze.string,Ze.matched=N,Ze.pos=0}),oe(Le,"$rest",W("working")),oe(Le,"$rest?",function(){var Ze=this;return Ze.working.length!==0}),oe(Le,"$rest_size",function(){var Ze=this;return Ze.$rest().$size()}),oe(Le,"$terminate",function(){var Ze,it=this;return it.match=N,Ze=[it.string.$length()],Xe(it,"pos=",Ze),Ze[Ze.length-1]}),oe(Le,"$unscan",function(){var Ze=this;return Ze.pos=Ze.prev_pos,Ze.prev_pos=N,Ze.match=N,Ze}),O(Le,"bol?","beginning_of_line?"),O(Le,"getch","get_byte"),Le.$private(),oe(Le,"$anchor",function(Ze){var it=Ze.toString().match(/\/([^\/]+)$/);return it=it?it[1]:void 0,new RegExp("^(?:"+Ze.source+")",it)})}(ze[0],null,ze)},Opal.modules["asciidoctor/js"]=function(l){var ce=l.top;return l.nil,l.add_stubs("require"),ce.$require("asciidoctor/js/opal_ext"),ce.$require("asciidoctor/js/rx"),ce.$require("strscan")},Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function(l){var ce=l.klass,oe=l.truthy,Q=l.alias,me=[],w=l.nil;return l.add_stubs("method_defined?,nil?,empty?"),function(W,Xe){var O=ce(W,Xe,"NilClass");return oe(O["$method_defined?"]("nil_or_empty?"))?w:Q(O,"nil_or_empty?","nil?")}(me[0],null),function(W,Xe){var O=ce(W,Xe,"String");return oe(O["$method_defined?"]("nil_or_empty?"))?w:Q(O,"nil_or_empty?","empty?")}(me[0],null),function(W,Xe){var O=ce(W,Xe,"Array");return oe(O["$method_defined?"]("nil_or_empty?"))?w:Q(O,"nil_or_empty?","empty?")}(me[0],null),function(W,Xe){var O=ce(W,Xe,"Hash");return oe(O["$method_defined?"]("nil_or_empty?"))?w:Q(O,"nil_or_empty?","empty?")}(me[0],null),function(W,Xe){var O=ce(W,Xe,"Numeric");return oe(O["$method_defined?"]("nil_or_empty?"))?w:Q(O,"nil_or_empty?","nil?")}(me[0],null)},Opal.modules["asciidoctor/core_ext/hash/merge"]=function(l){var ce=l.eqeq,oe=l.send,Q=l.slice,me=l.truthy,w=l.rb_lt,W=l.rb_gt,Xe=l.send2,O=l.find_super,ze=l.def,N=l.top,at=[],Re=l.$r(at),Je=l.nil;return l.add_stubs("==,arity,instance_method,send,new,<,length,dup,>,inject,merge,[]"),ce(Re("Hash").$instance_method("merge").$arity(),1)?Re("Hash").$send("prepend",oe(Re("Module"),"new",[],function Le(){var He=Le.$$s==null?this:Le.$$s;return ze(He,"$merge",function gt(We){var ft,Ze;gt.$$p;var it=this,pt=Je;return gt.$$p=null,ft=Q(arguments),Ze=ft,me(w(pt=Ze.$length(),1))?it.$dup():me(W(pt,1))?oe(Ze,"inject",[it],function(ot,I){return ot==null&&(ot=Je),I==null&&(I=Je),ot.$merge(I)}):Xe(it,O(it,"merge",gt,!1,!0),"merge",[Ze["$[]"](0)],null)},-1)},{$$s:N})):Je},Opal.modules["asciidoctor/core_ext/match_data/names"]=function(l){var ce=l.truthy,oe=l.klass,Q=l.def,me=[],w=l.$r(me),W=l.nil;return l.add_stubs("method_defined?"),ce(w("MatchData")["$method_defined?"]("names"))?W:function(Xe,O){var ze=oe(Xe,O,"MatchData");return Q(ze,"$names",function(){return[]})}(me[0],null)},Opal.modules["asciidoctor/core_ext"]=function(l){var ce=l.top;return l.nil,ce.$require("asciidoctor/core_ext.rb/../core_ext/nil_or_empty"),ce.$require("asciidoctor/core_ext.rb/../core_ext/hash/merge"),ce.$require("asciidoctor/core_ext.rb/../core_ext/match_data/names")},Opal.modules["asciidoctor/helpers"]=function(l){var ce=l.module,oe=l.truthy,Q=l.eqeq,me=l.gvars,w=l.def,W=l.send,Xe=l.neqeq,O=l.const_set,ze=l.hash2,N=l.to_ary,at=l.rb_times,Re=l.eqeqeq,Je=l.rb_plus,Le=l.Class,He=l.Object,gt=[],We=l.nil,ft=l.$$$;return l.add_stubs("module_function,require,include?,include,==,path,message,raise,warn,logger,chomp,empty?,slice,unpack,[],[]=,byteslice,bytesize,map,rstrip,encode,encoding,nil_or_empty?,!=,tap,each_line,<<,!,start_with?,match?,gsub,rindex,index,basename,extname,length,directory?,dirname,mkdir_p,mkdir,private_constant,join,divmod,*,===,+,to_s,to_i,succ,class_for_name,const_get"),function(Ze,it){var pt=ce(Ze,"Asciidoctor"),M=[pt].concat(it);return function(ot,I){var lt=ce(ot,"Helpers"),ht=[lt].concat(I),J=l.$r(ht);return lt.$module_function(),w(lt,"$require_library",function(Qe,Ae,qe){var Se=this,$e=We;me["!"]==null&&(me["!"]=We),Ae==null&&(Ae=!0),qe==null&&(qe="abort");try{return Se.$require(Qe)}catch(ye){if(l.rescue(ye,[ft("LoadError")]))try{if(oe(Se["$include?"](J("Logging")))||Se.$include(J("Logging")),oe(Ae))switch(Q(Ae,!0)&&(Ae=Qe),qe){case"abort":$e=Q(me["!"].$path(),Ae)?"":" (reason: "+(oe(me["!"].$path())?"cannot load '"+me["!"].$path()+"'":me["!"].$message())+")",Se.$raise(ft("LoadError"),"asciidoctor: FAILED: required gem '"+Ae+"' is not available"+$e+". Processing aborted.");break;case"warn":$e=Q(me["!"].$path(),Ae)?"":" (reason: "+(oe(me["!"].$path())?"cannot load '"+me["!"].$path()+"'":me["!"].$message())+")",Se.$logger().$warn("optional gem '"+Ae+"' is not available"+$e+". Functionality disabled.");break;default:}else switch(qe){case"abort":Se.$raise(ft("LoadError"),"asciidoctor: FAILED: "+me["!"].$message().$chomp(".")+". Processing aborted.");break;case"warn":Se.$logger().$warn(""+me["!"].$message().$chomp(".")+". Functionality disabled.");break;default:}return We}finally{l.pop_exception()}else throw ye}},-2),w(lt,"$prepare_source_array",function(Qe,Ae){var qe=We,Se=We,$e=We;return Ae==null&&(Ae=!0),oe(Qe["$empty?"]())?[]:Q(qe=(Se=($e=Qe["$[]"](0)).$unpack("C3")).$slice(0,2),J("BOM_BYTES_UTF_16LE"))?(Qe["$[]="](0,$e.$byteslice(2,$e.$bytesize())),oe(Ae)?W(Qe,"map",[],function(ne){return ne==null&&(ne=We),ne.$encode(J("UTF_8"),ft(ft("Encoding"),"UTF_16LE")).$rstrip()}):W(Qe,"map",[],function(ne){return ne==null&&(ne=We),ne.$encode(J("UTF_8"),ft(ft("Encoding"),"UTF_16LE")).$chomp()})):Q(qe,J("BOM_BYTES_UTF_16BE"))?(Qe["$[]="](0,$e.$byteslice(2,$e.$bytesize())),oe(Ae)?W(Qe,"map",[],function(ne){return ne==null&&(ne=We),ne.$encode(J("UTF_8"),ft(ft("Encoding"),"UTF_16BE")).$rstrip()}):W(Qe,"map",[],function(ne){return ne==null&&(ne=We),ne.$encode(J("UTF_8"),ft(ft("Encoding"),"UTF_16BE")).$chomp()})):(Q(Se,J("BOM_BYTES_UTF_8"))&&Qe["$[]="](0,$e.$byteslice(3,$e.$bytesize())),Q($e.$encoding(),J("UTF_8"))?oe(Ae)?W(Qe,"map",[],function(ne){return ne==null&&(ne=We),ne.$rstrip()}):W(Qe,"map",[],function(ne){return ne==null&&(ne=We),ne.$chomp()}):oe(Ae)?W(Qe,"map",[],function(ne){return ne==null&&(ne=We),ne.$encode(J("UTF_8")).$rstrip()}):W(Qe,"map",[],function(ne){return ne==null&&(ne=We),ne.$encode(J("UTF_8")).$chomp()}))},-2),w(lt,"$prepare_source_string",function(Qe,Ae){var qe=We,Se=We;return Ae==null&&(Ae=!0),oe(Qe["$nil_or_empty?"]())?[]:(Q(qe=(Se=Qe.$unpack("C3")).$slice(0,2),J("BOM_BYTES_UTF_16LE"))?Qe=Qe.$byteslice(2,Qe.$bytesize()).$encode(J("UTF_8"),ft(ft("Encoding"),"UTF_16LE")):Q(qe,J("BOM_BYTES_UTF_16BE"))?Qe=Qe.$byteslice(2,Qe.$bytesize()).$encode(J("UTF_8"),ft(ft("Encoding"),"UTF_16BE")):Q(Se,J("BOM_BYTES_UTF_8"))?(Qe=Qe.$byteslice(3,Qe.$bytesize()),Q(Qe.$encoding(),J("UTF_8"))||(Qe=Qe.$encode(J("UTF_8")))):Xe(Qe.$encoding(),J("UTF_8"))&&(Qe=Qe.$encode(J("UTF_8"))),oe(Ae)?W([],"tap",[],function(ye){return ye==null&&(ye=We),W(Qe,"each_line",[],function(U){return U==null&&(U=We),ye["$<<"](U.$rstrip())})}):W([],"tap",[],function(ye){return ye==null&&(ye=We),W(Qe,"each_line",[],function(U){return U==null&&(U=We),ye["$<<"](U.$chomp())})}))},-2),Q(ft("RUBY_ENGINE"),"jruby")?w(lt,"$uriish?",function(Qe){var Ae=We,qe=We;return oe(Ae=oe(qe=Qe["$include?"](":"))?Qe["$start_with?"]("uri:classloader:")["$!"]():qe)?J("UriSniffRx")["$match?"](Qe):Ae}):w(lt,"$uriish?",function(Qe){var Ae=We;return oe(Ae=Qe["$include?"](":"))?J("UriSniffRx")["$match?"](Qe):Ae}),w(lt,"$encode_uri_component",function(Qe){return encodeURIComponent(Qe).replace(/%20|[!'()*]/g,function(Ae){return Ae==="%20"?"+":"%"+Ae.charCodeAt(0).toString(16)})}),w(lt,"$encode_spaces_in_uri",function(Qe){return oe(Qe["$include?"](" "))?Qe.$gsub(" ","%20"):Qe}),w(lt,"$rootname",function(Qe){var Ae=We;return oe(Ae=Qe.$rindex("."))?oe(Qe.$index("/",Ae))?Qe:Qe.$slice(0,Ae):Qe}),w(lt,"$basename",function(Qe,Ae){var qe=this;return Ae==null&&(Ae=We),oe(Ae)?ft("File").$basename(Qe,Q(Ae,!0)?qe.$extname(Qe):Ae):ft("File").$basename(Qe)},-2),w(lt,"$extname?",function(Qe){var Ae=We,qe=We;return oe(Ae=qe=Qe.$rindex("."))?Qe.$index("/",qe)["$!"]():Ae}),oe(ft(ft("File"),"ALT_SEPARATOR"))?w(lt,"$extname",function(Qe,Ae){var qe=We;return Ae==null&&(Ae=""),oe(qe=Qe.$rindex("."))?oe(Qe.$index("/",qe))||oe(Qe.$index(ft(ft("File"),"ALT_SEPARATOR"),qe))?Ae:Qe.$slice(qe,Qe.$length()):Ae},-2):w(lt,"$extname",function(Qe,Ae){var qe=We;return Ae==null&&(Ae=""),oe(qe=Qe.$rindex("."))?oe(Qe.$index("/",qe))?Ae:Qe.$slice(qe,Qe.$length()):Ae},-2),w(lt,"$mkdir_p",function(Qe){var Ae=this,qe=We;if(oe(ft("File")["$directory?"](Qe)))return We;Q(qe=ft("File").$dirname(Qe),".")||Ae.$mkdir_p(qe);try{return ft("Dir").$mkdir(Qe)}catch(Se){if(l.rescue(Se,[ft("SystemCallError")]))try{return oe(ft("File")["$directory?"](Qe))?We:Ae.$raise()}finally{l.pop_exception()}else throw Se}}),O(ht[0],"ROMAN_NUMERALS",ze(["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],{M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1})),lt.$private_constant("ROMAN_NUMERALS"),w(lt,"$int_to_roman",function(Qe){return W(J("ROMAN_NUMERALS"),"map",[],function(qe,Se){var $e,ye,ne=We;return qe==null&&(qe=We),Se==null&&(Se=We),ye=Qe.$divmod(Se),$e=N(ye),ne=$e[0]==null?We:$e[0],Qe=$e[1]==null?We:$e[1],at(qe,ne)}).$join()}),w(lt,"$nextval",function(Qe){var Ae=We;return Re(ft("Integer"),Qe)?Je(Qe,1):Q((Ae=Qe.$to_i()).$to_s(),Qe.$to_s())?Je(Ae,1):Qe.$succ()}),w(lt,"$resolve_class",function(Qe){var Ae=this;return Re(Le,Qe)?Qe:Re(ft("String"),Qe)?Ae.$class_for_name(Qe):We}),w(lt,"$class_for_name",function(Qe){var Ae=this,qe=We;try{return Re(Le,qe=He.$const_get(Qe,!1))||Ae.$raise(),qe}catch(Se){if(l.rescue(Se,[J("StandardError")]))try{return Ae.$raise(ft("NameError"),"Could not resolve class for name: "+Qe)}finally{l.pop_exception()}else throw Se}})}(M[0],M)}(gt[0],gt)},Opal.modules.logger=function(l){var ce=l.klass,oe=l.module,Q=l.const_set,me=l.send,w=l.def,W=l.eqeqeq,Xe=l.rb_plus,O=l.truthy,ze=l.rb_le,N=l.rb_lt,at=[],Re=l.nil,Je=l.$$$;return l.add_stubs("include,to_h,map,constants,const_get,to_s,format,chr,strftime,message_as_string,===,+,message,class,join,backtrace,inspect,attr_reader,attr_accessor,new,key,upcase,raise,add,to_proc,<=,<,write,call,[],now"),function(Le,He,gt){var We=ce(Le,He,"Logger"),ft=[We].concat(gt),Ze=l.$r(ft),it=We.$$prototype;return it.level=it.progname=it.pipe=it.formatter=Re,function(pt,M){var ot=oe(pt,"Severity"),I=[ot].concat(M);return Q(I[0],"DEBUG",0),Q(I[0],"INFO",1),Q(I[0],"WARN",2),Q(I[0],"ERROR",3),Q(I[0],"FATAL",4),Q(I[0],"UNKNOWN",5)}(ft[0],ft),We.$include(Ze("Severity")),Q(ft[0],"SEVERITY_LABELS",me(Ze("Severity").$constants(),"map",[],function(M){return M==null&&(M=Re),[Ze("Severity").$const_get(M),M.$to_s()]}).$to_h()),function(pt,M,ot){var I=ce(pt,M,"Formatter"),lt=[I].concat(ot),ht=l.$r(lt);return Q(lt[0],"MESSAGE_FORMAT",`%s, [%s] %5s -- %s: %s
`),Q(lt[0],"DATE_TIME_FORMAT","%Y-%m-%dT%H:%M:%S.%6N"),w(I,"$call",function(B,Qe,Ae,qe){var Se=this;return Se.$format(ht("MESSAGE_FORMAT"),B.$chr(),Qe.$strftime(ht("DATE_TIME_FORMAT")),B,Ae,Se.$message_as_string(qe))}),w(I,"$message_as_string",function(B){var Qe=Re,Ae=Re;return W(Je("String"),Qe=B)?B:W(Je("Exception"),Qe)?Xe(""+B.$message()+" ("+B.$class()+`)
`,(O(Ae=B.$backtrace())?Ae:[]).$join(`
`)):B.$inspect()})}(ft[0],null,ft),We.$attr_reader("level"),We.$attr_accessor("progname"),We.$attr_accessor("formatter"),w(We,"$initialize",function(M){var ot=this;return ot.pipe=M,ot.level=Ze("DEBUG"),ot.formatter=Ze("Formatter").$new()}),w(We,"$level=",function(M){var ot=this,I=Re;return W(Je("Integer"),M)?ot.level=M:O(I=Ze("SEVERITY_LABELS").$key(M.$to_s().$upcase()))?ot.level=I:ot.$raise(Ze("ArgumentError"),"invalid log level: "+M)}),w(We,"$info",function pt(M){var ot=pt.$$p||Re,I=this;return pt.$$p=null,M==null&&(M=Re),me(I,"add",[Ze("INFO"),Re,M],ot.$to_proc())},-1),w(We,"$debug",function pt(M){var ot=pt.$$p||Re,I=this;return pt.$$p=null,M==null&&(M=Re),me(I,"add",[Ze("DEBUG"),Re,M],ot.$to_proc())},-1),w(We,"$warn",function pt(M){var ot=pt.$$p||Re,I=this;return pt.$$p=null,M==null&&(M=Re),me(I,"add",[Ze("WARN"),Re,M],ot.$to_proc())},-1),w(We,"$error",function pt(M){var ot=pt.$$p||Re,I=this;return pt.$$p=null,M==null&&(M=Re),me(I,"add",[Ze("ERROR"),Re,M],ot.$to_proc())},-1),w(We,"$fatal",function pt(M){var ot=pt.$$p||Re,I=this;return pt.$$p=null,M==null&&(M=Re),me(I,"add",[Ze("FATAL"),Re,M],ot.$to_proc())},-1),w(We,"$unknown",function pt(M){var ot=pt.$$p||Re,I=this;return pt.$$p=null,M==null&&(M=Re),me(I,"add",[Ze("UNKNOWN"),Re,M],ot.$to_proc())},-1),w(We,"$info?",function(){var M=this;return ze(M.level,Ze("INFO"))}),w(We,"$debug?",function(){var M=this;return ze(M.level,Ze("DEBUG"))}),w(We,"$warn?",function(){var M=this;return ze(M.level,Ze("WARN"))}),w(We,"$error?",function(){var M=this;return ze(M.level,Ze("ERROR"))}),w(We,"$fatal?",function(){var M=this;return ze(M.level,Ze("FATAL"))}),w(We,"$add",function pt(M,ot,I){var lt=pt.$$p||Re,ht=this,J=Re;return pt.$$p=null,ot==null&&(ot=Re),I==null&&(I=Re),O(N(M=O(J=M)?J:Ze("UNKNOWN"),ht.level))||(I=O(J=I)?J:ht.progname,O(ot)||(lt!==Re?ot=l.yieldX(lt,[]):(ot=I,I=ht.progname)),ht.pipe.$write(ht.formatter.$call(O(J=Ze("SEVERITY_LABELS")["$[]"](M))?J:"ANY",Je("Time").$now(),I,ot))),!0},-2)}(at[0],null,at)},Opal.modules["asciidoctor/logging"]=function(l){var ce=l.module,oe=l.klass,Q=l.slice,me=l.send2,w=l.find_super,W=l.to_a,Xe=l.send,O=l.def,ze=l.truthy,N=l.rb_gt,at=l.const_set,Re=l.hash2,Je=l.eqeqeq,Le=l.gvars,He=l.alias,gt=l.defs,We=l.top,ft=[],Ze=l.nil,it=l.$$$;return l.add_stubs("require,attr_reader,progname=,formatter=,new,level=,>,[],===,inspect,to_h,map,constants,const_get,<<,clear,empty?,max,attr_accessor,memoize_logger,private,logger,extend,private_class_method,merge"),We.$require("logger"),function(pt,M){var ot=ce(pt,"Asciidoctor"),I=[ot].concat(M);return function(lt,ht,J){var B=oe(lt,ht,"Logger"),Qe=[B].concat(J),Ae=l.$r(Qe),qe=B.$$prototype;return qe.max_severity=Ze,B.$attr_reader("max_severity"),O(B,"$initialize",function Se($e){var ye,ne,U,P=Se.$$p||Ze,le=this;return Se.$$p=null,ye=Q(arguments),ne=ye,me(le,w(le,"initialize",Se,!1,!0),"initialize",W(ne),P),le["$progname="]("asciidoctor"),le["$formatter="](Ae("BasicFormatter").$new()),U=[Ae("WARN")],Xe(le,"level=",U),U[U.length-1]},-1),O(B,"$add",function Se($e,ye,ne){var U=Se.$$p||Ze,P=this,le=Ze;return Se.$$p=null,ye==null&&(ye=Ze),ne==null&&(ne=Ze),ze(N($e=ze(le=$e)?le:Ae("UNKNOWN"),P.max_severity=ze(le=P.max_severity)?le:$e))&&(P.max_severity=$e),me(P,w(P,"add",Se,!1,!0),"add",[$e,ye,ne],U)},-2),function(Se,$e,ye){var ne=oe(Se,$e,"BasicFormatter"),U=[ne].concat(ye),P=l.$r(U);return at(U[0],"SEVERITY_LABEL_SUBSTITUTES",Re(["WARN","FATAL"],{WARN:"WARNING",FATAL:"FAILED"})),O(ne,"$call",function(ae,_e,K,v){var c=Ze;return""+K+": "+(ze(c=P("SEVERITY_LABEL_SUBSTITUTES")["$[]"](ae))?c:ae)+": "+(Je(it("String"),v)?v:v.$inspect())+P("LF")})}(Qe[0],Ae("Formatter"),Qe),function(Se){var $e=ce(Se,"AutoFormattingMessage");return O($e,"$inspect",function(){var ne=this,U=Ze;return ze(U=ne["$[]"]("source_location"))?""+U+": "+ne["$[]"]("text"):ne["$[]"]("text")})}(Qe[0])}(I[0],it("Logger"),I),function(lt,ht,J){var B=oe(lt,ht,"MemoryLogger"),Qe=[B].concat(J),Ae=l.$r(Qe),qe=B.$$prototype;return qe.messages=Ze,at(Qe[0],"SEVERITY_SYMBOL_BY_VALUE",Xe(Ae("Severity").$constants(!1),"map",[],function($e){return $e==null&&($e=Ze),[Ae("Severity").$const_get($e),$e]}).$to_h()),B.$attr_reader("messages"),O(B,"$initialize",function(){var $e=this;return $e["$level="](Ae("WARN")),$e.messages=[]}),O(B,"$add",function Se($e,ye,ne){var U=Se.$$p||Ze,P=this,le=Ze;return Se.$$p=null,ye==null&&(ye=Ze),ne==null&&(ne=Ze),ye=ze(le=ye)?le:U!==Ze?l.yieldX(U,[]):ne,P.messages["$<<"](Re(["severity","message"],{severity:Ae("SEVERITY_SYMBOL_BY_VALUE")["$[]"](ze(le=$e)?le:Ae("UNKNOWN")),message:ye})),!0},-2),O(B,"$clear",function(){var $e=this;return $e.messages.$clear()}),O(B,"$empty?",function(){var $e=this;return $e.messages["$empty?"]()}),O(B,"$max_severity",function(){var $e=this;return ze($e["$empty?"]())?Ze:Xe($e.messages,"map",[],function(ne){return ne==null&&(ne=Ze),Ae("Severity").$const_get(ne["$[]"]("severity"))}).$max()})}(I[0],it("Logger"),I),function(lt,ht,J){var B=oe(lt,ht,"NullLogger"),Qe=[B].concat(J),Ae=l.$r(Qe),qe=B.$$prototype;return qe.max_severity=Ze,B.$attr_reader("max_severity"),O(B,"$initialize",function(){var $e,ye=this;return $e=[Ae("WARN")],Xe(ye,"level=",$e),$e[$e.length-1]}),O(B,"$add",function($e,ye,ne){var U=this,P=Ze;return ze(N($e=ze(P=$e)?P:Ae("UNKNOWN"),U.max_severity=ze(P=U.max_severity)?P:$e))&&(U.max_severity=$e),!0},-2)}(I[0],it("Logger"),I),function(lt,ht){var J=ce(lt,"LoggerManager"),B=[J].concat(ht),Qe=l.$r(B);return J.logger_class=Qe("Logger"),function(Ae,qe){return Ae.$attr_accessor("logger_class"),O(Ae,"$logger",function($e){var ye=this,ne=Ze;return ye.logger==null&&(ye.logger=Ze),ye.logger_class==null&&(ye.logger_class=Ze),Le.stderr==null&&(Le.stderr=Ze),$e==null&&($e=Le.stderr),ye.$memoize_logger(),ye.logger=ze(ne=ye.logger)?ne:ye.logger_class.$new($e)},-1),O(Ae,"$logger=",function($e){var ye=this,ne=Ze;return ye.logger_class==null&&(ye.logger_class=Ze),Le.stderr==null&&(Le.stderr=Ze),ye.logger=ze(ne=$e)?ne:ye.logger_class.$new(Le.stderr)}),Ae.$private(),O(Ae,"$memoize_logger",function(){var $e=this;return function(ye,ne){return He(ye,"logger","logger"),ye.$attr_reader("logger")}(l.get_singleton_class($e))})}(l.get_singleton_class(J))}(I[0],I),function(lt,ht){var J=ce(lt,"Logging"),B=[J].concat(ht),Qe=l.$r(B);return gt(J,"$included",function(qe){return qe.$extend(Qe("Logging"))}),J.$private_class_method("included"),O(J,"$logger",function(){return Qe("LoggerManager").$logger()}),O(J,"$message_with_context",function(qe,Se){return Se==null&&(Se=Re([],{})),Re(["text"],{text:qe}).$merge(Se).$extend(it(Qe("Logger"),"AutoFormattingMessage"))},-2)}(I[0],I)}(ft[0],ft)},Opal.modules["asciidoctor/rx"]=function(l){var ce=l.module,oe=l.const_set,Q=l.regexp,me=l.hash2,w=l.send,W=l.truthy,Xe=l.hash,O=[],ze=l.nil,N=l.$$$;return l.add_stubs("join,to_a,new,[]=,empty?,escape"),function(at,Re){var Je=ce(at,"Asciidoctor"),Le=[Je].concat(Re),He=l.$r(Le);return ce(Le[0],"Rx"),oe(Le[0],"AuthorInfoLineRx",Q(["^(",He("CG_WORD"),"[",He("CC_WORD"),"\\-'.]*)(?: +(",He("CG_WORD"),"[",He("CC_WORD"),"\\-'.]*))?(?: +(",He("CG_WORD"),"[",He("CC_WORD"),"\\-'.]*))?(?: +<([^>]+)>)?$"])),oe(Le[0],"AuthorDelimiterRx",/;(?: |$)/),oe(Le[0],"RevisionInfoLineRx",Q(["^(?:[^\\d{]*(",He("CC_ANY"),"*?),)? *(?!:)(",He("CC_ANY"),"*?)(?: *(?!^),?: *(",He("CC_ANY"),"*))?$"])),oe(Le[0],"ManpageTitleVolnumRx",Q(["^(",He("CC_ANY"),"+?) *\\( *(",He("CC_ANY"),"+?) *\\)$"])),oe(Le[0],"ManpageNamePurposeRx",Q(["^(",He("CC_ANY"),"+?) +- +(",He("CC_ANY"),"+)$"])),oe(Le[0],"ConditionalDirectiveRx",Q(["^(\\\\)?(ifdef|ifndef|ifeval|endif)::(\\S*?(?:([,+])\\S*?)?)\\[(",He("CC_ANY"),"+)?\\]$"])),oe(Le[0],"EvalExpressionRx",Q(["^(",He("CC_ANY"),"+?) *([=!><]=|[><]) *(",He("CC_ANY"),"+)$"])),oe(Le[0],"IncludeDirectiveRx",Q(["^(\\\\)?include::([^\\s\\[](?:[^\\[]*[^\\s\\[])?)\\[(",He("CC_ANY"),"+)?\\]$"])),oe(Le[0],"TagDirectiveRx",/\b(?:tag|(e)nd)::(\S+?)\[\](?=$|[ \r])/m),oe(Le[0],"AttributeEntryRx",Q(["^:(!?",He("CG_WORD"),"[^:]*):(?:[ \\t]+(",He("CC_ANY"),"*))?$"])),oe(Le[0],"InvalidAttributeNameCharsRx",Q(["[^",He("CC_WORD"),"-]"])),oe(Le[0],"AttributeEntryPassMacroRx",Q(["^pass:([a-z]+(?:,[a-z-]+)*)?\\[(",He("CC_ALL"),"*)\\]$"])),oe(Le[0],"AttributeReferenceRx",Q(["(\\\\)?\\{(",He("CG_WORD"),"[",He("CC_WORD"),"-]*|(set|counter2?):",He("CC_ANY"),"+?)(\\\\)?\\}"])),oe(Le[0],"BlockAnchorRx",Q(["^\\[\\[(?:|([",He("CC_ALPHA"),"_:][",He("CC_WORD"),"\\-:.]*)(?:, *(",He("CC_ANY"),"+))?)\\]\\]$"])),oe(Le[0],"BlockAttributeListRx",Q(["^\\[(|[",He("CC_WORD"),`.#%{,"']`,He("CC_ANY"),"*)\\]$"])),oe(Le[0],"BlockAttributeLineRx",Q(["^\\[(?:|[",He("CC_WORD"),`.#%{,"']`,He("CC_ANY"),"*|\\[(?:|[",He("CC_ALPHA"),"_:][",He("CC_WORD"),"\\-:.]*(?:, *",He("CC_ANY"),"+)?)\\])\\]$"])),oe(Le[0],"BlockTitleRx",Q(["^\\.(\\.?[^ \\t.]",He("CC_ANY"),"*)$"])),oe(Le[0],"AdmonitionParagraphRx",Q(["^(",He("ADMONITION_STYLES").$to_a().$join("|"),"):[ \\t]+"])),oe(Le[0],"LiteralParagraphRx",Q(["^([ \\t]+",He("CC_ANY"),"*)$"])),oe(Le[0],"AtxSectionTitleRx",Q(["^(=={0,5})[ \\t]+(",He("CC_ANY"),"+?)(?:[ \\t]+\\1)?$"])),oe(Le[0],"ExtAtxSectionTitleRx",Q(["^(=={0,5}|#\\#{0,5})[ \\t]+(",He("CC_ANY"),"+?)(?:[ \\t]+\\1)?$"])),oe(Le[0],"SetextSectionTitleRx",Q(["^((?!\\.)",He("CC_ANY"),"*?",He("CG_ALNUM"),He("CC_ANY"),"*)$"])),oe(Le[0],"InlineSectionAnchorRx",Q([" (\\\\)?\\[\\[([",He("CC_ALPHA"),"_:][",He("CC_WORD"),"\\-:.]*)(?:, *(",He("CC_ANY"),"+))?\\]\\]$"])),oe(Le[0],"InvalidSectionIdCharsRx",Q(["<[^>]+>|&(?:[a-z][a-z]+\\d{0,2}|#\\d\\d\\d{0,4}|#x[\\da-f][\\da-f][\\da-f]{0,3});|[^ ",He("CC_WORD"),"\\-.]+?"])),oe(Le[0],"SectionLevelStyleRx",/^sect\d$/),oe(Le[0],"AnyListRx",Q(["^(?:[ \\t]*(?:-|\\*\\**|\\.\\.*|\\u2022|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]|(?!//[^/])[ \\t]*[^ \\t]",He("CC_ANY"),"*?(?::::{0,2}|;;)(?:$|[ \\t])|<(?:\\d+|\\.)>[ \\t])"])),oe(Le[0],"UnorderedListRx",Q(["^[ \\t]*(-|\\*\\**|\\u2022)[ \\t]+(",He("CC_ANY"),"*)$"])),oe(Le[0],"OrderedListRx",Q(["^[ \\t]*(\\.\\.*|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]+(",He("CC_ANY"),"*)$"])),oe(Le[0],"OrderedListMarkerRxMap",me(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/})),oe(Le[0],"DescriptionListRx",Q(["^(?!//[^/])[ \\t]*([^ \\t]",He("CC_ANY"),"*?)(:::{0,2}|;;)(?:$|[ \\t]+(",He("CC_ANY"),"*)$)"])),oe(Le[0],"DescriptionListSiblingRx",me(["::",":::","::::",";;"],{"::":Q(["^(?!//[^/])[ \\t]*([^ \\t]",He("CC_ANY"),"*?[^:]|[^ \\t:])(::)(?:$|[ \\t]+(",He("CC_ANY"),"*)$)"]),":::":Q(["^(?!//[^/])[ \\t]*([^ \\t]",He("CC_ANY"),"*?[^:]|[^ \\t:])(:::)(?:$|[ \\t]+(",He("CC_ANY"),"*)$)"]),"::::":Q(["^(?!//[^/])[ \\t]*([^ \\t]",He("CC_ANY"),"*?[^:]|[^ \\t:])(::::)(?:$|[ \\t]+(",He("CC_ANY"),"*)$)"]),";;":Q(["^(?!//[^/])[ \\t]*([^ \\t]",He("CC_ANY"),"*?)(;;)(?:$|[ \\t]+(",He("CC_ANY"),"*)$)"])})),oe(Le[0],"CalloutListRx",Q(["^<(\\d+|\\.)>[ \\t]+(",He("CC_ANY"),"*)$"])),oe(Le[0],"CalloutExtractRx",/((?:\/\/|#|--|;;) ?)?(\\)?<!?(|--)(\d+|\.)\3>(?=(?: ?\\?<!?\3(?:\d+|\.)\3>)*$)/),oe(Le[0],"CalloutExtractRxt","(\\\\)?<()(\\d+|\\.)>(?=(?: ?\\\\?<(?:\\d+|\\.)>)*$)"),oe(Le[0],"CalloutExtractRxMap",w(N("Hash"),"new",[],function(We,ft){var Ze;return We==null&&(We=ze),ft==null&&(ft=ze),Ze=[ft,Q(["(",W(ft["$empty?"]())?"":""+N("Regexp").$escape(ft)+" ?",")?",He("CalloutExtractRxt")])],w(We,"[]=",Ze),Ze[Ze.length-1]})),oe(Le[0],"CalloutScanRx",Q(["\\\\?<!?(|--)(\\d+|\\.)\\1>(?=(?: ?\\\\?<!?\\1(?:\\d+|\\.)\\1>)*",He("CC_EOL"),")"])),oe(Le[0],"CalloutSourceRx",Q(["((?://|#|--|;;) ?)?(\\\\)?&lt;!?(|--)(\\d+|\\.)\\3&gt;(?=(?: ?\\\\?&lt;!?\\3(?:\\d+|\\.)\\3&gt;)*",He("CC_EOL"),")"])),oe(Le[0],"CalloutSourceRxt","(\\\\)?&lt;()(\\d+|\\.)&gt;(?=(?: ?\\\\?&lt;(?:\\d+|\\.)&gt;)*"+He("CC_EOL")+")"),oe(Le[0],"CalloutSourceRxMap",w(N("Hash"),"new",[],function(We,ft){var Ze;return We==null&&(We=ze),ft==null&&(ft=ze),Ze=[ft,Q(["(",W(ft["$empty?"]())?"":""+N("Regexp").$escape(ft)+" ?",")?",He("CalloutSourceRxt")])],w(We,"[]=",Ze),Ze[Ze.length-1]})),oe(Le[0],"ListRxMap",me(["ulist","olist","dlist","colist"],{ulist:He("UnorderedListRx"),olist:He("OrderedListRx"),dlist:He("DescriptionListRx"),colist:He("CalloutListRx")})),oe(Le[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?|~)?([a-z])?$/),oe(Le[0],"CellSpecStartRx",/^[ \t]*(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),oe(Le[0],"CellSpecEndRx",/[ \t]+(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),oe(Le[0],"CustomBlockMacroRx",Q(["^(",He("CG_WORD"),"[",He("CC_WORD"),"-]*)::(|\\S|\\S",He("CC_ANY"),"*?\\S)\\[(",He("CC_ANY"),"+)?\\]$"])),oe(Le[0],"BlockMediaMacroRx",Q(["^(image|video|audio)::(\\S|\\S",He("CC_ANY"),"*?\\S)\\[(",He("CC_ANY"),"+)?\\]$"])),oe(Le[0],"BlockTocMacroRx",Q(["^toc::\\[(",He("CC_ANY"),"+)?\\]$"])),oe(Le[0],"InlineAnchorRx",Q(["(\\\\)?(?:\\[\\[([",He("CC_ALPHA"),"_:][",He("CC_WORD"),"\\-:.]*)(?:, *(",He("CC_ANY"),"+?))?\\]\\]|anchor:([",He("CC_ALPHA"),"_:][",He("CC_WORD"),"\\-:.]*)\\[(?:\\]|(",He("CC_ANY"),"*?[^\\\\])\\]))"])),oe(Le[0],"InlineAnchorScanRx",Q(["(?:^|[^\\\\\\[])\\[\\[([",He("CC_ALPHA"),"_:][",He("CC_WORD"),"\\-:.]*)(?:, *(",He("CC_ANY"),"+?))?\\]\\]|(?:^|[^\\\\])anchor:([",He("CC_ALPHA"),"_:][",He("CC_WORD"),"\\-:.]*)\\[(?:\\]|(",He("CC_ANY"),"*?[^\\\\])\\])"])),oe(Le[0],"LeadingInlineAnchorRx",Q(["^\\[\\[([",He("CC_ALPHA"),"_:][",He("CC_WORD"),"\\-:.]*)(?:, *(",He("CC_ANY"),"+?))?\\]\\]"])),oe(Le[0],"InlineBiblioAnchorRx",Q(["^\\[\\[\\[([",He("CC_ALPHA"),"_:][",He("CC_WORD"),"\\-:.]*)(?:, *(",He("CC_ANY"),"+?))?\\]\\]\\]"])),oe(Le[0],"InlineEmailRx",Q(["([\\\\>:/])?",He("CG_WORD"),"(?:&amp;|[",He("CC_WORD"),"\\-.%+])*@",He("CG_ALNUM"),"[",He("CC_ALNUM"),"_\\-.]*\\.[a-zA-Z]{2,5}\\b"])),oe(Le[0],"InlineFootnoteMacroRx",Q(["\\\\?footnote(?:(ref):|:([",He("CC_WORD"),"-]+)?)\\[(?:|(",He("CC_ALL"),"*?[^\\\\]))\\](?!</a>)"],"m")),oe(Le[0],"InlineImageMacroRx",Q(["\\\\?i(?:mage|con):([^:\\s\\[](?:[^\\n\\[]*[^\\s\\[])?)\\[(|",He("CC_ALL"),"*?[^\\\\])\\]"],"m")),oe(Le[0],"InlineIndextermMacroRx",Q(["\\\\?(?:(indexterm2?):\\[(",He("CC_ALL"),"*?[^\\\\])\\]|\\(\\((",He("CC_ALL"),"+?)\\)\\)(?!\\)))"],"m")),oe(Le[0],"InlineKbdBtnMacroRx",Q(["(\\\\)?(kbd|btn):\\[(",He("CC_ALL"),"*?[^\\\\])\\]"],"m")),oe(Le[0],"InlineLinkRx",Q(["(^|link:|",He("CG_BLANK"),`|&lt;|[>\\(\\)\\[\\];"'])(\\\\?(?:https?|file|ftp|irc)://)(?:([^\\s\\[\\]]+)\\[(|`,He("CC_ALL"),"*?[^\\\\])\\]|([^\\s\\[\\]<]*([^\\s,.?!\\[\\]<\\)])))"],"m")),oe(Le[0],"InlineLinkMacroRx",Q(["\\\\?(?:link|(mailto)):(|[^:\\s\\[][^\\s\\[]*)\\[(|",He("CC_ALL"),"*?[^\\\\])\\]"],"m")),oe(Le[0],"MacroNameRx",Q(["^",He("CG_WORD"),"[",He("CC_WORD"),"-]*$"])),oe(Le[0],"InlineStemMacroRx",Q(["\\\\?(stem|(?:latex|ascii)math):([a-z]+(?:,[a-z-]+)*)?\\[(",He("CC_ALL"),"*?[^\\\\])\\]"],"m")),oe(Le[0],"InlineMenuMacroRx",Q(["\\\\?menu:(",He("CG_WORD"),"|[",He("CC_WORD"),"&][^\\n\\[]*[^\\s\\[])\\[ *(?:|(",He("CC_ALL"),"*?[^\\\\]))\\]"],"m")),oe(Le[0],"InlineMenuRx",Q(['\\\\?"([',He("CC_WORD"),'&][^"]*?[ \\n]+&gt;[ \\n]+[^"]*)"'])),oe(Le[0],"InlinePassRx",Xe(!1,["+","-]",Q(["((?:^|[^",He("CC_WORD"),";:\\\\])(?=(\\[)|\\+)|\\\\(?=\\[)|(?=\\\\\\+))(?:\\2(x-|[^\\]]+ x-)\\]|(?:\\[([^\\]]+)\\])?(?=(\\\\)?\\+))(\\5?(\\+|`)(\\S|\\S",He("CC_ALL"),"*?\\S)\\7)(?!",He("CG_WORD"),")"],"m")],!0,["`",ze,Q(["(^|[^`",He("CC_WORD"),"])(?:(\\Z)()|\\[([^\\]]+)\\](?=(\\\\))?)?(\\5?(`)([^`\\s]|[^`\\s]",He("CC_ALL"),"*?\\S)\\7)(?![`",He("CC_WORD"),"])"],"m")])),oe(Le[0],"InlinePassMacroRx",Q(["(?:(?:(\\\\?)\\[([^\\]]+)\\])?(\\\\{0,2})(\\+\\+\\+?|\\$\\$)(",He("CC_ALL"),"*?)\\4|(\\\\?)pass:([a-z]+(?:,[a-z-]+)*)?\\[(|",He("CC_ALL"),"*?[^\\\\])\\])"],"m")),oe(Le[0],"InlineXrefMacroRx",Q(["\\\\?(?:&lt;&lt;([",He("CC_WORD"),"#/.:{]",He("CC_ALL"),"*?)&gt;&gt;|xref:([",He("CC_WORD"),"#/.:{]",He("CC_ALL"),"*?)\\[(?:\\]|(",He("CC_ALL"),"*?[^\\\\])\\]))"],"m")),oe(Le[0],"HardLineBreakRx",Q(["^(",He("CC_ANY"),"*) \\+$"],"m")),oe(Le[0],"MarkdownThematicBreakRx",/^ {0,3}([-*_])( *)\1\2\1$/),oe(Le[0],"ExtLayoutBreakRx",/^(?:'{3,}|<{3,}|([-*_])( *)\1\2\1)$/),oe(Le[0],"BlankLineRx",/\n{2,}/),oe(Le[0],"EscapedSpaceRx",/\\([ \t\n])/),oe(Le[0],"ReplaceableTextRx",/[&']|--|\.\.\.|\([CRT]M?\)/),oe(Le[0],"SpaceDelimiterRx",/([^\\])[ \t\n]+/),oe(Le[0],"SubModifierSniffRx",/[+-]/),oe(Le[0],"TrailingDigitsRx",/\d+$/),oe(Le[0],"UriSniffRx",Q(["^",He("CG_ALPHA"),"[",He("CC_ALNUM"),".+-]+:/{0,2}"])),oe(Le[0],"XmlSanitizeRx",/<[^>]+>/)}(O[0],O)},Opal.modules["asciidoctor/substitutors"]=function(l){var ce=l.module,oe=l.const_set,Q=l.hash2,me=l.hash,w=l.rb_plus,W=l.regexp,Xe=l.not,O=l.truthy,ze=l.send,N=l.def,at=l.alias,Re=l.gvars,Je=l.eqeq,Le=l.to_ary,He=l.neqeq,gt=l.to_a,We=l.eqeqeq,ft=l.rb_gt,Ze=l.slice,it=l.rb_minus,pt=l.rb_lt,M=l.rb_times,ot=[],I=l.nil,lt=l.$$$;return l.add_stubs("freeze,+,keys,!,empty?,===,[],join,include?,extract_passthroughs,each,sub_specialchars,sub_quotes,sub_attributes,sub_replacements,sub_macros,highlight_source,sub_callouts,sub_post_replacements,warn,logger,restore_passthroughs,clear,split,apply_subs,gsub,match?,compat_mode,convert_quoted_text,attributes,==,shift,store_attribute,!=,attribute_undefined,counter,key?,downcase,attribute_missing,info,squeeze,delete,reject,start_with?,do_replacement,inline_macros?,extensions,inline_macros,regexp,instance,slice,length,names,config,merge,[]=,normalize_text,parse_attributes,process_method,expand_subs,text=,text,convert,class,strip,index,min,compact,>,end_with?,map,chop,new,pop,rstrip,register,tr,basename,parse,lstrip,split_simple_csv,-,partition,extract_attributes_from_text,sub,encode_uri_component,style,extname?,rindex,catalog,info?,fetch,outfilesuffix,natural_xrefs,resolve_id,find,footnotes,id,<,size,<<,attr?,attr,to_s,read_next_id,callouts,highlight?,syntax_highlighter,sub_source,extract_callouts,name,to_i,to_sym,resolve_lines_to_highlight,highlight,nil_or_empty?,restore_callouts,count,to_a,|,sort,*,parse_quoted_text_attributes,resolve_pass_subs,basebackend?,error,chr,drop,&,resolve_subs,resolve_block_subs,parse_into,private,shorthand_property_syntax,each_char"),function(ht,J){var B=ce(ht,"Asciidoctor"),Qe=[B].concat(J);return function(Ae,qe){var Se=ce(Ae,"Substitutors"),$e=[Se].concat(qe),ye=l.$r($e);return oe($e[0],"SpecialCharsRx",/[<&>]/),oe($e[0],"SpecialCharsTr",Q([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"})),oe($e[0],"QuotedTextSniffRx",me(!1,/[*_`#^~]/,!0,/[*'_+#^~]/)),oe($e[0],"BASIC_SUBS",["specialcharacters"]).$freeze(),oe($e[0],"HEADER_SUBS",["specialcharacters","attributes"]).$freeze(),oe($e[0],"NO_SUBS",[]).$freeze(),oe($e[0],"NORMAL_SUBS",["specialcharacters","quotes","attributes","replacements","macros","post_replacements"]).$freeze(),oe($e[0],"REFTEXT_SUBS",["specialcharacters","quotes","replacements"]).$freeze(),oe($e[0],"VERBATIM_SUBS",["specialcharacters","callouts"]).$freeze(),oe($e[0],"SUB_GROUPS",Q(["none","normal","verbatim","specialchars"],{none:ye("NO_SUBS"),normal:ye("NORMAL_SUBS"),verbatim:ye("VERBATIM_SUBS"),specialchars:ye("BASIC_SUBS")})),oe($e[0],"SUB_HINTS",Q(["a","m","n","p","q","r","c","v"],{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"})),oe($e[0],"SUB_OPTIONS",Q(["block","inline"],{block:w(w(ye("SUB_GROUPS").$keys(),ye("NORMAL_SUBS")),["callouts"]),inline:w(ye("SUB_GROUPS").$keys(),ye("NORMAL_SUBS"))})),oe($e[0],"CAN",""),oe($e[0],"DEL",""),oe($e[0],"PASS_START",""),oe($e[0],"PASS_END",""),oe($e[0],"PassSlotRx",W([ye("PASS_START"),"(\\d+)",ye("PASS_END")])),oe($e[0],"HighlightedPassSlotRx",W(["<span\\b[^>]*>",ye("PASS_START"),"</span>[^\\d]*(\\d+)[^\\d]*<span\\b[^>]*>",ye("PASS_END"),"</span>"])),oe($e[0],"RS","\\"),oe($e[0],"R_SB","]"),oe($e[0],"ESC_R_SB","\\]"),oe($e[0],"PLUS","+"),N(Se,"$apply_subs",function(U,P){var le=this,ae=I,_e=I,K=I,v=I;return le.passthroughs==null&&(le.passthroughs=I),le.passthroughs_locked==null&&(le.passthroughs_locked=I),P==null&&(P=ye("NORMAL_SUBS")),O(U["$empty?"]())||Xe(P)?U:(O(ae=lt("Array")["$==="](U))&&(U=O(U["$[]"](1))?U.$join(ye("LF")):U["$[]"](0)),O(P["$include?"]("macros"))&&(U=le.$extract_passthroughs(U),O(le.passthroughs["$empty?"]())||(_e=le.passthroughs,le.passthroughs_locked=O(K=le.passthroughs_locked)?K:v=!0)),ze(P,"each",[],function c(y){var q=c.$$s==null?this:c.$$s;switch(y==null&&(y=I),y){case"specialcharacters":return U=q.$sub_specialchars(U);case"quotes":return U=q.$sub_quotes(U);case"attributes":return O(U["$include?"](ye("ATTR_REF_HEAD")))?U=q.$sub_attributes(U):I;case"replacements":return U=q.$sub_replacements(U);case"macros":return U=q.$sub_macros(U);case"highlight":return U=q.$highlight_source(U,P["$include?"]("callouts"));case"callouts":return O(P["$include?"]("highlight"))?I:U=q.$sub_callouts(U);case"post_replacements":return U=q.$sub_post_replacements(U);default:return q.$logger().$warn("unknown substitution type "+y)}},{$$s:le}),O(_e)&&(U=le.$restore_passthroughs(U),O(v)&&(_e.$clear(),le.passthroughs_locked=I)),O(ae)?U.$split(ye("LF"),-1):U)},-2),N(Se,"$apply_normal_subs",function(U){var P=this;return P.$apply_subs(U,ye("NORMAL_SUBS"))}),N(Se,"$apply_header_subs",function(U){var P=this;return P.$apply_subs(U,ye("HEADER_SUBS"))}),at(Se,"apply_title_subs","apply_subs"),N(Se,"$apply_reftext_subs",function(U){var P=this;return P.$apply_subs(U,ye("REFTEXT_SUBS"))}),N(Se,"$sub_specialchars",function(U){return O(U["$include?"](">"))||O(U["$include?"]("&"))||O(U["$include?"]("<"))?U.$gsub(ye("SpecialCharsRx"),ye("SpecialCharsTr")):U}),at(Se,"sub_specialcharacters","sub_specialchars"),N(Se,"$sub_quotes",function(U){var P=this,le=I;return P.document==null&&(P.document=I),O(ye("QuotedTextSniffRx")["$[]"](le=P.document.$compat_mode())["$match?"](U))&&ze(ye("QUOTE_SUBS")["$[]"](le),"each",[],function ae(_e,K,v){var c=ae.$$s==null?this:ae.$$s;return _e==null&&(_e=I),K==null&&(K=I),v==null&&(v=I),U=ze(U,"gsub",[v],function y(){var q=y.$$s==null?this:y.$$s;return Re["~"]==null&&(Re["~"]=I),q.$convert_quoted_text(Re["~"],_e,K)},{$$s:c})},{$$s:P}),U}),N(Se,"$sub_attributes",function(U,P){var le=this,ae=I,_e=I,K=I,v=I,c=I,y=I,q=I,R=I;return le.document==null&&(le.document=I),P==null&&(P=Q([],{})),ae=le.document.$attributes(),_e=K=v=c=y=q=I,U=ze(U,"gsub",[ye("AttributeReferenceRx")],function A(){var V,Y,de=A.$$s==null?this:A.$$s,fe=I,xe=I,Ve=I,tt=I,ct=I,vt=I;if(de.document==null&&(de.document=I),Je((V=Re["~"])===I?I:V["$[]"](1),ye("RS"))||Je((V=Re["~"])===I?I:V["$[]"](4),ye("RS")))return"{"+((V=Re["~"])===I?I:V["$[]"](2))+"}";if(O((V=Re["~"])===I?I:V["$[]"](3)))switch((fe=((V=Re["~"])===I?I:V["$[]"](2)).$split(":",3)).$shift()){case"set":return Y=ye("Parser").$store_attribute(fe["$[]"](0),O(xe=fe["$[]"](1))?xe:"",de.document),V=Le(Y),V[0]==null||V[0],Ve=V[1]==null?I:V[1],O(Ve)||He(y=O(xe=y)?xe:O(tt=ae["$[]"]("attribute-undefined"))?tt:ye("Compliance").$attribute_undefined(),"drop-line")?_e=c=ye("DEL"):_e=K=ye("CAN");case"counter2":return ze(de.document,"counter",gt(fe)),_e=c=ye("DEL");default:return ze(de.document,"counter",gt(fe))}else{if(O(ae["$key?"](ct=((V=Re["~"])===I?I:V["$[]"](2)).$downcase())))return ae["$[]"](ct);if(O(Ve=ye("INTRINSIC_ATTRIBUTES")["$[]"](ct)))return Ve;switch(q=O(xe=q)?xe:O(tt=O(vt=P["$[]"]("attribute_missing"))?vt:ae["$[]"]("attribute-missing"))?tt:ye("Compliance").$attribute_missing()){case"drop":return _e=c=ye("DEL");case"drop-line":return Je(v=O(xe=v)?xe:O(tt=P["$[]"]("drop_line_severity"))?tt:"info","info")&&ze(de.$logger(),"info",[],function(){return"dropping line containing reference to missing attribute: "+ct}),_e=K=ye("CAN");case"warn":return de.$logger().$warn("skipping reference to missing attribute: "+ct),(V=Re["~"])===I?I:V["$[]"](0);default:return(V=Re["~"])===I?I:V["$[]"](0)}}},{$$s:le}),O(_e)?O(c)?(R=U.$squeeze(ye("DEL")).$split(ye("LF"),-1),O(K)?ze(R,"reject",[],function(V){var Y=I,de=I,fe=I;return V==null&&(V=I),O(Y=O(de=O(fe=V["$=="](ye("DEL")))?fe:V["$=="](ye("CAN")))?de:V["$start_with?"](ye("CAN")))?Y:V["$include?"](ye("CAN"))}).$join(ye("LF")).$delete(ye("DEL")):ze(R,"reject",[],function(V){return V==null&&(V=I),V["$=="](ye("DEL"))}).$join(ye("LF")).$delete(ye("DEL"))):O(U["$include?"](ye("LF")))?ze(U.$split(ye("LF"),-1),"reject",[],function(V){var Y=I,de=I;return V==null&&(V=I),O(Y=O(de=V["$=="](ye("CAN")))?de:V["$start_with?"](ye("CAN")))?Y:V["$include?"](ye("CAN"))}).$join(ye("LF")):"":U},-2),N(Se,"$sub_replacements",function(U){var P=this;return O(ye("ReplaceableTextRx")["$match?"](U))&&ze(ye("REPLACEMENTS"),"each",[],function le(ae,_e,K){var v=le.$$s==null?this:le.$$s;return ae==null&&(ae=I),_e==null&&(_e=I),K==null&&(K=I),U=ze(U,"gsub",[ae],function c(){var y=c.$$s==null?this:c.$$s;return Re["~"]==null&&(Re["~"]=I),y.$do_replacement(Re["~"],_e,K)},{$$s:v})},{$$s:P}),U}),N(Se,"$sub_macros",function(U){var P=this,le=I,ae=I,_e=I,K=I,v=I,c=I,y=I,q=I;return P.document==null&&(P.document=I),P.parent==null&&(P.parent=I),P.context==null&&(P.context=I),le=U["$include?"]("["),ae=U["$include?"](":"),_e=O(K=le)?ae:K,v=O(K=_e)?U["$include?"](":["):K,c=(y=P.document).$attributes(),O(q=y.$extensions())&&O(q["$inline_macros?"]())&&ze(q.$inline_macros(),"each",[],function R(A){var V=R.$$s==null?this:R.$$s;return A==null&&(A=I),U=ze(U,"gsub",[A.$instance().$regexp()],function Y(){var de,fe,xe=Y.$$s==null?this:Y.$$s,Ve=I,tt=I,ct=I,vt=I,_t=I,wt=I,Dt=I,zt=I,It=I;return Re["~"]==null&&(Re["~"]=I),O((Ve=(de=Re["~"])===I?I:de["$[]"](0))["$start_with?"](ye("RS")))?((de=Re["~"])===I?I:de["$[]"](0)).$slice(1,((de=Re["~"])===I?I:de["$[]"](0)).$length()):(O(Re["~"].$names()["$empty?"]())?(de=[(fe=Re["~"])===I?I:fe["$[]"](1),(fe=Re["~"])===I?I:fe["$[]"](2)],tt=de[0],ct=de[1]):(de=[function(){try{return Re["~"]["$[]"]("target")}catch(Mt){if(l.rescue(Mt,[ye("StandardError")]))try{return I}finally{l.pop_exception()}else throw Mt}}(),function(){try{return Re["~"]["$[]"]("content")}catch(Mt){if(l.rescue(Mt,[ye("StandardError")]))try{return I}finally{l.pop_exception()}else throw Mt}}()],tt=de[0],ct=de[1]),vt=O(_t=(wt=A.$config())["$[]"]("default_attrs"))?_t.$merge():Q([],{}),O(ct)&&(O(ct["$empty?"]())?Je(wt["$[]"]("content_model"),"attributes")||vt["$[]="]("text",ct):(ct=xe.$normalize_text(ct,!0,!0),Je(wt["$[]"]("content_model"),"attributes")?xe.$parse_attributes(ct,O(K=O(Dt=wt["$[]"]("positional_attrs"))?Dt:wt["$[]"]("pos_attrs"))?K:[],Q(["into"],{into:vt})):vt["$[]="]("text",ct)),tt=O(K=tt)?K:Je(wt["$[]"]("format"),"short")?ct:tt),We(ye("Inline"),zt=A.$process_method()["$[]"](xe,tt,vt))?(O(It=zt.$attributes().$delete("subs"))&&O(It=xe.$expand_subs(It,"custom inline macro"))&&zt["$text="](xe.$apply_subs(zt.$text(),It)),zt.$convert()):O(zt)?(ze(xe.$logger(),"info",[],function(){return"expected substitution value for custom inline macro to be of type Inline; got "+zt.$class()+": "+Ve}),zt):"")},{$$s:V})},{$$s:P}),O(c["$key?"]("experimental"))&&(O(v)&&(O(U["$include?"]("kbd:"))||O(U["$include?"]("btn:")))&&(U=ze(U,"gsub",[ye("InlineKbdBtnMacroRx")],function R(){var A,V=R.$$s==null?this:R.$$s,Y=I,de=I,fe=I;return O((A=Re["~"])===I?I:A["$[]"](1))?((A=Re["~"])===I?I:A["$[]"](0)).$slice(1,((A=Re["~"])===I?I:A["$[]"](0)).$length()):Je((A=Re["~"])===I?I:A["$[]"](2),"kbd")?(O((Y=((A=Re["~"])===I?I:A["$[]"](3)).$strip())["$include?"](ye("R_SB")))&&(Y=Y.$gsub(ye("ESC_R_SB"),ye("R_SB"))),O(ft(Y.$length(),1))&&O(de=O(de=Y.$index(",",1))?[de,Y.$index("+",1)].$compact().$min():Y.$index("+",1))?(fe=Y.$slice(de,1),O(Y["$end_with?"](fe))?(Y=ze(Y.$chop().$split(fe,-1),"map",[],function(Ve){return Ve==null&&(Ve=I),Ve.$strip()}),Y["$[]="](-1,w(Y["$[]"](-1),fe))):Y=ze(Y.$split(fe),"map",[],function(Ve){return Ve==null&&(Ve=I),Ve.$strip()})):Y=[Y],ye("Inline").$new(V,"kbd",I,Q(["attributes"],{attributes:Q(["keys"],{keys:Y})})).$convert()):ye("Inline").$new(V,"button",V.$normalize_text((A=Re["~"])===I?I:A["$[]"](3),!0,!0)).$convert()},{$$s:P})),O(_e)&&O(U["$include?"]("menu:"))&&(U=ze(U,"gsub",[ye("InlineMenuMacroRx")],function R(){var A,V=R.$$s==null?this:R.$$s,Y=I,de=I,fe=I,xe=I,Ve=I;return O(((A=Re["~"])===I?I:A["$[]"](0))["$start_with?"](ye("RS")))?((A=Re["~"])===I?I:A["$[]"](0)).$slice(1,((A=Re["~"])===I?I:A["$[]"](0)).$length()):(Y=(A=Re["~"])===I?I:A["$[]"](1),O(de=(A=Re["~"])===I?I:A["$[]"](2))?(O(de["$include?"](ye("R_SB")))&&(de=de.$gsub(ye("ESC_R_SB"),ye("R_SB"))),O(fe=O(de["$include?"]("&gt;"))?"&gt;":O(de["$include?"](","))?",":I)?(xe=ze(de.$split(fe),"map",[],function(ct){return ct==null&&(ct=I),ct.$strip()}),Ve=xe.$pop()):(A=[[],de.$rstrip()],xe=A[0],Ve=A[1])):(A=[[],I],xe=A[0],Ve=A[1]),ye("Inline").$new(V,"menu",I,Q(["attributes"],{attributes:Q(["menu","submenus","menuitem"],{menu:Y,submenus:xe,menuitem:Ve})})).$convert())},{$$s:P})),O(U["$include?"]('"'))&&O(U["$include?"]("&gt;"))&&(U=ze(U,"gsub",[ye("InlineMenuRx")],function R(){var A,V,Y,de=R.$$s==null?this:R.$$s,fe=I,xe=I,Ve=I;return O(((A=Re["~"])===I?I:A["$[]"](0))["$start_with?"](ye("RS")))?((A=Re["~"])===I?I:A["$[]"](0)).$slice(1,((A=Re["~"])===I?I:A["$[]"](0)).$length()):(V=ze(((Y=Re["~"])===I?I:Y["$[]"](1)).$split("&gt;"),"map",[],function(ct){return ct==null&&(ct=I),ct.$strip()}),A=Le(V),fe=A[0]==null?I:A[0],xe=Ze(A,1),Ve=xe.$pop(),ye("Inline").$new(de,"menu",I,Q(["attributes"],{attributes:Q(["menu","submenus","menuitem"],{menu:fe,submenus:xe,menuitem:Ve})})).$convert())},{$$s:P}))),O(_e)&&(O(U["$include?"]("image:"))||O(U["$include?"]("icon:")))&&(U=ze(U,"gsub",[ye("InlineImageMacroRx")],function R(){var A,V=R.$$s==null?this:R.$$s,Y=I,de=I,fe=I,xe=I;return O(((A=Re["~"])===I?I:A["$[]"](0))["$start_with?"](ye("RS")))?((A=Re["~"])===I?I:A["$[]"](0)).$slice(1,((A=Re["~"])===I?I:A["$[]"](0)).$length()):(O(((A=Re["~"])===I?I:A["$[]"](0))["$start_with?"]("icon:"))?(A=["icon",["size"]],Y=A[0],de=A[1]):(A=["image",["alt","width","height"]],Y=A[0],de=A[1]),fe=(A=Re["~"])===I?I:A["$[]"](1),xe=V.$parse_attributes((A=Re["~"])===I?I:A["$[]"](2),de,Q(["unescape_input"],{unescape_input:!0})),Je(Y,"icon")||(y.$register("images",fe),xe["$[]="]("imagesdir",c["$[]"]("imagesdir"))),O(K=xe["$[]"]("alt"))||xe["$[]="]("alt",(A=["default-alt",ye("Helpers").$basename(fe,!0).$tr("_-"," ")],ze(xe,"[]=",A),A[A.length-1])),ye("Inline").$new(V,"image",I,Q(["type","target","attributes"],{type:Y,target:fe,attributes:xe})).$convert())},{$$s:P})),(O(U["$include?"]("(("))&&O(U["$include?"]("))"))||O(v)&&O(U["$include?"]("dexterm")))&&(U=ze(U,"gsub",[ye("InlineIndextermMacroRx")],function R(){var A,V,Y=R.$$s==null?this:R.$$s,de=I,fe=I,xe=I,Ve=I,tt=I,ct=I,vt=I,_t=I,wt=I,Dt=I,zt=I,It=I,Mt=I,Ft=I;switch((A=Re["~"])===I?I:A["$[]"](1)){case"indexterm":return O(((A=Re["~"])===I?I:A["$[]"](0))["$start_with?"](ye("RS")))?((A=Re["~"])===I?I:A["$[]"](0)).$slice(1,((A=Re["~"])===I?I:A["$[]"](0)).$length()):(O((de=Y.$normalize_text((A=Re["~"])===I?I:A["$[]"](2),!0,!0))["$include?"]("="))?O(fe=(xe=ye("AttributeList").$new(de,Y).$parse())["$[]"](1))?(xe["$[]="]("terms",[fe]),O(Ve=xe["$[]"]("see-also"))&&xe["$[]="]("see-also",O(Ve["$include?"](","))?ze(Ve.$split(","),"map",[],function(Ot){return Ot==null&&(Ot=I),Ot.$lstrip()}):[Ve])):xe=Q(["terms"],{terms:de}):xe=Q(["terms"],{terms:Y.$split_simple_csv(de)}),ye("Inline").$new(Y,"indexterm",I,Q(["attributes"],{attributes:xe})).$convert());case"indexterm2":return O(((A=Re["~"])===I?I:A["$[]"](0))["$start_with?"](ye("RS")))?((A=Re["~"])===I?I:A["$[]"](0)).$slice(1,((A=Re["~"])===I?I:A["$[]"](0)).$length()):(O((tt=Y.$normalize_text((A=Re["~"])===I?I:A["$[]"](2),!0,!0))["$include?"]("="))&&(tt=O(ct=O(vt=(xe=ye("AttributeList").$new(tt,Y).$parse())["$[]"](1))?vt:xe=I)?ct:tt,O(xe)&&O(Ve=xe["$[]"]("see-also"))&&xe["$[]="]("see-also",O(Ve["$include?"](","))?ze(Ve.$split(","),"map",[],function(Ot){return Ot==null&&(Ot=I),Ot.$lstrip()}):[Ve])),ye("Inline").$new(Y,"indexterm",tt,Q(["attributes","type"],{attributes:xe,type:"visible"})).$convert());default:if(_t=(A=Re["~"])===I?I:A["$[]"](3),O(((A=Re["~"])===I?I:A["$[]"](0))["$start_with?"](ye("RS"))))if(O(_t["$start_with?"]("("))&&O(_t["$end_with?"](")")))_t=_t.$slice(1,it(_t.$length(),2)),A=[!0,"(",")"],wt=A[0],Dt=A[1],zt=A[2];else return((A=Re["~"])===I?I:A["$[]"](0)).$slice(1,((A=Re["~"])===I?I:A["$[]"](0)).$length());else wt=!0,O(_t["$start_with?"]("("))?O(_t["$end_with?"](")"))?(A=[_t.$slice(1,it(_t.$length(),2)),!1],_t=A[0],wt=A[1]):(A=[_t.$slice(1,_t.$length()),"(",""],_t=A[0],Dt=A[1],zt=A[2]):O(_t["$end_with?"](")"))&&(A=[_t.$chop(),"",")"],_t=A[0],Dt=A[1],zt=A[2]);return O(wt)?(O((tt=Y.$normalize_text(_t,!0))["$include?"](";&"))&&(O(tt["$include?"](" &gt;&gt; "))?(V=tt.$partition(" &gt;&gt; "),A=Le(V),tt=A[0]==null?I:A[0],A[1]==null||A[1],It=A[2]==null?I:A[2],xe=Q(["see"],{see:It})):O(tt["$include?"](" &amp;&gt; "))&&(V=tt.$split(" &amp;&gt; "),A=Le(V),tt=A[0]==null?I:A[0],Ve=Ze(A,1),xe=Q(["see-also"],{"see-also":Ve}))),Mt=ye("Inline").$new(Y,"indexterm",tt,Q(["attributes","type"],{attributes:xe,type:"visible"})).$convert()):(xe=Q([],{}),O((Ft=Y.$normalize_text(_t,!0))["$include?"](";&"))&&(O(Ft["$include?"](" &gt;&gt; "))?(V=Ft.$partition(" &gt;&gt; "),A=Le(V),Ft=A[0]==null?I:A[0],A[1]==null||A[1],It=A[2]==null?I:A[2],xe["$[]="]("see",It)):O(Ft["$include?"](" &amp;&gt; "))&&(V=Ft.$split(" &amp;&gt; "),A=Le(V),Ft=A[0]==null?I:A[0],Ve=Ze(A,1),xe["$[]="]("see-also",Ve))),xe["$[]="]("terms",Y.$split_simple_csv(Ft)),Mt=ye("Inline").$new(Y,"indexterm",I,Q(["attributes"],{attributes:xe})).$convert()),O(Dt)?""+Dt+Mt+zt:Mt}},{$$s:P})),O(ae)&&O(U["$include?"]("://"))&&(U=ze(U,"gsub",[ye("InlineLinkRx")],function R(){var A,V,Y=R.$$s==null?this:R.$$s,de=I,fe=I,xe=I,Ve=I,tt=I,ct=I,vt=I,_t=I,wt=I;if(O((de=w((A=Re["~"])===I?I:A["$[]"](2),O(K=(A=Re["~"])===I?I:A["$[]"](3))?K:(A=Re["~"])===I?I:A["$[]"](5)))["$start_with?"](ye("RS"))))return w(((A=Re["~"])===I?I:A["$[]"](0)).$slice(0,fe=((A=Re["~"])===I?I:A["$[]"](1)).$length()),((A=Re["~"])===I?I:A["$[]"](0)).$slice(w(fe,1),((A=Re["~"])===I?I:A["$[]"](0)).$length()));if(A=[(V=Re["~"])===I?I:V["$[]"](1),""],xe=A[0],Ve=A[1],O((A=Re["~"])===I?I:A["$[]"](4)))Je(xe,"link:")&&(xe=""),O((tt=(A=Re["~"])===I?I:A["$[]"](4))["$empty?"]())&&(tt=I);else{switch(xe){case"link:":case'"':case"'":return(A=Re["~"])===I?I:A["$[]"](0)}switch((A=Re["~"])===I?I:A["$[]"](6)){case";":if(O(xe["$start_with?"]("&lt;"))&&O(de["$end_with?"]("&gt;"))?(xe=xe.$slice(4,xe.$length()),de=de.$slice(0,it(de.$length(),4))):O((de=de.$chop())["$end_with?"](")"))?(de=de.$chop(),Ve=");"):Ve=";",O(de["$end_with?"]("://")))return(A=Re["~"])===I?I:A["$[]"](0);break;case":":if(O((de=de.$chop())["$end_with?"](")"))?(de=de.$chop(),Ve="):"):Ve=":",O(de["$end_with?"]("://")))return(A=Re["~"])===I?I:A["$[]"](0);break}}return A=[I,Q(["type"],{type:"link"})],ct=A[0],vt=A[1],O(tt)?(O(tt["$include?"](ye("R_SB")))&&(_t=tt=tt.$gsub(ye("ESC_R_SB"),ye("R_SB"))),Xe(y.$compat_mode())&&O(tt["$include?"]("="))&&(V=Y.$extract_attributes_from_text(tt,""),A=Le(V),tt=A[0]==null?I:A[0],ct=A[1]==null?I:A[1],_t=tt,vt["$[]="]("id",ct["$[]"]("id"))),O(tt["$end_with?"]("^"))&&(_t=tt=tt.$chop(),O(ct)?O(K=ct["$[]"]("window"))||ct["$[]="]("window","_blank"):ct=Q(["window"],{window:"_blank"})),O(_t)&&O(_t["$empty?"]())&&(tt=O(c["$key?"]("hide-uri-scheme"))?de.$sub(ye("UriSniffRx"),""):de,wt=!0)):(tt=O(c["$key?"]("hide-uri-scheme"))?de.$sub(ye("UriSniffRx"),""):de,wt=!0),O(wt)&&(O(ct)?ct["$[]="]("role",O(ct["$key?"]("role"))?"bare "+ct["$[]"]("role"):"bare"):ct=Q(["role"],{role:"bare"})),y.$register("links",(A=["target",de],ze(vt,"[]=",A),A[A.length-1])),O(ct)&&vt["$[]="]("attributes",ct),""+xe+ye("Inline").$new(Y,"anchor",tt,vt).$convert()+Ve},{$$s:P})),O(_e)&&(O(U["$include?"]("link:"))||O(U["$include?"]("ilto:")))&&(U=ze(U,"gsub",[ye("InlineLinkMacroRx")],function R(){var A,V,Y=R.$$s==null?this:R.$$s,de=I,fe=I,xe=I,Ve=I,tt=I,ct=I;return O(((A=Re["~"])===I?I:A["$[]"](0))["$start_with?"](ye("RS")))?((A=Re["~"])===I?I:A["$[]"](0)).$slice(1,((A=Re["~"])===I?I:A["$[]"](0)).$length()):(O(de=(A=Re["~"])===I?I:A["$[]"](1))?fe=w("mailto:",xe=(A=Re["~"])===I?I:A["$[]"](2)):fe=(A=Re["~"])===I?I:A["$[]"](2),A=[I,Q(["type"],{type:"link"})],Ve=A[0],tt=A[1],O((ct=(A=Re["~"])===I?I:A["$[]"](3))["$empty?"]())||(O(ct["$include?"](ye("R_SB")))&&(ct=ct.$gsub(ye("ESC_R_SB"),ye("R_SB"))),O(de)?Xe(y.$compat_mode())&&O(ct["$include?"](","))&&(V=Y.$extract_attributes_from_text(ct,""),A=Le(V),ct=A[0]==null?I:A[0],Ve=A[1]==null?I:A[1],tt["$[]="]("id",Ve["$[]"]("id")),O(Ve["$key?"](2))&&(O(Ve["$key?"](3))?fe=""+fe+"?subject="+ye("Helpers").$encode_uri_component(Ve["$[]"](2))+"&amp;body="+ye("Helpers").$encode_uri_component(Ve["$[]"](3)):fe=""+fe+"?subject="+ye("Helpers").$encode_uri_component(Ve["$[]"](2)))):Xe(y.$compat_mode())&&O(ct["$include?"]("="))&&(V=Y.$extract_attributes_from_text(ct,""),A=Le(V),ct=A[0]==null?I:A[0],Ve=A[1]==null?I:A[1],tt["$[]="]("id",Ve["$[]"]("id"))),O(ct["$end_with?"]("^"))&&(ct=ct.$chop(),O(Ve)?O(K=Ve["$[]"]("window"))||Ve["$[]="]("window","_blank"):Ve=Q(["window"],{window:"_blank"}))),O(ct["$empty?"]())&&(O(de)?ct=xe:(O(c["$key?"]("hide-uri-scheme"))?O((ct=fe.$sub(ye("UriSniffRx"),""))["$empty?"]())&&(ct=fe):ct=fe,O(Ve)?Ve["$[]="]("role",O(Ve["$key?"]("role"))?"bare "+Ve["$[]"]("role"):"bare"):Ve=Q(["role"],{role:"bare"}))),y.$register("links",(A=["target",fe],ze(tt,"[]=",A),A[A.length-1])),O(Ve)&&tt["$[]="]("attributes",Ve),ye("Inline").$new(Y,"anchor",ct,tt).$convert())},{$$s:P})),O(U["$include?"]("@"))&&(U=ze(U,"gsub",[ye("InlineEmailRx")],function R(){var A,V=R.$$s==null?this:R.$$s,Y=I,de=I;return O((A=Re["~"])===I?I:A["$[]"](1))?Je((A=Re["~"])===I?I:A["$[]"](1),ye("RS"))?((A=Re["~"])===I?I:A["$[]"](0)).$slice(1,((A=Re["~"])===I?I:A["$[]"](0)).$length()):(A=Re["~"])===I?I:A["$[]"](0):(Y=w("mailto:",de=(A=Re["~"])===I?I:A["$[]"](0)),y.$register("links",Y),ye("Inline").$new(V,"anchor",de,Q(["type","target"],{type:"link",target:Y})).$convert())},{$$s:P})),O(le)&&Je(P.context,"list_item")&&Je(P.parent.$style(),"bibliography")&&(U=ze(U,"sub",[ye("InlineBiblioAnchorRx")],function R(){var A,V=R.$$s==null?this:R.$$s;return ye("Inline").$new(V,"anchor",(A=Re["~"])===I?I:A["$[]"](2),Q(["type","id"],{type:"bibref",id:(A=Re["~"])===I?I:A["$[]"](1)})).$convert()},{$$s:P})),(O(le)&&O(U["$include?"]("[["))||O(_e)&&O(U["$include?"]("or:")))&&(U=ze(U,"gsub",[ye("InlineAnchorRx")],function R(){var A,V=R.$$s==null?this:R.$$s,Y=I,de=I;return O((A=Re["~"])===I?I:A["$[]"](1))?((A=Re["~"])===I?I:A["$[]"](0)).$slice(1,((A=Re["~"])===I?I:A["$[]"](0)).$length()):(O(Y=(A=Re["~"])===I?I:A["$[]"](2))?de=(A=Re["~"])===I?I:A["$[]"](3):(Y=(A=Re["~"])===I?I:A["$[]"](4),O(de=(A=Re["~"])===I?I:A["$[]"](5))&&O(de["$include?"](ye("R_SB")))&&(de=de.$gsub(ye("ESC_R_SB"),ye("R_SB")))),ye("Inline").$new(V,"anchor",de,Q(["type","id"],{type:"ref",id:Y})).$convert())},{$$s:P})),(O(U["$include?"]("&"))&&O(U["$include?"](";&l"))||O(_e)&&O(U["$include?"]("xref:")))&&(U=ze(U,"gsub",[ye("InlineXrefMacroRx")],function R(){var A,V,Y=R.$$s==null?this:R.$$s,de=I,fe=I,xe=I,Ve=I,tt=I,ct=I,vt=I,_t=I,wt=I,Dt=I;return O(((A=Re["~"])===I?I:A["$[]"](0))["$start_with?"](ye("RS")))?((A=Re["~"])===I?I:A["$[]"](0)).$slice(1,((A=Re["~"])===I?I:A["$[]"](0)).$length()):(de=Q([],{}),O(fe=(A=Re["~"])===I?I:A["$[]"](1))?O(fe["$include?"](","))&&(V=fe.$partition(","),A=Le(V),fe=A[0]==null?I:A[0],A[1]==null||A[1],xe=A[2]==null?I:A[2],O((xe=xe.$lstrip())["$empty?"]())&&(xe=I)):(Ve=!0,fe=(A=Re["~"])===I?I:A["$[]"](2),O(xe=(A=Re["~"])===I?I:A["$[]"](3))&&(O(xe["$include?"](ye("R_SB")))&&(xe=xe.$gsub(ye("ESC_R_SB"),ye("R_SB"))),Xe(y.$compat_mode())&&O(xe["$include?"]("="))&&(V=Y.$extract_attributes_from_text(xe),A=Le(V),xe=A[0]==null?I:A[0],de=A[1]==null?I:A[1]))),O(y.$compat_mode())?tt=fe:O(ct=fe.$index("#"))&&He(fe["$[]"](it(ct,1)),"&")?O(ft(ct,0))?(O(ft(vt=it(it(fe.$length(),1),ct),0))?(A=[fe.$slice(0,ct),fe.$slice(w(ct,1),vt)],_t=A[0],tt=A[1]):_t=fe.$chop(),O(Ve)?O(_t["$end_with?"](".adoc"))?wt=_t=_t.$slice(0,it(_t.$length(),5)):Xe(ye("Helpers")["$extname?"](_t))&&(wt=_t):O(ze(_t,"end_with?",gt(ye("ASCIIDOC_EXTENSIONS").$keys())))?wt=_t=_t.$slice(0,_t.$rindex(".")):wt=_t):(A=[fe,fe.$slice(1,fe.$length())],Dt=A[0],tt=A[1]):O(Ve)?O(fe["$end_with?"](".adoc"))?wt=_t=fe.$slice(0,it(fe.$length(),5)):O(ye("Helpers")["$extname?"](fe))?_t=fe:tt=fe:tt=fe,O(Dt)?(fe=tt,O(Y.$logger()["$info?"]())&&Xe(y.$catalog()["$[]"]("refs")["$[]"](fe))&&Y.$logger().$info("possible invalid reference: "+fe)):O(_t)?O(wt)&&(Je(y.$attributes()["$[]"]("docname"),_t)||O(y.$catalog()["$[]"]("includes")["$[]"](_t)))?O(tt)?(A=[tt,I,"#"+tt],fe=A[0],_t=A[1],Dt=A[2],O(Y.$logger()["$info?"]())&&Xe(y.$catalog()["$[]"]("refs")["$[]"](fe))&&Y.$logger().$info("possible invalid reference: "+fe)):(A=[I,I,"#"],fe=A[0],_t=A[1],Dt=A[2]):(A=[_t,""+(O(K=y.$attributes()["$[]"]("relfileprefix"))?K:"")+_t+(O(wt)?y.$attributes().$fetch("relfilesuffix",y.$outfilesuffix()):"")],fe=A[0],_t=A[1],O(tt)?(A=[""+fe+"#"+tt,""+_t+"#"+tt],fe=A[0],Dt=A[1]):Dt=_t):O(y.$compat_mode())||Xe(ye("Compliance").$natural_xrefs())?(A=[tt,"#"+tt],fe=A[0],Dt=A[1],O(Y.$logger()["$info?"]())&&Xe(y.$catalog()["$[]"]("refs")["$[]"](fe))&&Y.$logger().$info("possible invalid reference: "+fe)):O(y.$catalog()["$[]"]("refs")["$[]"](tt))?(A=[tt,"#"+tt],fe=A[0],Dt=A[1]):(O(tt["$include?"](" "))||He(tt.$downcase(),tt))&&O(fe=y.$resolve_id(tt))?(A=[fe,"#"+fe],tt=A[0],Dt=A[1]):(A=[tt,"#"+tt],fe=A[0],Dt=A[1],O(Y.$logger()["$info?"]())&&Y.$logger().$info("possible invalid reference: "+fe)),de["$[]="]("path",_t),de["$[]="]("fragment",tt),de["$[]="]("refid",fe),ye("Inline").$new(Y,"anchor",xe,Q(["type","target","attributes"],{type:"xref",target:Dt,attributes:de})).$convert())},{$$s:P})),O(_e)&&O(U["$include?"]("tnote"))&&(U=ze(U,"gsub",[ye("InlineFootnoteMacroRx")],function R(){var A,V,Y,de=R.$$s==null?this:R.$$s,fe=I,xe=I,Ve=I,tt=I,ct=I,vt=I;if(O(((A=Re["~"])===I?I:A["$[]"](0))["$start_with?"](ye("RS"))))return((A=Re["~"])===I?I:A["$[]"](0)).$slice(1,((A=Re["~"])===I?I:A["$[]"](0)).$length());if(O((A=Re["~"])===I?I:A["$[]"](1)))if(O((A=Re["~"])===I?I:A["$[]"](3)))V=((Y=Re["~"])===I?I:Y["$[]"](3)).$split(",",2),A=Le(V),fe=A[0]==null?I:A[0],xe=A[1]==null?I:A[1],O(y.$compat_mode())||de.$logger().$warn("found deprecated footnoteref macro: "+((A=Re["~"])===I?I:A["$[]"](0))+"; use footnote macro with target instead");else return(A=Re["~"])===I?I:A["$[]"](0);else fe=(A=Re["~"])===I?I:A["$[]"](2),xe=(A=Re["~"])===I?I:A["$[]"](3);if(O(fe))O(Ve=ze(y.$footnotes(),"find",[],function(wt){return wt==null&&(wt=I),wt.$id()["$=="](fe)}))?(A=[Ve.$index(),Ve.$text()],tt=A[0],xe=A[1],A=["xref",fe,I],ct=A[0],vt=A[1],fe=A[2]):O(xe)?(xe=de.$restore_passthroughs(de.$normalize_text(xe,!0,!0)),tt=y.$counter("footnote-number"),y.$register("footnotes",lt(ye("Document"),"Footnote").$new(tt,fe,xe)),A=["ref",I],ct=A[0],vt=A[1]):(de.$logger().$warn("invalid footnote reference: "+fe),A=["xref",fe,fe,I],ct=A[0],vt=A[1],xe=A[2],fe=A[3]);else if(O(xe))xe=de.$restore_passthroughs(de.$normalize_text(xe,!0,!0)),tt=y.$counter("footnote-number"),y.$register("footnotes",lt(ye("Document"),"Footnote").$new(tt,fe,xe)),ct=vt=I;else return(A=Re["~"])===I?I:A["$[]"](0);return ye("Inline").$new(de,"footnote",xe,Q(["attributes","id","target","type"],{attributes:Q(["index"],{index:tt}),id:fe,target:vt,type:ct})).$convert()},{$$s:P})),U}),N(Se,"$sub_post_replacements",function(U){var P=this,le=I,ae=I;return P.document==null&&(P.document=I),P.attributes==null&&(P.attributes=I),O(P.attributes["$[]"]("hardbreaks-option"))||O(P.document.$attributes()["$[]"]("hardbreaks-option"))?(le=U.$split(ye("LF"),-1),O(pt(le.$size(),2))?U:(ae=le.$pop(),ze(le,"map",[],function _e(K){var v=_e.$$s==null?this:_e.$$s;return K==null&&(K=I),ye("Inline").$new(v,"break",O(K["$end_with?"](ye("HARD_LINE_BREAK")))?K.$slice(0,it(K.$length(),2)):K,Q(["type"],{type:"line"})).$convert()},{$$s:P})["$<<"](ae).$join(ye("LF")))):O(U["$include?"](ye("PLUS")))&&O(U["$include?"](ye("HARD_LINE_BREAK")))?ze(U,"gsub",[ye("HardLineBreakRx")],function _e(){var K,v=_e.$$s==null?this:_e.$$s;return ye("Inline").$new(v,"break",(K=Re["~"])===I?I:K["$[]"](1),Q(["type"],{type:"line"})).$convert()},{$$s:P}):U}),N(Se,"$sub_source",function(U,P){var le=this;return O(P)?le.$sub_callouts(le.$sub_specialchars(U)):le.$sub_specialchars(U)}),N(Se,"$sub_callouts",function(U){var P=this,le=I,ae=I;return le=O(P["$attr?"]("line-comment"))?ye("CalloutSourceRxMap")["$[]"](P.$attr("line-comment")):ye("CalloutSourceRx"),ae=0,ze(U,"gsub",[le],function _e(){var K,v=_e.$$s==null?this:_e.$$s,c=I;return v.document==null&&(v.document=I),O((K=Re["~"])===I?I:K["$[]"](2))?((K=Re["~"])===I?I:K["$[]"](0)).$sub(ye("RS"),""):ye("Inline").$new(v,"callout",Je((K=Re["~"])===I?I:K["$[]"](4),".")?(ae=w(ae,1)).$to_s():(K=Re["~"])===I?I:K["$[]"](4),Q(["id","attributes"],{id:v.document.$callouts().$read_next_id(),attributes:Q(["guard"],{guard:O(c=(K=Re["~"])===I?I:K["$[]"](1))?c:Je((K=Re["~"])===I?I:K["$[]"](3),"--")?["<!--","-->"]:I})})).$convert()},{$$s:P})}),N(Se,"$highlight_source",function(U,P){var le,ae,_e=this,K=I,v=I,c=I,y=I,q=I,R=I,A=I,V=I,Y=I,de=I;return _e.document==null&&(_e.document=I),_e.passthroughs==null&&(_e.passthroughs=I),O(K=_e.document.$syntax_highlighter())&&O(K["$highlight?"]())?(O(P)&&(ae=_e.$extract_callouts(U),le=Le(ae),U=le[0]==null?I:le[0],v=le[1]==null?I:le[1]),c=_e.document.$attributes(),y=K.$name(),O(R=O(_e["$attr?"]("linenums"))?(O(A=c["$[]"](""+y+"-linenums-mode"))?A:"table").$to_sym():I)&&O(pt(q=_e.$attr("start",1).$to_i(),1))&&(q=1),O(_e["$attr?"]("highlight"))&&(V=_e.$resolve_lines_to_highlight(U,_e.$attr("highlight"),q)),ae=K.$highlight(_e,U,_e.$attr("language"),Q(["callouts","css_mode","highlight_lines","number_lines","start_line_number","style"],{callouts:v,css_mode:(O(A=c["$[]"](""+y+"-css"))?A:"class").$to_sym(),highlight_lines:V,number_lines:R,start_line_number:q,style:c["$[]"](""+y+"-style")})),le=Le(ae),Y=le[0]==null?I:le[0],de=le[1]==null?I:le[1],O(_e.passthroughs["$empty?"]())||(Y=Y.$gsub(ye("HighlightedPassSlotRx"),""+ye("PASS_START")+"\\1"+ye("PASS_END"))),O(v["$nil_or_empty?"]())?Y:_e.$restore_callouts(Y,v,de)):_e.$sub_source(U,P)}),N(Se,"$resolve_lines_to_highlight",function(U,P,le){var ae=I,_e=I;return le==null&&(le=I),ae=[],O(P["$include?"](" "))&&(P=P.$delete(" ")),ze(O(P["$include?"](","))?P.$split(","):P.$split(";"),"map",[],function(v){var c,y,q=I,R=I,A=I,V=I,Y=I;return v==null&&(v=I),O(v["$start_with?"]("!"))&&(v=v.$slice(1,v.$length()),q=!0),O(R=O(v["$include?"](".."))?"..":O(v["$include?"]("-"))?"-":I)?(y=v.$partition(R),c=Le(y),A=c[0]==null?I:c[0],c[1]==null||c[1],V=c[2]==null?I:c[2],(O(V["$empty?"]())||O(pt(V=V.$to_i(),0)))&&(V=w(U.$count(ye("LF")),1)),O(q)?ae=it(ae,l.Range.$new(A.$to_i(),V,!1).$to_a()):ae=ae["$|"](l.Range.$new(A.$to_i(),V,!1).$to_a())):O(q)?ae.$delete(v.$to_i()):Xe(ae["$include?"](Y=v.$to_i()))?ae["$<<"](Y):I}),Je(_e=O(le)?it(le,1):0,0)||(ae=ze(ae,"map",[],function(v){return v==null&&(v=I),it(v,_e)})),ae.$sort()},-3),N(Se,"$extract_passthroughs",function(U){var P,le,ae=this,_e=I,K=I,v=I,c=I,y=I;return ae.document==null&&(ae.document=I),ae.passthroughs==null&&(ae.passthroughs=I),_e=ae.document.$compat_mode(),K=ae.passthroughs,(O(U["$include?"]("++"))||O(U["$include?"]("$$"))||O(U["$include?"]("ss:")))&&(U=ze(U,"gsub",[ye("InlinePassMacroRx")],function q(){var R,A=q.$$s==null?this:q.$$s,V=I,Y=I,de=I,fe=I,xe=I,Ve=I,tt=I,ct=I,vt=I;if(O(V=(R=Re["~"])===I?I:R["$[]"](4))){if(O(_e)&&Je(V,"++"))return(O((R=Re["~"])===I?I:R["$[]"](2))?""+((R=Re["~"])===I?I:R["$[]"](1))+"["+((R=Re["~"])===I?I:R["$[]"](2))+"]"+((R=Re["~"])===I?I:R["$[]"](3)):""+((R=Re["~"])===I?I:R["$[]"](1))+((R=Re["~"])===I?I:R["$[]"](3)))+"++"+A.$extract_passthroughs((R=Re["~"])===I?I:R["$[]"](5))+"++";if(O(Y=(R=Re["~"])===I?I:R["$[]"](2))){if(O(ft(de=((R=Re["~"])===I?I:R["$[]"](3)).$length(),0)))return""+((R=Re["~"])===I?I:R["$[]"](1))+"["+Y+"]"+M(ye("RS"),it(de,1))+V+((R=Re["~"])===I?I:R["$[]"](5))+V;Je((R=Re["~"])===I?I:R["$[]"](1),ye("RS"))?fe="["+Y+"]":Je(V,"++")?Je(Y,"x-")?(xe=!0,Ve=Q([],{})):O(Y["$end_with?"](" x-"))?(xe=!0,Ve=A.$parse_quoted_text_attributes(Y.$slice(0,it(Y.$length(),3)))):Ve=A.$parse_quoted_text_attributes(Y):Ve=A.$parse_quoted_text_attributes(Y)}else if(O(ft(de=((R=Re["~"])===I?I:R["$[]"](3)).$length(),0)))return""+M(ye("RS"),it(de,1))+V+((R=Re["~"])===I?I:R["$[]"](5))+V;tt=Je(V,"+++")?[]:ye("BASIC_SUBS"),O(Ve)?O(xe)?K["$[]="](ct=K.$size(),Q(["text","subs","type","attributes"],{text:(R=Re["~"])===I?I:R["$[]"](5),subs:ye("NORMAL_SUBS"),type:"monospaced",attributes:Ve})):K["$[]="](ct=K.$size(),Q(["text","subs","type","attributes"],{text:(R=Re["~"])===I?I:R["$[]"](5),subs:tt,type:"unquoted",attributes:Ve})):K["$[]="](ct=K.$size(),Q(["text","subs"],{text:(R=Re["~"])===I?I:R["$[]"](5),subs:tt}))}else{if(Je((R=Re["~"])===I?I:R["$[]"](6),ye("RS")))return((R=Re["~"])===I?I:R["$[]"](0)).$slice(1,((R=Re["~"])===I?I:R["$[]"](0)).$length());O(tt=(R=Re["~"])===I?I:R["$[]"](7))?K["$[]="](ct=K.$size(),Q(["text","subs"],{text:A.$normalize_text((R=Re["~"])===I?I:R["$[]"](8),I,!0),subs:A.$resolve_pass_subs(tt)})):K["$[]="](ct=K.$size(),Q(["text"],{text:A.$normalize_text((R=Re["~"])===I?I:R["$[]"](8),I,!0)}))}return""+(O(vt=fe)?vt:"")+ye("PASS_START")+ct+ye("PASS_END")},{$$s:ae})),le=ye("InlinePassRx")["$[]"](_e),P=Le(le),v=P[0]==null?I:P[0],c=P[1]==null?I:P[1],y=P[2]==null?I:P[2],(O(U["$include?"](v))||O(c)&&O(U["$include?"](c)))&&(U=ze(U,"gsub",[y],function q(){var R,A=q.$$s==null?this:q.$$s,V=I,Y=I,de=I,fe=I,xe=I,Ve=I,tt=I,ct=I,vt=I,_t=I,wt=I,Dt=I;if(V=(R=Re["~"])===I?I:R["$[]"](1),Y=O(de=(R=Re["~"])===I?I:R["$[]"](4))?de:(R=Re["~"])===I?I:R["$[]"](3),O((R=Re["~"])===I?I:R["$[]"](5))&&(fe=!0),xe=(R=Re["~"])===I?I:R["$[]"](6),Ve=(R=Re["~"])===I?I:R["$[]"](7),tt=(R=Re["~"])===I?I:R["$[]"](8),O(_e)?ct=!0:O(Y)&&(Je(Y,"x-")||O(Y["$end_with?"](" x-")))&&(ct=vt=!0),O(Y)){if(O(fe))return""+V+"["+Y+"]"+xe.$slice(1,xe.$length());if(Je(V,ye("RS"))){if(O(vt)&&Je(Ve,"`"))return""+V+"["+Y+"]"+xe;V="["+Y+"]"}else O(vt)?_t=Je(Y,"x-")?Q([],{}):A.$parse_quoted_text_attributes(Y.$slice(0,it(Y.$length(),3))):_t=A.$parse_quoted_text_attributes(Y)}else{if(O(fe))return""+V+xe.$slice(1,xe.$length());if(O(_e)&&Je(V,ye("RS")))return xe}return O(_e)?K["$[]="](wt=K.$size(),Q(["text","subs","attributes","type"],{text:tt,subs:ye("BASIC_SUBS"),attributes:_t,type:"monospaced"})):O(_t)?O(ct)?(Dt=Je(Ve,"`")?ye("BASIC_SUBS"):ye("NORMAL_SUBS"),K["$[]="](wt=K.$size(),Q(["text","subs","attributes","type"],{text:tt,subs:Dt,attributes:_t,type:"monospaced"}))):K["$[]="](wt=K.$size(),Q(["text","subs","attributes","type"],{text:tt,subs:ye("BASIC_SUBS"),attributes:_t,type:"unquoted"})):K["$[]="](wt=K.$size(),Q(["text","subs"],{text:tt,subs:ye("BASIC_SUBS")})),""+V+ye("PASS_START")+wt+ye("PASS_END")},{$$s:ae})),O(U["$include?"](":"))&&(O(U["$include?"]("stem:"))||O(U["$include?"]("math:")))&&(U=ze(U,"gsub",[ye("InlineStemMacroRx")],function q(){var R,A=q.$$s==null?this:q.$$s,V=I,Y=I,de=I,fe=I;return A.document==null&&(A.document=I),O(((R=Re["~"])===I?I:R["$[]"](0))["$start_with?"](ye("RS")))?((R=Re["~"])===I?I:R["$[]"](0)).$slice(1,((R=Re["~"])===I?I:R["$[]"](0)).$length()):(Je(V=((R=Re["~"])===I?I:R["$[]"](1)).$to_sym(),"stem")&&(V=ye("STEM_TYPE_ALIASES")["$[]"](A.document.$attributes()["$[]"]("stem")).$to_sym()),Y=(R=Re["~"])===I?I:R["$[]"](2),de=A.$normalize_text((R=Re["~"])===I?I:R["$[]"](3),I,!0),Je(V,"latexmath")&&O(de["$start_with?"]("$"))&&O(de["$end_with?"]("$"))&&(de=de.$slice(1,it(de.$length(),2))),Y=O(Y)?A.$resolve_pass_subs(Y):O(A.document["$basebackend?"]("html"))?ye("BASIC_SUBS"):I,K["$[]="](fe=K.$size(),Q(["text","subs","type"],{text:de,subs:Y,type:V})),""+ye("PASS_START")+fe+ye("PASS_END"))},{$$s:ae})),U}),N(Se,"$restore_passthroughs",function(U){var P=this,le=I;return P.passthroughs==null&&(P.passthroughs=I),le=P.passthroughs,ze(U,"gsub",[ye("PassSlotRx")],function ae(){var _e,K=ae.$$s==null?this:ae.$$s,v=I,c=I,y=I,q=I,R=I;return O(v=le["$[]"](((_e=Re["~"])===I?I:_e["$[]"](1)).$to_i()))?(c=K.$apply_subs(v["$[]"]("text"),v["$[]"]("subs")),O(y=v["$[]"]("type"))&&(O(q=v["$[]"]("attributes"))&&(R=q["$[]"]("id")),c=ye("Inline").$new(K,"quoted",c,Q(["type","id","attributes"],{type:y,id:R,attributes:q})).$convert()),O(c["$include?"](ye("PASS_START")))?K.$restore_passthroughs(c):c):(K.$logger().$error("unresolved passthrough detected: "+U),"??pass??")},{$$s:P})}),N(Se,"$resolve_subs",function(U,P,le,ae){var _e=this,K=I,v=I,c=I,y=I;return P==null&&(P="block"),le==null&&(le=I),ae==null&&(ae=I),O(U["$nil_or_empty?"]())||(K=I,O(U["$include?"](" "))&&(U=U.$delete(" ")),v=ye("SubModifierSniffRx")["$match?"](U),ze(U.$split(","),"each",[],function(R){var A=I,V=I,Y=I,de=I,fe=I,xe=I;if(R==null&&(R=I),A=I,O(v)&&(Je(V=R.$chr(),"+")?(A="append",R=R.$slice(1,R.$length())):Je(V,"-")?(A="remove",R=R.$slice(1,R.$length())):O(R["$end_with?"]("+"))&&(A="prepend",R=R.$chop())),R=R.$to_sym(),Je(P,"inline")&&(Je(R,"verbatim")||Je(R,"v"))?Y=ye("BASIC_SUBS"):O(ye("SUB_GROUPS")["$key?"](R))?Y=ye("SUB_GROUPS")["$[]"](R):Je(P,"inline")&&Je(R.$length(),1)&&O(ye("SUB_HINTS")["$key?"](R))?(de=ye("SUB_HINTS")["$[]"](R),O(fe=ye("SUB_GROUPS")["$[]"](de))?Y=fe:Y=[de]):Y=[R],O(A))switch(K=O(xe=K)?xe:O(le)?le.$drop(0):[],A){case"append":return K=w(K,Y);case"prepend":return K=w(Y,K);case"remove":return K=it(K,Y);default:return I}else return K=O(xe=K)?xe:[],K=w(K,Y)}),!O(K))?I:(c=K["$&"](ye("SUB_OPTIONS")["$[]"](P)),O(it(K,c)["$empty?"]())||(y=it(K,c),_e.$logger().$warn("invalid substitution type"+(O(ft(y.$size(),1))?"s":"")+(O(ae)?" for ":"")+ae+": "+y.$join(", "))),c)},-2),N(Se,"$resolve_block_subs",function(U,P,le){var ae=this;return ae.$resolve_subs(U,"block",P,le)}),N(Se,"$resolve_pass_subs",function(U){var P=this;return P.$resolve_subs(U,"inline",I,"passthrough macro")}),N(Se,"$expand_subs",function(U,P){var le=this,ae=I,_e=I,K=I;return P==null&&(P=I),We(lt("Symbol"),ae=U)?Je(U,"none")?I:O(_e=ye("SUB_GROUPS")["$[]"](U))?_e:[U]:We(lt("Array"),ae)?(K=[],ze(U,"each",[],function(c){var y=I;return c==null&&(c=I),Je(c,"none")?I:O(y=ye("SUB_GROUPS")["$[]"](c))?K=w(K,y):K["$<<"](c)}),O(K["$empty?"]())?I:K):le.$resolve_subs(U,"inline",I,P)},-2),N(Se,"$commit_subs",function(){var U=this,P=I,le=I,ae=I,_e=I,K=I;if(U.default_subs==null&&(U.default_subs=I),U.content_model==null&&(U.content_model=I),U.context==null&&(U.context=I),U.subs==null&&(U.subs=I),U.attributes==null&&(U.attributes=I),U.document==null&&(U.document=I),U.style==null&&(U.style=I),!O(P=U.default_subs))switch(U.content_model){case"simple":P=ye("NORMAL_SUBS");break;case"verbatim":P=Je(U.context,"verse")?ye("NORMAL_SUBS"):ye("VERBATIM_SUBS");break;case"raw":P=Je(U.context,"stem")?ye("BASIC_SUBS"):ye("NO_SUBS");break;default:return U.subs}return O(le=U.attributes["$[]"]("subs"))?U.subs=O(ae=U.$resolve_block_subs(le,P,U.context))?ae:[]:U.subs=P.$drop(0),Je(U.context,"listing")&&Je(U.style,"source")&&O(K=U.document.$syntax_highlighter())&&O(K["$highlight?"]())&&O(_e=U.subs.$index("specialcharacters"))&&U.subs["$[]="](_e,"highlight"),I}),N(Se,"$parse_attributes",function(U,P,le){var ae=this,_e=I,K=I;return ae.document==null&&(ae.document=I),P==null&&(P=[]),le==null&&(le=Q([],{})),O(O(U)?U["$empty?"]():!0)?Q([],{}):(O(le["$[]"]("unescape_input"))&&(U=ae.$normalize_text(U,!0,!0)),O(le["$[]"]("sub_input"))&&O(U["$include?"](ye("ATTR_REF_HEAD")))&&(U=ae.document.$sub_attributes(U)),O(le["$[]"]("sub_result"))&&(_e=ae),O(K=le["$[]"]("into"))?ye("AttributeList").$new(U,_e).$parse_into(K,P):ye("AttributeList").$new(U,_e).$parse(P))},-2),Se.$private(),N(Se,"$extract_attributes_from_text",function(U,P){var le=this,ae=I,_e=I,K=I;return P==null&&(P=I),ae=O(U["$include?"](ye("LF")))?U.$tr(ye("LF")," "):U,O(_e=(K=ye("AttributeList").$new(ae,le).$parse())["$[]"](1))?Je(_e,ae)?[U,K.$clear()]:[_e,K]:[P,K]},-2),N(Se,"$extract_callouts",function(U){var P=this,le=I,ae=I,_e=I,K=I,v=I;return le=Q([],{}),ae=_e=0,K=I,v=O(P["$attr?"]("line-comment"))?ye("CalloutExtractRxMap")["$[]"](P.$attr("line-comment")):ye("CalloutExtractRx"),U=ze(U.$split(ye("LF"),-1),"map",[],function(y){return y==null&&(y=I),_e=w(_e,1),ze(y,"gsub",[v],function(){var R,A=I;return O((R=Re["~"])===I?I:R["$[]"](2))?((R=Re["~"])===I?I:R["$[]"](0)).$sub(ye("RS"),""):((O(A=le["$[]"](_e))?A:(R=[_e,[]],ze(le,"[]=",R),R[R.length-1]))["$<<"]([O(A=(R=Re["~"])===I?I:R["$[]"](1))?A:Je((R=Re["~"])===I?I:R["$[]"](3),"--")?["<!--","-->"]:I,Je((R=Re["~"])===I?I:R["$[]"](4),".")?(ae=w(ae,1)).$to_s():(R=Re["~"])===I?I:R["$[]"](4)]),K=_e,"")})}).$join(ye("LF")),O(K)?Je(K,_e)&&(U=""+U+ye("LF")):le=I,[U,le]}),N(Se,"$restore_callouts",function(U,P,le){var ae=this,_e=I,K=I;return le==null&&(le=I),O(le)?(_e=U.$slice(0,le),U=U.$slice(le,U.$length())):_e="",K=0,w(_e,ze(U.$split(ye("LF"),-1),"map",[],function v(c){var y,q,R=v.$$s==null?this:v.$$s,A=I,V=I,Y=I;return R.document==null&&(R.document=I),c==null&&(c=I),O(A=P.$delete(K=w(K,1)))?Je(A.$size(),1)?(q=A["$[]"](0),y=Le(q),V=y[0]==null?I:y[0],Y=y[1]==null?I:y[1],""+c+ye("Inline").$new(R,"callout",Y,Q(["id","attributes"],{id:R.document.$callouts().$read_next_id(),attributes:Q(["guard"],{guard:V})})).$convert()):""+c+ze(A,"map",[],function de(fe,xe){var Ve=de.$$s==null?this:de.$$s;return Ve.document==null&&(Ve.document=I),fe==null&&(fe=I),xe==null&&(xe=I),ye("Inline").$new(Ve,"callout",xe,Q(["id","attributes"],{id:Ve.document.$callouts().$read_next_id(),attributes:Q(["guard"],{guard:fe})})).$convert()},{$$s:R}).$join(" "):c},{$$s:ae}).$join(ye("LF")))},-3),N(Se,"$convert_quoted_text",function(U,P,le){var ae=this,_e=I,K=I,v=I,c=I,y=I;if(O(U["$[]"](0)["$start_with?"](ye("RS"))))if(Je(le,"constrained")&&O(_e=U["$[]"](2)))K="["+_e+"]";else return U["$[]"](0).$slice(1,U["$[]"](0).$length());return Je(le,"constrained")?O(K)?""+K+ye("Inline").$new(ae,"quoted",U["$[]"](3),Q(["type"],{type:P})).$convert():(O(v=U["$[]"](2))&&(c=(y=ae.$parse_quoted_text_attributes(v))["$[]"]("id"),Je(P,"mark")&&(P="unquoted")),""+U["$[]"](1)+ye("Inline").$new(ae,"quoted",U["$[]"](3),Q(["type","id","attributes"],{type:P,id:c,attributes:y})).$convert()):(O(v=U["$[]"](1))&&(c=(y=ae.$parse_quoted_text_attributes(v))["$[]"]("id"),Je(P,"mark")&&(P="unquoted")),ye("Inline").$new(ae,"quoted",U["$[]"](2),Q(["type","id","attributes"],{type:P,id:c,attributes:y})).$convert())}),N(Se,"$do_replacement",function(U,P,le){var ae=I;if(O((ae=U["$[]"](0))["$include?"](ye("RS"))))return ae.$sub(ye("RS"),"");switch(le){case"none":return P;case"bounding":return w(w(U["$[]"](1),P),U["$[]"](2));default:return w(U["$[]"](1),P)}}),N(Se,"$parse_quoted_text_attributes",function(U){var P,le,ae=this,_e=I,K=I,v=I,c=I,y=I;return O(U["$include?"](ye("ATTR_REF_HEAD")))&&(U=ae.$sub_attributes(U)),O(U["$include?"](","))&&(U=U.$slice(0,U.$index(","))),O((U=U.$strip())["$empty?"]())?Q([],{}):O(U["$start_with?"](".","#"))&&O(ye("Compliance").$shorthand_property_syntax())?(le=U.$partition("#"),P=Le(le),_e=P[0]==null?I:P[0],P[1]==null||P[1],K=P[2]==null?I:P[2],v=Q([],{}),O(K["$empty?"]())?O(ft(_e.$length(),1))&&v["$[]="]("role",_e.$tr("."," ").$lstrip()):(le=K.$partition("."),P=Le(le),c=P[0]==null?I:P[0],P[1]==null||P[1],y=P[2]==null?I:P[2],O(c["$empty?"]())||v["$[]="]("id",c),O(y["$empty?"]())?O(ft(_e.$length(),1))&&v["$[]="]("role",_e.$tr("."," ").$lstrip()):O(ft(_e.$length(),1))?v["$[]="]("role",w(w(_e,"."),y).$tr("."," ").$lstrip()):v["$[]="]("role",y.$tr("."," "))),v):Q(["role"],{role:U})}),N(Se,"$normalize_text",function(U,P,le){return P==null&&(P=I),le==null&&(le=I),O(U["$empty?"]())||(O(P)&&(U=U.$strip().$tr(ye("LF")," ")),O(le)&&O(U["$include?"](ye("R_SB")))&&(U=U.$gsub(ye("ESC_R_SB"),ye("R_SB")))),U},-2),N(Se,"$split_simple_csv",function(U){var P=I,le=I,ae=I;return O(U["$empty?"]())?[]:O(U["$include?"]('"'))?(P=[],le="",ae=I,ze(U,"each_char",[],function(K){switch(K==null&&(K=I),K){case",":return O(ae)?le=w(le,K):(P["$<<"](le.$strip()),le="");case'"':return ae=ae["$!"]();default:return le=w(le,K)}}),P["$<<"](le.$strip())):ze(U.$split(","),"map",[],function(K){return K==null&&(K=I),K.$strip()})})}(Qe[0],Qe)}(ot[0],ot)},Opal.modules["asciidoctor/version"]=function(l){var ce=l.module,oe=l.const_set,Q=[];return l.nil,function(me,w){var W=ce(me,"Asciidoctor"),Xe=[W].concat(w);return oe(Xe[0],"VERSION","2.0.20")}(Q[0],Q)},Opal.modules["asciidoctor/abstract_node"]=function(l){var ce=l.module,oe=l.klass,Q=l.hash2,me=l.eqeq,w=l.truthy,W=l.def,Xe=l.send,O=l.rb_minus,ze=l.eqeqeq,N=l.rb_lt,at=l.not,Re=l.to_ary,Je=[],Le=l.nil,He=l.$$$;return l.add_stubs("include,attr_reader,attr_accessor,==,document,to_s,[],merge,raise,converter,attributes,key?,[]=,delete,tap,new,each_key,end_with?,<<,slice,-,length,update,split,include?,===,join,empty?,apply_reftext_subs,attr?,attr,extname?,image_uri,<,safe,normalize_web_path,uriish?,encode_spaces_in_uri,generate_data_uri_from_uri,generate_data_uri,extname,normalize_system_path,readable?,strict_encode64,binread,warn,logger,require_library,!,open_uri,content_type,read,base_dir,root?,path_resolver,system_path,web_path,!=,prepare_source_string,fetch,read_asset"),function(gt,We){var ft=ce(gt,"Asciidoctor"),Ze=[ft].concat(We);return function(it,pt,M){var ot=oe(it,pt,"AbstractNode"),I=[ot].concat(M),lt=l.$r(I),ht=ot.$$prototype;return ht.document=ht.attributes=ht.parent=Le,ot.$include(lt("Logging")),ot.$include(lt("Substitutors")),ot.$attr_reader("attributes"),ot.$attr_reader("context"),ot.$attr_reader("document"),ot.$attr_accessor("id"),ot.$attr_reader("node_name"),ot.$attr_reader("parent"),W(ot,"$initialize",function(B,Qe,Ae){var qe=this,Se=Le;return Ae==null&&(Ae=Q([],{})),me(Qe,"document")?qe.document=qe:w(B)&&(qe.document=(qe.parent=B).$document()),qe.node_name=(qe.context=Qe).$to_s(),qe.attributes=w(Se=Ae["$[]"]("attributes"))?Se.$merge():Q([],{}),qe.passthroughs=[]},-3),W(ot,"$block?",function(){var B=this;return B.$raise(He("NotImplementedError"))}),W(ot,"$inline?",function(){var B=this;return B.$raise(He("NotImplementedError"))}),W(ot,"$converter",function(){var B=this;return B.document.$converter()}),W(ot,"$parent=",function(B){var Qe,Ae=this;return Qe=[B,B.$document()],Ae.parent=Qe[0],Ae.document=Qe[1],Qe}),W(ot,"$attr",function(B,Qe,Ae){var qe=this,Se=Le,$e=Le,ye=Le,ne=Le;return Qe==null&&(Qe=Le),Ae==null&&(Ae=Le),w(Se=qe.attributes["$[]"](B.$to_s()))?Se:w($e=w(ye=w(ne=Ae)?qe.parent:ne)?qe.document.$attributes()["$[]"]((me(Ae,!0)?B:Ae).$to_s()):ye)?$e:Qe},-2),W(ot,"$attr?",function(B,Qe,Ae){var qe=this,Se=Le;return Qe==null&&(Qe=Le),Ae==null&&(Ae=Le),w(Qe)?Qe["$=="](w(Se=qe.attributes["$[]"](B.$to_s()))?Se:w(Ae)&&w(qe.parent)?qe.document.$attributes()["$[]"]((me(Ae,!0)?B:Ae).$to_s()):Le):w(Se=qe.attributes["$key?"](B.$to_s()))?Se:w(Ae)&&w(qe.parent)?qe.document.$attributes()["$key?"]((me(Ae,!0)?B:Ae).$to_s()):!1},-2),W(ot,"$set_attr",function(B,Qe,Ae){var qe=this;return Qe==null&&(Qe=""),Ae==null&&(Ae=!0),me(Ae,!1)&&w(qe.attributes["$key?"](B))?!1:(qe.attributes["$[]="](B,Qe),!0)},-2),W(ot,"$remove_attr",function(B){var Qe=this;return Qe.attributes.$delete(B)}),W(ot,"$option?",function(B){var Qe=this;return!!w(Qe.attributes["$[]"](""+B+"-option"))}),W(ot,"$set_option",function(B){var Qe=this;return Qe.attributes["$[]="](""+B+"-option",""),Le}),W(ot,"$enabled_options",function(){var B=this;return Xe(He("Set").$new(),"tap",[],function Qe(Ae){var qe=Qe.$$s==null?this:Qe.$$s;return qe.attributes==null&&(qe.attributes=Le),Ae==null&&(Ae=Le),Xe(qe.attributes,"each_key",[],function($e){return $e==null&&($e=Le),w($e.$to_s()["$end_with?"]("-option"))?Ae["$<<"]($e.$slice(0,O($e.$length(),7))):Le})},{$$s:B})}),W(ot,"$update_attributes",function(B){var Qe=this;return Qe.attributes.$update(B)}),W(ot,"$role",function(){var B=this;return B.attributes["$[]"]("role")}),W(ot,"$roles",function(){var B=this,Qe=Le;return w(Qe=B.attributes["$[]"]("role"))?Qe.$split():[]}),W(ot,"$role?",function(B){var Qe=this;return B==null&&(B=Le),w(B)?B["$=="](Qe.attributes["$[]"]("role")):Qe.attributes["$key?"]("role")},-1),W(ot,"$has_role?",function(B){var Qe=this,Ae=Le;return w(Ae=Qe.attributes["$[]"]("role"))?(" "+Ae+" ")["$include?"](" "+B+" "):!1}),W(ot,"$role=",function(B){var Qe,Ae=this;return Qe=["role",ze(He("Array"),B)?B.$join(" "):B],Xe(Ae.attributes,"[]=",Qe),Qe[Qe.length-1]}),W(ot,"$add_role",function(B){var Qe=this,Ae=Le;return w(Ae=Qe.attributes["$[]"]("role"))?w((" "+Ae+" ")["$include?"](" "+B+" "))?!1:(Qe.attributes["$[]="]("role",""+Ae+" "+B),!0):(Qe.attributes["$[]="]("role",B),!0)}),W(ot,"$remove_role",function(B){var Qe=this,Ae=Le;return w(Ae=Qe.attributes["$[]"]("role"))&&w((Ae=Ae.$split()).$delete(B))?(w(Ae["$empty?"]())?Qe.attributes.$delete("role"):Qe.attributes["$[]="]("role",Ae.$join(" ")),!0):!1}),W(ot,"$reftext",function(){var B=this,Qe=Le;return w(Qe=B.attributes["$[]"]("reftext"))?B.$apply_reftext_subs(Qe):Le}),W(ot,"$reftext?",function(){var B=this;return B.attributes["$key?"]("reftext")}),W(ot,"$icon_uri",function(B){var Qe=this,Ae=Le;return w(Qe["$attr?"]("icon"))?(Ae=Qe.$attr("icon"),w(lt("Helpers")["$extname?"](Ae))||(Ae=""+Ae+"."+Qe.document.$attr("icontype","png"))):Ae=""+B+"."+Qe.document.$attr("icontype","png"),Qe.$image_uri(Ae,"iconsdir")}),W(ot,"$image_uri",function(B,Qe){var Ae=this,qe=Le,Se=Le;return Qe==null&&(Qe="imagesdir"),w(N((qe=Ae.document).$safe(),He(lt("SafeMode"),"SECURE")))&&w(qe["$attr?"]("data-uri"))?w(lt("Helpers")["$uriish?"](B))&&w(B=lt("Helpers").$encode_spaces_in_uri(B))||w(Qe)&&w(Se=qe.$attr(Qe))&&w(lt("Helpers")["$uriish?"](Se))&&w(B=Ae.$normalize_web_path(B,Se,!1))?w(qe["$attr?"]("allow-uri-read"))?Ae.$generate_data_uri_from_uri(B,qe["$attr?"]("cache-uri")):B:Ae.$generate_data_uri(B,Qe):Ae.$normalize_web_path(B,w(Qe)?qe.$attr(Qe):Le)},-2),W(ot,"$media_uri",function(B,Qe){var Ae=this;return Qe==null&&(Qe="imagesdir"),Ae.$normalize_web_path(B,w(Qe)?Ae.document.$attr(Qe):Le)},-2),W(ot,"$generate_data_uri",function(B,Qe){var Ae=this,qe=Le,Se=Le,$e=Le;return Qe==null&&(Qe=Le),w(qe=lt("Helpers").$extname(B,Le))?Se=me(qe,".svg")?"image/svg+xml":"image/"+qe.$slice(1,qe.$length()):Se="application/octet-stream",w(Qe)?$e=Ae.$normalize_system_path(B,Ae.document.$attr(Qe),Le,Q(["target_name"],{target_name:"image"})):$e=Ae.$normalize_system_path(B),w(He("File")["$readable?"]($e))?"data:"+Se+";base64,"+He("Base64").$strict_encode64(He("File").$binread($e)):(Ae.$logger().$warn("image to embed not found or not readable: "+$e),"data:"+Se+";base64,")},-2),W(ot,"$generate_data_uri_from_uri",function(B,Qe){var Ae,qe,Se=this,$e=Le,ye=Le;Qe==null&&(Qe=!1),w(Qe)?lt("Helpers").$require_library("open-uri/cached","open-uri-cached"):at(lt("RUBY_ENGINE_OPAL"))&&He("OpenURI");try{return qe=Xe(He("OpenURI"),"open_uri",[B,lt("URI_READ_MODE")],function(U){return U==null&&(U=Le),[U.$content_type(),U.$read()]}),Ae=Re(qe),$e=Ae[0]==null?Le:Ae[0],ye=Ae[1]==null?Le:Ae[1],"data:"+$e+";base64,"+He("Base64").$strict_encode64(ye)}catch(ne){if(l.rescue(ne,[lt("StandardError")]))try{return Se.$logger().$warn("could not retrieve image data from URI: "+B),B}finally{l.pop_exception()}else throw ne}},-2),W(ot,"$normalize_asset_path",function(B,Qe,Ae){var qe=this;return Qe==null&&(Qe="path"),Ae==null&&(Ae=!0),qe.$normalize_system_path(B,qe.document.$base_dir(),Le,Q(["target_name","recover"],{target_name:Qe,recover:Ae}))},-2),W(ot,"$normalize_system_path",function(B,Qe,Ae,qe){var Se=this,$e=Le,ye=Le;return Qe==null&&(Qe=Le),Ae==null&&(Ae=Le),qe==null&&(qe=Q([],{})),w(N(($e=Se.document).$safe(),He(lt("SafeMode"),"SAFE")))?w(Qe)?w($e.$path_resolver()["$root?"](Qe))||(Qe=He("File").$join($e.$base_dir(),Qe)):Qe=$e.$base_dir():(Qe=w(ye=Qe)?ye:$e.$base_dir(),Ae=w(ye=Ae)?ye:$e.$base_dir()),$e.$path_resolver().$system_path(B,Qe,Ae,qe)},-2),W(ot,"$normalize_web_path",function(B,Qe,Ae){var qe=this;return Qe==null&&(Qe=Le),Ae==null&&(Ae=!0),w(Ae)&&w(lt("Helpers")["$uriish?"](B))?lt("Helpers").$encode_spaces_in_uri(B):qe.document.$path_resolver().$web_path(B,Qe)},-2),W(ot,"$read_asset",function(B,Qe){var Ae=this,qe=Le;return Qe==null&&(Qe=Q([],{})),ze(He("Hash"),Qe)||(Qe=Q(["warn_on_failure"],{warn_on_failure:Qe["$!="](!1)})),w(He("File")["$readable?"](B))?w(Qe["$[]"]("normalize"))?lt("Helpers").$prepare_source_string(He("File").$read(B,Q(["mode"],{mode:lt("FILE_READ_MODE")}))).$join(lt("LF")):He("File").$read(B,Q(["mode"],{mode:lt("FILE_READ_MODE")})):(w(Qe["$[]"]("warn_on_failure"))&&Ae.$logger().$warn(""+(w(qe=Ae.$attr("docfile"))?qe:"<stdin>")+": "+(w(qe=Qe["$[]"]("label"))?qe:"file")+" does not exist or cannot be read: "+B),Le)},-2),W(ot,"$read_contents",function(B,Qe){var Ae=this,qe=Le,Se=Le,$e=Le,ye=Le;if(Qe==null&&(Qe=Q([],{})),qe=Ae.document,w(lt("Helpers")["$uriish?"](B))||w(Se=Qe["$[]"]("start"))&&w(lt("Helpers")["$uriish?"](Se))&&w(B=qe.$path_resolver().$web_path(B,Se)))if(w(qe["$attr?"]("allow-uri-read"))){w(qe["$attr?"]("cache-uri"))&&lt("Helpers").$require_library("open-uri/cached","open-uri-cached");try{w(Qe["$[]"]("normalize"))?$e=lt("Helpers").$prepare_source_string(Xe(He("OpenURI"),"open_uri",[B,lt("URI_READ_MODE")],function(U){return U==null&&(U=Le),U.$read()})).$join(lt("LF")):$e=Xe(He("OpenURI"),"open_uri",[B,lt("URI_READ_MODE")],function(U){return U==null&&(U=Le),U.$read()})}catch(ne){if(l.rescue(ne,[lt("StandardError")]))try{w(Qe.$fetch("warn_on_failure",!0))&&Ae.$logger().$warn("could not retrieve contents of "+(w(ye=Qe["$[]"]("label"))?ye:"asset")+" at URI: "+B)}finally{l.pop_exception()}else throw ne}}else w(Qe.$fetch("warn_on_failure",!0))&&Ae.$logger().$warn("cannot retrieve contents of "+(w(ye=Qe["$[]"]("label"))?ye:"asset")+" at URI: "+B+" (allow-uri-read attribute not enabled)");else B=Ae.$normalize_system_path(B,Qe["$[]"]("start"),Le,Q(["target_name"],{target_name:w(ye=Qe["$[]"]("label"))?ye:"asset"})),$e=Ae.$read_asset(B,Q(["normalize","warn_on_failure","label"],{normalize:Qe["$[]"]("normalize"),warn_on_failure:Qe.$fetch("warn_on_failure",!0),label:Qe["$[]"]("label")}));return w($e)&&w(Qe["$[]"]("warn_if_empty"))&&w($e["$empty?"]())&&Ae.$logger().$warn("contents of "+(w(ye=Qe["$[]"]("label"))?ye:"asset")+" is empty: "+B),$e},-2),W(ot,"$is_uri?",function(B){return lt("Helpers")["$uriish?"](B)})}(Ze[0],null,Ze)}(Je[0],Je)},Opal.modules["asciidoctor/abstract_block"]=function(l){var ce=l.module,oe=l.klass,Q=l.hash2,me=l.send2,w=l.find_super,W=l.eqeq,Xe=l.eqeqeq,O=l.def,ze=l.return_val,N=l.truthy,at=l.alias,Re=l.send,Je=l.rb_plus,Le=l.not,He=l.neqeq,gt=[],We=l.nil,ft=l.$$$;return l.add_stubs("attr_reader,attr_writer,attr_accessor,==,===,level,file,lineno,playback_attributes,convert,converter,join,map,to_s,parent,parent=,<<,empty?,Integer,find_by_internal,to_proc,find_by,context,[],items,+,find_index,include?,next_adjacent_block,blocks,select,sub_specialchars,match?,sub_replacements,title,apply_title_subs,delete,!,reftext,nil_or_empty?,sub_placeholder,sub_quotes,compat_mode,attributes,chomp,increment_and_store_counter,index=,numbered,sectname,numeral=,counter,caption=,numeral,int_to_roman,each,assign_numeral,reindex_sections,protected,has_role?,raise,header?,!=,flatten,head,rows,merge,body,foot,style,inner_document"),function(Ze,it){var pt=ce(Ze,"Asciidoctor"),M=[pt].concat(it),ot=l.$r(M);return function(I,lt,ht){var J=oe(I,lt,"AbstractBlock"),B=[J].concat(ht),Qe=l.$r(B),Ae=J.$$prototype;return Ae.source_location=Ae.document=Ae.attributes=Ae.blocks=Ae.numeral=Ae.context=Ae.parent=Ae.caption=Ae.style=Ae.converted_title=Ae.title=Ae.subs=Ae.next_section_index=Ae.next_section_ordinal=Ae.id=Ae.header=We,J.$attr_reader("blocks"),J.$attr_writer("caption"),J.$attr_accessor("content_model"),J.$attr_accessor("level"),J.$attr_accessor("numeral"),J.$attr_accessor("source_location"),J.$attr_accessor("style"),J.$attr_reader("subs"),O(J,"$initialize",function qe(Se,$e,ye){var ne=qe.$$p||We,U=this;return qe.$$p=null,ye==null&&(ye=Q([],{})),me(U,w(U,"initialize",qe,!1,!0),"initialize",[Se,$e,ye],ne),U.content_model="compound",U.blocks=[],U.subs=[],U.id=U.title=U.caption=U.numeral=U.style=U.default_subs=U.source_location=We,W($e,"document")||W($e,"section")?(U.level=U.next_section_index=0,U.next_section_ordinal=1):Xe(Qe("AbstractBlock"),Se)?U.level=Se.$level():U.level=We},-3),O(J,"$block?",ze(!0)),O(J,"$inline?",ze(!1)),O(J,"$file",function(){var Se=this,$e=We;return N($e=Se.source_location)?Se.source_location.$file():$e}),O(J,"$lineno",function(){var Se=this,$e=We;return N($e=Se.source_location)?Se.source_location.$lineno():$e}),O(J,"$convert",function(){var Se=this;return Se.document.$playback_attributes(Se.attributes),Se.$converter().$convert(Se)}),at(J,"render","convert"),O(J,"$content",function(){var Se=this;return Re(Se.blocks,"map",[],function(ye){return ye==null&&(ye=We),ye.$convert()}).$join(Qe("LF"))}),O(J,"$context=",function(Se){var $e=this;return $e.node_name=($e.context=Se).$to_s()}),O(J,"$<<",function(Se){var $e=this;return W(Se.$parent(),$e)||Se["$parent="]($e),$e.blocks["$<<"](Se),$e}),at(J,"append","<<"),O(J,"$blocks?",function(){var Se=this;return!N(Se.blocks["$empty?"]())}),O(J,"$sections?",ze(!1)),O(J,"$number",function(){var Se=this;try{return Se.$Integer(Se.numeral)}catch($e){if(l.rescue($e,[Qe("StandardError")]))try{return Se.numeral}finally{l.pop_exception()}else throw $e}}),O(J,"$number=",function(Se){var $e=this;return $e.numeral=Se.$to_s()}),O(J,"$find_by",function qe(Se){var $e=qe.$$p||We,ye=this,ne=We;qe.$$p=null,Se==null&&(Se=Q([],{}));try{return Re(ye,"find_by_internal",[Se,ne=[]],$e.$to_proc())}catch(U){if(l.rescue(U,[ft("StopIteration")]))try{return ne}finally{l.pop_exception()}else throw U}},-1),at(J,"query","find_by"),O(J,"$next_adjacent_block",function(){var Se=this,$e=We,ye=We;return W(Se.context,"document")?We:W(($e=Se.parent).$context(),"dlist")&&W(Se.context,"list_item")?N(ye=$e.$items()["$[]"](Je(Re($e.$items(),"find_index",[],function ne(U,P){var le=ne.$$s==null?this:ne.$$s,ae=We;return U==null&&(U=We),P==null&&(P=We),N(ae=U["$include?"](le))?ae:P["$=="](le)},{$$s:Se}),1)))?ye:$e.$next_adjacent_block():N(ye=$e.$blocks()["$[]"](Je($e.$blocks().$find_index(Se),1)))?ye:$e.$next_adjacent_block()}),O(J,"$sections",function(){var Se=this;return Re(Se.blocks,"select",[],function(ye){return ye==null&&(ye=We),ye.$context()["$=="]("section")})}),O(J,"$alt",function(){var Se=this,$e=We;return N($e=Se.attributes["$[]"]("alt"))?W($e,Se.attributes["$[]"]("default-alt"))?Se.$sub_specialchars($e):($e=Se.$sub_specialchars($e),N(Qe("ReplaceableTextRx")["$match?"]($e))?Se.$sub_replacements($e):$e):""}),O(J,"$caption",function(){var Se=this;return W(Se.context,"admonition")?Se.attributes["$[]"]("textlabel"):Se.caption}),O(J,"$captioned_title",function(){var Se=this;return""+Se.caption+Se.$title()}),O(J,"$list_marker_keyword",function(Se){var $e=this,ye=We;return Se==null&&(Se=We),Qe("ORDERED_LIST_KEYWORDS")["$[]"](N(ye=Se)?ye:$e.style)},-1),O(J,"$title",function(){var Se=this,$e=We,ye=We;return Se.converted_title=N($e=Se.converted_title)?$e:N(ye=Se.title)?Se.$apply_title_subs(Se.title):ye}),O(J,"$title?",function(){var Se=this;return!!N(Se.title)}),O(J,"$title=",function(Se){var $e=this;return $e.converted_title=We,$e.title=Se}),O(J,"$sub?",function(Se){var $e=this;return $e.subs["$include?"](Se)}),O(J,"$remove_sub",function(Se){var $e=this;return $e.subs.$delete(Se),We}),O(J,"$xreftext",function(Se){var $e=this,ye=We,ne=We,U=We,P=We;if(Se==null&&(Se=We),N(ye=$e.$reftext())&&Le(ye["$empty?"]()))return ye;if(N(Se)&&N($e.title)&&Le($e.caption["$nil_or_empty?"]()))switch(Se){case"full":return ne=$e.$sub_placeholder($e.$sub_quotes(N($e.document.$compat_mode())?"``%s''":'"`%s`"'),$e.$title()),N($e.numeral)&&N(P=Qe("CAPTION_ATTRIBUTE_NAMES")["$[]"]($e.context))&&N(U=$e.document.$attributes()["$[]"](P))?""+U+" "+$e.numeral+", "+ne:""+$e.caption.$chomp(". ")+", "+ne;case"short":return N($e.numeral)&&N(P=Qe("CAPTION_ATTRIBUTE_NAMES")["$[]"]($e.context))&&N(U=$e.document.$attributes()["$[]"](P))?""+U+" "+$e.numeral:$e.caption.$chomp(". ");default:return $e.$title()}else return $e.$title()},-1),O(J,"$assign_caption",function(Se,$e){var ye=this,ne=We,U=We,P=We;return $e==null&&($e=ye.context),N(ye.caption)||Le(ye.title)||N(ye.caption=N(ne=Se)?ne:ye.document.$attributes()["$[]"]("caption"))||N(P=Qe("CAPTION_ATTRIBUTE_NAMES")["$[]"]($e))&&N(U=ye.document.$attributes()["$[]"](P))&&(ye.caption=""+U+" "+(ye.numeral=ye.document.$increment_and_store_counter(""+$e+"-number",ye))+". "),We},-2),O(J,"$assign_numeral",function(Se){var $e,ye=this,ne=We,U=We,P=We;return ye.next_section_index=Je(($e=[ye.next_section_index],Re(Se,"index=",$e),$e[$e.length-1]),1),N(ne=Se.$numbered())&&(W(U=Se.$sectname(),"appendix")?(Se["$numeral="](ye.document.$counter("appendix-number","A")),Se["$caption="](N(P=ye.document.$attributes()["$[]"]("appendix-caption"))?""+P+" "+Se.$numeral()+": ":""+Se.$numeral()+". ")):W(U,"chapter")||W(ne,"chapter")?Se["$numeral="](ye.document.$counter("chapter-number",1).$to_s()):(Se["$numeral="](W(U,"part")?Qe("Helpers").$int_to_roman(ye.next_section_ordinal):ye.next_section_ordinal.$to_s()),ye.next_section_ordinal=Je(ye.next_section_ordinal,1))),We}),O(J,"$reindex_sections",function(){var Se=this;return Se.next_section_index=0,Se.next_section_ordinal=1,Re(Se.blocks,"each",[],function $e(ye){var ne=$e.$$s==null?this:$e.$$s;return ye==null&&(ye=We),W(ye.$context(),"section")?(ne.$assign_numeral(ye),ye.$reindex_sections()):We},{$$s:Se})}),J.$protected(),O(J,"$find_by_internal",function qe(Se,$e){var ye=qe.$$p||We,ne=this,U=We,P=We,le=We,ae=We,_e=We,K=We;if(qe.$$p=null,Se==null&&(Se=Q([],{})),$e==null&&($e=[]),(N(ae=N(_e=Se["$[]"]("context"))?We:!0)||W(_e,ne.context))&&(Le(le=Se["$[]"]("style"))||W(le,ne.style))&&(Le(P=Se["$[]"]("role"))||N(ne["$has_role?"](P)))&&(Le(U=Se["$[]"]("id"))||W(U,ne.id)))if(ye!==We)if(N(K=l.yield1(ye,ne)))switch(K){case"prune":return $e["$<<"](ne),N(U)&&ne.$raise(ft("StopIteration")),$e;case"reject":return N(U)&&ne.$raise(ft("StopIteration")),$e;case"stop":ne.$raise(ft("StopIteration"));break;default:$e["$<<"](ne),N(U)&&ne.$raise(ft("StopIteration"))}else N(U)&&ne.$raise(ft("StopIteration"));else $e["$<<"](ne),N(U)&&ne.$raise(ft("StopIteration"));switch(ne.context){case"document":W(_e,"document")||(N(ne["$header?"]())&&(N(ae)||W(_e,"section"))&&Re(ne.header,"find_by_internal",[Se,$e],ye.$to_proc()),Re(ne.blocks,"each",[],function(c){return c==null&&(c=We),W(_e,"section")&&He(c.$context(),"section")?We:Re(c,"find_by_internal",[Se,$e],ye.$to_proc())}));break;case"dlist":(N(ae)||He(_e,"section"))&&Re(ne.blocks.$flatten(),"each",[],function(c){return c==null&&(c=We),N(c)?Re(c,"find_by_internal",[Se,$e],ye.$to_proc()):We});break;case"table":N(Se["$[]"]("traverse_documents"))?(Re(ne.$rows().$head(),"each",[],function(c){return c==null&&(c=We),Re(c,"each",[],function(q){return q==null&&(q=We),Re(q,"find_by_internal",[Se,$e],ye.$to_proc())})}),W(_e,"inner_document")&&(Se=Se.$merge(Q(["context"],{context:"document"}))),Re(Je(ne.$rows().$body(),ne.$rows().$foot()),"each",[],function(c){return c==null&&(c=We),Re(c,"each",[],function(q){return q==null&&(q=We),Re(q,"find_by_internal",[Se,$e],ye.$to_proc()),W(q.$style(),"asciidoc")?Re(q.$inner_document(),"find_by_internal",[Se,$e],ye.$to_proc()):We})})):Re(Je(Je(ne.$rows().$head(),ne.$rows().$body()),ne.$rows().$foot()),"each",[],function(c){return c==null&&(c=We),Re(c,"each",[],function(q){return q==null&&(q=We),Re(q,"find_by_internal",[Se,$e],ye.$to_proc())})});break;default:Re(ne.blocks,"each",[],function(c){return c==null&&(c=We),W(_e,"section")&&He(c.$context(),"section")?We:Re(c,"find_by_internal",[Se,$e],ye.$to_proc())})}return $e},-1)}(M[0],ot("AbstractNode"),M)}(gt[0],gt)},Opal.modules["asciidoctor/attribute_list"]=function(l){var ce=l.module,oe=l.klass,Q=l.const_set,me=l.hash,w=l.regexp,W=l.hash2,Xe=l.def,O=l.truthy,ze=l.rb_plus,N=l.send,at=l.defs,Re=l.eqeqeq,Je=l.eqeq,Le=l.rb_times,He=[],gt=l.nil,We=l.$$$;return l.add_stubs("new,[],update,parse,parse_attribute,eos?,skip_delimiter,+,rekey,each_with_index,[]=,private,skip_blank,===,peek,parse_attribute_value,get_byte,start_with?,scan_name,end_with?,rstrip,string,==,unscan,scan_to_delimiter,*,include?,delete,each,split,empty?,apply_subs,scan_to_quote,gsub,skip,scan"),function(ft,Ze){var it=ce(ft,"Asciidoctor"),pt=[it].concat(Ze);return function(M,ot,I){var lt=oe(M,ot,"AttributeList"),ht=[lt].concat(I),J=l.$r(ht),B=lt.$$prototype;return B.attributes=B.scanner=B.delimiter=B.block=B.delimiter_skip_pattern=B.delimiter_boundary_pattern=gt,Q(ht[0],"APOS","'"),Q(ht[0],"BACKSLASH","\\"),Q(ht[0],"QUOT",'"'),Q(ht[0],"BoundaryRx",me(J("QUOT"),/.*?[^\\](?=")/,J("APOS"),/.*?[^\\](?=')/,",",/.*?(?=[ \t]*(,|$))/)),Q(ht[0],"EscapedQuotes",me(J("QUOT"),'\\"',J("APOS"),"\\'")),Q(ht[0],"NameRx",w([J("CG_WORD"),"[",J("CC_WORD"),"\\-.]*"])),Q(ht[0],"BlankRx",/[ \t]+/),Q(ht[0],"SkipRx",W([","],{",":/[ \t]*(,|$)/})),Xe(lt,"$initialize",function(Ae,qe,Se){var $e=this;return qe==null&&(qe=gt),Se==null&&(Se=","),$e.scanner=We("StringScanner").$new(Ae),$e.block=qe,$e.delimiter=Se,$e.delimiter_skip_pattern=J("SkipRx")["$[]"](Se),$e.delimiter_boundary_pattern=J("BoundaryRx")["$[]"](Se),$e.attributes=gt},-2),Xe(lt,"$parse_into",function(Ae,qe){var Se=this;return qe==null&&(qe=[]),Ae.$update(Se.$parse(qe))},-2),Xe(lt,"$parse",function(Ae){var qe=this,Se=gt;if(Ae==null&&(Ae=[]),O(qe.attributes))return qe.attributes;for(qe.attributes=W([],{}),Se=0;O(qe.$parse_attribute(Se,Ae))&&!O(qe.scanner["$eos?"]());)qe.$skip_delimiter(),Se=ze(Se,1);return qe.attributes},-1),Xe(lt,"$rekey",function(Ae){var qe=this;return J("AttributeList").$rekey(qe.attributes,Ae)}),at(lt,"$rekey",function(Ae,qe){return N(qe,"each_with_index",[],function($e,ye){var ne,U=gt;return $e==null&&($e=gt),ye==null&&(ye=gt),O($e)&&O(U=Ae["$[]"](ze(ye,1)))?(ne=[$e,U],N(Ae,"[]=",ne),ne[ne.length-1]):gt}),Ae}),lt.$private(),Xe(lt,"$parse_attribute",function(Ae,qe){var Se=this,$e=gt,ye=gt,ne=gt,U=gt,P=gt,le=gt,ae=gt,_e=gt,K=gt,v=gt;if($e=!0,Se.$skip_blank(),Re(J("QUOT"),ye=Se.scanner.$peek(1)))ne=Se.$parse_attribute_value(Se.scanner.$get_byte());else if(Re(J("APOS"),ye))ne=Se.$parse_attribute_value(Se.scanner.$get_byte()),O(ne["$start_with?"](J("APOS")))||(U=!0);else if(P=O(le=O(ae=ne=Se.$scan_name())?Se.$skip_blank():ae)?le:0,O(Se.scanner["$eos?"]())){if(!(O(ne)||O(Se.scanner.$string().$rstrip()["$end_with?"](Se.delimiter))))return gt;$e=gt}else if(Je(_e=Se.scanner.$get_byte(),Se.delimiter))Se.scanner.$unscan();else if(O(ne))if(Je(_e,"=")){if(Se.$skip_blank(),Re(J("QUOT"),le=_e=Se.scanner.$get_byte()))K=Se.$parse_attribute_value(_e);else if(Re(J("APOS"),le))K=Se.$parse_attribute_value(_e),O(K["$start_with?"](J("APOS")))||(U=!0);else if(Re(Se.delimiter,le))K="",Se.scanner.$unscan();else if(Re(gt,le))K="";else if(K=""+_e+Se.$scan_to_delimiter(),Je(K,"None"))return!0}else ne=""+ne+Le(" ",P)+_e+Se.$scan_to_delimiter();else ne=""+_e+Se.$scan_to_delimiter();if(O(K))switch(ne){case"options":case"opts":O(K["$include?"](","))?(O(K["$include?"](" "))&&(K=K.$delete(" ")),N(K.$split(","),"each",[],function c(y){var q,R=c.$$s==null?this:c.$$s;return R.attributes==null&&(R.attributes=gt),y==null&&(y=gt),O(y["$empty?"]())?gt:(q=[""+y+"-option",""],N(R.attributes,"[]=",q),q[q.length-1])},{$$s:Se})):O(K["$empty?"]())||Se.attributes["$[]="](""+K+"-option","");break;default:if(O(U)&&O(Se.block))switch(ne){case"title":case"reftext":Se.attributes["$[]="](ne,K);break;default:Se.attributes["$[]="](ne,Se.block.$apply_subs(K))}else Se.attributes["$[]="](ne,K)}else O(U)&&O(Se.block)&&(ne=Se.block.$apply_subs(ne)),O(v=qe["$[]"](Ae))&&O(ne)&&Se.attributes["$[]="](v,ne),Se.attributes["$[]="](ze(Ae,1),ne);return $e}),Xe(lt,"$parse_attribute_value",function(Ae){var qe=this,Se=gt;return Je(qe.scanner.$peek(1),Ae)?(qe.scanner.$get_byte(),""):O(Se=qe.$scan_to_quote(Ae))?(qe.scanner.$get_byte(),O(Se["$include?"](J("BACKSLASH")))?Se.$gsub(J("EscapedQuotes")["$[]"](Ae),Ae):Se):""+Ae+qe.$scan_to_delimiter()}),Xe(lt,"$skip_blank",function(){var Ae=this;return Ae.scanner.$skip(J("BlankRx"))}),Xe(lt,"$skip_delimiter",function(){var Ae=this;return Ae.scanner.$skip(Ae.delimiter_skip_pattern)}),Xe(lt,"$scan_name",function(){var Ae=this;return Ae.scanner.$scan(J("NameRx"))}),Xe(lt,"$scan_to_delimiter",function(){var Ae=this;return Ae.scanner.$scan(Ae.delimiter_boundary_pattern)}),Xe(lt,"$scan_to_quote",function(Ae){var qe=this;return qe.scanner.$scan(J("BoundaryRx")["$[]"](Ae))})}(pt[0],null,pt)}(He[0],He)},Opal.modules["asciidoctor/block"]=function(l){var ce=l.module,oe=l.klass,Q=l.const_set,me=l.hash2,w=l.alias,W=l.send2,Xe=l.find_super,O=l.truthy,ze=l.eqeqeq,N=l.def,at=l.rb_lt,Re=l.eqeq,Je=[],Le=l.nil,He=l.$$$;return l.add_stubs("default=,context,attr_accessor,[],key?,===,drop,delete,[]=,to_s,commit_subs,nil_or_empty?,prepare_source_string,apply_subs,join,<,size,empty?,rstrip,shift,pop,==,warn,logger,class,object_id,inspect"),function(gt,We){var ft=ce(gt,"Asciidoctor"),Ze=[ft].concat(We),it=l.$r(Ze);return function(pt,M,ot){var I=oe(pt,M,"Block"),lt=[I].concat(ot),ht=l.$r(lt),J=I.$$prototype;return J.attributes=J.content_model=J.lines=J.subs=J.blocks=J.context=J.style=Le,Q(lt[0],"DEFAULT_CONTENT_MODEL",me(["audio","image","listing","literal","stem","open","page_break","pass","thematic_break","video"],{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"}))["$default="]("simple"),w(I,"blockname","context"),I.$attr_accessor("lines"),N(I,"$initialize",function B(Qe,Ae,qe){var Se=B.$$p||Le,$e=this,ye=Le,ne=Le,U=Le;return B.$$p=null,qe==null&&(qe=me([],{})),W($e,Xe($e,"initialize",B,!1,!0),"initialize",[Qe,Ae,qe],Se),$e.content_model=O(ye=qe["$[]"]("content_model"))?ye:ht("DEFAULT_CONTENT_MODEL")["$[]"](Ae),O(qe["$key?"]("subs"))?O(ne=qe["$[]"]("subs"))?(ze("default",ye=ne)?$e.default_subs=qe["$[]"]("default_subs"):ze(He("Array"),ye)?($e.default_subs=ne.$drop(0),$e.attributes.$delete("subs")):($e.default_subs=Le,$e.attributes["$[]="]("subs",ne.$to_s())),$e.$commit_subs()):($e.default_subs=[],$e.attributes.$delete("subs")):$e.default_subs=Le,O((U=qe["$[]"]("source"))["$nil_or_empty?"]())?$e.lines=[]:ze(He("String"),U)?$e.lines=ht("Helpers").$prepare_source_string(U):$e.lines=U.$drop(0)},-3),N(I,"$content",function B(){var Qe=B.$$p||Le,Ae=this,qe=Le,Se=Le,$e=Le,ye=Le;switch(B.$$p=null,Ae.content_model){case"compound":return W(Ae,Xe(Ae,"content",B,!1,!0),"content",[],Qe);case"simple":return Ae.$apply_subs(Ae.lines.$join(ht("LF")),Ae.subs);case"verbatim":case"raw":if(qe=Ae.$apply_subs(Ae.lines,Ae.subs),O(at(qe.$size(),2)))return O(Se=qe["$[]"](0))?Se:"";for(;O(O(Se=$e=qe["$[]"](0))?$e.$rstrip()["$empty?"]():Se);)qe.$shift();for(;O(O(Se=ye=qe["$[]"](-1))?ye.$rstrip()["$empty?"]():Se);)qe.$pop();return qe.$join(ht("LF"));default:return Re(Ae.content_model,"empty")||Ae.$logger().$warn("unknown content model '"+Ae.content_model+"' for block: "+Ae),Le}}),N(I,"$source",function(){var Qe=this;return Qe.lines.$join(ht("LF"))}),N(I,"$to_s",function(){var Qe=this,Ae=Le;return Ae=Re(Qe.content_model,"compound")?"blocks: "+Qe.blocks.$size():"lines: "+Qe.lines.$size(),"#<"+Qe.$class()+"@"+Qe.$object_id()+" {context: "+Qe.context.$inspect()+", content_model: "+Qe.content_model.$inspect()+", style: "+Qe.style.$inspect()+", "+Ae+"}>"})}(Ze[0],it("AbstractBlock"),Ze)}(Je[0],Je)},Opal.modules["asciidoctor/callouts"]=function(l){var ce=l.module,oe=l.klass,Q=l.def,me=l.hash2,w=l.rb_plus,W=l.truthy,Xe=l.rb_le,O=l.rb_minus,ze=l.send,N=l.eqeq,at=l.rb_lt,Re=[],Je=l.nil;return l.add_stubs("next_list,<<,current_list,to_i,generate_next_callout_id,+,<=,size,[],-,chop,join,map,==,<,private,generate_callout_id"),function(Le,He){var gt=ce(Le,"Asciidoctor"),We=[gt].concat(He);return function(ft,Ze){var it=oe(ft,Ze,"Callouts"),pt=it.$$prototype;return pt.co_index=pt.lists=pt.list_index=Je,Q(it,"$initialize",function(){var ot=this;return ot.lists=[],ot.list_index=0,ot.$next_list()}),Q(it,"$register",function(ot){var I=this,lt=Je;return I.$current_list()["$<<"](me(["ordinal","id"],{ordinal:ot.$to_i(),id:lt=I.$generate_next_callout_id()})),I.co_index=w(I.co_index,1),lt}),Q(it,"$read_next_id",function(){var ot=this,I=Je,lt=Je;return I=Je,lt=ot.$current_list(),W(Xe(ot.co_index,lt.$size()))&&(I=lt["$[]"](O(ot.co_index,1))["$[]"]("id")),ot.co_index=w(ot.co_index,1),I}),Q(it,"$callout_ids",function(ot){var I=this;return ze(I.$current_list(),"map",[],function(ht){return ht==null&&(ht=Je),N(ht["$[]"]("ordinal"),ot)?""+ht["$[]"]("id")+" ":""}).$join().$chop()}),Q(it,"$current_list",function(){var ot=this;return ot.lists["$[]"](O(ot.list_index,1))}),Q(it,"$next_list",function(){var ot=this;return ot.list_index=w(ot.list_index,1),W(at(ot.lists.$size(),ot.list_index))&&ot.lists["$<<"]([]),ot.co_index=1,Je}),Q(it,"$rewind",function(){var ot=this;return ot.list_index=1,ot.co_index=1,Je}),it.$private(),Q(it,"$generate_next_callout_id",function(){var ot=this;return ot.$generate_callout_id(ot.list_index,ot.co_index)}),Q(it,"$generate_callout_id",function(ot,I){return"CO"+ot+"-"+I})}(We[0],null)}(Re[0],Re)},Opal.modules["asciidoctor/converter/composite"]=function(l){var ce=l.module,oe=l.klass,Q=l.slice,me=l.extract_kwargs,w=l.ensure_kwargs,W=l.send,Xe=l.truthy,O=l.def,ze=l.thrower,N=[],at=l.nil,Re=l.$$$;return l.add_stubs("attr_reader,each,respond_to?,composed,init_backend_traits,backend_traits,new,[]=,find_converter,convert,converter_for,node_name,[],handles?,raise"),function(Je,Le){var He=ce(Je,"Asciidoctor"),gt=[He].concat(Le),We=l.$r(gt);return function(ft,Ze){var it=oe(ft,Ze,"CompositeConverter"),pt=it.$$prototype;return pt.converter_cache=pt.converters=at,it.$attr_reader("converters"),O(it,"$initialize",function(ot,I,lt){var ht,J,B,Qe,Ae=this;return ht=Q(arguments,1),J=me(ht),J=w(J),B=ht,Qe=J.$$smap.backend_traits_source,Qe==null&&(Qe=at),Ae.backend=ot,W(Ae.converters=B,"each",[],function qe(Se){var $e=qe.$$s==null?this:qe.$$s;return Se==null&&(Se=at),Xe(Se["$respond_to?"]("composed"))?Se.$composed($e):at},{$$s:Ae}),Xe(Qe)&&Ae.$init_backend_traits(Qe.$backend_traits()),Ae.converter_cache=W(Re("Hash"),"new",[],function qe(Se,$e){var ye,ne=qe.$$s==null?this:qe.$$s;return Se==null&&(Se=at),$e==null&&($e=at),ye=[$e,ne.$find_converter($e)],W(Se,"[]=",ye),ye[ye.length-1]},{$$s:Ae})},-2),O(it,"$convert",function(ot,I,lt){var ht=this,J=at;return I==null&&(I=at),lt==null&&(lt=at),ht.$converter_for(I=Xe(J=I)?J:ot.$node_name()).$convert(ot,I,lt)},-2),O(it,"$converter_for",function(ot){var I=this;return I.converter_cache["$[]"](ot)}),O(it,"$find_converter",function(ot){try{var I=ze("return"),lt=this;return W(lt.converters,"each",[],function(J){if(J==null&&(J=at),Xe(J["$handles?"](ot)))I.$throw(J);else return at},{$$ret:I}),lt.$raise("Could not find a converter to handle transform: "+ot)}catch(ht){if(ht===I)return ht.$v;throw ht}})}(We("Converter"),Re(We("Converter"),"Base"))}(N[0],N)},Opal.modules["asciidoctor/converter"]=function(l){var ce=l.module,oe=l.hash2,Q=l.def,me=l.return_val,w=l.truthy,W=l.eqeq,Xe=l.defs,O=l.send,ze=l.alias,N=l.slice,at=l.to_a,Re=l.extract_kwargs,Je=l.ensure_kwargs,Le=l.eqeqeq,He=l.Class,gt=l.klass,We=l.class_variable_set,ft=l.class_variable_get,Ze=l.rb_plus,it=l.gvars,pt=[],M=l.nil,ot=l.$$$;return l.add_stubs("autoload,attr_reader,raise,class,[],sub,slice,length,==,[]=,backend_traits,derive_backend_traits,register,map,to_s,new,create,default,each,default=,registry,for,===,supports_templates?,merge,private,include,delete,clear,send,extend,private_class_method,node_name,+,name,receiver,warn,logger,respond_to?,content"),function(I,lt){var ht=ce(I,"Asciidoctor"),J=[ht].concat(lt);return function(B,Qe){var Ae=ce(B,"Converter"),qe=[Ae].concat(Qe),Se=l.$r(qe);return Ae.$autoload("CompositeConverter","asciidoctor/converter/composite"),Ae.$attr_reader("backend"),Q(Ae,"$initialize",function(ye,ne){var U=this;return ne==null&&(ne=oe([],{})),U.backend=ye},-2),Q(Ae,"$convert",function(ye,ne,U){var P=this;return P.backend==null&&(P.backend=M),P.$raise(ot("NotImplementedError"),""+P.$class()+" (backend: "+P.backend+") must implement the #convert method")},-2),Q(Ae,"$handles?",me(!0)),Xe(Ae,"$derive_backend_traits",function(ye,ne){var U=M,P=M,le=M;return ne==null&&(ne=M),w(ye)?(w(U=Se("DEFAULT_EXTENSIONS")["$[]"](ne=w(P=ne)?P:ye.$sub(Se("TrailingDigitsRx"),"")))?le=U.$slice(1,U.$length()):U="."+(le=ne),W(le,"html")?oe(["basebackend","filetype","htmlsyntax","outfilesuffix"],{basebackend:ne,filetype:le,htmlsyntax:"html",outfilesuffix:U}):oe(["basebackend","filetype","outfilesuffix"],{basebackend:ne,filetype:le,outfilesuffix:U})):oe([],{})},-2),function($e,ye){var ne=ce($e,"BackendTraits"),U=[ne].concat(ye),P=l.$r(U);return Q(ne,"$basebackend",function(ae){var _e,K=this;return ae==null&&(ae=M),w(ae)?(_e=["basebackend",ae],O(K.$backend_traits(ae),"[]=",_e),_e[_e.length-1]):K.$backend_traits()["$[]"]("basebackend")},-1),Q(ne,"$filetype",function(ae){var _e,K=this;return ae==null&&(ae=M),w(ae)?(_e=["filetype",ae],O(K.$backend_traits(),"[]=",_e),_e[_e.length-1]):K.$backend_traits()["$[]"]("filetype")},-1),Q(ne,"$htmlsyntax",function(ae){var _e,K=this;return ae==null&&(ae=M),w(ae)?(_e=["htmlsyntax",ae],O(K.$backend_traits(),"[]=",_e),_e[_e.length-1]):K.$backend_traits()["$[]"]("htmlsyntax")},-1),Q(ne,"$outfilesuffix",function(ae){var _e,K=this;return ae==null&&(ae=M),w(ae)?(_e=["outfilesuffix",ae],O(K.$backend_traits(),"[]=",_e),_e[_e.length-1]):K.$backend_traits()["$[]"]("outfilesuffix")},-1),Q(ne,"$supports_templates",function(ae){var _e,K=this;return ae==null&&(ae=!0),_e=["supports_templates",ae],O(K.$backend_traits(),"[]=",_e),_e[_e.length-1]},-1),Q(ne,"$supports_templates?",function(){var ae=this;return ae.$backend_traits()["$[]"]("supports_templates")}),Q(ne,"$init_backend_traits",function(ae){var _e=this,K=M;return ae==null&&(ae=M),_e.backend_traits=w(K=ae)?K:oe([],{})},-1),Q(ne,"$backend_traits",function(ae){var _e=this,K=M;return _e.backend_traits==null&&(_e.backend_traits=M),_e.backend==null&&(_e.backend=M),ae==null&&(ae=M),_e.backend_traits=w(K=_e.backend_traits)?K:P("Converter").$derive_backend_traits(_e.backend,ae)},-1),ze(ne,"backend_info","backend_traits"),Xe(ne,"$derive_backend_traits",function(ae,_e){return _e==null&&(_e=M),P("Converter").$derive_backend_traits(ae,_e)},-2)}(qe[0],qe),function($e,ye){var ne=ce($e,"Config"),U=[ne].concat(ye),P=l.$r(U);return Q(ne,"$register_for",function(ae){var _e,K,v=this;return _e=N(arguments),K=_e,O(P("Converter"),"register",[v].concat(at(O(K,"map",[],function(y){return y==null&&(y=M),y.$to_s()}))))},-1)}(qe[0],qe),function($e,ye){var ne=ce($e,"Factory"),U=[ne].concat(ye),P=l.$r(U);return Xe(ne,"$new",function(ae,_e){var K,v,c,y;return K=N(arguments),v=Re(K),v=Je(v),K.length>0&&(c=K.shift()),c==null&&(c=M),y=v.$$smap.proxy_default,y==null&&(y=!0),w(y)?P("DefaultFactoryProxy").$new(c):P("CustomFactory").$new(c)},-1),Xe(ne,"$default",function(ae){return N(arguments),P("Converter")},-1),Xe(ne,"$create",function(ae,_e){var K=this;return _e==null&&(_e=oe([],{})),K.$default().$create(ae,_e)},-2),Q(ne,"$register",function(ae,_e){var K,v,c=this;return K=N(arguments,1),v=K,O(v,"each",[],function y(q){var R,A=y.$$s==null?this:y.$$s;return q==null&&(q=M),W(q,"*")?(R=[ae],O(A.$registry(),"default=",R),R[R.length-1]):(R=[q,ae],O(A.$registry(),"[]=",R),R[R.length-1])},{$$s:c})},-2),Q(ne,"$for",function(ae){var _e=this;return _e.$registry()["$[]"](ae)}),Q(ne,"$create",function(ae,_e){var K=this,v=M,c=M,y=M;return _e==null&&(_e=oe([],{})),w(v=K.$for(ae))?(Le(He,v)&&(v=v.$new(ae,_e)),w(c=_e["$[]"]("template_dirs"))&&Le(P("BackendTraits"),v)&&w(v["$supports_templates?"]())?P("CompositeConverter").$new(ae,P("TemplateConverter").$new(ae,c,_e),v,oe(["backend_traits_source"],{backend_traits_source:v})):v):w(c=_e["$[]"]("template_dirs"))?w(y=_e["$[]"]("delegate_backend"))&&w(v=K.$for(y))?(Le(He,v)&&(v=v.$new(y,_e)),P("CompositeConverter").$new(ae,P("TemplateConverter").$new(ae,c,_e),v,oe(["backend_traits_source"],{backend_traits_source:v}))):P("TemplateConverter").$new(ae,c,_e):M},-2),Q(ne,"$converters",function(){var ae=this;return ae.$registry().$merge()}),ne.$private(),Q(ne,"$registry",function(){var ae=this;return ae.$raise(ot("NotImplementedError"),""+P("Factory")+" subclass "+ae.$class()+" must implement the #registry method")})}(qe[0],qe),function($e,ye,ne){var U=gt($e,ye,"CustomFactory"),P=[U].concat(ne),le=l.$r(P);return U.$include(le("Factory")),Q(U,"$initialize",function(_e){var K=this;return _e==null&&(_e=M),w(_e)?(_e["$default="](_e.$delete("*")),K.registry=_e):K.registry=oe([],{})},-1),Q(U,"$unregister_all",function(){var _e,K=this;return _e=[M],O(K.$registry().$clear(),"default=",_e),_e[_e.length-1]}),U.$private(),U.$attr_reader("registry")}(qe[0],null,qe),function($e,ye){var ne=ce($e,"DefaultFactory"),U=[ne].concat(ye),P=l.$r(U);return ne.$include(P("Factory")),ne.$private(),We(U[0],"@@registry",oe([],{})),Q(ne,"$registry",function(){return ft(U[0],"@@registry",!1)}),M}(qe[0],qe),function($e,ye,ne){var U=gt($e,ye,"DefaultFactoryProxy"),P=[U].concat(ne),le=l.$r(P);return U.$include(le("DefaultFactory")),M}(qe[0],Se("CustomFactory"),qe),Xe(Ae,"$included",function(ye){return ye.$send("include",Se("BackendTraits")),ye.$extend(Se("Config"))}),Ae.$private_class_method("included"),function($e,ye,ne){var U=gt($e,ye,"Base"),P=[U].concat(ne),le=l.$r(P),ae=U.$$prototype;return ae.backend=M,U.$include(le("Logging")),U.$include(le("Converter")),Q(U,"$convert",function(K,v,c){var y=this,q=M;it["!"]==null&&(it["!"]=M),v==null&&(v=K.$node_name()),c==null&&(c=M);try{return w(c)?y.$send(Ze("convert_",v),K,c):y.$send(Ze("convert_",v),K)}catch(R){if(l.rescue(R,[le("StandardError")]))try{return Le(ot("NoMethodError"),q=it["!"])&&W(q.$receiver(),y)&&W(q.$name().$to_s(),v)||y.$raise(),y.$logger().$warn("missing convert handler for "+q.$name()+" node in "+y.backend+" backend ("+y.$class()+")"),M}finally{l.pop_exception()}else throw R}},-2),Q(U,"$handles?",function(K){var v=this;return v["$respond_to?"]("convert_"+K)}),Q(U,"$content_only",function(K){return K.$content()}),Q(U,"$skip",me(M))}(qe[0],null,qe),Ae.$extend(Se("DefaultFactory"))}(J[0],J)}(pt[0],pt)},Opal.modules["asciidoctor/document"]=function(l){var ce=l.module,oe=l.klass,Q=l.const_set,me=l.send,w=l.alias,W=l.truthy,Xe=l.def,O=l.hash2,ze=l.not,N=l.to_ary,at=l.return_ivar,Re=l.send2,Je=l.find_super,Le=l.rb_minus,He=l.eqeq,gt=l.eqeqeq,We=l.hash,ft=l.rb_ge,Ze=l.rb_plus,it=l.neqeq,pt=l.thrower,M=l.rb_gt,ot=l.rb_lt,I=l.gvars,lt=l.to_a,ht=[],J=l.nil,B=l.$$$;return l.add_stubs("new,target,attr_reader,nil?,<<,[],[]=,main,include?,strip,squeeze,gsub,!,empty?,rpartition,attr_accessor,catalog,delete,base_dir,options,merge,instance_variable_get,attributes,safe,compat_mode,outfilesuffix,sourcemap,path_resolver,converter,extensions,syntax_highlighter,each,end_with?,start_with?,slice,-,length,chop,==,downcase,===,extname,value_for_name,key?,freeze,attribute_undefined,attribute_missing,update,&,keys,name_for_value,expand_path,pwd,to_s,>=,+,abs,to_i,delete_if,update_doctype_attributes,cursor,parse,restore_attributes,update_backend_attributes,fetch,fill_datetime_attributes,activate,groups,create,to_proc,preprocessors?,preprocessors,process_method,tree_processors?,tree_processors,!=,counter,nil_or_empty?,attribute_locked?,nextval,value,save_to,increment_and_store_counter,register,tap,xreftext,>,source,source_lines,doctitle,sectname=,title=,first_section,title,reftext,<,find,context,header?,assign_numeral,clear_playback_attributes,save_attributes,name,negate,rewind,replace,apply_attribute_value_subs,delete?,start,doctype,content_model,warn,logger,content,convert,postprocessors?,postprocessors,record,write,respond_to?,chomp,class,write_alternate_pages,map,split,resolve_docinfo_subs,normalize_system_path,read_asset,apply_subs,docinfo_processors?,join,concat,compact,docinfo_processors,object_id,inspect,size,private,=~,resolve_pass_subs,apply_header_subs,limit_bytesize,bytesize,valid_encoding?,byteslice,resolve_subs,utc,at,Integer,now,index,strftime,year,utc_offset,partition,create_converter,basebackend,filetype,htmlsyntax,derive_backend_traits,raise"),function(Qe,Ae){var qe=ce(Qe,"Asciidoctor"),Se=[qe].concat(Ae),$e=l.$r(Se);return function(ye,ne,U){var P=oe(ye,ne,"Document"),le=[P].concat(U),ae=l.$r(le),_e=P.$$prototype;return _e.attributes=_e.safe=_e.sourcemap=_e.reader=_e.base_dir=_e.parsed=_e.parent_document=_e.extensions=_e.options=_e.counters=_e.catalog=_e.reftexts=_e.next_section_index=_e.header=_e.blocks=_e.header_attributes=_e.attributes_modified=_e.backend=_e.attribute_overrides=_e.timings=_e.converter=_e.outfilesuffix=_e.docinfo_processor_extensions=_e.document=_e.max_attribute_value_size=_e.id=_e.doctype=J,Q(le[0],"ImageReference",me(B("Struct"),"new",["target","imagesdir"],function K(){var v=K.$$s==null?this:K.$$s;return w(v,"to_s","target")},{$$s:P})),Q(le[0],"Footnote",B("Struct").$new("index","id","text")),function(K,v){var c=oe(K,v,"AttributeEntry");return c.$attr_reader("name","value","negate"),Xe(c,"$initialize",function(q,R,A){var V=this;return A==null&&(A=J),V.name=q,V.value=R,V.negate=W(A["$nil?"]())?R["$nil?"]():A},-3),Xe(c,"$save_to",function(q){var R,A=this,V=J;return(W(V=q["$[]"]("attribute_entries"))?V:(R=["attribute_entries",[]],me(q,"[]=",R),R[R.length-1]))["$<<"](A),A})}(le[0],null),function(K,v,c){var y=oe(K,v,"Title"),q=[y].concat(c),R=l.$r(q),A=y.$$prototype;return A.subtitle=J,y.$attr_reader("main"),w(y,"title","main"),y.$attr_reader("subtitle"),y.$attr_reader("combined"),Xe(y,"$initialize",function(Y,de){var fe,xe,Ve=this,tt=J,ct=J;return de==null&&(de=O([],{})),W(Ve.sanitized=de["$[]"]("sanitize"))&&W(Y["$include?"]("<"))&&(Y=Y.$gsub(R("XmlSanitizeRx"),"").$squeeze(" ").$strip()),W((tt=W(ct=de["$[]"]("separator"))?ct:":")["$empty?"]())||ze(Y["$include?"](tt=""+tt+" "))?(Ve.main=Y,Ve.subtitle=J):(xe=Y.$rpartition(tt),fe=N(xe),Ve.main=fe[0]==null?J:fe[0],fe[1]==null||fe[1],Ve.subtitle=fe[2]==null?J:fe[2]),Ve.combined=Y},-2),Xe(y,"$sanitized?",at("sanitized")),Xe(y,"$subtitle?",function(){var Y=this;return!!W(Y.subtitle)}),Xe(y,"$to_s",at("combined"))}(le[0],null,le),Q(le[0],"Author",B("Struct").$new("name","firstname","middlename","lastname","initials","email")),P.$attr_reader("safe"),P.$attr_reader("compat_mode"),P.$attr_reader("backend"),P.$attr_reader("doctype"),P.$attr_accessor("sourcemap"),P.$attr_reader("catalog"),w(P,"references","catalog"),P.$attr_reader("counters"),P.$attr_reader("header"),P.$attr_reader("base_dir"),P.$attr_reader("options"),P.$attr_reader("outfilesuffix"),P.$attr_reader("parent_document"),P.$attr_reader("reader"),P.$attr_reader("path_resolver"),P.$attr_reader("converter"),P.$attr_reader("syntax_highlighter"),P.$attr_reader("extensions"),Xe(P,"$initialize",function K(v,c){var y,q,R,A;K.$$p;var V=this,Y=J,de=J,fe=J,xe=J,Ve=J,tt=J,ct=J,vt=J,_t=J,wt=J,Dt=J,zt=J,It=J,Mt=J,Ft=J,sr=J,Ot=J,Qt=J;return K.$$p=null,v==null&&(v=J),c==null&&(c=O([],{})),Re(V,Je(V,"initialize",K,!1,!0),"initialize",[V,"document"],null),W(Y=c.$delete("parent"))?(V.parent_document=Y,W(de=c["$[]"]("base_dir"))||c["$[]="]("base_dir",Y.$base_dir()),W(Y.$options()["$[]"]("catalog_assets"))&&c["$[]="]("catalog_assets",!0),W(Y.$options()["$[]"]("to_dir"))&&c["$[]="]("to_dir",Y.$options()["$[]"]("to_dir")),V.catalog=Y.$catalog().$merge(O(["footnotes"],{footnotes:[]})),V.attribute_overrides=fe=Y.$instance_variable_get("@attribute_overrides").$merge(Y.$attributes()),fe.$delete("compat-mode"),xe=fe.$delete("doctype"),fe.$delete("notitle"),fe.$delete("showtitle"),fe.$delete("toc"),V.attributes["$[]="]("toc-placement",W(de=fe.$delete("toc-placement"))?de:"auto"),fe.$delete("toc-position"),V.safe=Y.$safe(),W(V.compat_mode=Y.$compat_mode())&&V.attributes["$[]="]("compat-mode",""),V.outfilesuffix=Y.$outfilesuffix(),V.sourcemap=Y.$sourcemap(),V.timings=J,V.path_resolver=Y.$path_resolver(),V.converter=Y.$converter(),Ve=J,V.extensions=Y.$extensions(),V.syntax_highlighter=Y.$syntax_highlighter()):(V.parent_document=J,V.catalog=O(["ids","refs","footnotes","links","images","callouts","includes"],{ids:O([],{}),refs:O([],{}),footnotes:[],links:[],images:[],callouts:ae("Callouts").$new(),includes:O([],{})}),V.attribute_overrides=fe=O([],{}),me(W(de=c["$[]"]("attributes"))?de:O([],{}),"each",[],function(er,Jt){var fr;return er==null&&(er=J),Jt==null&&(Jt=J),W(er["$end_with?"]("@"))?W(er["$start_with?"]("!"))?(fr=[er.$slice(1,Le(er.$length(),2)),!1],er=fr[0],Jt=fr[1]):W(er["$end_with?"]("!@"))?(fr=[er.$slice(0,Le(er.$length(),2)),!1],er=fr[0],Jt=fr[1]):(fr=[er.$chop(),""+Jt+"@"],er=fr[0],Jt=fr[1]):W(er["$start_with?"]("!"))?(fr=[er.$slice(1,er.$length()),He(Jt,"@")?!1:J],er=fr[0],Jt=fr[1]):W(er["$end_with?"]("!"))&&(fr=[er.$chop(),He(Jt,"@")?!1:J],er=fr[0],Jt=fr[1]),fr=[er.$downcase(),Jt],me(fe,"[]=",fr),fr[fr.length-1]}),gt(B("String"),tt=c["$[]"]("to_file"))&&fe["$[]="]("outfilesuffix",ae("Helpers").$extname(tt)),ze(ct=c["$[]"]("safe"))?V.safe=B(ae("SafeMode"),"SECURE"):gt(B("Integer"),ct)?V.safe=ct:V.safe=function(){try{return ae("SafeMode").$value_for_name(ct)}catch(lr){if(l.rescue(lr,[ae("StandardError")]))try{return B(ae("SafeMode"),"SECURE")}finally{l.pop_exception()}else throw lr}}(),vt=c.$delete("input_mtime"),V.compat_mode=fe["$key?"]("compat-mode"),V.sourcemap=c["$[]"]("sourcemap"),V.timings=c.$delete("timings"),V.path_resolver=ae("PathResolver").$new(),Ve=W((y=B("::","Asciidoctor","skip_raise"))&&B(y,"Extensions","skip_raise")?"constant":J)||W(c["$key?"]("extensions"))?B(B("Asciidoctor"),"Extensions"):J,V.extensions=J,W(c["$key?"]("header_footer"))&&ze(c["$key?"]("standalone"))&&c["$[]="]("standalone",c["$[]"]("header_footer"))),V.parsed=V.reftexts=V.header=V.header_attributes=J,V.counters=O([],{}),V.attributes_modified=B("Set").$new(),V.docinfo_processor_extensions=O([],{}),_t=c["$[]"]("standalone"),(V.options=c).$freeze(),wt=V.attributes,W(Y)||(wt["$[]="]("attribute-undefined",ae("Compliance").$attribute_undefined()),wt["$[]="]("attribute-missing",ae("Compliance").$attribute_missing()),wt.$update(ae("DEFAULT_ATTRIBUTES"))),W(_t)?(fe["$[]="]("embedded",J),wt["$[]="]("copycss",""),wt["$[]="]("iconfont-remote",""),wt["$[]="]("stylesheet",""),wt["$[]="]("webfonts","")):(fe["$[]="]("embedded",""),W(fe["$key?"]("showtitle"))&&He(fe.$keys()["$&"](["notitle","showtitle"])["$[]"](-1),"showtitle")?fe["$[]="]("notitle",We(J,"",!1,"@","@",!1)["$[]"](fe["$[]"]("showtitle"))):W(fe["$key?"]("notitle"))?fe["$[]="]("showtitle",We(J,"",!1,"@","@",!1)["$[]"](fe["$[]"]("notitle"))):wt["$[]="]("notitle","")),fe["$[]="]("asciidoctor",""),fe["$[]="]("asciidoctor-version",B(B("Asciidoctor"),"VERSION")),fe["$[]="]("safe-mode-name",Dt=ae("SafeMode").$name_for_value(V.safe)),fe["$[]="]("safe-mode-"+Dt,""),fe["$[]="]("safe-mode-level",V.safe),W(de=fe["$[]"]("max-include-depth"))||fe["$[]="]("max-include-depth",64),W(de=fe["$[]"]("allow-uri-read"))||fe["$[]="]("allow-uri-read",J),W(fe["$key?"]("numbered"))&&fe["$[]="]("sectnums",fe.$delete("numbered")),W(fe["$key?"]("hardbreaks"))&&fe["$[]="]("hardbreaks-option",fe.$delete("hardbreaks")),W(zt=c["$[]"]("base_dir"))?V.base_dir=(q=["docdir",B("File").$expand_path(zt)],me(fe,"[]=",q),q[q.length-1]):W(fe["$[]"]("docdir"))?V.base_dir=fe["$[]"]("docdir"):V.base_dir=(q=["docdir",B("Dir").$pwd()],me(fe,"[]=",q),q[q.length-1]),W(It=c["$[]"]("backend"))&&fe["$[]="]("backend",It.$to_s()),W(Mt=c["$[]"]("doctype"))&&fe["$[]="]("doctype",Mt.$to_s()),W(ft(V.safe,B(ae("SafeMode"),"SERVER")))?(W(de=fe["$[]"]("copycss"))||fe["$[]="]("copycss",J),W(de=fe["$[]"]("source-highlighter"))||fe["$[]="]("source-highlighter",J),W(de=fe["$[]"]("backend"))||fe["$[]="]("backend",ae("DEFAULT_BACKEND")),ze(Y)&&W(fe["$key?"]("docfile"))&&fe["$[]="]("docfile",fe["$[]"]("docfile")["$[]"](l.Range.$new(Ze(fe["$[]"]("docdir").$length(),1),-1,!1))),fe["$[]="]("docdir",""),W(de=fe["$[]"]("user-home"))||fe["$[]="]("user-home","."),W(ft(V.safe,B(ae("SafeMode"),"SECURE")))&&(W(fe["$key?"]("max-attribute-value-size"))||fe["$[]="]("max-attribute-value-size",4096),W(fe["$key?"]("linkcss"))||fe["$[]="]("linkcss",""),W(de=fe["$[]"]("icons"))||fe["$[]="]("icons",J))):W(de=fe["$[]"]("user-home"))||fe["$[]="]("user-home",ae("USER_HOME")),V.max_attribute_value_size=W(Ft=W(de=fe["$[]"]("max-attribute-value-size"))?de:(q=["max-attribute-value-size",J],me(fe,"[]=",q),q[q.length-1]))?Ft.$to_i().$abs():J,me(fe,"delete_if",[],function(er,Jt){var fr,vr=J;return er==null&&(er=J),Jt==null&&(Jt=J),W(Jt)?(gt(B("String"),Jt)&&W(Jt["$end_with?"]("@"))&&(fr=[Jt.$chop(),!0],Jt=fr[0],vr=fr[1]),wt["$[]="](er,Jt)):(wt.$delete(er),vr=Jt["$=="](!1)),vr}),W(Y)?(V.backend=wt["$[]"]("backend"),He(V.doctype=(q=["doctype",xe],me(wt,"[]=",q),q[q.length-1]),ae("DEFAULT_DOCTYPE"))||V.$update_doctype_attributes(ae("DEFAULT_DOCTYPE")),V.reader=ae("Reader").$new(v,c["$[]"]("cursor")),W(V.sourcemap)&&(V.source_location=V.reader.$cursor()),ae("Parser").$parse(V.reader,V),V.$restore_attributes(),V.parsed=!0):(V.backend=J,He(sr=W(de=wt["$[]"]("backend"))?de:ae("DEFAULT_BACKEND"),"manpage")?V.doctype=(q=["doctype",(R=["doctype","manpage"],me(fe,"[]=",R),R[R.length-1])],me(wt,"[]=",q),q[q.length-1]):V.doctype=W(de=wt["$[]"]("doctype"))?de:(q=["doctype",ae("DEFAULT_DOCTYPE")],me(wt,"[]=",q),q[q.length-1]),V.$update_backend_attributes(sr,!0),W(de=wt["$[]"]("stylesdir"))||wt["$[]="]("stylesdir","."),W(de=wt["$[]"]("iconsdir"))||wt["$[]="]("iconsdir",""+wt.$fetch("imagesdir","./images")+"/icons"),V.$fill_datetime_attributes(wt,vt),W(Ve)&&(W(Ot=c["$[]"]("extension_registry"))?(gt(B(ae("Extensions"),"Registry"),Ot)||W((A=B("::","AsciidoctorJ","skip_raise"))&&(R=B(A,"Extensions","skip_raise"))&&(q=B(R,"ExtensionRegistry","skip_raise"))?"constant":J)&&gt(B(B(B("AsciidoctorJ"),"Extensions"),"ExtensionRegistry"),Ot))&&(V.extensions=Ot.$activate(V)):W((Qt=c["$[]"]("extensions"))["$nil?"]())?W(ae("Extensions").$groups()["$empty?"]())||(V.extensions=B(ae("Extensions"),"Registry").$new().$activate(V)):gt(B("Proc"),Qt)&&(V.extensions=me(ae("Extensions"),"create",[],Qt.$to_proc()).$activate(V))),V.reader=ae("PreprocessorReader").$new(V,v,B(ae("Reader"),"Cursor").$new(wt["$[]"]("docfile"),V.base_dir),O(["normalize"],{normalize:!0})),W(V.sourcemap)?V.source_location=V.reader.$cursor():J)},-1),Xe(P,"$parse",function(v){var c=this,y=J,q=J;return v==null&&(v=J),W(c.parsed)?c:(y=c,W(v)&&(c.reader=ae("PreprocessorReader").$new(y,v,B(ae("Reader"),"Cursor").$new(c.attributes["$[]"]("docfile"),c.base_dir),O(["normalize"],{normalize:!0})),W(c.sourcemap)&&(c.source_location=c.reader.$cursor())),W(q=W(c.parent_document)?J:c.extensions)&&W(q["$preprocessors?"]())&&me(q.$preprocessors(),"each",[],function R(A){var V=R.$$s==null?this:R.$$s,Y=J;return V.reader==null&&(V.reader=J),A==null&&(A=J),V.reader=W(Y=A.$process_method()["$[]"](y,V.reader))?Y:V.reader},{$$s:c}),ae("Parser").$parse(c.reader,y,O(["header_only"],{header_only:c.options["$[]"]("parse_header_only")})),c.$restore_attributes(),W(q)&&W(q["$tree_processors?"]())&&me(q.$tree_processors(),"each",[],function(A){var V=J;return A==null&&(A=J),W(V=A.$process_method()["$[]"](y))&&gt(ae("Document"),V)&&it(V,y)?y=V:J}),c.parsed=!0,y)},-1),Xe(P,"$parsed?",at("parsed")),Xe(P,"$counter",function(v,c){var y,q=this,R=J,A=J,V=J;return c==null&&(c=J),W(q.parent_document)?q.parent_document.$counter(v,c):(W(A=q["$attribute_locked?"](v))&&W(R=q.counters["$[]"](v))||ze((R=q.attributes["$[]"](v))["$nil_or_empty?"]())?V=(y=[v,ae("Helpers").$nextval(R)],me(q.counters,"[]=",y),y[y.length-1]):W(c)?V=(y=[v,He(c,c.$to_i().$to_s())?c.$to_i():c],me(q.counters,"[]=",y),y[y.length-1]):V=(y=[v,1],me(q.counters,"[]=",y),y[y.length-1]),W(A)||q.attributes["$[]="](v,V),V)},-2),Xe(P,"$increment_and_store_counter",function(v,c){var y=this;return ae("AttributeEntry").$new(v,y.$counter(v)).$save_to(c.$attributes()).$value()}),w(P,"counter_increment","increment_and_store_counter"),Xe(P,"$register",function(v,c){var y=this,q=J,R=J,A=J;switch(v){case"ids":return y.$register("refs",[q=c["$[]"](0),ae("Inline").$new(y,"anchor",c["$[]"](1),O(["type","id"],{type:"ref",id:q}))]);case"refs":return R=y.catalog["$[]"]("refs"),W(R["$[]"](c["$[]"](0)))||R["$[]="](c["$[]"](0),A=c["$[]"](1)),A;case"footnotes":return y.catalog["$[]"](v)["$<<"](c);default:return W(y.options["$[]"]("catalog_assets"))?y.catalog["$[]"](v)["$<<"](He(v,"images")?ae("ImageReference").$new(c,y.attributes["$[]"]("imagesdir")):c):J}}),Xe(P,"$resolve_id",function(v){var c=this,y=J,q=J;return W(c.reftexts)?c.reftexts["$[]"](v):W(c.parsed)?me(c.reftexts=O([],{}),"tap",[],function R(A){var V=R.$$s==null?this:R.$$s;return V.catalog==null&&(V.catalog=J),A==null&&(A=J),me(V.catalog["$[]"]("refs"),"each",[],function(de,fe){var xe,Ve=J;return de==null&&(de=J),fe==null&&(fe=J),W(Ve=A["$[]"](fe.$xreftext()))?Ve:(xe=[fe.$xreftext(),de],me(A,"[]=",xe),xe[xe.length-1])})},{$$s:c})["$[]"](v):(y=J,c.reftexts=q=O([],{}),function(){try{var R=pt("break");return me(c.catalog["$[]"]("refs"),"each",[],function(V,Y){var de,fe=J,xe=J;return V==null&&(V=J),Y==null&&(Y=J),He(fe=Y.$xreftext(),v)&&(y=V,R.$throw()),W(xe=q["$[]"](fe))?xe:(de=[fe,V],me(q,"[]=",de),de[de.length-1])})}catch(A){if(A===R)return A.$v;throw A}}(),c.reftexts=J,y)}),Xe(P,"$sections?",function(){var v=this;return M(v.next_section_index,0)}),Xe(P,"$footnotes?",function(){var v=this;return!W(v.catalog["$[]"]("footnotes")["$empty?"]())}),Xe(P,"$footnotes",function(){var v=this;return v.catalog["$[]"]("footnotes")}),Xe(P,"$callouts",function(){var v=this;return v.catalog["$[]"]("callouts")}),Xe(P,"$nested?",function(){var v=this;return!!W(v.parent_document)}),Xe(P,"$embedded?",function(){var v=this;return v.attributes["$key?"]("embedded")}),Xe(P,"$extensions?",function(){var v=this;return!!W(v.extensions)}),Xe(P,"$source",function(){var v=this;return W(v.reader)?v.reader.$source():J}),Xe(P,"$source_lines",function(){var v=this;return W(v.reader)?v.reader.$source_lines():J}),Xe(P,"$basebackend?",function(v){var c=this;return c.attributes["$[]"]("basebackend")["$=="](v)}),Xe(P,"$title",function(){var v=this;return v.$doctitle()}),Xe(P,"$title=",function(v){var c,y=this,q=J;return W(q=y.header)||(q=y.header=ae("Section").$new(y,0))["$sectname="]("header"),c=[v],me(q,"title=",c),c[c.length-1]}),Xe(P,"$doctitle",function(v){var c=this,y=J,q=J,R=J,A=J;if(v==null&&(v=O([],{})),!W(y=c.attributes["$[]"]("title"))){if(W(q=c.$first_section()))y=q.$title();else if(ze(W(R=v["$[]"]("use_fallback"))?y=c.attributes["$[]"]("untitled-label"):R))return J}return W(A=v["$[]"]("partition"))?ae("Title").$new(y,v.$merge(O(["separator"],{separator:He(A,!0)?c.attributes["$[]"]("title-separator"):A}))):W(v["$[]"]("sanitize"))&&W(y["$include?"]("<"))?y.$gsub(ae("XmlSanitizeRx"),"").$squeeze(" ").$strip():y},-1),w(P,"name","doctitle"),Xe(P,"$xreftext",function(v){var c=this,y=J;return W(y=c.$reftext())&&ze(y["$empty?"]())?y:c.$title()},-1),Xe(P,"$author",function(){var v=this;return v.attributes["$[]"]("author")}),Xe(P,"$authors",function(){var v=this,c=J,y=J,q=J,R=J,A=J;if(W((c=v.attributes)["$key?"]("author"))){if(y=[ae("Author").$new(c["$[]"]("author"),c["$[]"]("firstname"),c["$[]"]("middlename"),c["$[]"]("lastname"),c["$[]"]("authorinitials"),c["$[]"]("email"))],W(M(q=W(R=c["$[]"]("authorcount"))?R:0,1)))for(A=1;W(ot(A,q));)A=Ze(A,1),y["$<<"](ae("Author").$new(c["$[]"]("author_"+A),c["$[]"]("firstname_"+A),c["$[]"]("middlename_"+A),c["$[]"]("lastname_"+A),c["$[]"]("authorinitials_"+A),c["$[]"]("email_"+A)));return y}else return[]}),Xe(P,"$revdate",function(){var v=this;return v.attributes["$[]"]("revdate")}),Xe(P,"$notitle",function(){var v=this;return v.attributes["$key?"]("notitle")}),Xe(P,"$noheader",function(){var v=this;return v.attributes["$key?"]("noheader")}),Xe(P,"$nofooter",function(){var v=this;return v.attributes["$key?"]("nofooter")}),Xe(P,"$first_section",function(){var v=this,c=J;return W(c=v.header)?c:me(v.blocks,"find",[],function(q){return q==null&&(q=J),q.$context()["$=="]("section")})}),Xe(P,"$header?",function(){var v=this;return!!W(v.header)}),w(P,"has_header?","header?"),Xe(P,"$<<",function K(v){var c=K.$$p||J,y=this;return K.$$p=null,He(v.$context(),"section")&&y.$assign_numeral(v),Re(y,Je(y,"<<",K,!1,!0),"<<",[v],c)}),Xe(P,"$finalize_header",function(v,c){var y=this;return c==null&&(c=!0),y.$clear_playback_attributes(v),y.$save_attributes(),W(c)||v["$[]="]("invalid-header",!0),v},-2),Xe(P,"$playback_attributes",function(v){var c=this;return W(v["$key?"]("attribute_entries"))?me(v["$[]"]("attribute_entries"),"each",[],function y(q){var R=y.$$s==null?this:y.$$s,A=J;return R.attributes==null&&(R.attributes=J),q==null&&(q=J),A=q.$name(),W(q.$negate())?(R.attributes.$delete(A),He(A,"compat-mode")?R.compat_mode=!1:J):(R.attributes["$[]="](A,q.$value()),He(A,"compat-mode")?R.compat_mode=!0:J)},{$$s:c}):J}),Xe(P,"$restore_attributes",function(){var v=this;return W(v.parent_document)||v.catalog["$[]"]("callouts").$rewind(),v.attributes.$replace(v.header_attributes)}),Xe(P,"$set_attribute",function(v,c){var y=this,q=J;if(c==null&&(c=""),W(y["$attribute_locked?"](v)))return J;if(W(c["$empty?"]())||(c=y.$apply_attribute_value_subs(c)),W(y.header_attributes))y.attributes["$[]="](v,c);else{switch(v){case"backend":y.$update_backend_attributes(c,W(q=y.attributes_modified["$delete?"]("htmlsyntax"))?c["$=="](y.backend):q);break;case"doctype":y.$update_doctype_attributes(c);break;default:y.attributes["$[]="](v,c)}y.attributes_modified["$<<"](v)}return c},-2),Xe(P,"$delete_attribute",function(v){var c=this;return W(c["$attribute_locked?"](v))?!1:(c.attributes.$delete(v),c.attributes_modified["$<<"](v),!0)}),Xe(P,"$attribute_locked?",function(v){var c=this;return c.attribute_overrides["$key?"](v)}),Xe(P,"$set_header_attribute",function(v,c,y){var q=this,R=J,A=J;return c==null&&(c=""),y==null&&(y=!0),R=W(A=q.header_attributes)?A:q.attributes,He(y,!1)&&W(R["$key?"](v))?!1:(R["$[]="](v,c),!0)},-2),Xe(P,"$convert",function(v){var c,y=this,q=J,R=J,A=J,V=J,Y=J;return v==null&&(v=O([],{})),W(y.timings)&&y.timings.$start("convert"),W(y.parsed)||y.$parse(),W(ft(y.safe,B(ae("SafeMode"),"SERVER")))||W(v["$empty?"]())||(W((c=["outfile",v["$[]"]("outfile")],me(y.attributes,"[]=",c),c[c.length-1]))||y.attributes.$delete("outfile"),W((c=["outdir",v["$[]"]("outdir")],me(y.attributes,"[]=",c),c[c.length-1]))||y.attributes.$delete("outdir")),He(y.$doctype(),"inline")?W(q=W(R=y.blocks["$[]"](0))?R:y.header)&&(He(q.$content_model(),"compound")||He(q.$content_model(),"empty")?y.$logger().$warn("no inline candidate; use the inline doctype to convert a single paragragh, verbatim, or raw block"):A=q.$content()):(W(v["$key?"]("standalone"))?V=W(v["$[]"]("standalone"))?"document":"embedded":W(v["$key?"]("header_footer"))?V=W(v["$[]"]("header_footer"))?"document":"embedded":V=W(y.options["$[]"]("standalone"))?"document":"embedded",A=y.converter.$convert(y,V)),W(y.parent_document)||W(Y=y.extensions)&&W(Y["$postprocessors?"]())&&me(Y.$postprocessors(),"each",[],function de(fe){var xe=de.$$s==null?this:de.$$s;return fe==null&&(fe=J),A=fe.$process_method()["$[]"](xe,A)},{$$s:y}),W(y.timings)&&y.timings.$record("convert"),A},-1),w(P,"render","convert"),Xe(P,"$write",function(v,c){var y=this;return W(y.timings)&&y.timings.$start("write"),gt(ae("Writer"),y.converter)?y.converter.$write(v,c):(W(c["$respond_to?"]("write"))?W(v["$nil_or_empty?"]())||(c.$write(v.$chomp()),c.$write(ae("LF"))):B("File").$write(c,v,O(["mode"],{mode:ae("FILE_WRITE_MODE")})),He(y.backend,"manpage")&&gt(B("String"),c)&&W(y.converter.$class()["$respond_to?"]("write_alternate_pages"))&&y.converter.$class().$write_alternate_pages(y.attributes["$[]"]("mannames"),y.attributes["$[]"]("manvolnum"),c)),W(y.timings)&&y.timings.$record("write"),J}),Xe(P,"$content",function K(){var v=K.$$p||J,c=this;return K.$$p=null,c.attributes.$delete("title"),Re(c,Je(c,"content",K,!1,!0),"content",[],v)}),Xe(P,"$docinfo",function(v,c){var y,q=this,R=J,A=J,V=J,Y=J,de=J,fe=J,xe=J,Ve=J,tt=J,ct=J;return v==null&&(v="head"),c==null&&(c=J),W(ot(q.$safe(),B(ae("SafeMode"),"SECURE")))&&(He(v,"head")||(R="-"+v),c=W(A=c)?A:q.outfilesuffix,W((V=q.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?W(q.attributes["$key?"]("docinfo2"))?V=["private","shared"]:W(q.attributes["$key?"]("docinfo1"))?V=["shared"]:V=W(V)?["private"]:J:V=me(V.$split(","),"map",[],function(_t){return _t==null&&(_t=J),_t.$strip()}),W(V)&&(Y=[],y=["docinfo"+R+c,q.attributes["$[]"]("docinfodir"),q.$resolve_docinfo_subs()],de=y[0],fe=y[1],xe=y[2],W(V["$&"](["shared","shared-"+v])["$empty?"]())||(Ve=q.$normalize_system_path(de,fe),W(tt=q.$read_asset(Ve,O(["normalize"],{normalize:!0})))&&Y["$<<"](q.$apply_subs(tt,xe))),W(q.attributes["$[]"]("docname")["$nil_or_empty?"]())||W(V["$&"](["private","private-"+v])["$empty?"]())||(Ve=q.$normalize_system_path(""+q.attributes["$[]"]("docname")+"-"+de,fe),W(ct=q.$read_asset(Ve,O(["normalize"],{normalize:!0})))&&Y["$<<"](q.$apply_subs(ct,xe))))),W(q.extensions)&&W(q["$docinfo_processors?"](v))?(W(A=Y)?A:[]).$concat(me(q.docinfo_processor_extensions["$[]"](v),"map",[],function vt(_t){var wt=vt.$$s==null?this:vt.$$s;return _t==null&&(_t=J),_t.$process_method()["$[]"](wt)},{$$s:q}).$compact()).$join(ae("LF")):W(Y)?Y.$join(ae("LF")):""},-1),Xe(P,"$docinfo_processors?",function(v){var c,y=this;return v==null&&(v="head"),W(y.docinfo_processor_extensions["$key?"](v))?y.docinfo_processor_extensions["$[]"](v)["$!="](!1):W(y.extensions)&&W(y.document.$extensions()["$docinfo_processors?"](v))?(c=[v,y.document.$extensions().$docinfo_processors(v)],me(y.docinfo_processor_extensions,"[]=",c),c[c.length-1])["$!"]()["$!"]():(c=[v,!1],me(y.docinfo_processor_extensions,"[]=",c),c[c.length-1])},-1),Xe(P,"$to_s",function(){var v=this,c=J;return"#<"+v.$class()+"@"+v.$object_id()+" {doctype: "+v.$doctype().$inspect()+", doctitle: "+(W(c=v.header)?v.header.$title():c).$inspect()+", blocks: "+v.blocks.$size()+"}>"}),P.$private(),Xe(P,"$apply_attribute_value_subs",function(v){var c,y=this;return W(ae("AttributeEntryPassMacroRx")["$=~"](v))?(v=(c=I["~"])===J?J:c["$[]"](2),W((c=I["~"])===J?J:c["$[]"](1))&&(v=y.$apply_subs(v,y.$resolve_pass_subs((c=I["~"])===J?J:c["$[]"](1))))):v=y.$apply_header_subs(v),W(y.max_attribute_value_size)?y.$limit_bytesize(v,y.max_attribute_value_size):v}),Xe(P,"$limit_bytesize",function(v,c){if(W(M(v.$bytesize(),c)))for(;!W((v=v.$byteslice(0,c))["$valid_encoding?"]());)c=Le(c,1);return v}),Xe(P,"$resolve_docinfo_subs",function(){var v=this;return W(v.attributes["$key?"]("docinfosubs"))?v.$resolve_subs(v.attributes["$[]"]("docinfosubs"),"block",J,"docinfo"):["attributes"]}),Xe(P,"$create_converter",function(v,c){var y=this,q=J,R=J,A=J,V=J,Y=J;return q=O(["document","htmlsyntax"],{document:y,htmlsyntax:y.attributes["$[]"]("htmlsyntax")}),W(R=W(A=(V=y.options)["$[]"]("template_dirs"))?A:V["$[]"]("template_dir"))&&(q["$[]="]("template_dirs",[].concat(lt(R))),q["$[]="]("template_cache",V.$fetch("template_cache",!0)),q["$[]="]("template_engine",V["$[]"]("template_engine")),q["$[]="]("template_engine_options",V["$[]"]("template_engine_options")),q["$[]="]("eruby",V["$[]"]("eruby")),q["$[]="]("safe",y.safe),W(c)&&q["$[]="]("delegate_backend",c)),W(Y=V["$[]"]("converter"))?B(ae("Converter"),"CustomFactory").$new(We(v,Y)).$create(v,q):V.$fetch("converter_factory",ae("Converter")).$create(v,q)}),Xe(P,"$clear_playback_attributes",function(v){return v.$delete("attribute_entries")}),Xe(P,"$save_attributes",function(){var v=this,c=J,y=J,q=J,R=J,A=J,V=J,Y=J,de=J,fe=J,xe=J,Ve=J,tt=J,ct=J,vt=J;if(W((y=v.attributes)["$key?"]("doctitle"))||ze(c=v.$doctitle())||y["$[]="]("doctitle",c),v.id=W(q=v.id)?q:y["$[]"]("css-signature"),W(R=W(y.$delete("toc2"))?"left":y["$[]"]("toc"))&&(A=W(V=y.$fetch("toc-placement","macro"))&&it(V,"auto")?V:y["$[]"]("toc-position"),!(W(R["$empty?"]())&&W(A["$nil_or_empty?"]())))){switch(Y="left",de="toc2",fe=W(A["$nil_or_empty?"]())?W(R["$empty?"]())?Y:R:A,y["$[]="]("toc",""),y["$[]="]("toc-placement","auto"),fe){case"left":case"<":case"&lt;":y["$[]="]("toc-position","left");break;case"right":case">":case"&gt;":y["$[]="]("toc-position","right");break;case"top":case"^":y["$[]="]("toc-position","top");break;case"bottom":case"v":y["$[]="]("toc-position","bottom");break;case"preamble":case"macro":y["$[]="]("toc-position","content"),y["$[]="]("toc-placement",fe),de=J;break;default:y.$delete("toc-position"),de=J}W(de)&&(W(q=y["$[]"]("toc-class"))||y["$[]="]("toc-class",de))}if(W(xe=y["$[]"]("icons"))&&ze(y["$key?"]("icontype")))switch(xe){case"":case"font":break;default:y["$[]="]("icons",""),He(xe,"image")||y["$[]="]("icontype",xe)}return W(v.compat_mode=y["$key?"]("compat-mode"))&&W(y["$key?"]("language"))&&y["$[]="]("source-language",y["$[]"]("language")),W(v.parent_document)||(He(Ve=y["$[]"]("basebackend"),"html")?W(tt=y["$[]"]("source-highlighter"))&&ze(y["$[]"](""+tt+"-unavailable"))&&(W(ct=v.options["$[]"]("syntax_highlighter_factory"))?v.syntax_highlighter=ct.$create(tt,v.backend,O(["document"],{document:v})):W(vt=v.options["$[]"]("syntax_highlighters"))?v.syntax_highlighter=B(ae("SyntaxHighlighter"),"DefaultFactoryProxy").$new(vt).$create(tt,v.backend,O(["document"],{document:v})):v.syntax_highlighter=ae("SyntaxHighlighter").$create(tt,v.backend,O(["document"],{document:v}))):He(Ve,"docbook")&&(W(v["$attribute_locked?"]("toc"))||W(v.attributes_modified["$include?"]("toc"))||y["$[]="]("toc",""),W(v["$attribute_locked?"]("sectnums"))||W(v.attributes_modified["$include?"]("sectnums"))||y["$[]="]("sectnums","")),v.outfilesuffix=y["$[]"]("outfilesuffix"),me(ae("FLEXIBLE_ATTRIBUTES"),"each",[],function _t(wt){var Dt=_t.$$s==null?this:_t.$$s;return Dt.attribute_overrides==null&&(Dt.attribute_overrides=J),wt==null&&(wt=J),W(Dt.attribute_overrides["$key?"](wt))&&W(Dt.attribute_overrides["$[]"](wt))?Dt.attribute_overrides.$delete(wt):J},{$$s:v})),v.header_attributes=y.$merge()}),Xe(P,"$fill_datetime_attributes",function(v,c){var y,q=this,R=J,A=J,V=J,Y=J,de=J,fe=J,xe=J,Ve=J;return R=W(B("ENV")["$key?"]("SOURCE_DATE_EPOCH"))?A=B("Time").$at(q.$Integer(B("ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():B("Time").$now(),W(V=v["$[]"]("localdate"))?W(Y=v["$[]"]("localyear"))||v["$[]="]("localyear",He(V.$index("-"),4)?V.$slice(0,4):J):(V=(y=["localdate",R.$strftime("%F")],me(v,"[]=",y),y[y.length-1]),W(Y=v["$[]"]("localyear"))||v["$[]="]("localyear",R.$year().$to_s())),de=W(Y=v["$[]"]("localtime"))?Y:(y=["localtime",R.$strftime("%T "+(He(R.$utc_offset(),0)?"UTC":"%z"))],me(v,"[]=",y),y[y.length-1]),W(Y=v["$[]"]("localdatetime"))||v["$[]="]("localdatetime",""+V+" "+de),c=W(Y=W(fe=A)?fe:c)?Y:R,W(xe=v["$[]"]("docdate"))?W(Y=v["$[]"]("docyear"))||v["$[]="]("docyear",He(xe.$index("-"),4)?xe.$slice(0,4):J):(xe=(y=["docdate",c.$strftime("%F")],me(v,"[]=",y),y[y.length-1]),W(Y=v["$[]"]("docyear"))||v["$[]="]("docyear",c.$year().$to_s())),Ve=W(Y=v["$[]"]("doctime"))?Y:(y=["doctime",c.$strftime("%T "+(He(c.$utc_offset(),0)?"UTC":"%z"))],me(v,"[]=",y),y[y.length-1]),W(Y=v["$[]"]("docdatetime"))||v["$[]="]("docdatetime",""+xe+" "+Ve),J}),Xe(P,"$update_backend_attributes",function(v,c){var y,q,R=this,A=J,V=J,Y=J,de=J,fe=J,xe=J,Ve=J,tt=J,ct=J,vt=J,_t=J,wt=J,Dt=J,zt=J;return c==null&&(c=J),W(c)||it(v,R.backend)?(A=R.backend,V=(Y=R.attributes)["$[]"]("basebackend"),de=R.doctype,W(v["$include?"](":"))&&(q=v.$partition(":"),y=N(q),fe=y[0]==null?J:y[0],y[1]==null||y[1],v=y[2]==null?J:y[2]),W(v["$start_with?"]("xhtml"))?(Y["$[]="]("htmlsyntax","xml"),v=v.$slice(1,v.$length())):W(v["$start_with?"]("html"))&&(W(xe=Y["$[]"]("htmlsyntax"))||Y["$[]="]("htmlsyntax","html")),v=W(xe=ae("BACKEND_ALIASES")["$[]"](v))?xe:v,W(fe)&&(y=[fe,v],v=y[0],Ve=y[1]),W(de)?(W(A)&&(Y.$delete("backend-"+A),Y.$delete("backend-"+A+"-doctype-"+de)),Y["$[]="]("backend-"+v+"-doctype-"+de,""),Y["$[]="]("doctype-"+de,"")):W(A)&&Y.$delete("backend-"+A),Y["$[]="]("backend-"+v,""),R.backend=(y=["backend",v],me(Y,"[]=",y),y[y.length-1]),gt(B(ae("Converter"),"BackendTraits"),tt=R.$create_converter(v,Ve))?(ct=tt.$basebackend(),vt=tt.$filetype(),W(_t=tt.$htmlsyntax())&&Y["$[]="]("htmlsyntax",_t),W(c)?W(xe=Y["$[]"]("outfilesuffix"))||Y["$[]="]("outfilesuffix",tt.$outfilesuffix()):W(R["$attribute_locked?"]("outfilesuffix"))||Y["$[]="]("outfilesuffix",tt.$outfilesuffix())):W(tt)?(wt=ae("Converter").$derive_backend_traits(v),ct=wt["$[]"]("basebackend"),vt=wt["$[]"]("filetype"),W(c)?W(xe=Y["$[]"]("outfilesuffix"))||Y["$[]="]("outfilesuffix",wt["$[]"]("outfilesuffix")):W(R["$attribute_locked?"]("outfilesuffix"))||Y["$[]="]("outfilesuffix",wt["$[]"]("outfilesuffix"))):R.$raise(B("NotImplementedError"),"asciidoctor: FAILED: missing converter for backend '"+v+"'. Processing aborted."),R.converter=tt,W(Dt=Y["$[]"]("filetype"))&&Y.$delete("filetype-"+Dt),Y["$[]="]("filetype",vt),Y["$[]="]("filetype-"+vt,""),W(zt=ae("DEFAULT_PAGE_WIDTHS")["$[]"](ct))?Y["$[]="]("pagewidth",zt):Y.$delete("pagewidth"),it(ct,V)&&(W(de)?(W(V)&&(Y.$delete("basebackend-"+V),Y.$delete("basebackend-"+V+"-doctype-"+de)),Y["$[]="]("basebackend-"+ct+"-doctype-"+de,"")):W(V)&&Y.$delete("basebackend-"+V),Y["$[]="]("basebackend-"+ct,""),Y["$[]="]("basebackend",ct)),v):J},-2),Xe(P,"$update_doctype_attributes",function(v){var c,y=this,q=J,R=J,A=J,V=J;return W(v)&&it(v,y.doctype)?(c=[y.backend,(q=y.attributes)["$[]"]("basebackend"),y.doctype],R=c[0],A=c[1],V=c[2],W(V)?(q.$delete("doctype-"+V),W(R)&&(q.$delete("backend-"+R+"-doctype-"+V),q["$[]="]("backend-"+R+"-doctype-"+v,"")),W(A)&&(q.$delete("basebackend-"+A+"-doctype-"+V),q["$[]="]("basebackend-"+A+"-doctype-"+v,""))):(W(R)&&q["$[]="]("backend-"+R+"-doctype-"+v,""),W(A)&&q["$[]="]("basebackend-"+A+"-doctype-"+v,"")),q["$[]="]("doctype-"+v,""),y.doctype=(c=["doctype",v],me(q,"[]=",c),c[c.length-1])):J})}(Se[0],$e("AbstractBlock"),Se)}(ht[0],ht)},Opal.modules["asciidoctor/inline"]=function(l){var ce=l.module,oe=l.klass,Q=l.hash2,me=l.send2,w=l.find_super,W=l.def,Xe=l.return_val,O=l.alias,ze=l.truthy,N=[],at=l.nil;return l.add_stubs("attr_accessor,attr_reader,[],convert,converter,attr,==,apply_reftext_subs,reftext"),function(Re,Je){var Le=ce(Re,"Asciidoctor"),He=[Le].concat(Je),gt=l.$r(He);return function(We,ft){var Ze=oe(We,ft,"Inline"),it=Ze.$$prototype;return it.text=it.type=at,Ze.$attr_accessor("text"),Ze.$attr_reader("type"),Ze.$attr_accessor("target"),W(Ze,"$initialize",function pt(M,ot,I,lt){pt.$$p;var ht=this;return pt.$$p=null,I==null&&(I=at),lt==null&&(lt=Q([],{})),me(ht,w(ht,"initialize",pt,!1,!0),"initialize",[M,ot,lt],null),ht.node_name="inline_"+ot,ht.text=I,ht.id=lt["$[]"]("id"),ht.type=lt["$[]"]("type"),ht.target=lt["$[]"]("target")},-3),W(Ze,"$block?",Xe(!1)),W(Ze,"$inline?",Xe(!0)),W(Ze,"$convert",function(){var M=this;return M.$converter().$convert(M)}),O(Ze,"render","convert"),W(Ze,"$alt",function(){var M=this,ot=at;return ze(ot=M.$attr("alt"))?ot:""}),W(Ze,"$reftext?",function(){var M=this,ot=at,I=at;return ze(ot=M.text)?ze(I=M.type["$=="]("ref"))?I:M.type["$=="]("bibref"):ot}),W(Ze,"$reftext",function(){var M=this,ot=at;return ze(ot=M.text)?M.$apply_reftext_subs(ot):at}),W(Ze,"$xreftext",function(M){var ot=this;return ot.$reftext()},-1)}(He[0],gt("AbstractNode"))}(N[0],N)},Opal.modules["asciidoctor/list"]=function(l){var ce=l.module,oe=l.klass,Q=l.alias,me=l.hash2,w=l.send2,W=l.find_super,Xe=l.def,O=l.truthy,ze=l.eqeq,N=[],at=l.nil;return l.add_stubs("blocks,blocks?,==,next_list,callouts,convert,class,object_id,inspect,size,items,parent,attr_accessor,level,drop,nil_or_empty?,apply_subs,attr_writer,empty?,===,[],outline?,!,simple?,source,shift,context"),function(Re,Je){var Le=ce(Re,"Asciidoctor"),He=[Le].concat(Je),gt=l.$r(He);return function(We,ft){var Ze=oe(We,ft,"List"),it=Ze.$$prototype;return it.context=it.document=it.style=at,Q(Ze,"items","blocks"),Q(Ze,"content","blocks"),Q(Ze,"items?","blocks?"),Xe(Ze,"$initialize",function pt(M,ot,I){var lt=pt.$$p||at,ht=this;return pt.$$p=null,I==null&&(I=me([],{})),w(ht,W(ht,"initialize",pt,!1,!0),"initialize",[M,ot,I],lt)},-3),Xe(Ze,"$outline?",function(){var M=this,ot=at;return O(ot=M.context["$=="]("ulist"))?ot:M.context["$=="]("olist")}),Xe(Ze,"$convert",function pt(){var M=pt.$$p||at,ot=this,I=at;return pt.$$p=null,ze(ot.context,"colist")?(I=w(ot,W(ot,"convert",pt,!1,!0),"convert",[],M),ot.document.$callouts().$next_list(),I):w(ot,W(ot,"convert",pt,!1,!0),"convert",[],M)}),Q(Ze,"render","convert"),Xe(Ze,"$to_s",function(){var M=this;return"#<"+M.$class()+"@"+M.$object_id()+" {context: "+M.context.$inspect()+", style: "+M.style.$inspect()+", items: "+M.$items().$size()+"}>"})}(He[0],gt("AbstractBlock")),function(We,ft,Ze){var it=oe(We,ft,"ListItem"),pt=[it].concat(Ze),M=l.$r(pt),ot=it.$$prototype;return ot.text=ot.subs=ot.blocks=at,Q(it,"list","parent"),it.$attr_accessor("marker"),Xe(it,"$initialize",function I(lt,ht){I.$$p;var J=this;return I.$$p=null,ht==null&&(ht=at),w(J,W(J,"initialize",I,!1,!0),"initialize",[lt,"list_item"],null),J.text=ht,J.level=lt.$level(),J.subs=M("NORMAL_SUBS").$drop(0)},-2),Xe(it,"$text?",function(){var lt=this;return!O(lt.text["$nil_or_empty?"]())}),Xe(it,"$text",function(){var lt=this,ht=at;return O(ht=lt.text)?lt.$apply_subs(lt.text,lt.subs):ht}),it.$attr_writer("text"),Xe(it,"$simple?",function(){var lt=this,ht=at,J=at,B=at,Qe=at;return O(ht=lt.blocks["$empty?"]())?ht:O(J=O(B=lt.blocks.$size()["$=="](1))?M("List")["$==="](Qe=lt.blocks["$[]"](0)):B)?Qe["$outline?"]():J}),Xe(it,"$compound?",function(){var lt=this;return lt["$simple?"]()["$!"]()}),Xe(it,"$fold_first",function(){var lt=this;return lt.text=O(lt.text["$nil_or_empty?"]())?lt.blocks.$shift().$source():""+lt.text+M("LF")+lt.blocks.$shift().$source(),at}),Xe(it,"$to_s",function(){var lt=this,ht=at;return"#<"+lt.$class()+"@"+lt.$object_id()+" {list_context: "+lt.$parent().$context().$inspect()+", text: "+lt.text.$inspect()+", blocks: "+(O(ht=lt.blocks)?ht:[]).$size()+"}>"})}(He[0],gt("AbstractBlock"),He)}(N[0],N)},Opal.modules["asciidoctor/parser"]=function(l){var ce=l.module,oe=l.klass,Q=l.const_set,me=l.send,w=l.truthy,W=l.hash2,Xe=l.to_ary,O=l.defs,ze=l.eqeq,N=l.not,at=l.gvars,Re=l.neqeq,Je=l.rb_plus,Le=l.rb_lt,He=l.rb_gt,gt=l.to_a,We=l.eqeqeq,ft=l.rb_minus,Ze=l.rb_times,it=l.thrower,pt=[],M=l.nil,ot=l.$$$;return l.add_stubs("include,new,proc,start_with?,match?,is_delimited_block?,private_class_method,parse_document_header,[],has_more_lines?,next_section,assign_numeral,<<,blocks,skip_blank_lines,parse_block_metadata_lines,attributes,is_next_line_doctitle?,[]=,finalize_header,nil_or_empty?,title=,sourcemap,cursor,parse_section_title,id=,include?,sub_specialchars,sub_attributes,source_location=,header,attribute_locked?,id,clear,delete,instance_variable_get,parse_header_metadata,==,!,register,process_authors,update,doctype,parse_manpage_header,=~,downcase,error,logger,message_with_context,cursor_at_line,backend,save,is_next_line_section?,initialize_section,join,map,read_lines_until,lstrip,split,title,restore_save,discard_save,header?,empty?,context,!=,attr?,attr,key?,document,+,level,special,sectname,to_i,<,>,warn,next_block,blocks?,style,style=,parent=,content_model,content_model=,lines,subs,size,context=,shift,unwrap_standalone_preamble,source_location,merge,fetch,parse_block_metadata_line,extensions,block_macros?,mark,read_line,terminator,to_s,masq,to_sym,registered_for_block?,debug?,debug,cursor_at_mark,strict_verbatim_paragraphs,unshift_line,markdown_syntax,keys,chr,uniform?,length,end_with?,parse_attributes,attribute_missing,tr,basename,assign_caption,registered_for_block_macro?,config,process_method,replace,parse_callout_list,callouts,===,parse_list,parse_description_list,underline_style_section_titles,is_section_title?,peek_line,atx_section_title?,generate_id,level=,read_paragraph_lines,adjust_indentation!,map!,slice,pop,build_block,apply_subs,chop,catalog_inline_anchors,rekey,index,strip,-,parse_table,each,raise,title?,update_attributes,commit_subs,sub?,catalog_callouts,source,remove_sub,block_terminates_paragraph,to_proc,nil?,parse_blocks,parse_list_item,items,scan,gsub,count,advance,dup,match,callout_ids,next_list,catalog_inline_anchor,marker=,catalog_inline_biblio_anchor,set_option,text=,resolve_ordered_list_marker,read_lines_for_list_item,skip_line_comments,unshift_lines,fold_first,text?,is_sibling_list_item?,concat,find,casecmp,sectname=,special=,numbered=,numbered,lineno,peek_lines,setext_section_title?,abs,cursor_at_prev_line,process_attribute_entries,next_line_empty?,apply_header_subs,rstrip,each_with_index,compact,to_h,squeeze,to_a,parse_style_attribute,process_attribute_entry,skip_comment_lines,store_attribute,sanitize_attribute_name,set_attribute,save_to,delete_attribute,ord,int_to_roman,resolve_list_marker,parse_colspecs,create_columns,has_header_option=,format,starts_with_delimiter?,close_open_cell,parse_cellspec,delimiter,match_delimiter,pre_match,post_match,buffer_has_unclosed_quotes?,skip_past_delimiter,buffer=,buffer,skip_past_escaped_delimiter,keep_cell_open,push_cellspec,close_cell,cell_open?,columns,assign_column_widths,partition_header_footer,upto,partition,shorthand_property_syntax,each_char,yield_buffered_attribute,any?,*,each_byte,%"),function(I,lt){var ht=ce(I,"Asciidoctor"),J=[ht].concat(lt);return function(B,Qe,Ae){var qe=oe(B,Qe,"Parser"),Se=[qe].concat(Ae),$e=l.$r(Se);return qe.$include($e("Logging")),Q(Se[0],"BlockMatchData",$e("Struct").$new("context","masq","tip","terminator")),Q(Se[0],"TAB","	"),Q(Se[0],"TabIndentRx",/^\t+/),Q(Se[0],"StartOfBlockProc",me(qe,"proc",[],function ye(ne){var U=ye.$$s==null?this:ye.$$s,P=M,le=M;return ne==null&&(ne=M),w(P=w(le=ne["$start_with?"]("["))?$e("BlockAttributeLineRx")["$match?"](ne):le)?P:U["$is_delimited_block?"](ne)},{$$s:qe})),Q(Se[0],"StartOfListProc",me(qe,"proc",[],function(ne){return ne==null&&(ne=M),$e("AnyListRx")["$match?"](ne)})),Q(Se[0],"StartOfBlockOrListProc",me(qe,"proc",[],function ye(ne){var U=ye.$$s==null?this:ye.$$s,P=M,le=M,ae=M;return ne==null&&(ne=M),w(P=w(le=U["$is_delimited_block?"](ne))?le:w(ae=ne["$start_with?"]("["))?$e("BlockAttributeLineRx")["$match?"](ne):ae)?P:$e("AnyListRx")["$match?"](ne)},{$$s:qe})),Q(Se[0],"NoOp",M),Q(Se[0],"AuthorKeys",["author","authorinitials","firstname","middlename","lastname","email"]),Q(Se[0],"TableCellHorzAlignments",W(["<",">","^"],{"<":"left",">":"right","^":"center"})),Q(Se[0],"TableCellVertAlignments",W(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})),Q(Se[0],"TableCellStyles",W(["d","s","e","m","h","l","a"],{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",a:"asciidoc"})),qe.$private_class_method("new"),O(qe,"$parse",function(ne,U,P){var le,ae,_e=this,K=M,v=M,c=M;if(P==null&&(P=W([],{})),K=_e.$parse_document_header(ne,U,v=P["$[]"]("header_only")),!w(v))for(;w(ne["$has_more_lines?"]());)ae=_e.$next_section(ne,U,K),le=Xe(ae),c=le[0]==null?M:le[0],K=le[1]==null?M:le[1],w(c)&&(U.$assign_numeral(c),U.$blocks()["$<<"](c));return U},-3),O(qe,"$parse_document_header",function(ne,U,P){var le,ae,_e,K=this,v=M,c=M,y=M,q=M,R=M,A=M,V=M,Y=M,de=M,fe=M,xe=M,Ve=M,tt=M,ct=M,vt=M;return P==null&&(P=!1),v=w(ne.$skip_blank_lines())?K.$parse_block_metadata_lines(ne,U):W([],{}),c=U.$attributes(),w(y=K["$is_next_line_doctitle?"](ne,v,c["$[]"]("leveloffset")))&&w(v["$[]"]("title"))?(c["$[]="]("authorcount",0),U.$finalize_header(v,!1)):(w((q=c["$[]"]("doctitle"))["$nil_or_empty?"]())||U["$title="](R=q),w(y)?(w(U.$sourcemap())&&(A=ne.$cursor()),ae=K.$parse_section_title(ne,U),le=Xe(ae),_e=[le[0]==null?M:le[0]],me(U,"id=",_e),_e[_e.length-1],le[1]==null||le[1],V=le[2]==null?M:le[2],le[3]==null||le[3],Y=le[4]==null?M:le[4],w(R)?V=M:(U["$title="](V),w((le=["doctitle",R=U.$sub_specialchars(V)],me(c,"[]=",le),le[le.length-1])["$include?"]($e("ATTR_REF_HEAD")))&&c["$[]="]("doctitle",R=U.$sub_attributes(R,W(["attribute_missing"],{attribute_missing:"skip"})))),w(A)&&U.$header()["$source_location="](A),w(Y)||w(U["$attribute_locked?"]("compat-mode"))||c["$[]="]("compat-mode",""),w(de=v["$[]"]("separator"))&&(w(U["$attribute_locked?"]("title-separator"))||c["$[]="]("title-separator",de)),w(fe=v["$[]"]("id"))?U["$id="](fe):fe=U.$id(),w(xe=v["$[]"]("role"))&&c["$[]="]("role",xe),w(Ve=v["$[]"]("reftext"))&&c["$[]="]("reftext",Ve),v.$clear(),(tt=U.$instance_variable_get("@attributes_modified")).$delete("doctitle"),K.$parse_header_metadata(ne,U,M),w(tt["$include?"]("doctitle"))?w((q=c["$[]"]("doctitle"))["$nil_or_empty?"]())||ze(q,R)?c["$[]="]("doctitle",R):U["$title="](q):N(V)&&tt["$<<"]("doctitle"),w(fe)&&U.$register("refs",[fe,U])):w(ct=c["$[]"]("author"))?(vt=K.$process_authors(ct,!0,!1),w(c["$[]"]("authorinitials"))&&vt.$delete("authorinitials"),c.$update(vt)):w(ct=c["$[]"]("authors"))?(vt=K.$process_authors(ct,!0),c.$update(vt)):c["$[]="]("authorcount",0),ze(U.$doctype(),"manpage")&&K.$parse_manpage_header(ne,U,v,P),U.$finalize_header(v))},-3),O(qe,"$parse_manpage_header",function(ne,U,P,le){var ae,_e=this,K=M,v=M,c=M,y=M,q=M,R=M,A=M,V=M,Y=M,de=M,fe=M,xe=M;return le==null&&(le=!1),w($e("ManpageTitleVolnumRx")["$=~"]((K=U.$attributes())["$[]"]("doctitle")))?(K["$[]="]("manvolnum",v=(ae=at["~"])===M?M:ae["$[]"](2)),K["$[]="]("mantitle",(w((c=(ae=at["~"])===M?M:ae["$[]"](1))["$include?"]($e("ATTR_REF_HEAD")))?U.$sub_attributes(c):c).$downcase())):(_e.$logger().$error(_e.$message_with_context("non-conforming manpage title",W(["source_location"],{source_location:ne.$cursor_at_line(1)}))),K["$[]="]("mantitle",w(y=w(q=K["$[]"]("doctitle"))?q:K["$[]"]("docname"))?y:"command"),K["$[]="]("manvolnum",v="1")),w(R=K["$[]"]("manname"))&&w(K["$[]"]("manpurpose"))?(w(y=K["$[]"]("manname-title"))||K["$[]="]("manname-title","Name"),K["$[]="]("mannames",[R]),ze(U.$backend(),"manpage")&&(K["$[]="]("docname",R),K["$[]="]("outfilesuffix","."+v))):w(le)||(ne.$skip_blank_lines(),ne.$save(),P.$update(_e.$parse_block_metadata_lines(ne,U)),w(A=_e["$is_next_line_section?"](ne,W([],{})))?ze(A,1)?(V=_e.$initialize_section(ne,U,W([],{})),Y=me(ne.$read_lines_until(W(["break_on_blank_lines","skip_line_comments"],{break_on_blank_lines:!0,skip_line_comments:!0})),"map",[],function(tt){return tt==null&&(tt=M),tt.$lstrip()}).$join(" "),w($e("ManpageNamePurposeRx")["$=~"](Y))?(w((R=(ae=at["~"])===M?M:ae["$[]"](1))["$include?"]($e("ATTR_REF_HEAD")))&&(R=U.$sub_attributes(R)),w(R["$include?"](","))?R=(de=me(R.$split(","),"map",[],function(tt){return tt==null&&(tt=M),tt.$lstrip()}))["$[]"](0):de=[R],w((fe=(ae=at["~"])===M?M:ae["$[]"](2))["$include?"]($e("ATTR_REF_HEAD")))&&(fe=U.$sub_attributes(fe)),w(y=K["$[]"]("manname-title"))||K["$[]="]("manname-title",V.$title()),w(V.$id())&&K["$[]="]("manname-id",V.$id()),K["$[]="]("manname",R),K["$[]="]("mannames",de),K["$[]="]("manpurpose",fe),ze(U.$backend(),"manpage")&&(K["$[]="]("docname",R),K["$[]="]("outfilesuffix","."+v))):xe="non-conforming name section body"):xe="name section must be at level 1":xe="name section expected",w(xe)?(ne.$restore_save(),_e.$logger().$error(_e.$message_with_context(xe,W(["source_location"],{source_location:ne.$cursor()}))),K["$[]="]("manname",R=w(y=K["$[]"]("docname"))?y:"command"),K["$[]="]("mannames",[R]),ze(U.$backend(),"manpage")&&(K["$[]="]("docname",R),K["$[]="]("outfilesuffix","."+v))):ne.$discard_save()),M},-4),O(qe,"$next_section",function(ne,U,P){var le,ae,_e=this,K=M,v=M,c=M,y=M,q=M,R=M,A=M,V=M,Y=M,de=M,fe=M,xe=M,Ve=M,tt=M,ct=M,vt=M,_t=M,wt=M,Dt=M,zt=M;for(P==null&&(P=W([],{})),K=v=c=!1,ze(U.$context(),"document")&&w(U.$blocks()["$empty?"]())&&(w(y=U["$header?"]())||w(P.$delete("invalid-header"))||N(_e["$is_next_line_section?"](ne,P)))?(q=(R=U).$doctype()["$=="]("book"),(w(y)||w(q)&&Re(P["$[]"](1),"abstract"))&&(K=v=$e("Block").$new(U,"preamble",W(["content_model"],{content_model:"compound"})),w(q)&&w(U["$attr?"]("preface-title"))&&K["$title="](U.$attr("preface-title")),U.$blocks()["$<<"](K)),A=U,V=0,w(U.$attributes()["$key?"]("fragment"))?Y=-1:w(q)?(le=[1,0],Y=le[0],de=le[1]):Y=1):(q=(R=U.$document()).$doctype()["$=="]("book"),A=_e.$initialize_section(ne,U,P),P=w(fe=P["$[]"]("title"))?W(["title"],{title:fe}):W([],{}),Y=Je(V=A.$level(),1),ze(V,0)?c=q:ze(V,1)&&w(A.$special())&&(ze(xe=A.$sectname(),"appendix")||ze(xe,"preface")||ze(xe,"abstract")||(Y=M))),ne.$skip_blank_lines();w(ne["$has_more_lines?"]());){if(_e.$parse_block_metadata_lines(ne,R,P),w(Ve=_e["$is_next_line_section?"](ne,P)))if(w(R["$attr?"]("leveloffset"))&&(Ve=Je(Ve,R.$attr("leveloffset").$to_i()),w(Le(Ve,0))&&(Ve=0)),w(He(Ve,V)))w(Y)?ze(Ve,Y)||w(de)&&ze(Ve,de)||w(Le(Y,0))||(tt=w(de)?"expected levels "+de+" or "+Y:"expected level "+Y,_e.$logger().$warn(_e.$message_with_context("section title out of sequence: "+tt+", got level "+Ve,W(["source_location"],{source_location:ne.$cursor()})))):_e.$logger().$error(_e.$message_with_context(""+xe+" sections do not support nested sections",W(["source_location"],{source_location:ne.$cursor()}))),ae=_e.$next_section(ne,A,P),le=Xe(ae),ct=le[0]==null?M:le[0],P=le[1]==null?M:le[1],A.$assign_numeral(ct),A.$blocks()["$<<"](ct);else if(ze(Ve,0)&&ze(A,R))w(q)||_e.$logger().$error(_e.$message_with_context("level 0 sections can only be used when doctype is book",W(["source_location"],{source_location:ne.$cursor()}))),ae=_e.$next_section(ne,A,P),le=Xe(ae),ct=le[0]==null?M:le[0],P=le[1]==null?M:le[1],A.$assign_numeral(ct),A.$blocks()["$<<"](ct);else break;else vt=ne.$cursor(),w(_t=_e.$next_block(ne,w(wt=v)?wt:A,P,W(["parse_metadata"],{parse_metadata:!1})))&&(w(c)&&(N(A["$blocks?"]())?Re(_t.$style(),"partintro")?ze(_t.$style(),"open")&&ze(_t.$context(),"open")?_t["$style="]("partintro"):(_t["$parent="](v=$e("Block").$new(A,"open",W(["content_model"],{content_model:"compound"}))),v["$style="]("partintro"),A.$blocks()["$<<"](v)):ze(_t.$content_model(),"simple")&&(_t["$content_model="]("compound"),_t["$<<"]($e("Block").$new(_t,"paragraph",W(["source","subs"],{source:_t.$lines(),subs:_t.$subs()}))),_t.$lines().$clear(),_t.$subs().$clear()):ze(A.$blocks().$size(),1)&&(Dt=A.$blocks()["$[]"](0),N(v)&&ze(Dt.$content_model(),"compound")?_e.$logger().$error(_e.$message_with_context("illegal block content outside of partintro block",W(["source_location"],{source_location:vt}))):Re(Dt.$content_model(),"compound")&&(_t["$parent="](v=$e("Block").$new(A,"open",W(["content_model"],{content_model:"compound"}))),ze(Dt.$style(),(le=["partintro"],me(v,"style=",le),le[le.length-1]))&&(Dt["$context="]("paragraph"),Dt["$style="](M)),A.$blocks().$shift(),v["$<<"](Dt),A.$blocks()["$<<"](v)))),(w(wt=v)?wt:A).$blocks()["$<<"](_t),P.$clear());if(!w(wt=ne.$skip_blank_lines()))break}if(w(c))w(A["$blocks?"]())&&ze(A.$blocks()["$[]"](-1).$context(),"section")||_e.$logger().$error(_e.$message_with_context("invalid part, must have at least one section (e.g., chapter, appendix, etc.)",W(["source_location"],{source_location:ne.$cursor()})));else if(w(K))if(w(K["$blocks?"]()))if(w(q)||w(R.$blocks()["$[]"](1))||N($e("Compliance").$unwrap_standalone_preamble()))w(R.$sourcemap())&&K["$source_location="](K.$blocks()["$[]"](0).$source_location());else for(R.$blocks().$shift();w(zt=K.$blocks().$shift());)R["$<<"](zt);else R.$blocks().$shift();return[ze(A,U)?M:A,P.$merge()]},-3),O(qe,"$next_block",function(ne,U,P,le){var ae,_e,K=this,v=M,c=M,y=M,q=M,R=M,A=M,V=M,Y=M,de=M,fe=M,xe=M,Ve=M,tt=M,ct=M,vt=M,_t=M,wt=M,Dt=M,zt=M,It=M,Mt=M,Ft=M,sr=M,Ot=M,Qt=M,lr=M,er=M,Jt=M,fr=M,vr=M,Mn=M,an=M,pr=M,ar=M,ur=M,Cr=M,nr=M,Nr=M,Qr=M,qr=M,Fr=M,bn=M,jr=M,Lr=M,Kn=M,Rn=M,ii=M,Ln=M,Fi=M;if(at["~"]==null&&(at["~"]=M),P==null&&(P=W([],{})),le==null&&(le=W([],{})),!w(v=ne.$skip_blank_lines()))return M;if(w(c=le["$[]"]("text_only"))&&w(He(v,0))&&(le.$delete("text_only"),c=M),y=U.$document(),w(le.$fetch("parse_metadata",!0))){for(;w(K.$parse_block_metadata_line(ne,y,P,le));)if(ne.$shift(),!w(q=ne.$skip_blank_lines()))return M}if(w(R=y.$extensions())&&(ae=[R["$blocks?"](),R["$block_macros?"]()],A=ae[0],V=ae[1]),ne.$mark(),ae=[ne.$read_line(),y.$attributes(),P["$[]"](1)],Y=ae[0],de=ae[1],fe=ae[2],xe=Ve=tt=ct=M,w(vt=K["$is_delimited_block?"](Y,!0))&&(Ve=tt=vt.$context(),ct=vt.$terminator(),w(fe)?ze(fe,Ve.$to_s())||(w(vt.$masq()["$include?"](fe))?Ve=fe.$to_sym():w(vt.$masq()["$include?"]("admonition"))&&w($e("ADMONITION_STYLES")["$include?"](fe))?Ve="admonition":w(A)&&w(R["$registered_for_block?"](fe,Ve))?Ve=fe.$to_sym():(w(K.$logger()["$debug?"]())&&K.$logger().$debug(K.$message_with_context("unknown style for "+Ve+" block: "+fe,W(["source_location"],{source_location:ne.$cursor_at_mark()}))),fe=Ve.$to_s())):fe=(ae=["style",Ve.$to_s()],me(P,"[]=",ae),ae[ae.length-1])),!w(vt))for(;w(!0);){if(w(fe)&&w($e("Compliance").$strict_verbatim_paragraphs())&&w($e("VERBATIM_STYLES")["$include?"](fe))){Ve=fe.$to_sym(),ne.$unshift_line(Y);break}if(w(c))_t=Y["$start_with?"](" ",$e("TAB"));else if(wt=$e("Compliance").$markdown_syntax(),w(Y["$start_with?"](" "))){if(ae=[!0," "],_t=ae[0],Dt=ae[1],w(wt)&&w(me(Y.$lstrip(),"start_with?",gt($e("MARKDOWN_THEMATIC_BREAK_CHARS").$keys())))&&w($e("MarkdownThematicBreakRx")["$match?"](Y))){xe=$e("Block").$new(U,"thematic_break",W(["content_model"],{content_model:"empty"}));break}}else if(w(Y["$start_with?"]($e("TAB"))))ae=[!0,$e("TAB")],_t=ae[0],Dt=ae[1];else if(ae=[!1,Y.$chr()],_t=ae[0],Dt=ae[1],zt=w(wt)?$e("HYBRID_LAYOUT_BREAK_CHARS"):$e("LAYOUT_BREAK_CHARS"),w(zt["$key?"](Dt))&&w(w(wt)?$e("ExtLayoutBreakRx")["$match?"](Y):w(q=K["$uniform?"](Y,Dt,It=Y.$length()))?He(It,2):q)){xe=$e("Block").$new(U,zt["$[]"](Dt),W(["content_model"],{content_model:"empty"}));break}else if(w(Y["$end_with?"]("]"))&&w(Y["$include?"]("::"))){if((ze(Dt,"i")||w(Y["$start_with?"]("video:","audio:")))&&w($e("BlockMediaMacroRx")["$=~"](Y))){if(ae=[((_e=at["~"])===M?M:_e["$[]"](1)).$to_sym(),(_e=at["~"])===M?M:_e["$[]"](2),(_e=at["~"])===M?M:_e["$[]"](3)],Mt=ae[0],Ft=ae[1],sr=ae[2],xe=$e("Block").$new(U,Mt,W(["content_model"],{content_model:"empty"})),w(sr)){switch(Mt){case"video":Ot=["poster","width","height"];break;case"audio":Ot=[];break;default:Ot=["alt","width","height"]}xe.$parse_attributes(sr,Ot,W(["sub_input","into"],{sub_input:!0,into:P}))}if(w(P["$key?"]("style"))&&P.$delete("style"),w(Ft["$include?"]($e("ATTR_REF_HEAD")))){if(w((Qt=xe.$sub_attributes(Ft))["$empty?"]())&&ze(w(q=de["$[]"]("attribute-missing"))?q:$e("Compliance").$attribute_missing(),"drop-line")&&w(xe.$sub_attributes(Je(Ft," "),W(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]()))return P.$clear(),M;Ft=Qt}ze(Mt,"image")&&(y.$register("images",Ft),P["$[]="]("imagesdir",de["$[]"]("imagesdir")),w(q=P["$[]"]("alt"))||P["$[]="]("alt",w(lr=fe)?lr:(ae=["default-alt",$e("Helpers").$basename(Ft,!0).$tr("_-"," ")],me(P,"[]=",ae),ae[ae.length-1])),w((er=P.$delete("scaledwidth"))["$nil_or_empty?"]())||P["$[]="]("scaledwidth",w($e("TrailingDigitsRx")["$match?"](er))?""+er+"%":er),w(P["$[]"]("title"))&&(xe["$title="](Jt=P.$delete("title")),xe.$assign_caption(P.$delete("caption"),"figure"))),P["$[]="]("target",Ft);break}else if(ze(Dt,"t")&&w(Y["$start_with?"]("toc:"))&&w($e("BlockTocMacroRx")["$=~"](Y))){xe=$e("Block").$new(U,"toc",W(["content_model"],{content_model:"empty"})),w((ae=at["~"])===M?M:ae["$[]"](1))&&xe.$parse_attributes((ae=at["~"])===M?M:ae["$[]"](1),[],W(["into"],{into:P}));break}else if(w(w(V)?w(q=w(lr=$e("CustomBlockMacroRx")["$=~"](Y))?fr=R["$registered_for_block_macro?"]((ae=at["~"])===M?M:ae["$[]"](1)):lr)?q:vr=K.$logger()["$debug?"]():w(q=K.$logger()["$debug?"]())?vr=$e("CustomBlockMacroRx")["$=~"](Y):q))if(w(vr))K.$logger().$debug(K.$message_with_context("unknown name for block macro: "+((ae=at["~"])===M?M:ae["$[]"](1)),W(["source_location"],{source_location:ne.$cursor_at_mark()})));else{if(Mn=(ae=at["~"])===M?M:ae["$[]"](3),w((Ft=(ae=at["~"])===M?M:ae["$[]"](2))["$include?"]($e("ATTR_REF_HEAD")))){if(w((Qt=U.$sub_attributes(Ft))["$empty?"]())&&ze(w(q=de["$[]"]("attribute-missing"))?q:$e("Compliance").$attribute_missing(),"drop-line")&&w(U.$sub_attributes(Je(Ft," "),W(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]()))return P.$clear(),M;Ft=Qt}if(ze((an=fr.$config())["$[]"]("content_model"),"attributes")?w(Mn)&&y.$parse_attributes(Mn,w(q=w(lr=an["$[]"]("positional_attrs"))?lr:an["$[]"]("pos_attrs"))?q:[],W(["sub_input","into"],{sub_input:!0,into:P})):P["$[]="]("text",w(q=Mn)?q:""),w(pr=an["$[]"]("default_attrs"))&&me(P,"update",[pr],function(Hr,Wn){return Wn==null&&(Wn=M),Wn}),w(xe=fr.$process_method()["$[]"](U,Ft,P))&&Re(xe,U)){P.$replace(xe.$attributes());break}else return P.$clear(),M}}if(N(_t)&&ze(Dt=w(q=Dt)?q:Y.$chr(),"<")&&w($e("CalloutListRx")["$=~"](Y))){ne.$unshift_line(Y),xe=K.$parse_callout_list(ne,at["~"],U,y.$callouts()),P["$[]="]("style","arabic");break}else if(w($e("UnorderedListRx")["$match?"](Y))){ne.$unshift_line(Y),N(fe)&&We($e("Section"),U)&&ze(U.$sectname(),"bibliography")&&P["$[]="]("style",fe="bibliography"),xe=K.$parse_list(ne,"ulist",U,fe);break}else if(w($e("OrderedListRx")["$match?"](Y))){ne.$unshift_line(Y),xe=K.$parse_list(ne,"olist",U,fe),w(xe.$style())&&P["$[]="]("style",xe.$style());break}else if((w(Y["$include?"]("::"))||w(Y["$include?"](";;")))&&w($e("DescriptionListRx")["$=~"](Y))){ne.$unshift_line(Y),xe=K.$parse_description_list(ne,at["~"],U);break}else if((ze(fe,"float")||ze(fe,"discrete"))&&w(w($e("Compliance").$underline_style_section_titles())?K["$is_section_title?"](Y,ne.$peek_line()):w(q=_t["$!"]())?K["$atx_section_title?"](Y):q)){ne.$unshift_line(Y),_e=K.$parse_section_title(ne,y,P["$[]"]("id")),ae=Xe(_e),ar=ae[0]==null?M:ae[0],ur=ae[1]==null?M:ae[1],Jt=ae[2]==null?M:ae[2],Cr=ae[3]==null?M:ae[3],w(ur)&&P["$[]="]("reftext",ur),xe=$e("Block").$new(U,"floating_title",W(["content_model"],{content_model:"empty"})),xe["$title="](Jt),P.$delete("title"),xe["$id="](w(q=ar)?q:w(de["$key?"]("sectids"))?$e("Section").$generate_id(xe.$title(),y):M),xe["$level="](Cr);break}else if(w(fe)&&Re(fe,"normal"))if(w($e("PARAGRAPH_STYLES")["$include?"](fe))){Ve=fe.$to_sym(),tt="paragraph",ne.$unshift_line(Y);break}else if(w($e("ADMONITION_STYLES")["$include?"](fe))){Ve="admonition",tt="paragraph",ne.$unshift_line(Y);break}else if(w(A)&&w(R["$registered_for_block?"](fe,"paragraph"))){Ve=fe.$to_sym(),tt="paragraph",ne.$unshift_line(Y);break}else w(K.$logger()["$debug?"]())&&K.$logger().$debug(K.$message_with_context("unknown style for paragraph: "+fe,W(["source_location"],{source_location:ne.$cursor_at_mark()}))),fe=M;if(ne.$unshift_line(Y),w(_t)&&N(fe))nr=K.$read_paragraph_lines(ne,Nr=ze(v,0)?le["$[]"]("list_type"):M,W(["skip_line_comments"],{skip_line_comments:c})),K["$adjust_indentation!"](nr),w(c)||ze(Nr,"dlist")?xe=$e("Block").$new(U,"paragraph",W(["content_model","source","attributes"],{content_model:"simple",source:nr,attributes:P})):xe=$e("Block").$new(U,"literal",W(["content_model","source","attributes"],{content_model:"verbatim",source:nr,attributes:P}));else{if(nr=K.$read_paragraph_lines(ne,w(q=v["$=="](0))?le["$[]"]("list_type"):q,W(["skip_line_comments"],{skip_line_comments:!0})),w(c))w(_t)&&ze(fe,"normal")&&K["$adjust_indentation!"](nr),xe=$e("Block").$new(U,"paragraph",W(["content_model","source","attributes"],{content_model:"simple",source:nr,attributes:P}));else if(w($e("ADMONITION_STYLE_HEADS")["$include?"](Dt))&&w(Y["$include?"](":"))&&w($e("AdmonitionParagraphRx")["$=~"](Y)))nr["$[]="](0,(ae=at["~"])===M?M:ae.$post_match()),P["$[]="]("name",Qr=(ae=["style",(_e=at["~"])===M?M:_e["$[]"](1)],me(P,"[]=",ae),ae[ae.length-1]).$downcase()),P["$[]="]("textlabel",w(q=P.$delete("caption"))?q:de["$[]"](""+Qr+"-caption")),xe=$e("Block").$new(U,"admonition",W(["content_model","source","attributes"],{content_model:"simple",source:nr,attributes:P}));else if(w(wt)&&ze(Dt,">")&&w(Y["$start_with?"]("> "))){if(me(nr,"map!",[],function(Hr){return Hr==null&&(Hr=M),ze(Hr,">")?Hr.$slice(1,Hr.$length()):w(Hr["$start_with?"]("> "))?Hr.$slice(2,Hr.$length()):Hr}),w(nr["$[]"](-1)["$start_with?"]("-- "))&&(qr=(qr=nr.$pop()).$slice(3,qr.$length()),!w(nr["$empty?"]())))for(;w(nr["$[]"](-1)["$empty?"]());)nr.$pop();P["$[]="]("style","quote"),xe=K.$build_block("quote","compound",!1,U,$e("Reader").$new(nr),P),w(qr)&&(_e=xe.$apply_subs(qr).$split(", ",2),ae=Xe(_e),Fr=ae[0]==null?M:ae[0],bn=ae[1]==null?M:ae[1],w(Fr)&&P["$[]="]("attribution",Fr),w(bn)&&P["$[]="]("citetitle",bn))}else if(ze(Dt,'"')&&w(He(nr.$size(),1))&&w(nr["$[]"](-1)["$start_with?"]("-- "))&&w(nr["$[]"](-2)["$end_with?"]('"'))){for(nr["$[]="](0,Y.$slice(1,Y.$length())),qr=(qr=nr.$pop()).$slice(3,qr.$length());w(nr["$[]"](-1)["$empty?"]());)nr.$pop();nr["$<<"](nr.$pop().$chop()),P["$[]="]("style","quote"),xe=$e("Block").$new(U,"quote",W(["content_model","source","attributes"],{content_model:"simple",source:nr,attributes:P})),_e=xe.$apply_subs(qr).$split(", ",2),ae=Xe(_e),Fr=ae[0]==null?M:ae[0],bn=ae[1]==null?M:ae[1],w(Fr)&&P["$[]="]("attribution",Fr),w(bn)&&P["$[]="]("citetitle",bn)}else w(_t)&&ze(fe,"normal")&&K["$adjust_indentation!"](nr),xe=$e("Block").$new(U,"paragraph",W(["content_model","source","attributes"],{content_model:"simple",source:nr,attributes:P}));K.$catalog_inline_anchors(nr.$join($e("LF")),xe,y,ne)}break}if(!w(xe))switch(Ve){case"listing":case"source":(ze(Ve,"source")||N(P["$[]"](1))&&w(jr=w(lr=P["$[]"](2))?lr:de["$[]"]("source-language")))&&(w(jr)?(P["$[]="]("style","source"),P["$[]="]("language",jr),$e("AttributeList").$rekey(P,[M,M,"linenums"])):($e("AttributeList").$rekey(P,[M,"language","linenums"]),w(P["$key?"]("language"))||w(de["$key?"]("source-language"))&&P["$[]="]("language",de["$[]"]("source-language"))),w(P["$key?"]("linenums"))||(w(P["$[]"]("linenums-option"))||w(de["$[]"]("source-linenums-option")))&&P["$[]="]("linenums",""),w(P["$key?"]("indent"))||w(de["$key?"]("source-indent"))&&P["$[]="]("indent",de["$[]"]("source-indent"))),xe=K.$build_block("listing","verbatim",ct,U,ne,P);break;case"fenced_code":P["$[]="]("style","source"),w(He(It=Y.$length(),3))&&(w(Lr=(jr=Y.$slice(3,It)).$index(","))?w(He(Lr,0))?(jr=jr.$slice(0,Lr).$strip(),w(Le(Lr,ft(It,4)))&&P["$[]="]("linenums","")):w(He(It,4))&&P["$[]="]("linenums",""):jr=jr.$lstrip()),w(jr["$nil_or_empty?"]())?w(de["$key?"]("source-language"))&&P["$[]="]("language",de["$[]"]("source-language")):P["$[]="]("language",jr),w(P["$key?"]("linenums"))||(w(P["$[]"]("linenums-option"))||w(de["$[]"]("source-linenums-option")))&&P["$[]="]("linenums",""),w(P["$key?"]("indent"))||w(de["$key?"]("source-indent"))&&P["$[]="]("indent",de["$[]"]("source-indent")),ct=ct.$slice(0,3),xe=K.$build_block("listing","verbatim",ct,U,ne,P);break;case"table":Kn=ne.$cursor(),Rn=$e("Reader").$new(ne.$read_lines_until(W(["terminator","skip_line_comments","context","cursor"],{terminator:ct,skip_line_comments:!0,context:"table",cursor:"at_mark"})),Kn),w(ct["$start_with?"]("|","!"))||w(lr=P["$[]"]("format"))||P["$[]="]("format",w(ct["$start_with?"](","))?"csv":"dsv"),xe=K.$parse_table(Rn,U,P);break;case"sidebar":xe=K.$build_block(Ve,"compound",ct,U,ne,P);break;case"admonition":P["$[]="]("name",Qr=fe.$downcase()),P["$[]="]("textlabel",w(lr=P.$delete("caption"))?lr:de["$[]"](""+Qr+"-caption")),xe=K.$build_block(Ve,"compound",ct,U,ne,P);break;case"open":case"abstract":case"partintro":xe=K.$build_block("open","compound",ct,U,ne,P);break;case"literal":xe=K.$build_block(Ve,"verbatim",ct,U,ne,P);break;case"example":w(P["$[]"]("collapsible-option"))&&P["$[]="]("caption",""),xe=K.$build_block(Ve,"compound",ct,U,ne,P);break;case"quote":case"verse":$e("AttributeList").$rekey(P,[M,"attribution","citetitle"]),xe=K.$build_block(Ve,ze(Ve,"verse")?"verbatim":"compound",ct,U,ne,P);break;case"stem":case"latexmath":case"asciimath":ze(Ve,"stem")&&P["$[]="]("style",$e("STEM_TYPE_ALIASES")["$[]"](w(lr=P["$[]"](2))?lr:de["$[]"]("stem"))),xe=K.$build_block("stem","raw",ct,U,ne,P);break;case"pass":xe=K.$build_block(Ve,"raw",ct,U,ne,P);break;case"comment":return K.$build_block(Ve,"skip",ct,U,ne,P),P.$clear(),M;default:if(w(A)&&w(fr=R["$registered_for_block?"](Ve,tt))){if(ze(ii=(an=fr.$config())["$[]"]("content_model"),"skip")||(w((Ln=w(lr=an["$[]"]("positional_attrs"))?lr:an["$[]"]("pos_attrs"))["$nil_or_empty?"]())||$e("AttributeList").$rekey(P,Je([M],Ln)),w(pr=an["$[]"]("default_attrs"))&&me(pr,"each",[],function(Hr,Wn){var Or;return Hr==null&&(Hr=M),Wn==null&&(Wn=M),w(lr=P["$[]"](Hr))?lr:(Or=[Hr,Wn],me(P,"[]=",Or),Or[Or.length-1])}),P["$[]="]("cloaked-context",tt)),!w(xe=K.$build_block(Ve,ii,ct,U,ne,P,W(["extension"],{extension:fr}))))return P.$clear(),M}else K.$raise("Unsupported block type "+Ve+" at "+ne.$cursor())}return w(y.$sourcemap())&&xe["$source_location="](ne.$cursor_at_mark()),w(P["$[]"]("title"))&&(xe["$title="](Jt=P.$delete("title")),w($e("CAPTION_ATTRIBUTE_NAMES")["$[]"](xe.$context()))&&xe.$assign_caption(P.$delete("caption"))),xe["$style="](P["$[]"]("style")),w(Fi=w(q=xe.$id())?q:(ae=[P["$[]"]("id")],me(xe,"id=",ae),ae[ae.length-1]))&&(w(w(Jt)?Jt["$include?"]($e("ATTR_REF_HEAD")):xe["$title?"]())&&xe.$title(),w(y.$register("refs",[Fi,xe]))||K.$logger().$warn(K.$message_with_context("id assigned to block already in use: "+Fi,W(["source_location"],{source_location:ne.$cursor_at_mark()})))),w(P["$empty?"]())||xe.$update_attributes(P),xe.$commit_subs(),w(xe["$sub?"]("callouts"))&&(w(K.$catalog_callouts(xe.$source(),y))||xe.$remove_sub("callouts")),xe},-3),O(qe,"$read_paragraph_lines",function(ne,U,P){var le=M;return P==null&&(P=W([],{})),P["$[]="]("break_on_blank_lines",!0),P["$[]="]("break_on_list_continuation",!0),P["$[]="]("preserve_last_line",!0),le=w(U)?w($e("Compliance").$block_terminates_paragraph())?$e("StartOfBlockOrListProc"):$e("StartOfListProc"):w($e("Compliance").$block_terminates_paragraph())?$e("StartOfBlockProc"):$e("NoOp"),me(ne,"read_lines_until",[P],le.$to_proc())},-3),O(qe,"$is_delimited_block?",function(ne,U){var P,le,ae=this,_e=M,K=M,v=M,c=M,y=M;if(U==null&&(U=M),!(w(He(_e=ne.$length(),1))&&w($e("DELIMITED_BLOCK_HEADS")["$[]"](ne.$slice(0,2)))))return M;if(ze(_e,2))K=ne,v=2;else if(w(Le(_e,5))?(K=ne,v=_e):K=ne.$slice(0,v=4),w($e("Compliance").$markdown_syntax())&&w(K["$start_with?"]("`"))){if(ze(v,4)){if(ze(K,"````")||Re(K=K.$chop(),"```"))return M;ne=K,_e=v=3}else if(Re(K,"```"))return M}else if(ze(v,3))return M;return le=$e("DELIMITED_BLOCKS")["$[]"](K),P=Xe(le),c=P[0]==null?M:P[0],y=P[1]==null?M:P[1],w(c)&&(ze(_e,v)||w(ae["$uniform?"](ne.$slice(1,_e),$e("DELIMITED_BLOCK_TAILS")["$[]"](K),ft(_e,1))))?w(U)?$e("BlockMatchData").$new(c,y,K,ne):!0:M},-2),O(qe,"$build_block",function(ne,U,P,le,ae,_e,K){var v,c=this,y=M,q=M,R=M,A=M,V=M,Y=M,de=M,fe=M,xe=M,Ve=M,tt=M;switch(K==null&&(K=W([],{})),U){case"skip":v=[!0,"simple"],y=v[0],q=v[1];break;case"raw":v=[!1,"simple"],y=v[0],q=v[1];break;default:v=[!1,U],y=v[0],q=v[1]}switch(w(P["$nil?"]())?(ze(q,"verbatim")?R=ae.$read_lines_until(W(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(ze(U,"compound")&&(U="simple"),R=c.$read_paragraph_lines(ae,!1,W(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:y}))),A=M):Re(q,"compound")?(R=ae.$read_lines_until(W(["terminator","skip_processing","context","cursor"],{terminator:P,skip_processing:y,context:ne,cursor:"at_mark"})),A=M):ze(P,!1)?(R=M,A=ae):(R=M,V=ae.$cursor(),A=$e("Reader").$new(ae.$read_lines_until(W(["terminator","skip_processing","context","cursor"],{terminator:P,skip_processing:y,context:ne,cursor:"at_mark"})),V)),U){case"verbatim":Y=(w(de=_e["$[]"]("tabsize"))?de:le.$document().$attributes()["$[]"]("tabsize")).$to_i(),w(fe=_e["$[]"]("indent"))?c["$adjust_indentation!"](R,fe.$to_i(),Y):w(He(Y,0))&&c["$adjust_indentation!"](R,-1,Y);break;case"skip":return M}if(w(xe=K["$[]"]("extension")))if(_e.$delete("style"),w(Ve=xe.$process_method()["$[]"](le,w(tt=A)?tt:$e("Reader").$new(R),_e.$merge()))&&Re(Ve,le))_e.$replace(Ve.$attributes()),ze(Ve.$content_model(),"compound")&&We($e("Block"),Ve)&&N((R=Ve.$lines())["$empty?"]())&&(U="compound",A=$e("Reader").$new(R));else return M;else Ve=$e("Block").$new(le,ne,W(["content_model","source","attributes"],{content_model:U,source:R,attributes:_e}));return ze(U,"compound")&&c.$parse_blocks(A,Ve),Ve},-7),O(qe,"$parse_blocks",function(ne,U,P){var le=this,ae=M,_e=M,K=M;if(P==null&&(P=M),w(P))for(;w(w(ae=w(_e=K=le.$next_block(ne,U,P.$merge()))?U.$blocks()["$<<"](K):_e)?ae:ne["$has_more_lines?"]()););else for(;w(w(ae=w(_e=K=le.$next_block(ne,U))?U.$blocks()["$<<"](K):_e)?ae:ne["$has_more_lines?"]()););return M},-3),O(qe,"$parse_list",function(ne,U,P,le){var ae,_e=this,K=M,v=M,c=M,y=M;for(at["~"]==null&&(at["~"]=M),K=$e("List").$new(P,U),v=$e("ListRxMap")["$[]"](U);w(w(c=ne["$has_more_lines?"]())?v["$=~"](ne.$peek_line()):c)&&(w(y=_e.$parse_list_item(ne,K,at["~"],(ae=at["~"])===M?M:ae["$[]"](1),le))&&K.$items()["$<<"](y),!!w(c=ne.$skip_blank_lines())););return K}),O(qe,"$catalog_callouts",function(ne,U){var P=M,le=M;return P=!1,le=0,w(ne["$include?"]("<"))&&me(ne,"scan",[$e("CalloutScanRx")],function(){var _e;return w(((_e=at["~"])===M?M:_e["$[]"](0))["$start_with?"]("\\"))||U.$callouts().$register(ze((_e=at["~"])===M?M:_e["$[]"](2),".")?(le=Je(le,1)).$to_s():(_e=at["~"])===M?M:_e["$[]"](2)),P=!0}),P}),O(qe,"$catalog_inline_anchor",function(ne,U,P,le,ae){var _e=this;return ae==null&&(ae=P.$document()),w(U)&&w(U["$include?"]($e("ATTR_REF_HEAD")))&&(U=ae.$sub_attributes(U)),w(ae.$register("refs",[ne,$e("Inline").$new(P,"anchor",U,W(["type","id"],{type:"ref",id:ne}))]))||(We($e("Reader"),le)&&(le=le.$cursor()),_e.$logger().$warn(_e.$message_with_context("id assigned to anchor already in use: "+ne,W(["source_location"],{source_location:le})))),M},-5),O(qe,"$catalog_inline_anchors",function(ne,U,P,le){var ae=this;return(w(ne["$include?"]("[["))||w(ne["$include?"]("or:")))&&me(ne,"scan",[$e("InlineAnchorScanRx")],function _e(){var K,v=_e.$$s==null?this:_e.$$s,c=M,y=M,q=M,R=M;if(w(c=(K=at["~"])===M?M:K["$[]"](1))){if(w(y=(K=at["~"])===M?M:K["$[]"](2))&&w(y["$include?"]($e("ATTR_REF_HEAD")))&&w((y=P.$sub_attributes(y))["$empty?"]()))return M}else c=(K=at["~"])===M?M:K["$[]"](3),w(y=(K=at["~"])===M?M:K["$[]"](4))&&(w(y["$include?"]("]"))?(y=y.$gsub("\\]","]"),w(y["$include?"]($e("ATTR_REF_HEAD")))&&(y=P.$sub_attributes(y))):w(y["$include?"]($e("ATTR_REF_HEAD")))&&w((y=P.$sub_attributes(y))["$empty?"]())&&(y=M));return w(P.$register("refs",[c,$e("Inline").$new(U,"anchor",y,W(["type","id"],{type:"ref",id:c}))]))?M:(q=le.$cursor_at_mark(),w(He(R=Je(((K=at["~"])===M?M:K.$pre_match()).$count($e("LF")),w(((K=at["~"])===M?M:K["$[]"](0))["$start_with?"]($e("LF")))?1:0),0))&&(q=q.$dup()).$advance(R),v.$logger().$warn(v.$message_with_context("id assigned to anchor already in use: "+c,W(["source_location"],{source_location:q}))))},{$$s:ae}),M}),O(qe,"$catalog_inline_biblio_anchor",function(ne,U,P,le){var ae=this,_e=M;return w(P.$document().$register("refs",[ne,$e("Inline").$new(P,"anchor",w(_e=U)?"["+U+"]":_e,W(["type","id"],{type:"bibref",id:ne}))]))||ae.$logger().$warn(ae.$message_with_context("id assigned to bibliography anchor already in use: "+ne,W(["source_location"],{source_location:le.$cursor()}))),M}),O(qe,"$parse_description_list",function(ne,U,P){var le=this,ae=M,_e=M,K=M,v=M,c=M;for(at["~"]==null&&(at["~"]=M),ae=$e("List").$new(P,"dlist"),_e=$e("DescriptionListSiblingRx")["$[]"](U["$[]"](2)),ae.$items()["$<<"](K=le.$parse_list_item(ne,ae,U,_e));w(w(v=ne["$has_more_lines?"]())?_e["$=~"](ne.$peek_line()):v);)c=le.$parse_list_item(ne,ae,at["~"],_e),w(K["$[]"](1))?ae.$items()["$<<"](K=c):(K["$[]"](0)["$<<"](c["$[]"](0)["$[]"](0)),K["$[]="](1,c["$[]"](1)));return ae}),O(qe,"$parse_callout_list",function(ne,U,P,le){var ae=this,_e=M,K=M,v=M,c=M,y=M,q=M,R=M,A=M;for(_e=$e("List").$new(P,"colist"),K=1,v=0;w(w(c=U)?c:w(y=U=$e("CalloutListRx").$match(ne.$peek_line()))?ne.$mark():y);)ze(q=U["$[]"](1),".")&&(q=(v=Je(v,1)).$to_s()),ze(q,K.$to_s())||ae.$logger().$warn(ae.$message_with_context("callout list item index: expected "+K+", got "+q,W(["source_location"],{source_location:ne.$cursor_at_mark()}))),w(R=ae.$parse_list_item(ne,_e,U,"<1>"))&&(_e.$items()["$<<"](R),w((A=le.$callout_ids(_e.$items().$size()))["$empty?"]())?ae.$logger().$warn(ae.$message_with_context("no callout found for <"+_e.$items().$size()+">",W(["source_location"],{source_location:ne.$cursor_at_mark()}))):R.$attributes()["$[]="]("coids",A)),K=Je(K,1),U=M;return le.$next_list(),_e}),O(qe,"$parse_list_item",function(ne,U,P,le,ae){var _e,K,v=this,c=M,y=M,q=M,R=M,A=M,V=M,Y=M,de=M,fe=M,xe=M,Ve=M,tt=M,ct=M,vt=M,_t=M,wt=M,Dt=M,zt=M,It=M,Mt=M;if(ae==null&&(ae=M),ze(c=U.$context(),"dlist"))y=!0,q=$e("ListItem").$new(U,R=P["$[]"](1)),w(R["$start_with?"]("[["))&&w($e("LeadingInlineAnchorRx")["$=~"](R))&&v.$catalog_inline_anchor((_e=at["~"])===M?M:_e["$[]"](1),w(A=(_e=at["~"])===M?M:_e["$[]"](2))?A:((_e=at["~"])===M?M:_e.$post_match()).$lstrip(),q,ne),w(V=P["$[]"](3))&&(Y=!0),de=$e("ListItem").$new(U,V),w(U.$document().$sourcemap())&&(q["$source_location="](ne.$cursor()),w(Y)?de["$source_location="](q.$source_location()):fe=!0);else switch(Y=!0,de=$e("ListItem").$new(U,V=P["$[]"](2)),w(U.$document().$sourcemap())&&de["$source_location="](ne.$cursor()),c){case"ulist":de["$marker="](le),w(V["$start_with?"]("["))&&(w(ae)&&ze(ae,"bibliography")?w($e("InlineBiblioAnchorRx")["$=~"](V))&&v.$catalog_inline_biblio_anchor((_e=at["~"])===M?M:_e["$[]"](1),(_e=at["~"])===M?M:_e["$[]"](2),de,ne):w(V["$start_with?"]("[["))?w($e("LeadingInlineAnchorRx")["$=~"](V))&&v.$catalog_inline_anchor((_e=at["~"])===M?M:_e["$[]"](1),(_e=at["~"])===M?M:_e["$[]"](2),de,ne):w(V["$start_with?"]("[ ] ","[x] ","[*] "))&&(U.$set_option("checklist"),de.$attributes()["$[]="]("checkbox",""),w(V["$start_with?"]("[ "))||de.$attributes()["$[]="]("checked",""),de["$text="](V.$slice(4,V.$length()))));break;case"olist":K=v.$resolve_ordered_list_marker(le,xe=U.$items().$size(),!0,ne),_e=Xe(K),le=_e[0]==null?M:_e[0],Ve=_e[1]==null?M:_e[1],de["$marker="](le),ze(xe,0)&&N(ae)&&U["$style="](w(tt=Ve)?tt:(w(ct=$e("ORDERED_LIST_STYLES")["$[]"](ft(le.$length(),1)))?ct:"arabic").$to_s()),w(V["$start_with?"]("[["))&&w($e("LeadingInlineAnchorRx")["$=~"](V))&&v.$catalog_inline_anchor((_e=at["~"])===M?M:_e["$[]"](1),(_e=at["~"])===M?M:_e["$[]"](2),de,ne);break;default:de["$marker="](le),w(V["$start_with?"]("[["))&&w($e("LeadingInlineAnchorRx")["$=~"](V))&&v.$catalog_inline_anchor((_e=at["~"])===M?M:_e["$[]"](1),(_e=at["~"])===M?M:_e["$[]"](2),de,ne)}if(ne.$shift(),vt=ne.$cursor(),_t=$e("Reader").$new(v.$read_lines_for_list_item(ne,c,le,Y),vt),w(_t["$has_more_lines?"]())){for(w(fe)&&de["$source_location="](vt),wt=_t.$skip_line_comments(),w(Dt=_t.$peek_line())&&(w(wt["$empty?"]())||_t.$unshift_lines(wt),w(Dt["$empty?"]())||(zt=!0,w(y)||(Y=M))),w(It=v.$next_block(_t,de,W([],{}),W(["text_only","list_type"],{text_only:w(Y)?M:!0,list_type:c})))&&de.$blocks()["$<<"](It);w(_t["$has_more_lines?"]());)w(It=v.$next_block(_t,de,W([],{}),W(["list_type"],{list_type:c})))&&de.$blocks()["$<<"](It);w(zt)&&w(Mt=de.$blocks()["$[]"](0))&&ze(Mt.$context(),"paragraph")&&de.$fold_first()}return w(y)?[[q],w(de["$text?"]())||w(de["$blocks?"]())?de:M]:de},-5),O(qe,"$read_lines_for_list_item",function(ne,U,P,le){var ae,_e=this,K=M,v=M,c=M,y=M,q=M,R=M,A=M,V=M,Y=M,de=M,fe=M,xe=M,Ve=M,tt=M,ct=M;for(P==null&&(P=M),le==null&&(le=!0),K=[],v="inactive",c=!1,y=M,q=U["$=="]("dlist");w(ne["$has_more_lines?"]())&&(R=ne.$read_line(),!w(_e["$is_sibling_list_item?"](R,U,P)));){if(A=w(K["$empty?"]())?M:K["$[]"](-1),ze(A,$e("LIST_CONTINUATION"))&&(ze(v,"inactive")&&(v="active",le=!0,w(c)||K["$[]="](-1,"")),ze(R,$e("LIST_CONTINUATION")))){Re(v,"frozen")&&(v="frozen",K["$<<"](R)),R=M;continue}if(w(V=_e["$is_delimited_block?"](R,!0))){if(!ze(v,"active"))break;K["$<<"](R),K.$concat(ne.$read_lines_until(W(["terminator","read_last_line","context"],{terminator:V.$terminator(),read_last_line:!0,context:M}))),v="inactive"}else if(w(q)&&Re(v,"active")&&w(R["$start_with?"]("["))&&w($e("BlockAttributeLineRx")["$match?"](R))){for(Y=[R];w(de=ne.$peek_line());){if(w(_e["$is_delimited_block?"](de)))fe=!0;else if(w(de["$empty?"]())||w(de["$start_with?"]("["))&&w($e("BlockAttributeLineRx")["$match?"](de))){Y["$<<"](ne.$read_line());continue}else w($e("AnyListRx")["$match?"](de))&&N(_e["$is_sibling_list_item?"](de,U,P))?K.$concat(Y):fe=!0;break}if(w(fe)){ne.$unshift_lines(Y);break}}else if(ze(v,"active")&&N(R["$empty?"]()))w($e("LiteralParagraphRx")["$match?"](R))?(ne.$unshift_line(R),w(q)?K.$concat(me(ne,"read_lines_until",[W(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],function vt(_t){var wt=vt.$$s==null?this:vt.$$s;return _t==null&&(_t=M),wt["$is_sibling_list_item?"](_t,U,P)},{$$s:_e})):K.$concat(ne.$read_lines_until(W(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0}))),v="inactive"):ze(xe=R.$chr(),".")&&w($e("BlockTitleRx")["$match?"](R))||ze(xe,"[")&&w($e("BlockAttributeLineRx")["$match?"](R))||ze(xe,":")&&w($e("AttributeEntryRx")["$match?"](R))?K["$<<"](R):(w(Ve=me(w(c)?["dlist"]:$e("NESTABLE_LIST_CONTEXTS"),"find",[],function(_t){return _t==null&&(_t=M),$e("ListRxMap")["$[]"](_t)["$match?"](R)}))&&(c=!0,ze(Ve,"dlist")&&w(((ae=at["~"])===M?M:ae["$[]"](3))["$nil_or_empty?"]())&&(le=!1)),K["$<<"](R),v="inactive");else if(w(A)&&w(A["$empty?"]())){if(w(R["$empty?"]())&&(!w(R=w(tt=ne.$skip_blank_lines())?ne.$read_line():tt)||w(_e["$is_sibling_list_item?"](R,U,P))))break;if(ze(R,$e("LIST_CONTINUATION")))y=K.$size(),K["$<<"](R);else if(w(le)){if(w(_e["$is_sibling_list_item?"](R,U,P)))break;if(w(Ve=me($e("NESTABLE_LIST_CONTEXTS"),"find",[],function(_t){return _t==null&&(_t=M),$e("ListRxMap")["$[]"](_t)["$=~"](R)})))K["$<<"](R),c=!0,ze(Ve,"dlist")&&w(((ae=at["~"])===M?M:ae["$[]"](3))["$nil_or_empty?"]())&&(le=!1);else if(w($e("LiteralParagraphRx")["$match?"](R)))ne.$unshift_line(R),w(q)?K.$concat(me(ne,"read_lines_until",[W(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],function vt(_t){var wt=vt.$$s==null?this:vt.$$s;return _t==null&&(_t=M),wt["$is_sibling_list_item?"](_t,U,P)},{$$s:_e})):K.$concat(ne.$read_lines_until(W(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})));else break}else w(c)||K.$pop(),K["$<<"](R),le=!0}else w(R["$empty?"]())||(le=!0),w(Ve=me(w(c)?["dlist"]:$e("NESTABLE_LIST_CONTEXTS"),"find",[],function(_t){return _t==null&&(_t=M),$e("ListRxMap")["$[]"](_t)["$=~"](R)}))&&(c=!0,ze(Ve,"dlist")&&w(((ae=at["~"])===M?M:ae["$[]"](3))["$nil_or_empty?"]())&&(le=!1)),K["$<<"](R);R=M}for(w(R)&&ne.$unshift_line(R),w(y)&&K["$[]="](y,"");!w(K["$empty?"]());)if(w((ct=K["$[]"](-1))["$empty?"]()))K.$pop();else{ze(ct,$e("LIST_CONTINUATION"))&&K.$pop();break}return K},-3),O(qe,"$initialize_section",function(ne,U,P){var le,ae,_e=this,K=M,v=M,c=M,y=M,q=M,R=M,A=M,V=M,Y=M,de=M,fe=M,xe=M,Ve=M,tt=M,ct=M,vt=M,_t=M;return P==null&&(P=W([],{})),K=U.$document(),v=(c=K.$doctype())["$=="]("book"),w(K.$sourcemap())&&(y=ne.$cursor()),q=P["$[]"](1),ae=_e.$parse_section_title(ne,K,P["$[]"]("id")),le=Xe(ae),R=le[0]==null?M:le[0],A=le[1]==null?M:le[1],V=le[2]==null?M:le[2],Y=le[3]==null?M:le[3],de=le[4]==null?M:le[4],w(q)?w(v)&&ze(q,"abstract")?(le=["chapter",1],fe=le[0],Y=le[1]):w(q["$start_with?"]("sect"))&&w($e("SectionLevelStyleRx")["$match?"](q))?fe="section":(le=[q,!0],fe=le[0],xe=le[1],ze(Y,0)&&(Y=1),Ve=fe["$=="]("appendix")):w(v)?fe=ze(Y,0)?"part":w(He(Y,1))?"section":"chapter":ze(c,"manpage")&&ze(V.$casecmp("synopsis"),0)?(le=["synopsis",!0],fe=le[0],xe=le[1]):fe="section",w(A)&&P["$[]="]("reftext",A),tt=$e("Section").$new(U,Y),le=[R,V,fe,y],ae=[le[0]],me(tt,"id=",ae),ae[ae.length-1],ae=[le[1]],me(tt,"title=",ae),ae[ae.length-1],ae=[le[2]],me(tt,"sectname=",ae),ae[ae.length-1],ae=[le[3]],me(tt,"source_location=",ae),ae[ae.length-1],w(xe)?(tt["$special="](!0),w(Ve)?tt["$numbered="](!0):ze(K.$attributes()["$[]"]("sectnums"),"all")&&tt["$numbered="](w(v)&&ze(Y,1)?"chapter":!0)):w(K.$attributes()["$[]"]("sectnums"))&&w(He(Y,0))?tt["$numbered="](w(tt.$special())?w(ct=U.$numbered())||ct:!0):w(v)&&ze(Y,0)&&w(K.$attributes()["$[]"]("partnums"))&&tt["$numbered="](!0),w(vt=w(ct=tt.$id())?ct:(le=[w(K.$attributes()["$key?"]("sectids"))?_t=$e("Section").$generate_id(tt.$title(),K):M],me(tt,"id=",le),le[le.length-1]))&&(w(_t)||N(V["$include?"]($e("ATTR_REF_HEAD")))||tt.$title(),w(K.$register("refs",[vt,tt]))||_e.$logger().$warn(_e.$message_with_context("id assigned to section already in use: "+vt,W(["source_location"],{source_location:ne.$cursor_at_line(ft(ne.$lineno(),w(de)?1:2))})))),tt.$update_attributes(P),ne.$skip_blank_lines(),tt},-3),O(qe,"$is_next_line_section?",function(ne,U){var P=this,le=M,ae=M,_e=M;return w(le=U["$[]"](1))&&(ze(le,"discrete")||ze(le,"float"))?M:w($e("Compliance").$underline_style_section_titles())?(ae=ne.$peek_lines(2,w(_e=le)?le["$=="]("comment"):_e),P["$is_section_title?"](w(_e=ae["$[]"](0))?_e:"",ae["$[]"](1))):P["$atx_section_title?"](w(_e=ne.$peek_line())?_e:"")}),O(qe,"$is_next_line_doctitle?",function(ne,U,P){var le=this,ae=M,_e=M;return w(P)?w(ae=_e=le["$is_next_line_section?"](ne,U))?Je(_e,P.$to_i())["$=="](0):ae:le["$is_next_line_section?"](ne,U)["$=="](0)}),O(qe,"$is_section_title?",function(ne,U){var P=this,le=M;return U==null&&(U=M),w(le=P["$atx_section_title?"](ne))?le:w(U["$nil_or_empty?"]())?M:P["$setext_section_title?"](ne,U)},-2),O(qe,"$atx_section_title?",function(ne){var U,P=M;return w(w($e("Compliance").$markdown_syntax())?w(P=ne["$start_with?"]("=","#"))?$e("ExtAtxSectionTitleRx")["$=~"](ne):P:w(P=ne["$start_with?"]("="))?$e("AtxSectionTitleRx")["$=~"](ne):P)?ft(((U=at["~"])===M?M:U["$[]"](1)).$length(),1):M}),O(qe,"$setext_section_title?",function(ne,U){var P=this,le=M,ae=M,_e=M;return w(ae=$e("SETEXT_SECTION_LEVELS")["$[]"](_e=U.$chr()))&&w(P["$uniform?"](U,_e,le=U.$length()))&&w($e("SetextSectionTitleRx")["$match?"](ne))&&w(Le(ft(ne.$length(),le).$abs(),2))?ae:M}),O(qe,"$parse_section_title",function(ne,U,P){var le,ae,_e=this,K=M,v=M,c=M,y=M,q=M,R=M,A=M,V=M,Y=M;return P==null&&(P=M),K=M,v=ne.$read_line(),w(w($e("Compliance").$markdown_syntax())?w(c=v["$start_with?"]("=","#"))?$e("ExtAtxSectionTitleRx")["$=~"](v):c:w(c=v["$start_with?"]("="))?$e("AtxSectionTitleRx")["$=~"](v):c)?(le=[ft(((ae=at["~"])===M?M:ae["$[]"](1)).$length(),1),(ae=at["~"])===M?M:ae["$[]"](2),!0],y=le[0],q=le[1],R=le[2],w(P)||w(q["$end_with?"]("]]"))&&w($e("InlineSectionAnchorRx")["$=~"](q))&&N((le=at["~"])===M?M:le["$[]"](1))&&(le=[q.$slice(0,ft(q.$length(),((ae=at["~"])===M?M:ae["$[]"](0)).$length())),(ae=at["~"])===M?M:ae["$[]"](2),(ae=at["~"])===M?M:ae["$[]"](3)],q=le[0],P=le[1],K=le[2])):w($e("Compliance").$underline_style_section_titles())&&w(Y=ne.$peek_line(!0))&&w(y=$e("SETEXT_SECTION_LEVELS")["$[]"](V=Y.$chr()))&&w(_e["$uniform?"](Y,V,A=Y.$length()))&&w(q=w(c=$e("SetextSectionTitleRx")["$=~"](v))?(le=at["~"])===M?M:le["$[]"](1):c)&&w(Le(ft(v.$length(),A).$abs(),2))?(R=!1,w(P)||w(q["$end_with?"]("]]"))&&w($e("InlineSectionAnchorRx")["$=~"](q))&&N((le=at["~"])===M?M:le["$[]"](1))&&(le=[q.$slice(0,ft(q.$length(),((ae=at["~"])===M?M:ae["$[]"](0)).$length())),(ae=at["~"])===M?M:ae["$[]"](2),(ae=at["~"])===M?M:ae["$[]"](3)],q=le[0],P=le[1],K=le[2]),ne.$shift()):_e.$raise("Unrecognized section at "+ne.$cursor_at_prev_line()),w(U["$attr?"]("leveloffset"))&&(y=Je(y,U.$attr("leveloffset").$to_i()),w(Le(y,0))&&(y=0)),[P,K,q,y,R]},-3),O(qe,"$parse_header_metadata",function(ne,U,P){var le,ae=this,_e=M,K=M,v=M,c=M,y=M,q=M,R=M,A=M,V=M,Y=M,de=M,fe=M,xe=M,Ve=M,tt=M,ct=M,vt=M,_t=M,wt=M;if(U==null&&(U=M),P==null&&(P=!0),_e=w(K=U)?U.$attributes():K,ae.$process_attribute_entries(ne,U),w(ne["$has_more_lines?"]())&&N(ne["$next_line_empty?"]())?(v=(c=ae.$process_authors(ne.$read_line())).$delete("authorcount"),w(U)&&w(He((le=["authorcount",v],me(_e,"[]=",le),le[le.length-1]),0))&&(me(c,"each",[],function(zt,It){var Mt;return zt==null&&(zt=M),It==null&&(It=M),w(_e["$key?"](zt))?M:(Mt=[zt,U.$apply_header_subs(It)],me(_e,"[]=",Mt),Mt[Mt.length-1])}),y=_e["$[]"]("author"),q=_e["$[]"]("authorinitials"),R=_e["$[]"]("authors")),c["$[]="]("authorcount",v),ae.$process_attribute_entries(ne,U),w(ne["$has_more_lines?"]())&&N(ne["$next_line_empty?"]())&&(A=ne.$read_line(),w(V=$e("RevisionInfoLineRx").$match(A))?(Y=W([],{}),w(V["$[]"](1))&&Y["$[]="]("revnumber",V["$[]"](1).$rstrip()),w((de=V["$[]"](2).$strip())["$empty?"]())||(N(V["$[]"](1))&&w(de["$start_with?"]("v"))?Y["$[]="]("revnumber",de.$slice(1,de.$length())):Y["$[]="]("revdate",de)),w(V["$[]"](3))&&Y["$[]="]("revremark",V["$[]"](3).$rstrip()),w(U)&&N(Y["$empty?"]())&&me(Y,"each",[],function(zt,It){var Mt;return zt==null&&(zt=M),It==null&&(It=M),w(_e["$key?"](zt))?M:(Mt=[zt,U.$apply_header_subs(It)],me(_e,"[]=",Mt),Mt[Mt.length-1])})):ne.$unshift_line(A)),ae.$process_attribute_entries(ne,U),ne.$skip_blank_lines()):c=W([],{}),w(U)){if(w(_e["$key?"]("author"))&&Re(fe=_e["$[]"]("author"),y))xe=ae.$process_authors(fe,!0,!1),Re(_e["$[]"]("authorinitials"),q)&&xe.$delete("authorinitials");else if(w(_e["$key?"]("authors"))&&Re(fe=_e["$[]"]("authors"),R))xe=ae.$process_authors(fe,!0);else{for(le=[[],1,"author_1",!1,!1],Ve=le[0],tt=le[1],ct=le[2],vt=le[3],_t=le[4];w(_e["$key?"](ct));)ze(wt=_e["$[]"](ct),c["$[]"](ct))?(Ve["$<<"](M),_t=!0):(Ve["$<<"](wt),vt=!0),ct="author_"+(tt=Je(tt,1));w(vt)?(w(_t)&&me(Ve,"each_with_index",[],function(zt,It){var Mt,Ft=M;return zt==null&&(zt=M),It==null&&(It=M),w(zt)?M:(Mt=[It,me([c["$[]"]("firstname_"+(Ft=Je(It,1))),c["$[]"]("middlename_"+Ft),c["$[]"]("lastname_"+Ft)].$compact(),"map",[],function(Ot){return Ot==null&&(Ot=M),Ot.$tr(" ","_")}).$join(" ")],me(Ve,"[]=",Mt),Mt[Mt.length-1])}),xe=ae.$process_authors(Ve,!0,!1)):xe=W(["authorcount"],{authorcount:0})}ze(xe["$[]"]("authorcount"),0)?w(v)?xe=M:_e["$[]="]("authorcount",0):(_e.$update(xe),N(_e["$key?"]("email"))&&w(_e["$key?"]("email_1"))&&_e["$[]="]("email",_e["$[]"]("email_1")))}return w(P)?c.$merge(Y.$to_h(),xe.$to_h()):M},-2),O(qe,"$process_authors",function(ne,U,P){var le=M,ae=M;return U==null&&(U=!1),P==null&&(P=!0),le=W([],{}),ae=0,me(w(P)&&w(ne["$include?"](";"))?ne.$split($e("AuthorDelimiterRx")):[].concat(gt(ne)),"each",[],function(K){var v,c=M,y=M,q=M,R=M,A=M,V=M,Y=M;return K==null&&(K=M),w(K["$empty?"]())?M:(c=W([],{}),ze(ae=Je(ae,1),1)?me($e("AuthorKeys"),"each",[],function(fe){var xe;return fe==null&&(fe=M),xe=[fe.$to_sym(),fe],me(c,"[]=",xe),xe[xe.length-1]}):me($e("AuthorKeys"),"each",[],function(fe){var xe;return fe==null&&(fe=M),xe=[fe.$to_sym(),""+fe+"_"+ae],me(c,"[]=",xe),xe[xe.length-1]}),w(U)?(w(K["$include?"]("<"))&&(le["$[]="](c["$[]"]("author"),K.$tr("_"," ")),K=K.$gsub($e("XmlSanitizeRx"),"")),ze((y=K.$split(M,3)).$size(),3)&&y["$<<"](y.$pop().$squeeze(" "))):w(q=$e("AuthorInfoLineRx").$match(K))&&(y=q.$to_a()).$shift(),w(y)?(R=(v=[c["$[]"]("firstname"),A=y["$[]"](0).$tr("_"," ")],me(le,"[]=",v),v[v.length-1]),le["$[]="](c["$[]"]("authorinitials"),A.$chr()),w(y["$[]"](1))&&(w(y["$[]"](2))?(le["$[]="](c["$[]"]("middlename"),V=y["$[]"](1).$tr("_"," ")),le["$[]="](c["$[]"]("lastname"),Y=y["$[]"](2).$tr("_"," ")),R=Je(Je(Je(Je(A," "),V)," "),Y),le["$[]="](c["$[]"]("authorinitials"),""+A.$chr()+V.$chr()+Y.$chr())):(le["$[]="](c["$[]"]("lastname"),Y=y["$[]"](1).$tr("_"," ")),R=Je(Je(A," "),Y),le["$[]="](c["$[]"]("authorinitials"),""+A.$chr()+Y.$chr()))),w(le["$[]"](c["$[]"]("author")))||le["$[]="](c["$[]"]("author"),R),w(U)||N(y["$[]"](3))||le["$[]="](c["$[]"]("email"),y["$[]"](3))):(le["$[]="](c["$[]"]("author"),(v=[c["$[]"]("firstname"),A=K.$squeeze(" ").$strip()],me(le,"[]=",v),v[v.length-1])),le["$[]="](c["$[]"]("authorinitials"),A.$chr())),ze(ae,1)?(v=["authors",le["$[]"](c["$[]"]("author"))],me(le,"[]=",v),v[v.length-1]):(ze(ae,2)&&me($e("AuthorKeys"),"each",[],function(fe){var xe;return fe==null&&(fe=M),w(le["$key?"](fe))?(xe=[""+fe+"_1",le["$[]"](fe)],me(le,"[]=",xe),xe[xe.length-1]):M}),v=["authors",""+le["$[]"]("authors")+", "+le["$[]"](c["$[]"]("author"))],me(le,"[]=",v),v[v.length-1]))}),le["$[]="]("authorcount",ae),le},-2),O(qe,"$parse_block_metadata_lines",function(ne,U,P,le){var ae=this;for(P==null&&(P=W([],{})),le==null&&(le=W([],{}));w(ae.$parse_block_metadata_line(ne,U,P,le))&&(ne.$shift(),!!w(ne.$skip_blank_lines())););return P},-3),O(qe,"$parse_block_metadata_line",function(ne,U,P,le){var ae,_e=this,K=M,v=M,c=M,y=M,q=M,R=M;if(at["~"]==null&&(at["~"]=M),le==null&&(le=W([],{})),w(v=ne.$peek_line())&&w(w(le["$[]"]("text_only"))?v["$start_with?"]("[","/"):K=v["$start_with?"]("[",".","/",":"))){if(w(v["$start_with?"]("["))){if(w(v["$start_with?"]("[["))){if(w(v["$end_with?"]("]]"))&&w($e("BlockAnchorRx")["$=~"](v)))return P["$[]="]("id",(ae=at["~"])===M?M:ae["$[]"](1)),w(c=(ae=at["~"])===M?M:ae["$[]"](2))&&P["$[]="]("reftext",w(c["$include?"]($e("ATTR_REF_HEAD")))?U.$sub_attributes(c):c),!0}else if(w(v["$end_with?"]("]"))&&w($e("BlockAttributeListRx")["$=~"](v)))return y=P["$[]"](1),w(U.$parse_attributes((ae=at["~"])===M?M:ae["$[]"](1),[],W(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!0,into:P}))["$[]"](1))&&P["$[]="](1,w(q=_e.$parse_style_attribute(P,ne))?q:y),!0}else if(w(K)&&w(v["$start_with?"]("."))){if(w($e("BlockTitleRx")["$=~"](v)))return P["$[]="]("title",(ae=at["~"])===M?M:ae["$[]"](1)),!0}else if(N(K)||w(v["$start_with?"]("/"))){if(w(v["$start_with?"]("//"))){if(ze(v,"//"))return!0;if(w(K)&&w(_e["$uniform?"](v,"/",R=v.$length()))){if(!ze(R,3))return ne.$read_lines_until(W(["terminator","skip_first_line","preserve_last_line","skip_processing","context"],{terminator:v,skip_first_line:!0,preserve_last_line:!0,skip_processing:!0,context:"comment"})),!0}else if(!w(v["$start_with?"]("///")))return!0}}else if(w(K)&&w(v["$start_with?"](":"))&&w($e("AttributeEntryRx")["$=~"](v)))return _e.$process_attribute_entry(ne,U,P,at["~"]),!0}return M},-4),O(qe,"$process_attribute_entries",function(ne,U,P){var le=this;for(P==null&&(P=M),ne.$skip_comment_lines();w(le.$process_attribute_entry(ne,U,P));)ne.$shift(),ne.$skip_comment_lines()},-3),O(qe,"$process_attribute_entry",function(ne,U,P,le){var ae,_e=this,K=M,v=M,c=M,y=M,q=M,R=M;if(P==null&&(P=M),le==null&&(le=M),w(le)||w(le=w(ne["$has_more_lines?"]())?$e("AttributeEntryRx").$match(ne.$peek_line()):M)){if(w((K=le["$[]"](2))["$nil_or_empty?"]()))K="";else if(w(K["$end_with?"]($e("LINE_CONTINUATION"),$e("LINE_CONTINUATION_LEGACY"))))for(ae=[K.$slice(ft(K.$length(),2),2),K.$slice(0,ft(K.$length(),2)).$rstrip()],v=ae[0],K=ae[1];w(w(c=ne.$advance())?(y=w(q=ne.$peek_line())?q:"")["$empty?"]()["$!"]():c)&&(y=y.$lstrip(),w(R=y["$end_with?"](v))&&(y=y.$slice(0,ft(y.$length(),2)).$rstrip()),K=""+K+(w(K["$end_with?"]($e("HARD_LINE_BREAK")))?$e("LF"):" ")+y,!!w(R)););return _e.$store_attribute(le["$[]"](1),K,U,P),!0}else return M},-3),O(qe,"$store_attribute",function(ne,U,P,le){var ae=this,_e=M;return P==null&&(P=M),le==null&&(le=M),w(ne["$end_with?"]("!"))?(ne=ne.$chop(),U=M):w(ne["$start_with?"]("!"))&&(ne=ne.$slice(1,ne.$length()),U=M),ze(ne=ae.$sanitize_attribute_name(ne),"numbered")?ne="sectnums":ze(ne,"hardbreaks")?ne="hardbreaks-option":ze(ne,"showtitle")&&ae.$store_attribute("notitle",w(U)?M:"",P,le),w(P)?w(U)?(ze(ne,"leveloffset")&&(w(U["$start_with?"]("+"))?U=Je(P.$attr("leveloffset",0).$to_i(),U.$slice(1,U.$length()).$to_i()).$to_s():w(U["$start_with?"]("-"))&&(U=ft(P.$attr("leveloffset",0).$to_i(),U.$slice(1,U.$length()).$to_i()).$to_s())),w(_e=P.$set_attribute(ne,U))&&(U=_e,w(le)&&ot($e("Document"),"AttributeEntry").$new(ne,U).$save_to(le))):w(P.$delete_attribute(ne))&&w(le)&&ot($e("Document"),"AttributeEntry").$new(ne,U).$save_to(le):w(le)&&ot($e("Document"),"AttributeEntry").$new(ne,U).$save_to(le),[ne,U]},-3),O(qe,"$resolve_list_marker",function(ne,U,P,le,ae){var _e=this;switch(P==null&&(P=0),le==null&&(le=!1),ae==null&&(ae=M),ne){case"ulist":return U;case"olist":return _e.$resolve_ordered_list_marker(U,P,le,ae)["$[]"](0);default:return"<1>"}},-3),O(qe,"$resolve_ordered_list_marker",function(ne,U,P,le){var ae=this,_e=M,K=M,v=M;if(U==null&&(U=0),P==null&&(P=!1),le==null&&(le=M),w(ne["$start_with?"](".")))return[ne];switch(_e=me($e("ORDERED_LIST_STYLES"),"find",[],function(y){return y==null&&(y=M),$e("OrderedListMarkerRxMap")["$[]"](y)["$match?"](ne)})){case"arabic":w(P)&&(K=Je(U,1),v=ne.$to_i()),ne="1.";break;case"loweralpha":w(P)&&(K=Je("a"["$[]"](0).$ord(),U).$chr(),v=ne.$chop()),ne="a.";break;case"upperalpha":w(P)&&(K=Je("A"["$[]"](0).$ord(),U).$chr(),v=ne.$chop()),ne="A.";break;case"lowerroman":w(P)&&(K=$e("Helpers").$int_to_roman(Je(U,1)).$downcase(),v=ne.$chop()),ne="i)";break;case"upperroman":w(P)&&(K=$e("Helpers").$int_to_roman(Je(U,1)),v=ne.$chop()),ne="I)";break}return w(P)&&Re(K,v)&&ae.$logger().$warn(ae.$message_with_context("list item index: expected "+K+", got "+v,W(["source_location"],{source_location:le.$cursor()}))),[ne,_e]},-2),O(qe,"$is_sibling_list_item?",function(ne,U,P){var le,ae=this,_e=M;return We(ot("Regexp"),P)?P["$match?"](ne):w(_e=$e("ListRxMap")["$[]"](U)["$=~"](ne))?P["$=="](ae.$resolve_list_marker(U,(le=at["~"])===M?M:le["$[]"](1))):_e}),O(qe,"$parse_table",function(ne,U,P){var le,ae,_e,K=this,v=M,c=M,y=M,q=M,R=M,A=M,V=M,Y=M,de=M,fe=M,xe=M,Ve=M,tt=M,ct=M,vt=M,_t=M,wt=M,Dt=M;for(v=$e("Table").$new(U,P),w(P["$key?"]("cols"))&&N((c=K.$parse_colspecs(P["$[]"]("cols")))["$empty?"]())&&(v.$create_columns(c),y=!0),q=w(R=ne.$skip_blank_lines())?R:0,w(P["$[]"]("header-option"))?v["$has_header_option="](!0):ze(q,0)&&N(P["$[]"]("noheader-option"))&&(v["$has_header_option="]("implicit"),A=!0),V=ot($e("Table"),"ParserContext").$new(ne,v,P),le=[V.$format(),-1,M],Y=le[0],de=le[1],fe=le[2];w(xe=ne.$read_line());){for(w(Ve=He(de=Je(de,1),0))&&w(xe["$empty?"]())?(xe=M,w(fe)&&(fe=Je(fe,1))):ze(Y,"psv")&&(w(V["$starts_with_delimiter?"](xe))?(xe=xe.$slice(1,xe.$length()),V.$close_open_cell(),w(fe)&&(fe=M)):(ae=K.$parse_cellspec(xe,"start",V.$delimiter()),le=Xe(ae),tt=le[0]==null?M:le[0],xe=le[1]==null?M:le[1],w(tt)?(V.$close_open_cell(tt),w(fe)&&(fe=M)):w(fe)&&ze(fe,de)&&v["$has_header_option="](A=fe=M))),w(Ve)||(ne.$mark(),w(A)&&(w(ne["$has_more_lines?"]())&&w(ne.$peek_line()["$empty?"]())?fe=1:v["$has_header_option="](A=M))),le=!1;le||w(!0);)if(le=!1,w(xe)&&w(ct=V.$match_delimiter(xe))){if(ae=[ct.$pre_match(),ct.$post_match()],vt=ae[0],_t=ae[1],We("csv",R=Y)){if(w(V["$buffer_has_unclosed_quotes?"](vt))){if(V.$skip_past_delimiter(vt),w((xe=_t)["$empty?"]()))break;le=!0;continue}V["$buffer="](""+V.$buffer()+vt)}else if(We("dsv",R)){if(w(vt["$end_with?"]("\\"))){if(V.$skip_past_escaped_delimiter(vt),w((xe=_t)["$empty?"]())){V["$buffer="](""+V.$buffer()+$e("LF")),V.$keep_cell_open();break}le=!0;continue}V["$buffer="](""+V.$buffer()+vt)}else{if(w(vt["$end_with?"]("\\"))){if(V.$skip_past_escaped_delimiter(vt),w((xe=_t)["$empty?"]())){V["$buffer="](""+V.$buffer()+$e("LF")),V.$keep_cell_open();break}le=!0;continue}_e=K.$parse_cellspec(vt),ae=Xe(_e),tt=ae[0]==null?M:ae[0],wt=ae[1]==null?M:ae[1],V.$push_cellspec(tt),V["$buffer="](""+V.$buffer()+wt)}w((xe=_t)["$empty?"]())&&(xe=M),V.$close_cell()}else{switch(V["$buffer="](""+V.$buffer()+xe+$e("LF")),Y){case"csv":w(V["$buffer_has_unclosed_quotes?"]())?(w(fe)&&ze(de,0)&&v["$has_header_option="](A=fe=M),V.$keep_cell_open()):V.$close_cell(!0);break;case"dsv":V.$close_cell(!0);break;default:V.$keep_cell_open()}break}if(w(V["$cell_open?"]()))w(ne["$has_more_lines?"]())||V.$close_cell(!0);else if(!w(R=ne.$skip_blank_lines()))break}return ze((Dt=v.$attributes(),w(R=Dt["$[]"]("colcount"))?R:(le=["colcount",v.$columns().$size()],me(Dt,"[]=",le),le[le.length-1])),0)||w(y)||v.$assign_column_widths(),w(A)&&v["$has_header_option="](!0),v.$partition_header_footer(P),v}),O(qe,"$parse_colspecs",function(ne){var U=M;return w(ne["$include?"](" "))&&(ne=ne.$delete(" ")),ze(ne,ne.$to_i().$to_s())?me(ot("Array"),"new",[ne.$to_i()],function(){return W(["width"],{width:1})}):(U=[],me(w(ne["$include?"](","))?ne.$split(",",-1):ne.$split(";",-1),"each",[],function(le){var ae,_e,K=M,v=M,c=M,y=M,q=M;return le==null&&(le=M),w(le["$empty?"]())?U["$<<"](W(["width"],{width:1})):w(K=$e("ColumnSpecRx").$match(le))?(v=W([],{}),w(K["$[]"](2))&&(_e=K["$[]"](2).$split("."),ae=Xe(_e),c=ae[0]==null?M:ae[0],y=ae[1]==null?M:ae[1],N(c["$nil_or_empty?"]())&&w($e("TableCellHorzAlignments")["$key?"](c))&&v["$[]="]("halign",$e("TableCellHorzAlignments")["$[]"](c)),N(y["$nil_or_empty?"]())&&w($e("TableCellVertAlignments")["$key?"](y))&&v["$[]="]("valign",$e("TableCellVertAlignments")["$[]"](y))),w(q=K["$[]"](3))?v["$[]="]("width",ze(q,"~")?-1:q.$to_i()):v["$[]="]("width",1),w(K["$[]"](4))&&w($e("TableCellStyles")["$key?"](K["$[]"](4)))&&v["$[]="]("style",$e("TableCellStyles")["$[]"](K["$[]"](4))),w(K["$[]"](1))?me(1,"upto",[K["$[]"](1).$to_i()],function(){return U["$<<"](v.$merge())}):U["$<<"](v)):M}),U)}),O(qe,"$parse_cellspec",function(ne,U,P){var le,ae,_e=M,K=M,v=M,c=M,y=M,q=M;if(U==null&&(U="end"),P==null&&(P=M),le=[M,""],_e=le[0],K=le[1],ze(U,"start"))if(w(ne["$include?"](P)))if(ae=ne.$partition(P),le=Xe(ae),v=le[0]==null?M:le[0],le[1]==null||le[1],K=le[2]==null?M:le[2],w(_e=$e("CellSpecStartRx").$match(v))){if(w(_e["$[]"](0)["$empty?"]()))return[W([],{}),K]}else return[M,ne];else return[M,ne];else if(w(_e=$e("CellSpecEndRx").$match(ne))){if(w(_e["$[]"](0).$lstrip()["$empty?"]()))return[W([],{}),ne.$rstrip()];K=_e.$pre_match()}else return[W([],{}),ne];if(c=W([],{}),w(_e["$[]"](1)))switch(ae=_e["$[]"](1).$split("."),le=Xe(ae),y=le[0]==null?M:le[0],q=le[1]==null?M:le[1],y=w(y["$nil_or_empty?"]())?1:y.$to_i(),q=w(q["$nil_or_empty?"]())?1:q.$to_i(),_e["$[]"](2)){case"+":ze(y,1)||c["$[]="]("colspan",y),ze(q,1)||c["$[]="]("rowspan",q);break;case"*":ze(y,1)||c["$[]="]("repeatcol",y);break}return w(_e["$[]"](3))&&(ae=_e["$[]"](3).$split("."),le=Xe(ae),y=le[0]==null?M:le[0],q=le[1]==null?M:le[1],N(y["$nil_or_empty?"]())&&w($e("TableCellHorzAlignments")["$key?"](y))&&c["$[]="]("halign",$e("TableCellHorzAlignments")["$[]"](y)),N(q["$nil_or_empty?"]())&&w($e("TableCellVertAlignments")["$key?"](q))&&c["$[]="]("valign",$e("TableCellVertAlignments")["$[]"](q))),w(_e["$[]"](4))&&w($e("TableCellStyles")["$key?"](_e["$[]"](4)))&&c["$[]="]("style",$e("TableCellStyles")["$[]"](_e["$[]"](4))),[c,K]},-2),O(qe,"$parse_style_attribute",function(ne,U){var P,le=this,ae=M,_e=M,K=M,v=M,c=M,y=M;return U==null&&(U=M),w(ae=ne["$[]"](1))&&N(ae["$include?"](" "))&&w($e("Compliance").$shorthand_property_syntax())?(_e=M,K="",v=W([],{}),me(ae,"each_char",[],function q(R){var A=q.$$s==null?this:q.$$s;switch(R==null&&(R=M),R){case".":return A.$yield_buffered_attribute(v,_e,K,U),K="",_e="role";case"#":return A.$yield_buffered_attribute(v,_e,K,U),K="",_e="id";case"%":return A.$yield_buffered_attribute(v,_e,K,U),K="",_e="option";default:return K=Je(K,R)}},{$$s:le}),w(_e)?(le.$yield_buffered_attribute(v,_e,K,U),w(c=v["$[]"]("style"))&&ne["$[]="]("style",c),w(v["$key?"]("id"))&&ne["$[]="]("id",v["$[]"]("id")),w(v["$key?"]("role"))&&ne["$[]="]("role",w((y=ne["$[]"]("role"))["$nil_or_empty?"]())?v["$[]"]("role").$join(" "):""+y+" "+v["$[]"]("role").$join(" ")),w(v["$key?"]("option"))&&me(v["$[]"]("option"),"each",[],function(R){var A;return R==null&&(R=M),A=[""+R+"-option",""],me(ne,"[]=",A),A[A.length-1]}),c):(P=["style",ae],me(ne,"[]=",P),P[P.length-1])):(P=["style",ae],me(ne,"[]=",P),P[P.length-1])},-2),O(qe,"$yield_buffered_attribute",function(ne,U,P,le){var ae,_e=this,K=M;return w(U)?w(P["$empty?"]())?w(le)?_e.$logger().$warn(_e.$message_with_context("invalid empty "+U+" detected in style attribute",W(["source_location"],{source_location:le.$cursor_at_prev_line()}))):_e.$logger().$warn("invalid empty "+U+" detected in style attribute"):ze(U,"id")?(w(ne["$key?"]("id"))&&(w(le)?_e.$logger().$warn(_e.$message_with_context("multiple ids detected in style attribute",W(["source_location"],{source_location:le.$cursor_at_prev_line()}))):_e.$logger().$warn("multiple ids detected in style attribute")),ne["$[]="](U,P)):(w(K=ne["$[]"](U))?K:(ae=[U,[]],me(ne,"[]=",ae),ae[ae.length-1]))["$<<"](P):w(P["$empty?"]())||ne["$[]="]("style",P),M}),O(qe,"$adjust_indentation!",function(ne,U,P){var le=M,ae=M,_e=M;return U==null&&(U=0),P==null&&(P=0),w(ne["$empty?"]())||(w(He(P,0))&&w(me(ne,"any?",[],function(v){return v==null&&(v=M),v["$include?"]($e("TAB"))}))&&(le=Ze(" ",P),me(ne,"map!",[],function(v){var c=M,y=M,q=M,R=M,A=M;return v==null&&(v=M),w(v["$empty?"]())||w((c=v.$index($e("TAB")))["$nil?"]())||ze(c,0)&&(y=0,function(){try{var V=it("break");return me(v,"each_byte",[],function(de){return de==null&&(de=M),ze(de,9)||V.$throw(),y=Je(y,1)})}catch(Y){if(Y===V)return Y.$v;throw Y}}(),v=""+Ze(le,y)+v.$slice(y,v.$length()),!w(v["$include?"]($e("TAB"))))?v:(q=0,R=0,A="",me(v,"each_char",[],function(Y){var de=M,fe=M;return Y==null&&(Y=M),ze(Y,$e("TAB"))?ze((de=Je(R,q))["$%"](P),0)?(q=Je(q,ft(P,1)),A=Je(A,le)):(ze(fe=ft(P,de["$%"](P)),1)||(q=Je(q,ft(fe,1))),A=Je(A,Ze(" ",fe))):A=Je(A,Y),R=Je(R,1)}),A)})),w(Le(U,0)))||(ae=M,function(){try{var K=it("break");return me(ne,"each",[],function(c){var y=M;return c==null&&(c=M),w(c["$empty?"]())||(ze(y=ft(c.$length(),c.$lstrip().$length()),0)&&(ae=M,K.$throw()),w(ae)&&w(Le(ae,y)))?M:ae=y})}catch(v){if(v===K)return v.$v;throw v}}(),ze(U,0)?w(ae)&&me(ne,"map!",[],function(v){return v==null&&(v=M),w(v["$empty?"]())?v:v.$slice(ae,v.$length())}):(_e=Ze(" ",U),w(ae)?me(ne,"map!",[],function(v){return v==null&&(v=M),w(v["$empty?"]())?v:Je(_e,v.$slice(ae,v.$length()))}):me(ne,"map!",[],function(v){return v==null&&(v=M),w(v["$empty?"]())?v:Je(_e,v)}))),M},-2),O(qe,"$uniform?",function(ne,U,P){return ne.$count(U)["$=="](P)}),O(qe,"$sanitize_attribute_name",function(ne){return ne.$gsub($e("InvalidAttributeNameCharsRx"),"").$downcase()})}(J[0],null,J)}(pt[0],pt)},Opal.modules["asciidoctor/path_resolver"]=function(l){var ce=l.module,oe=l.klass,Q=l.const_set,me=l.truthy,w=l.hash2,W=l.def,Xe=l.eqeq,O=l.alias,ze=l.rb_plus,N=l.to_ary,at=l.send,Re=l.not,Je=l.neqeq,Le=l.rb_gt,He=l.gvars,gt=[],We=l.nil,ft=l.$$$;return l.add_stubs("include,attr_accessor,root?,posixify,expand_path,pwd,start_with?,==,match?,absolute_path?,+,length,descends_from?,slice,to_s,relative_path_from,new,include?,tr,partition_path,each,pop,<<,join_path,[],web_root?,unc?,index,split,delete,[]=,join,raise,!,fetch,warn,logger,empty?,nil_or_empty?,chomp,!=,>,size,extract_uri_prefix,end_with?,gsub,private,=~"),function(Ze,it){var pt=ce(Ze,"Asciidoctor"),M=[pt].concat(it);return function(ot,I,lt){var ht=oe(ot,I,"PathResolver"),J=[ht].concat(lt),B=l.$r(J),Qe=ht.$$prototype;return Qe.file_separator=Qe._partition_path_web=Qe._partition_path_sys=Qe.working_dir=We,ht.$include(B("Logging")),Q(J[0],"DOT","."),Q(J[0],"DOT_DOT",".."),Q(J[0],"DOT_SLASH","./"),Q(J[0],"SLASH","/"),Q(J[0],"BACKSLASH","\\"),Q(J[0],"DOUBLE_SLASH","//"),Q(J[0],"URI_CLASSLOADER","uri:classloader:"),Q(J[0],"WindowsRootRx",/^(?:[a-zA-Z]:)?[\\\/]/),ht.$attr_accessor("file_separator"),ht.$attr_accessor("working_dir"),W(ht,"$initialize",function(qe,Se){var $e=this,ye=We,ne=We;return qe==null&&(qe=We),Se==null&&(Se=We),$e.file_separator=me(ye=me(ne=qe)?ne:ft(ft("File"),"ALT_SEPARATOR"))?ye:ft(ft("File"),"SEPARATOR"),$e.working_dir=me(Se)?me($e["$root?"](Se))?$e.$posixify(Se):ft("File").$expand_path(Se):ft("Dir").$pwd(),$e._partition_path_sys=w([],{}),$e._partition_path_web=w([],{})},-1),W(ht,"$absolute_path?",function(qe){var Se=this,$e=We,ye=We;return me($e=qe["$start_with?"](B("SLASH")))?$e:me(ye=Se.file_separator["$=="](B("BACKSLASH")))?B("WindowsRootRx")["$match?"](qe):ye}),Xe(B("RUBY_ENGINE"),"opal")&&Xe(ft("JAVASCRIPT_IO_MODULE"),"xmlhttprequest")?W(ht,"$root?",function(qe){var Se=this,$e=We;return me($e=Se["$absolute_path?"](qe))?$e:qe["$start_with?"]("file://","http://","https://")}):Xe(ft("RUBY_ENGINE"),"jruby")?W(ht,"$root?",function(qe){var Se=this,$e=We;return me($e=Se["$absolute_path?"](qe))?$e:qe["$start_with?"](B("URI_CLASSLOADER"))}):O(ht,"root?","absolute_path?"),W(ht,"$unc?",function(qe){return qe["$start_with?"](B("DOUBLE_SLASH"))}),W(ht,"$web_root?",function(qe){return qe["$start_with?"](B("SLASH"))}),W(ht,"$descends_from?",function(qe,Se){var $e=We;return Xe(Se,qe)?0:Xe(Se,B("SLASH"))?me($e=qe["$start_with?"](B("SLASH")))?1:$e:me($e=qe["$start_with?"](ze(Se,B("SLASH"))))?ze(Se.$length(),1):$e}),W(ht,"$relative_path",function(qe,Se){var $e=this,ye=We;if(me($e["$root?"](qe))){if(me(ye=$e["$descends_from?"](qe,Se)))return qe.$slice(ye,qe.$length());try{return B("Pathname").$new(qe).$relative_path_from(B("Pathname").$new(Se)).$to_s()}catch(ne){if(l.rescue(ne,[B("StandardError")]))try{return qe}finally{l.pop_exception()}else throw ne}}else return qe}),W(ht,"$posixify",function(qe){var Se=this;return me(qe)?Xe(Se.file_separator,B("BACKSLASH"))&&me(qe["$include?"](B("BACKSLASH")))?qe.$tr(B("BACKSLASH"),B("SLASH")):qe:""}),O(ht,"posixfy","posixify"),W(ht,"$expand_path",function(qe){var Se,$e,ye=this,ne=We,U=We,P=We;return $e=ye.$partition_path(qe),Se=N($e),ne=Se[0]==null?We:Se[0],U=Se[1]==null?We:Se[1],me(qe["$include?"](B("DOT_DOT")))?(P=[],at(ne,"each",[],function(ae){return ae==null&&(ae=We),Xe(ae,B("DOT_DOT"))?P.$pop():P["$<<"](ae)}),ye.$join_path(P,U)):ye.$join_path(ne,U)}),W(ht,"$partition_path",function(qe,Se){var $e,ye=this,ne=We,U=We,P=We,le=We,ae=We;return Se==null&&(Se=We),me(ne=(U=me(Se)?ye._partition_path_web:ye._partition_path_sys)["$[]"](qe))?ne:(P=ye.$posixify(qe),me(Se)?me(ye["$web_root?"](P))?le=B("SLASH"):me(P["$start_with?"](B("DOT_SLASH")))&&(le=B("DOT_SLASH")):me(ye["$root?"](P))?me(ye["$unc?"](P))?le=B("DOUBLE_SLASH"):me(P["$start_with?"](B("SLASH")))?le=B("SLASH"):me(P["$start_with?"](B("URI_CLASSLOADER")))?le=P.$slice(0,B("URI_CLASSLOADER").$length()):le=P.$slice(0,ze(P.$index(B("SLASH")),1)):me(P["$start_with?"](B("DOT_SLASH")))&&(le=B("DOT_SLASH")),ae=(me(le)?P.$slice(le.$length(),P.$length()):P).$split(B("SLASH")),ae.$delete(B("DOT")),$e=[qe,[ae,le]],at(U,"[]=",$e),$e[$e.length-1])},-2),W(ht,"$join_path",function(qe,Se){return Se==null&&(Se=We),me(Se)?""+Se+qe.$join(B("SLASH")):qe.$join(B("SLASH"))},-2),W(ht,"$system_path",function(qe,Se,$e,ye){var ne,U,P=this,le=We,ae=We,_e=We,K=We,v=We,c=We,y=We,q=We,R=We,A=We,V=We;if(Se==null&&(Se=We),$e==null&&($e=We),ye==null&&(ye=w([],{})),me($e)&&(me(P["$root?"]($e))||P.$raise(ft("SecurityError"),"Jail is not an absolute path: "+$e),$e=P.$posixify($e)),me(qe))if(me(P["$root?"](qe))){if(le=P.$expand_path(qe),me($e)&&Re(P["$descends_from?"](le,$e))){if(me(ye.$fetch("recover",!0)))return P.$logger().$warn(""+(me(ae=ye["$[]"]("target_name"))?ae:"path")+" is outside of jail; recovering automatically"),U=P.$partition_path(le),ne=N(U),_e=ne[0]==null?We:ne[0],U=P.$partition_path($e),ne=N(U),K=ne[0]==null?We:ne[0],v=ne[1]==null?We:ne[1],P.$join_path(ze(K,_e),v);P.$raise(ft("SecurityError"),""+(me(ae=ye["$[]"]("target_name"))?ae:"path")+" "+qe+" is outside of jail: "+$e+" (disallowed in safe mode)")}return le}else U=P.$partition_path(qe),ne=N(U),_e=ne[0]==null?We:ne[0];else _e=[];if(me(_e["$empty?"]())){if(me(Se["$nil_or_empty?"]()))return me(ae=$e)?ae:P.working_dir;if(me(P["$root?"](Se)))if(me($e))Se=P.$posixify(Se);else return P.$expand_path(Se);else U=P.$partition_path(Se),ne=N(U),_e=ne[0]==null?We:ne[0],Se=me(ae=$e)?ae:P.working_dir}else me(Se["$nil_or_empty?"]())?Se=me(ae=$e)?ae:P.working_dir:me(P["$root?"](Se))?me($e)&&(Se=P.$posixify(Se)):Se=""+(me(ae=$e)?ae:P.working_dir).$chomp("/")+"/"+Se;return me($e)&&me(c=P["$descends_from?"](Se,$e)["$!"]())&&Xe(P.file_separator,B("BACKSLASH"))?(U=P.$partition_path(Se),ne=N(U),y=ne[0]==null?We:ne[0],q=ne[1]==null?We:ne[1],U=P.$partition_path($e),ne=N(U),K=ne[0]==null?We:ne[0],v=ne[1]==null?We:ne[1],Je(q,v)&&(me(ye.$fetch("recover",!0))?(P.$logger().$warn("start path for "+(me(ae=ye["$[]"]("target_name"))?ae:"path")+" is outside of jail root; recovering automatically"),y=K,c=!1):P.$raise(ft("SecurityError"),"start path for "+(me(ae=ye["$[]"]("target_name"))?ae:"path")+" "+Se+" refers to location outside jail root: "+$e+" (disallowed in safe mode)"))):(U=P.$partition_path(Se),ne=N(U),y=ne[0]==null?We:ne[0],v=ne[1]==null?We:ne[1]),me((R=ze(y,_e))["$include?"](B("DOT_DOT")))&&(ne=[R,[]],A=ne[0],R=ne[1],me($e)?(me(K)||(U=P.$partition_path($e),ne=N(U),K=ne[0]==null?We:ne[0]),V=!1,at(A,"each",[],function Y(de){var fe=Y.$$s==null?this:Y.$$s;return de==null&&(de=We),Xe(de,B("DOT_DOT"))?me(Le(R.$size(),K.$size()))?R.$pop():me(ye.$fetch("recover",!0))?me(V)?We:(fe.$logger().$warn(""+(me(ae=ye["$[]"]("target_name"))?ae:"path")+" has illegal reference to ancestor of jail; recovering automatically"),V=!0):fe.$raise(ft("SecurityError"),""+(me(ae=ye["$[]"]("target_name"))?ae:"path")+" "+qe+" refers to location outside jail: "+$e+" (disallowed in safe mode)"):R["$<<"](de)},{$$s:P})):at(A,"each",[],function(de){return de==null&&(de=We),Xe(de,B("DOT_DOT"))?R.$pop():R["$<<"](de)})),me(c)?(le=P.$join_path(R,v),me(P["$descends_from?"](le,$e))?le:me(ye.$fetch("recover",!0))?(P.$logger().$warn(""+(me(ae=ye["$[]"]("target_name"))?ae:"path")+" is outside of jail; recovering automatically"),me(K)||(U=P.$partition_path($e),ne=N(U),K=ne[0]==null?We:ne[0]),P.$join_path(ze(K,_e),v)):P.$raise(ft("SecurityError"),""+(me(ae=ye["$[]"]("target_name"))?ae:"path")+" "+qe+" is outside of jail: "+$e+" (disallowed in safe mode)")):P.$join_path(R,v)},-2),W(ht,"$web_path",function(qe,Se){var $e,ye,ne=this,U=We,P=We,le=We,ae=We,_e=We;return Se==null&&(Se=We),qe=ne.$posixify(qe),Se=ne.$posixify(Se),me(Se["$nil_or_empty?"]())||me(ne["$web_root?"](qe))||(ye=ne.$extract_uri_prefix(""+Se+(me(Se["$end_with?"](B("SLASH")))?"":B("SLASH"))+qe),$e=N(ye),qe=$e[0]==null?We:$e[0],U=$e[1]==null?We:$e[1]),ye=ne.$partition_path(qe,!0),$e=N(ye),P=$e[0]==null?We:$e[0],le=$e[1]==null?We:$e[1],ae=[],at(P,"each",[],function(v){return v==null&&(v=We),Xe(v,B("DOT_DOT"))?me(ae["$empty?"]())?me(le)&&Je(le,B("DOT_SLASH"))?We:ae["$<<"](v):Xe(ae["$[]"](-1),B("DOT_DOT"))?ae["$<<"](v):ae.$pop():ae["$<<"](v)}),me((_e=ne.$join_path(ae,le))["$include?"](" "))&&(_e=_e.$gsub(" ","%20")),me(U)?""+U+_e:_e},-2),ht.$private(),W(ht,"$extract_uri_prefix",function(qe){var Se;return me(qe["$include?"](":"))&&me(B("UriSniffRx")["$=~"](qe))?[qe.$slice(((Se=He["~"])===We?We:Se["$[]"](0)).$length(),qe.$length()),(Se=He["~"])===We?We:Se["$[]"](0)]:qe})}(M[0],null,M)}(gt[0],gt)},Opal.modules["asciidoctor/reader"]=function(l){var ce=l.module,oe=l.klass,Q=l.def,me=l.rb_plus,w=l.alias,W=l.hash2,Xe=l.not,O=l.eqeqeq,ze=l.to_ary,N=l.truthy,at=l.rb_gt,Re=l.send,Je=l.rb_minus,Le=l.thrower,He=l.eqeq,gt=l.rb_times,We=l.neqeq,ft=l.to_a,Ze=l.assign_ivar_val,it=l.send2,pt=l.find_super,M=l.rb_ge,ot=l.gvars,I=l.rb_lt,lt=l.hash,ht=[],J=l.nil,B=l.$$$;return l.add_stubs("include,attr_reader,+,line_info,attr_accessor,!,===,split,file,dir,dirname,path,basename,lineno,reverse,prepare_lines,empty?,nil_or_empty?,peek_line,[],>,slice,length,process_line,times,shift,read_line,<<,-,unshift_all,has_more_lines?,read_lines,join,unshift,unshift_line,unshift_lines,replace_next_line,start_with?,==,*,read_lines_until,size,clear,cursor,[]=,fetch,!=,cursor_at_mark,warn,logger,message_with_context,pop,push,respond_to?,reverse_each,new,tap,each,instance_variables,instance_variable_get,drop,instance_variable_set,class,object_id,inspect,private,prepare_source_array,prepare_source_string,chomp,valid_encoding?,to_s,raise,to_i,attributes,catalog,pop_include,parse,path=,dup,end_with?,keys,rindex,rootname,key?,attr,reverse!,>=,exceeds_max_depth?,nil?,include_processors?,extensions,extensions?,include_processors,map,skip_front_matter!,adjust_indentation!,include?,=~,preprocess_conditional_directive,preprocess_include_directive,downcase,error,none?,any?,all?,strip,send,resolve_expr_val,rstrip,sub_attributes,attribute_missing,info,parse_attributes,find,handles?,instance,process_method,safe,resolve_include_path,method,split_delimited_value,partition,<,to_a,uniq,sort,call,each_line,infinite?,push_include,delete,first,values,value?,create_include_cursor,delete_at,keep_if,read,uriish?,attr?,require_library,normalize_system_path,file?,relative_path,path_resolver,base_dir,to_f"),function(Qe,Ae){var qe=ce(Qe,"Asciidoctor"),Se=[qe].concat(Ae),$e=l.$r(Se);return function(ye,ne,U){var P=oe(ye,ne,"Reader"),le=[P].concat(U),ae=l.$r(le),_e=P.$$prototype;return _e.file=_e.lines=_e.look_ahead=_e.unescape_next_line=_e.lineno=_e.process_lines=_e.dir=_e.path=_e.mark=_e.source_lines=_e.saved=J,P.$include(ae("Logging")),function(K,v){var c=oe(K,v,"Cursor"),y=c.$$prototype;return y.lineno=y.path=J,c.$attr_reader("file","dir","path","lineno"),Q(c,"$initialize",function(R,A,V,Y){var de,fe=this;return A==null&&(A=J),V==null&&(V=J),Y==null&&(Y=1),de=[R,A,V,Y],fe.file=de[0],fe.dir=de[1],fe.path=de[2],fe.lineno=de[3],de},-2),Q(c,"$advance",function(R){var A=this;return A.lineno=me(A.lineno,R)}),Q(c,"$line_info",function(){var R=this;return""+R.path+": line "+R.lineno}),w(c,"to_s","line_info")}(le[0],null),P.$attr_reader("file"),P.$attr_reader("dir"),P.$attr_reader("path"),P.$attr_reader("lineno"),P.$attr_reader("source_lines"),P.$attr_accessor("process_lines"),P.$attr_accessor("unterminated"),Q(P,"$initialize",function(v,c,y){var q,R,A=this,V=J;return v==null&&(v=J),c==null&&(c=J),y==null&&(y=W([],{})),Xe(c)?(A.file=J,A.dir=".",A.path="<stdin>",A.lineno=1):O(B("String"),c)?(A.file=c,R=B("File").$split(A.file),q=ze(R),A.dir=q[0]==null?J:q[0],A.path=q[1]==null?J:q[1],A.lineno=1):(N(A.file=c.$file())?(A.dir=N(V=c.$dir())?V:B("File").$dirname(A.file),A.path=N(V=c.$path())?V:B("File").$basename(A.file)):(A.dir=N(V=c.$dir())?V:".",A.path=N(V=c.$path())?V:"<stdin>"),A.lineno=N(V=c.$lineno())?V:1),A.lines=(A.source_lines=A.$prepare_lines(v,y)).$reverse(),A.mark=J,A.look_ahead=0,A.process_lines=!0,A.unescape_next_line=!1,A.unterminated=J,A.saved=J},-1),Q(P,"$has_more_lines?",function(){var v=this;return N(v.lines["$empty?"]())?(v.look_ahead=0,!1):!0}),Q(P,"$empty?",function(){var v=this;return N(v.lines["$empty?"]())?(v.look_ahead=0,!0):!1}),w(P,"eof?","empty?"),Q(P,"$next_line_empty?",function(){var v=this;return v.$peek_line()["$nil_or_empty?"]()}),Q(P,"$peek_line",function(v){var c=this,y=J,q=J;for(v==null&&(v=!1);N(!0);){if(y=c.lines["$[]"](-1),N(v)||N(at(c.look_ahead,0)))return N(c.unescape_next_line)?y.$slice(1,y.$length()):y;if(N(y)){if(N(q=c.$process_line(y)))return q}else return c.look_ahead=0,J}},-1),Q(P,"$peek_lines",function(v,c){var y=this,q=J,R=J,A=J;return v==null&&(v=J),c==null&&(c=!1),q=y.look_ahead,R=[],function(){try{var V=Le("break");return Re(N(A=v)?A:ae("MAX_INT"),"times",[],function Y(){var de=Y.$$s==null?this:Y.$$s,fe=J;if(de.lineno==null&&(de.lineno=J),N(fe=N(c)?de.$shift():de.$read_line()))return R["$<<"](fe);N(c)&&(de.lineno=Je(de.lineno,1)),V.$throw()},{$$s:y})}catch(Y){if(Y===V)return Y.$v;throw Y}}(),N(R["$empty?"]())||(y.$unshift_all(R),N(c)&&(y.look_ahead=q)),R},-1),Q(P,"$read_line",function(){var v=this;return N(at(v.look_ahead,0))||N(v["$has_more_lines?"]())?v.$shift():J}),Q(P,"$read_lines",function(){var v=this,c=J;for(c=[];N(v["$has_more_lines?"]());)c["$<<"](v.$shift());return c}),w(P,"readlines","read_lines"),Q(P,"$read",function(){var v=this;return v.$read_lines().$join(ae("LF"))}),Q(P,"$advance",function(){var v=this;return!!N(v.$shift())}),Q(P,"$unshift_line",function(v){var c=this;return c.$unshift(v),J}),w(P,"restore_line","unshift_line"),Q(P,"$unshift_lines",function(v){var c=this;return c.$unshift_all(v)}),w(P,"restore_lines","unshift_lines"),Q(P,"$replace_next_line",function(v){var c=this;return c.$shift(),c.$unshift(v),!0}),w(P,"replace_line","replace_next_line"),Q(P,"$skip_blank_lines",function(){var v=this,c=J,y=J;if(N(v["$empty?"]()))return J;for(c=0;N(y=v.$peek_line());)if(N(y["$empty?"]()))v.$shift(),c=me(c,1);else return c}),Q(P,"$skip_comment_lines",function(){var v=this,c=J,y=J,q=J;if(N(v["$empty?"]()))return J;for(;N(N(c=y=v.$peek_line())?y["$empty?"]()["$!"]():c)&&N(y["$start_with?"]("//"));)if(N(y["$start_with?"]("///")))if(N(at(q=y.$length(),3))&&He(y,gt("/",q)))v.$read_lines_until(W(["terminator","skip_first_line","read_last_line","skip_processing","context"],{terminator:y,skip_first_line:!0,read_last_line:!0,skip_processing:!0,context:"comment"}));else break;else v.$shift();return J}),Q(P,"$skip_line_comments",function(){var v=this,c=J,y=J,q=J;if(N(v["$empty?"]()))return[];for(c=[];N(N(y=q=v.$peek_line())?q["$empty?"]()["$!"]():y)&&N(q["$start_with?"]("//"));)c["$<<"](v.$shift());return c}),Q(P,"$terminate",function(){var v=this;return v.lineno=me(v.lineno,v.lines.$size()),v.lines.$clear(),v.look_ahead=0,J}),Q(P,"$read_lines_until",function K(v){var c,y=K.$$p||J,q=this,R=J,A=J,V=J,Y=J,de=J,fe=J,xe=J,Ve=J,tt=J,ct=J,vt=J,_t=J,wt=J,Dt=J,zt=J,It=J;for(K.$$p=null,v==null&&(v=W([],{})),R=[],N(q.process_lines)&&N(v["$[]"]("skip_processing"))&&(q.process_lines=!1,A=!0),N(V=v["$[]"]("terminator"))?(Y=N(de=v["$[]"]("cursor"))?de:q.$cursor(),fe=!1,xe=!1):(fe=v["$[]"]("break_on_blank_lines"),xe=v["$[]"]("break_on_list_continuation")),Ve=v["$[]"]("skip_line_comments"),tt=ct=J,N(v["$[]"]("skip_first_line"))&&q.$shift();N(vt=q.$read_line());){if(N(N(V)?vt["$=="](V):N(de=N(_t=N(wt=fe)?vt["$empty?"]():wt)?_t:N(wt=N(Dt=N(zt=xe)?tt:zt)?vt["$=="](ae("LIST_CONTINUATION")):Dt)?(c=["preserve_last_line",!0],Re(v,"[]=",c),c[c.length-1]):wt)?de:N(_t=y!==J)?l.yield1(y,vt):_t)){N(v["$[]"]("read_last_line"))&&R["$<<"](vt),N(v["$[]"]("preserve_last_line"))&&(q.$unshift(vt),ct=!0);break}N(Ve)&&N(vt["$start_with?"]("//"))&&Xe(vt["$start_with?"]("///"))||(R["$<<"](vt),tt=!0)}return N(A)&&(q.process_lines=!0,N(ct)&&Xe(V)&&(q.look_ahead=Je(q.look_ahead,1))),N(V)&&We(V,vt)&&N(It=v.$fetch("context",V))&&(He(Y,"at_mark")&&(Y=q.$cursor_at_mark()),q.$logger().$warn(q.$message_with_context("unterminated "+It+" block",W(["source_location"],{source_location:Y}))),q.unterminated=!0),R},-1),Q(P,"$shift",function(){var v=this;return v.lineno=me(v.lineno,1),He(v.look_ahead,0)||(v.look_ahead=Je(v.look_ahead,1)),v.lines.$pop()}),Q(P,"$unshift",function(v){var c=this;return c.lineno=Je(c.lineno,1),c.look_ahead=me(c.look_ahead,1),c.lines.$push(v),J}),He(B("RUBY_ENGINE"),"jruby")?Q(P,"$unshift_all",function(v){var c=this;return c.lineno=Je(c.lineno,v.$size()),c.look_ahead=me(c.look_ahead,v.$size()),N(v["$respond_to?"]("reverse"))?Re(c.lines,"push",ft(v.$reverse())):Re(v,"reverse_each",[],function y(q){var R=y.$$s==null?this:y.$$s;return R.lines==null&&(R.lines=J),q==null&&(q=J),R.lines.$push(q)},{$$s:c}),J}):Q(P,"$unshift_all",function(v){var c=this;return c.lineno=Je(c.lineno,v.$size()),c.look_ahead=me(c.look_ahead,v.$size()),Re(c.lines,"push",ft(v.$reverse())),J}),Q(P,"$cursor",function(){var v=this;return ae("Cursor").$new(v.file,v.dir,v.path,v.lineno)}),Q(P,"$cursor_at_line",function(v){var c=this;return ae("Cursor").$new(c.file,c.dir,c.path,v)}),Q(P,"$cursor_at_mark",function(){var v=this;return N(v.mark)?Re(ae("Cursor"),"new",ft(v.mark)):v.$cursor()}),Q(P,"$cursor_before_mark",function(){var v,c,y=this,q=J,R=J,A=J,V=J;return N(y.mark)?(c=y.mark,v=ze(c),q=v[0]==null?J:v[0],R=v[1]==null?J:v[1],A=v[2]==null?J:v[2],V=v[3]==null?J:v[3],ae("Cursor").$new(q,R,A,Je(V,1))):ae("Cursor").$new(y.file,y.dir,y.path,Je(y.lineno,1))}),Q(P,"$cursor_at_prev_line",function(){var v=this;return ae("Cursor").$new(v.file,v.dir,v.path,Je(v.lineno,1))}),Q(P,"$mark",function(){var v=this;return v.mark=[v.file,v.dir,v.path,v.lineno]}),Q(P,"$line_info",function(){var v=this;return""+v.path+": line "+v.lineno}),Q(P,"$lines",function(){var v=this;return v.lines.$reverse()}),Q(P,"$string",function(){var v=this;return v.lines.$reverse().$join(ae("LF"))}),Q(P,"$source",function(){var v=this;return v.source_lines.$join(ae("LF"))}),Q(P,"$save",function(){var v=this;return v.saved=Re(W([],{}),"tap",[],function c(y){var q=c.$$s==null?this:c.$$s;return y==null&&(y=J),Re(q.$instance_variables(),"each",[],function R(A){var V,Y=R.$$s==null?this:R.$$s,de=J;return A==null&&(A=J),He(A,"@saved")||He(A,"@source_lines")?J:(V=[A,O(B("Array"),de=Y.$instance_variable_get(A))?de.$drop(0):de],Re(y,"[]=",V),V[V.length-1])},{$$s:q})},{$$s:v}),J}),Q(P,"$restore_save",function(){var v=this;return N(v.saved)?(Re(v.saved,"each",[],function c(y,q){var R=c.$$s==null?this:c.$$s;return y==null&&(y=J),q==null&&(q=J),R.$instance_variable_set(y,q)},{$$s:v}),v.saved=J):J}),Q(P,"$discard_save",Ze("saved",J)),Q(P,"$to_s",function(){var v=this;return"#<"+v.$class()+"@"+v.$object_id()+" {path: "+v.path.$inspect()+", line: "+v.lineno+"}>"}),P.$private(),Q(P,"$prepare_lines",function(v,c){var y=this,q=J;c==null&&(c=W([],{}));try{return N(q=c["$[]"]("normalize"))?O(B("Array"),v)?ae("Helpers").$prepare_source_array(v,q["$!="]("chomp")):ae("Helpers").$prepare_source_string(v,q["$!="]("chomp")):O(B("Array"),v)?v.$drop(0):N(v)?v.$chomp().$split(ae("LF"),-1):[]}catch(R){if(l.rescue(R,[ae("StandardError")]))try{return N((O(B("Array"),v)?v.$join():v.$to_s())["$valid_encoding?"]())?y.$raise():y.$raise(B("ArgumentError"),"source is either binary or contains invalid Unicode data")}finally{l.pop_exception()}else throw R}},-2),Q(P,"$process_line",function(v){var c=this;return N(c.process_lines)&&(c.look_ahead=me(c.look_ahead,1)),v})}(Se[0],null,Se),function(ye,ne,U){var P=oe(ye,ne,"PreprocessorReader"),le=[P].concat(U),ae=l.$r(le),_e=P.$$prototype;return _e.include_stack=_e.lines=_e.file=_e.dir=_e.path=_e.lineno=_e.maxdepth=_e.process_lines=_e.includes=_e.document=_e.unescape_next_line=_e.include_processor_extensions=_e.look_ahead=_e.skipping=_e.conditional_stack=J,P.$attr_reader("include_stack"),Q(P,"$initialize",function K(v,c,y,q){K.$$p;var R=this,A=J,V=J;return K.$$p=null,c==null&&(c=J),y==null&&(y=J),q==null&&(q=W([],{})),R.document=v,it(R,pt(R,"initialize",K,!1,!0),"initialize",[c,y,q],null),N(at(A=(N(V=v.$attributes()["$[]"]("max-include-depth"))?V:64).$to_i(),0))?R.maxdepth=W(["abs","curr","rel"],{abs:A,curr:A,rel:A}):R.maxdepth=J,R.include_stack=[],R.includes=v.$catalog()["$[]"]("includes"),R.skipping=!1,R.conditional_stack=[],R.include_processor_extensions=J},-2),Q(P,"$has_more_lines?",function(){var v=this;return!!N(v.$peek_line())}),Q(P,"$empty?",function(){var v=this;return!N(v.$peek_line())}),w(P,"eof?","empty?"),Q(P,"$peek_line",function K(v){var c=K.$$p||J,y=this,q=J;return K.$$p=null,v==null&&(v=!1),N(q=it(y,pt(y,"peek_line",K,!1,!0),"peek_line",[v],c))?q:N(y.include_stack["$empty?"]())?J:(y.$pop_include(),y.$peek_line(v))},-1),Q(P,"$push_include",function(v,c,y,q,R){var A=this,V=J,Y=J,de=J,fe=J,xe=J,Ve=J;return c==null&&(c=J),y==null&&(y=J),q==null&&(q=1),R==null&&(R=W([],{})),A.include_stack["$<<"]([A.lines,A.file,A.dir,A.path,A.lineno,A.maxdepth,A.process_lines]),N(A.file=c)?(O(B("String"),c)?A.dir=B("File").$dirname(c):N(ae("RUBY_ENGINE_OPAL"))?A.dir=B("URI").$parse(B("File").$dirname(c=c.$to_s())):((A.dir=c.$dup())["$path="](He(V=B("File").$dirname(c.$path()),"/")?"":V),c=c.$to_s()),A.path=y=N(Y=y)?Y:B("File").$basename(c),N(A.process_lines=Re(c,"end_with?",ft(ae("ASCIIDOC_EXTENSIONS").$keys())))&&(N(Y=A.includes["$[]"](y.$slice(0,y.$rindex("."))))||A.includes["$[]="](y.$slice(0,y.$rindex(".")),N(R["$[]"]("partial-option"))?J:!0))):(A.dir=".",A.process_lines=!0,N(A.path=y)?N(Y=A.includes["$[]"](ae("Helpers").$rootname(y)))||A.includes["$[]="](ae("Helpers").$rootname(y),N(R["$[]"]("partial-option"))?J:!0):A.path="<stdin>"),A.lineno=q,N(A.maxdepth)&&N(R["$key?"]("depth"))&&(N(at(de=R["$[]"]("depth").$to_i(),0))?(N(at(fe=me(A.include_stack.$size(),de),xe=A.maxdepth["$[]"]("abs")))&&(fe=de=xe),A.maxdepth=W(["abs","curr","rel"],{abs:xe,curr:fe,rel:de})):A.maxdepth=W(["abs","curr","rel"],{abs:A.maxdepth["$[]"]("abs"),curr:A.include_stack.$size(),rel:0})),N((A.lines=A.$prepare_lines(v,W(["normalize","condense","indent"],{normalize:N(Y=A.process_lines)?Y:"chomp",condense:!1,indent:R["$[]"]("indent")})))["$empty?"]())?A.$pop_include():(N(R["$key?"]("leveloffset"))?(A.lines=me(me([N(Ve=A.document.$attr("leveloffset"))?":leveloffset: "+Ve:":leveloffset!:",""],A.lines.$reverse()),["",":leveloffset: "+R["$[]"]("leveloffset")]),A.lineno=Je(A.lineno,2)):A.lines["$reverse!"](),A.look_ahead=0),A},-2),Q(P,"$include_depth",function(){var v=this;return v.include_stack.$size()}),Q(P,"$exceeds_max_depth?",function(){var v=this,c=J,y=J;return N(c=N(y=v.maxdepth)?M(v.include_stack.$size(),v.maxdepth["$[]"]("curr")):y)?v.maxdepth["$[]"]("rel"):c}),w(P,"exceeded_max_depth?","exceeds_max_depth?"),Q(P,"$shift",function K(){var v=K.$$p||J,c=this,y=J;return K.$$p=null,N(c.unescape_next_line)?(c.unescape_next_line=!1,(y=it(c,pt(c,"shift",K,!1,!0),"shift",[],v)).$slice(1,y.$length())):it(c,pt(c,"shift",K,!1,!0),"shift",[],v)}),Q(P,"$include_processors?",function(){var v=this;return N(v.include_processor_extensions["$nil?"]())?N(v.document["$extensions?"]())&&N(v.document.$extensions()["$include_processors?"]())?(v.include_processor_extensions=v.document.$extensions().$include_processors())["$!"]()["$!"]():v.include_processor_extensions=!1:v.include_processor_extensions["$!="](!1)}),Q(P,"$create_include_cursor",function(v,c,y){var q=J;return O(B("String"),v)?q=B("File").$dirname(v):N(ae("RUBY_ENGINE_OPAL"))?q=B("File").$dirname(v=v.$to_s()):(q=He(q=B("File").$dirname(v.$path()),"")?"/":q,v=v.$to_s()),ae("Cursor").$new(v,q,c,y)}),Q(P,"$to_s",function(){var v=this;return"#<"+v.$class()+"@"+v.$object_id()+" {path: "+v.path.$inspect()+", line: "+v.lineno+", include depth: "+v.include_stack.$size()+", include stack: ["+Re(v.include_stack,"map",[],function(y){return y==null&&(y=J),y.$to_s()}).$join(", ")+"]}>"}),P.$private(),Q(P,"$prepare_lines",function K(v,c){var y=K.$$p||J,q=this,R=J,A=J,V=J,Y=J;if(K.$$p=null,c==null&&(c=W([],{})),R=it(q,pt(q,"prepare_lines",K,!1,!0),"prepare_lines",[v,c],y),N(q.document)&&N(q.document.$attributes()["$[]"]("skip-front-matter"))&&N(A=q["$skip_front_matter!"](R))&&q.document.$attributes()["$[]="]("front-matter",A.$join(ae("LF"))),N(c.$fetch("condense",!0)))for(;N(N(V=Y=R["$[]"](-1))?Y["$empty?"]():V);)R.$pop();return N(c["$[]"]("indent"))&&ae("Parser")["$adjust_indentation!"](R,c["$[]"]("indent").$to_i(),q.document.$attr("tabsize").$to_i()),R},-2),Q(P,"$process_line",function(v){var c,y=this;return N(y.process_lines)?N(v["$empty?"]())?(y.look_ahead=me(y.look_ahead,1),v):N(v["$end_with?"]("]"))&&Xe(v["$start_with?"]("["))&&N(v["$include?"]("::"))?N(v["$include?"]("if"))&&N(ae("ConditionalDirectiveRx")["$=~"](v))?He((c=ot["~"])===J?J:c["$[]"](1),"\\")?(y.unescape_next_line=!0,y.look_ahead=me(y.look_ahead,1),v.$slice(1,v.$length())):N(y.$preprocess_conditional_directive((c=ot["~"])===J?J:c["$[]"](2),(c=ot["~"])===J?J:c["$[]"](3),(c=ot["~"])===J?J:c["$[]"](4),(c=ot["~"])===J?J:c["$[]"](5)))?(y.$shift(),J):(y.look_ahead=me(y.look_ahead,1),v):N(y.skipping)?(y.$shift(),J):N(v["$start_with?"]("inc","\\inc"))&&N(ae("IncludeDirectiveRx")["$=~"](v))?He((c=ot["~"])===J?J:c["$[]"](1),"\\")?(y.unescape_next_line=!0,y.look_ahead=me(y.look_ahead,1),v.$slice(1,v.$length())):N(y.$preprocess_include_directive((c=ot["~"])===J?J:c["$[]"](2),(c=ot["~"])===J?J:c["$[]"](3)))?J:(y.look_ahead=me(y.look_ahead,1),v):(y.look_ahead=me(y.look_ahead,1),v):N(y.skipping)?(y.$shift(),J):(y.look_ahead=me(y.look_ahead,1),v):v}),Q(P,"$preprocess_conditional_directive",function(v,c,y,q){var R,A=this,V=J,Y=J,de=J,fe=J,xe=J,Ve=J;if(N(V=c["$empty?"]())||(c=c.$downcase()),He(v,"endif"))return N(q)?A.$logger().$error(A.$message_with_context("malformed preprocessor directive - text not permitted: endif::"+c+"["+q+"]",W(["source_location"],{source_location:A.$cursor()}))):N(A.conditional_stack["$empty?"]())?A.$logger().$error(A.$message_with_context("unmatched preprocessor directive: endif::"+c+"[]",W(["source_location"],{source_location:A.$cursor()}))):N(V)||He(c,(Y=A.conditional_stack["$[]"](-1))["$[]"]("target"))?(A.conditional_stack.$pop(),A.skipping=N(A.conditional_stack["$empty?"]())?!1:A.conditional_stack["$[]"](-1)["$[]"]("skipping")):A.$logger().$error(A.$message_with_context("mismatched preprocessor directive: endif::"+c+"[], expected endif::"+Y["$[]"]("target")+"[]",W(["source_location"],{source_location:A.$cursor()}))),!0;if(N(A.skipping))de=!1;else switch(v){case"ifdef":if(N(V))return A.$logger().$error(A.$message_with_context("malformed preprocessor directive - missing target: ifdef::["+q+"]",W(["source_location"],{source_location:A.$cursor()}))),!0;switch(y){case",":de=Re(c.$split(",",-1),"none?",[],function tt(ct){var vt=tt.$$s==null?this:tt.$$s;return vt.document==null&&(vt.document=J),ct==null&&(ct=J),vt.document.$attributes()["$key?"](ct)},{$$s:A});break;case"+":de=Re(c.$split("+",-1),"any?",[],function tt(ct){var vt=tt.$$s==null?this:tt.$$s;return vt.document==null&&(vt.document=J),ct==null&&(ct=J),vt.document.$attributes()["$key?"](ct)["$!"]()},{$$s:A});break;default:de=A.document.$attributes()["$key?"](c)["$!"]()}break;case"ifndef":if(N(V))return A.$logger().$error(A.$message_with_context("malformed preprocessor directive - missing target: ifndef::["+q+"]",W(["source_location"],{source_location:A.$cursor()}))),!0;switch(y){case",":de=Re(c.$split(",",-1),"any?",[],function tt(ct){var vt=tt.$$s==null?this:tt.$$s;return vt.document==null&&(vt.document=J),ct==null&&(ct=J),vt.document.$attributes()["$key?"](ct)},{$$s:A});break;case"+":de=Re(c.$split("+",-1),"all?",[],function tt(ct){var vt=tt.$$s==null?this:tt.$$s;return vt.document==null&&(vt.document=J),ct==null&&(ct=J),vt.document.$attributes()["$key?"](ct)},{$$s:A});break;default:de=A.document.$attributes()["$key?"](c)}break;case"ifeval":if(N(V))if(N(q)&&N(ae("EvalExpressionRx")["$=~"](q.$strip())))fe=(R=ot["~"])===J?J:R["$[]"](1),xe=(R=ot["~"])===J?J:R["$[]"](2),Ve=(R=ot["~"])===J?J:R["$[]"](3),de=function(){try{return!N(A.$resolve_expr_val(fe).$send(xe,A.$resolve_expr_val(Ve)))}catch(tt){if(l.rescue(tt,[ae("StandardError")]))try{return!0}finally{l.pop_exception()}else throw tt}}();else return A.$logger().$error(A.$message_with_context("malformed preprocessor directive - "+(N(q)?"invalid expression":"missing expression")+": ifeval::["+q+"]",W(["source_location"],{source_location:A.$cursor()}))),!0;else return A.$logger().$error(A.$message_with_context("malformed preprocessor directive - target not permitted: ifeval::"+c+"["+q+"]",W(["source_location"],{source_location:A.$cursor()}))),!0;break}return He(v,"ifeval")||Xe(q)?(N(de)&&(A.skipping=!0),A.conditional_stack["$<<"](W(["target","skip","skipping"],{target:c,skip:de,skipping:A.skipping}))):N(A.skipping)||N(de)||(A.$replace_next_line(q.$rstrip()),A.$unshift(""),N(q["$start_with?"]("include::"))&&(A.look_ahead=Je(A.look_ahead,1))),!0}),Q(P,"$preprocess_include_directive",function(v,c){var y,q,R=this,A=J,V=J,Y=J,de=J,fe=J,xe=J,Ve=J,tt=J,ct=J,vt=J,_t=J,wt=J,Dt=J,zt=J,It=J,Mt=J,Ft=J,sr=J,Ot=J,Qt=J,lr=J,er=J,Jt=J,fr=J,vr=J,Mn=J,an=J;if(A=R.document,N((V=v)["$include?"](ae("ATTR_REF_HEAD")))&&N((V=A.$sub_attributes(v,W(["attribute_missing"],{attribute_missing:He(Y=N(de=A.$attributes()["$[]"]("attribute-missing"))?de:ae("Compliance").$attribute_missing(),"warn")?"drop-line":Y})))["$empty?"]()))return He(Y,"drop-line")&&N(A.$sub_attributes(me(v," "),W(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]())?(Re(R.$logger(),"info",[],function pr(){var ar=pr.$$s==null?this:pr.$$s;return ar.$message_with_context("include dropped due to missing attribute: include::"+v+"["+c+"]",W(["source_location"],{source_location:ar.$cursor()}))},{$$s:R}),R.$shift(),!0):N(A.$parse_attributes(c,[],W(["sub_input"],{sub_input:!0}))["$[]"]("optional-option"))?(Re(R.$logger(),"info",[],function pr(){var ar=pr.$$s==null?this:pr.$$s;return ar.$message_with_context("optional include dropped "+(He(Y,"warn")&&N(A.$sub_attributes(me(v," "),W(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]())?"due to missing attribute":"because resolved target is blank")+": include::"+v+"["+c+"]",W(["source_location"],{source_location:ar.$cursor()}))},{$$s:R}),R.$shift(),!0):(R.$logger().$warn(R.$message_with_context("include dropped "+(He(Y,"warn")&&N(A.$sub_attributes(me(v," "),W(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]())?"due to missing attribute":"because resolved target is blank")+": include::"+v+"["+c+"]",W(["source_location"],{source_location:R.$cursor()}))),R.$replace_next_line("Unresolved directive in "+R.path+" - include::"+v+"["+c+"]"));if(N(R["$include_processors?"]())&&N(fe=Re(R.include_processor_extensions,"find",[],function(ar){return ar==null&&(ar=J),ar.$instance()["$handles?"](V)})))return R.$shift(),fe.$process_method()["$[]"](A,R,V,A.$parse_attributes(c,[],W(["sub_input"],{sub_input:!0}))),!0;if(N(M(A.$safe(),B(ae("SafeMode"),"SECURE"))))return R.$replace_next_line("link:"+V+"[role=include]");if(N(R.maxdepth)){if(N(M(R.include_stack.$size(),R.maxdepth["$[]"]("curr"))))return R.$logger().$error(R.$message_with_context("maximum include depth of "+R.maxdepth["$[]"]("rel")+" exceeded",W(["source_location"],{source_location:R.$cursor()}))),J;switch(xe=A.$parse_attributes(c,[],W(["sub_input"],{sub_input:!0})),q=R.$resolve_include_path(V,c,xe),y=ze(q),Ve=y[0]==null?J:y[0],tt=y[1]==null?J:y[1],ct=y[2]==null?J:y[2],tt){case"file":vt=B("File").$method("open"),_t=ae("FILE_READ_MODE");break;case"uri":vt=B("OpenURI").$method("open_uri"),_t=ae("URI_READ_MODE");break;default:return Ve}if(N(ae("RUBY_ENGINE_OPAL"))||N(wt=xe["$[]"]("encoding"))&&N(function(){try{return B("Encoding").$find(wt)}catch(pr){if(l.rescue(pr,[ae("StandardError")]))try{return J}finally{l.pop_exception()}else throw pr}}())&&((Dt=_t.$split(":"))["$[]="](1,wt),_t=Dt.$join(":")),zt=It=J,N(c)&&(N(xe["$key?"]("lines"))?(zt=[],Re(R.$split_delimited_value(xe["$[]"]("lines")),"each",[],function(ar){var ur,Cr,nr=J,Nr=J;return ar==null&&(ar=J),N(ar["$include?"](".."))?(Cr=ar.$partition(".."),ur=ze(Cr),nr=ur[0]==null?J:ur[0],ur[1]==null||ur[1],Nr=ur[2]==null?J:ur[2],zt=me(zt,N(Nr["$empty?"]())||N(I(Nr=Nr.$to_i(),0))?[nr.$to_i(),B(B("Float"),"INFINITY")]:l.Range.$new(nr.$to_i(),Nr,!1).$to_a())):zt["$<<"](ar.$to_i())}),zt=N(zt["$empty?"]())?J:zt.$sort().$uniq()):N(xe["$key?"]("tag"))?N((Mt=xe["$[]"]("tag"))["$empty?"]())||He(Mt,"!")||(It=N(Mt["$start_with?"]("!"))?lt(Mt.$slice(1,Mt.$length()),!1):lt(Mt,!0)):N(xe["$key?"]("tags"))&&(It=W([],{}),Re(R.$split_delimited_value(xe["$[]"]("tags")),"each",[],function(ar){var ur;return ar==null&&(ar=J),N(ar["$empty?"]())||He(ar,"!")?J:N(ar["$start_with?"]("!"))?(ur=[ar.$slice(1,ar.$length()),!1],Re(It,"[]=",ur),ur[ur.length-1]):(ur=[ar,!0],Re(It,"[]=",ur),ur[ur.length-1])}),N(It["$empty?"]())&&(It=J))),N(zt)){y=[[],J,0],Ft=y[0],sr=y[1],Ot=y[2];try{Re(vt,"call",[Ve,_t],function(ar){var ur=J;return ar==null&&(ar=J),ur=J,function(){try{var Cr=Le("break");return Re(ar,"each_line",[],function(Nr){var Qr=J;if(Nr==null&&(Nr=J),Ot=me(Ot,1),N(ur)||O(B("Float"),Qr=zt["$[]"](0))&&N(ur=Qr["$infinite?"]()))return sr=N(de=sr)?de:Ot,Ft["$<<"](Nr);if(He(Qr,Ot)&&(sr=N(de=sr)?de:Ot,Ft["$<<"](Nr),zt.$shift()),N(zt["$empty?"]()))Cr.$throw();else return J})}catch(nr){if(nr===Cr)return nr.$v;throw nr}}()})}catch(pr){if(l.rescue(pr,[ae("StandardError")]))try{return R.$logger().$error(R.$message_with_context("include "+tt+" not readable: "+Ve,W(["source_location"],{source_location:R.$cursor()}))),R.$replace_next_line("Unresolved directive in "+R.path+" - include::"+V+"["+c+"]")}finally{l.pop_exception()}else throw pr}R.$shift(),N(sr)&&(xe["$[]="]("partial-option",""),R.$push_include(Ft,Ve,ct,sr,xe))}else if(N(It)){y=[[],J,0,[],B("Set").$new(),J],Ft=y[0],sr=y[1],Ot=y[2],Qt=y[3],lr=y[4],er=y[5],N(It["$key?"]("**"))?(Jt=fr=It.$delete("**"),N(It["$key?"]("*"))?vr=It.$delete("*"):Xe(Jt)&&He(It.$values().$first(),!1)&&(vr=!0)):N(It["$key?"]("*"))?He(It.$keys().$first(),"*")?Jt=fr=(vr=It.$delete("*"))["$!"]():(Jt=fr=!1,vr=It.$delete("*")):Jt=fr=It["$value?"](!0)["$!"]();try{Re(vt,"call",[Ve,_t],function pr(ar){var ur,Cr=pr.$$s==null?this:pr.$$s,nr=J,Nr=J;return ar==null&&(ar=J),ur=["::","[]"],nr=ur[0],Nr=ur[1],Re(ar,"each_line",[],function Qr(qr){var Fr,bn,jr=Qr.$$s==null?this:Qr.$$s,Lr=J,Kn=J,Rn=J;return qr==null&&(qr=J),Ot=me(Ot,1),N(qr["$include?"](nr))&&N(qr["$include?"](Nr))&&N(ae("TagDirectiveRx")["$=~"](qr))?(Lr=(Fr=ot["~"])===J?J:Fr["$[]"](2),N((Fr=ot["~"])===J?J:Fr["$[]"](1))?He(Lr,er)?(Qt.$pop(),bn=N(Qt["$empty?"]())?[J,fr]:Qt["$[]"](-1),Fr=ze(bn),er=Fr[0]==null?J:Fr[0],Jt=Fr[1]==null?J:Fr[1],bn):N(It["$key?"](Lr))?(Kn=jr.$create_include_cursor(Ve,V,Ot),N(Rn=Re(Qt,"rindex",[],function(Ln){return Ln==null&&(Ln=J),Ln["$=="](Lr)},{$$has_trailing_comma_in_args:!0}))?(He(Rn,0)?Qt.$shift():Qt.$delete_at(Rn),jr.$logger().$warn(jr.$message_with_context("mismatched end tag (expected '"+er+"' but found '"+Lr+"') at line "+Ot+" of include "+tt+": "+Ve,W(["source_location","include_location"],{source_location:jr.$cursor(),include_location:Kn})))):jr.$logger().$warn(jr.$message_with_context("unexpected end tag '"+Lr+"' at line "+Ot+" of include "+tt+": "+Ve,W(["source_location","include_location"],{source_location:jr.$cursor(),include_location:Kn})))):J:N(It["$key?"](Lr))?(N(Jt=It["$[]"](Lr))&&lr["$<<"](Lr),Qt["$<<"]([er=Lr,Jt,Ot])):Xe(vr["$nil?"]())?(Jt=N(er)&&Xe(Jt)?!1:vr,Qt["$<<"]([er=Lr,Jt,Ot])):J):N(Jt)?(sr=N(de=sr)?de:Ot,Ft["$<<"](qr)):J},{$$s:Cr})},{$$s:R})}catch(pr){if(l.rescue(pr,[ae("StandardError")]))try{return R.$logger().$error(R.$message_with_context("include "+tt+" not readable: "+Ve,W(["source_location"],{source_location:R.$cursor()}))),R.$replace_next_line("Unresolved directive in "+R.path+" - include::"+V+"["+c+"]")}finally{l.pop_exception()}else throw pr}N(Qt["$empty?"]())||Re(Qt,"each",[],function pr(ar,ur,Cr){var nr=pr.$$s==null?this:pr.$$s;return ar==null&&(ar=J),Cr==null&&(Cr=J),nr.$logger().$warn(nr.$message_with_context("detected unclosed tag '"+ar+"' starting at line "+Cr+" of include "+tt+": "+Ve,W(["source_location","include_location"],{source_location:nr.$cursor(),include_location:nr.$create_include_cursor(Ve,V,Cr)})))},{$$s:R}),N((Mn=Je(Re(It,"keep_if",[],function(ar,ur){return ur==null&&(ur=J),ur}).$keys(),lr.$to_a()))["$empty?"]())||R.$logger().$warn(R.$message_with_context("tag"+(N(at(Mn.$size(),1))?"s":"")+" '"+Mn.$join(", ")+"' not found in include "+tt+": "+Ve,W(["source_location"],{source_location:R.$cursor()}))),R.$shift(),N(sr)&&(N(fr)&&We(vr,!1)&&N(It["$empty?"]())||xe["$[]="]("partial-option",""),R.$push_include(Ft,Ve,ct,sr,xe))}else{an=J;try{an=Re(vt,"call",[Ve,_t],function(ar){return ar==null&&(ar=J),ar.$read()}),R.$shift()}catch(pr){if(l.rescue(pr,[ae("StandardError")]))try{return R.$logger().$error(R.$message_with_context("include "+tt+" not readable: "+Ve,W(["source_location"],{source_location:R.$cursor()}))),R.$replace_next_line("Unresolved directive in "+R.path+" - include::"+V+"["+c+"]")}finally{l.pop_exception()}else throw pr}R.$push_include(an,Ve,ct,1,xe)}return!0}else return J}),Q(P,"$resolve_include_path",function(v,c,y){var q,R=this,A=J,V=J,Y=J;return A=R.document,N(ae("Helpers")["$uriish?"](v))||N(O(B("String"),R.dir)?J:v=""+R.dir+"/"+v)?N(A["$attr?"]("allow-uri-read"))?(N(A["$attr?"]("cache-uri"))?N((q=B("::","OpenURI","skip_raise"))&&B(q,"Cache","skip_raise")?"constant":J)||ae("Helpers").$require_library("open-uri/cached","open-uri-cached"):Xe(ae("RUBY_ENGINE_OPAL"))&&B("OpenURI"),[B("URI").$parse(v),"uri",v]):R.$replace_next_line("link:"+v+"[role=include]"):(V=A.$normalize_system_path(v,R.dir,J,W(["target_name"],{target_name:"include file"})),N(B("File")["$file?"](V))?(Y=A.$path_resolver().$relative_path(V,A.$base_dir()),[V,"file",Y]):N(y["$[]"]("optional-option"))?(Re(R.$logger(),"info",[],function de(){var fe=de.$$s==null?this:de.$$s;return fe.$message_with_context("optional include dropped because include file not found: "+V,W(["source_location"],{source_location:fe.$cursor()}))},{$$s:R}),R.$shift(),!0):(R.$logger().$error(R.$message_with_context("include file not found: "+V,W(["source_location"],{source_location:R.$cursor()}))),R.$replace_next_line("Unresolved directive in "+R.path+" - include::"+v+"["+c+"]")))}),Q(P,"$pop_include",function(){var v,c,y=this;return N(y.include_stack["$empty?"]())||(c=y.include_stack.$pop(),v=ze(c),y.lines=v[0]==null?J:v[0],y.file=v[1]==null?J:v[1],y.dir=v[2]==null?J:v[2],y.path=v[3]==null?J:v[3],y.lineno=v[4]==null?J:v[4],y.maxdepth=v[5]==null?J:v[5],y.process_lines=v[6]==null?J:v[6],y.look_ahead=0),J}),Q(P,"$split_delimited_value",function(v){return N(v["$include?"](","))?v.$split(","):v.$split(";")}),Q(P,"$skip_front_matter!",function(v,c){var y=this,q=J,R=J,A=J,V=J,Y=J;if(c==null&&(c=!0),!He(q=v["$[]"](0),"---"))return J;for(R=v.$drop(0),v.$shift(),A=[],N(c)&&(y.lineno=me(y.lineno,1));!N(N(V=Y=v["$empty?"]())?V:v["$[]"](0)["$=="](q));)A["$<<"](v.$shift()),N(c)&&(y.lineno=me(y.lineno,1));return N(Y)?(Re(v,"unshift",ft(R)),N(c)&&(y.lineno=Je(y.lineno,R.$size())),J):(v.$shift(),N(c)&&(y.lineno=me(y.lineno,1)),A)},-2),Q(P,"$resolve_expr_val",function(v){var c=this,y=J;return N(v["$start_with?"]('"'))&&N(v["$end_with?"]('"'))||N(v["$start_with?"]("'"))&&N(v["$end_with?"]("'"))?(y=!0,v=v.$slice(1,Je(v.$length(),1))):y=!1,N(v["$include?"](ae("ATTR_REF_HEAD")))&&(v=c.document.$sub_attributes(v,W(["attribute_missing"],{attribute_missing:"drop"}))),N(y)?v:N(v["$empty?"]())?J:He(v,"true")?!0:He(v,"false")?!1:N(v.$rstrip()["$empty?"]())?" ":N(v["$include?"]("."))?v.$to_f():v.$to_i()})}(Se[0],$e("Reader"),Se)}(ht[0],ht)},Opal.modules["asciidoctor/section"]=function(l){var ce=l.module,oe=l.klass,Q=l.hash2,me=l.send2,w=l.find_super,W=l.eqeqeq,Xe=l.truthy,O=l.rb_plus,ze=l.def,N=l.alias,at=l.rb_gt,Re=l.eqeq,Je=l.not,Le=l.send,He=l.defs,gt=[],We=l.nil;return l.add_stubs("attr_accessor,attr_reader,===,+,level,special,title,generate_id,>,==,sectnum,!,empty?,reftext,sub_placeholder,sub_quotes,compat_mode,[],attributes,context,assign_numeral,class,object_id,inspect,size,[]=,chr,length,gsub,downcase,delete,tr_s,end_with?,chop,start_with?,slice,key?,catalog,unique_id_start_index"),function(ft,Ze){var it=ce(ft,"Asciidoctor"),pt=[it].concat(Ze),M=l.$r(pt);return function(ot,I,lt){var ht=oe(ot,I,"Section"),J=[ht].concat(lt),B=l.$r(J),Qe=ht.$$prototype;return Qe.document=Qe.next_section_index=Qe.parent=Qe.level=Qe.numeral=Qe.numbered=Qe.sectname=Qe.title=Qe.blocks=We,ht.$attr_accessor("index"),ht.$attr_accessor("sectname"),ht.$attr_accessor("special"),ht.$attr_accessor("numbered"),ht.$attr_reader("caption"),ze(ht,"$initialize",function Ae(qe,Se,$e,ye){var ne;Ae.$$p;var U=this,P=We;return Ae.$$p=null,qe==null&&(qe=We),Se==null&&(Se=We),$e==null&&($e=!1),ye==null&&(ye=Q([],{})),me(U,w(U,"initialize",Ae,!1,!0),"initialize",[qe,"section",ye],null),W(B("Section"),qe)?(ne=[Xe(P=Se)?P:O(qe.$level(),1),qe.$special()],U.level=ne[0],U.special=ne[1]):(ne=[Xe(P=Se)?P:1,!1],U.level=ne[0],U.special=ne[1]),U.numbered=$e,U.index=0},-1),N(ht,"name","title"),ze(ht,"$generate_id",function(){var qe=this;return B("Section").$generate_id(qe.$title(),qe.document)}),ze(ht,"$sections?",function(){var qe=this;return at(qe.next_section_index,0)}),ze(ht,"$sectnum",function(qe,Se){var $e=this,ye=We;return qe==null&&(qe="."),Se==null&&(Se=We),Se=Xe(ye=Se)?ye:Re(Se,!1)?"":qe,Xe(at($e.level,1))&&W(B("Section"),$e.parent)?""+$e.parent.$sectnum(qe,qe)+$e.numeral+Se:""+$e.numeral+Se},-1),ze(ht,"$xreftext",function(qe){var Se=this,$e=We,ye=We,ne=We,U=We;if(qe==null&&(qe=We),Xe($e=Se.$reftext())&&Je($e["$empty?"]()))return $e;if(Xe(qe))if(Xe(Se.numbered))switch(qe){case"full":return Re(ye=Se.sectname,"chapter")||Re(ye,"appendix")?ne=Se.$sub_placeholder(Se.$sub_quotes("_%s_"),Se.$title()):ne=Se.$sub_placeholder(Se.$sub_quotes(Xe(Se.document.$compat_mode())?"``%s''":'"`%s`"'),Se.$title()),Xe(U=Se.document.$attributes()["$[]"](""+ye+"-refsig"))?""+U+" "+Se.$sectnum(".",",")+" "+ne:""+Se.$sectnum(".",",")+" "+ne;case"short":return Xe(U=Se.document.$attributes()["$[]"](""+Se.sectname+"-refsig"))?""+U+" "+Se.$sectnum(".",""):Se.$sectnum(".","");default:return Re(ye=Se.sectname,"chapter")||Re(ye,"appendix")?Se.$sub_placeholder(Se.$sub_quotes("_%s_"),Se.$title()):Se.$title()}else return Re(ye=Se.sectname,"chapter")||Re(ye,"appendix")?Se.$sub_placeholder(Se.$sub_quotes("_%s_"),Se.$title()):Se.$title();else return Se.$title()},-1),ze(ht,"$<<",function Ae(qe){var Se=Ae.$$p||We,$e=this;return Ae.$$p=null,Re(qe.$context(),"section")&&$e.$assign_numeral(qe),me($e,w($e,"<<",Ae,!1,!0),"<<",[qe],Se)}),ze(ht,"$to_s",function Ae(){var qe=Ae.$$p||We,Se=this,$e=We;return Ae.$$p=null,Xe(Se.title)?($e=Xe(Se.numbered)?""+Se.$sectnum()+" "+Se.title:Se.title,"#<"+Se.$class()+"@"+Se.$object_id()+" {level: "+Se.level+", title: "+$e.$inspect()+", blocks: "+Se.blocks.$size()+"}>"):me(Se,w(Se,"to_s",Ae,!1,!0),"to_s",[],qe)}),He(ht,"$generate_id",function(qe,Se){var $e,ye=We,ne=We,U=We,P=We,le=We,ae=We,_e=We,K=We,v=We,c=We;if(ye=Se.$attributes(),ne=Xe(U=ye["$[]"]("idprefix"))?U:"_",Xe(P=ye["$[]"]("idseparator"))?(Re(P.$length(),1)||Je(le=P["$empty?"]())&&Xe(P=($e=["idseparator",P.$chr()],Le(ye,"[]=",$e),$e[$e.length-1])))&&(ae=Re(P,"-")||Re(P,".")?" .-":" "+P+".-"):($e=["_"," _.-"],P=$e[0],ae=$e[1]),_e=""+ne+qe.$downcase().$gsub(B("InvalidSectionIdCharsRx"),""),Xe(le)?_e=_e.$delete(" "):(_e=_e.$tr_s(ae,P),Xe(_e["$end_with?"](P))&&(_e=_e.$chop()),Xe(ne["$empty?"]())&&Xe(_e["$start_with?"](P))&&(_e=_e.$slice(1,_e.$length()))),Xe(Se.$catalog()["$[]"]("refs")["$key?"](_e))){for(K=Se.$catalog()["$[]"]("refs"),v=B("Compliance").$unique_id_start_index();Xe(K["$[]"](c=""+_e+P+v));)v=O(v,1);return c}else return _e})}(pt[0],M("AbstractBlock"),pt)}(gt[0],gt)},Opal.modules["asciidoctor/stylesheets"]=function(l){var ce=l.module,oe=l.klass,Q=l.const_set,me=l.return_ivar,w=l.defs,W=l.def,Xe=l.truthy,O=l.hash2,ze=[],N=l.nil,at=l.$$$;return l.add_stubs("join,new,rstrip,read,primary_stylesheet_data,write,primary_stylesheet_name,stylesheet_basename,for,read_stylesheet,coderay_stylesheet_data,coderay_stylesheet_name,pygments_stylesheet_data,pygments_stylesheet_name"),function(Re,Je){var Le=ce(Re,"Asciidoctor"),He=[Le].concat(Je);return function(gt,We,ft){var Ze=oe(gt,We,"Stylesheets"),it=[Ze].concat(ft),pt=l.$r(it),M=Ze.$$prototype;return M.primary_stylesheet_data=N,Q(it[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),Q(it[0],"STYLESHEETS_DIR",at("File").$join(pt("DATA_DIR"),"stylesheets")),Ze.__instance__=Ze.$new(),w(Ze,"$instance",me("__instance__")),W(Ze,"$primary_stylesheet_name",function(){return pt("DEFAULT_STYLESHEET_NAME")}),W(Ze,"$primary_stylesheet_data",function(){var I=this,lt=N;return I.primary_stylesheet_data=Xe(lt=I.primary_stylesheet_data)?lt:at("File").$read(at("File").$join(pt("STYLESHEETS_DIR"),"asciidoctor-default.css"),O(["mode"],{mode:pt("FILE_READ_MODE")})).$rstrip()}),W(Ze,"$embed_primary_stylesheet",function(){var I=this;return`<style>
`+I.$primary_stylesheet_data()+`
</style>`}),W(Ze,"$write_primary_stylesheet",function(I){var lt=this;return I==null&&(I="."),at("File").$write(at("File").$join(I,lt.$primary_stylesheet_name()),lt.$primary_stylesheet_data(),O(["mode"],{mode:pt("FILE_WRITE_MODE")}))},-1),W(Ze,"$coderay_stylesheet_name",function(){return pt("SyntaxHighlighter").$for("coderay").$stylesheet_basename()}),W(Ze,"$coderay_stylesheet_data",function(){return pt("SyntaxHighlighter").$for("coderay").$read_stylesheet()}),W(Ze,"$embed_coderay_stylesheet",function(){var I=this;return`<style>
`+I.$coderay_stylesheet_data()+`
</style>`}),W(Ze,"$write_coderay_stylesheet",function(I){var lt=this;return I==null&&(I="."),at("File").$write(at("File").$join(I,lt.$coderay_stylesheet_name()),lt.$coderay_stylesheet_data(),O(["mode"],{mode:pt("FILE_WRITE_MODE")}))},-1),W(Ze,"$pygments_stylesheet_name",function(I){return I==null&&(I=N),pt("SyntaxHighlighter").$for("pygments").$stylesheet_basename(I)},-1),W(Ze,"$pygments_stylesheet_data",function(I){return I==null&&(I=N),pt("SyntaxHighlighter").$for("pygments").$read_stylesheet(I)},-1),W(Ze,"$embed_pygments_stylesheet",function(I){var lt=this;return I==null&&(I=N),`<style>
`+lt.$pygments_stylesheet_data(I)+`
</style>`},-1),W(Ze,"$write_pygments_stylesheet",function(I,lt){var ht=this;return I==null&&(I="."),lt==null&&(lt=N),at("File").$write(at("File").$join(I,ht.$pygments_stylesheet_name(lt)),ht.$pygments_stylesheet_data(lt),O(["mode"],{mode:pt("FILE_WRITE_MODE")}))},-1)}(He[0],null,He)}(ze[0],ze)},Opal.modules["asciidoctor/table"]=function(l){var ce=l.module,oe=l.klass,Q=l.const_set,me=l.def,w=l.alias,W=l.hash2,Xe=l.send2,O=l.find_super,ze=l.truthy,N=l.rb_lt,at=l.rb_gt,Re=l.eqeq,Je=l.rb_times,Le=l.rb_divide,He=l.send,gt=l.rb_plus,We=l.rb_minus,ft=l.return_val,Ze=l.to_a,it=l.gvars,pt=l.neqeq,M=l.return_ivar,ot=l.to_ary,I=l.regexp,lt=l.not,ht=l.thrower,J=[],B=l.nil,Qe=l.$$$;return l.add_stubs("attr_accessor,send,attr_reader,new,[],<,>,to_i,==,[]=,attributes,truncate,*,/,to_f,empty?,body,each,<<,size,+,assign_column_widths,warn,logger,-,update_attributes,assign_width,round,head=,map,shift,reinitialize,nil?,unshift,foot=,pop,parent,sourcemap,dup,header_row?,table,style,merge,delete,start_with?,rstrip,slice,length,advance,lstrip,strip,split,include?,readlines,catalog_inline_anchor,=~,apply_subs,attr_writer,convert,text,!=,file,lineno,include,to_set,mark,key?,nested?,document,error,message_with_context,cursor_at_prev_line,nil_or_empty?,escape,columns,match,chop,end_with?,gsub,!,push_cellspec,cell_open?,close_cell,take_cellspec,squeeze,upto,times,cursor_before_mark,rowspan,activate_rowspan,colspan,end_of_row?,close_row,private,rows,effective_column_visits"),function(Ae,qe){var Se=ce(Ae,"Asciidoctor"),$e=[Se].concat(qe),ye=l.$r($e);return function(ne,U,P){var le=oe(ne,U,"Table"),ae=[le].concat(P),_e=l.$r(ae),K=le.$$prototype;return K.attributes=K.document=K.rows=K.has_header_option=K.columns=B,Q(ae[0],"DEFAULT_PRECISION",4),function(v,c){var y=oe(v,c,"Rows"),q=y.$$prototype;return q.head=q.body=q.foot=B,y.$attr_accessor("head","foot","body"),me(y,"$initialize",function(A,V,Y){var de=this;return A==null&&(A=[]),V==null&&(V=[]),Y==null&&(Y=[]),de.head=A,de.foot=V,de.body=Y},-1),w(y,"[]","send"),me(y,"$by_section",function(){var A=this;return[["head",A.head],["body",A.body],["foot",A.foot]]}),me(y,"$to_h",function(){var A=this;return W(["head","body","foot"],{head:A.head,body:A.body,foot:A.foot})})}(ae[0],null),le.$attr_accessor("columns"),le.$attr_accessor("rows"),le.$attr_accessor("has_header_option"),le.$attr_reader("caption"),me(le,"$initialize",function v(c,y){var q;v.$$p;var R=this,A=B,V=B,Y=B;return v.$$p=null,Xe(R,O(R,"initialize",v,!1,!0),"initialize",[c,"table"],null),R.rows=_e("Rows").$new(),R.columns=[],R.has_header_option=!1,ze(A=y["$[]"]("width"))?(ze(at(V=A.$to_i(),100))||ze(N(V,1)))&&(Re(V,0)&&(Re(A,"0")||Re(A,"0%"))||(V=100)):V=100,R.attributes["$[]="]("tablepcwidth",V),ze(R.document.$attributes()["$[]"]("pagewidth"))&&R.attributes["$[]="]("tableabswidth",Re(Y=Je(Le(V,100),R.document.$attributes()["$[]"]("pagewidth").$to_f()).$truncate(_e("DEFAULT_PRECISION")),Y.$to_i())?Y.$to_i():Y),ze(y["$[]"]("rotate-option"))?(q=["orientation","landscape"],He(R.attributes,"[]=",q),q[q.length-1]):B}),me(le,"$header_row?",function(){var c=this,y=B;return ze(y=c.has_header_option)&&ze(c.rows.$body()["$empty?"]())?y:B}),me(le,"$create_columns",function(c){var y=this,q=B,R=B,A=B,V=B;return q=[],R=B,A=0,He(c,"each",[],function Y(de){var fe=Y.$$s==null?this:Y.$$s,xe=B,Ve=B;return de==null&&(de=B),xe=de["$[]"]("width"),q["$<<"](_e("Column").$new(fe,q.$size(),de)),ze(N(xe,0))?(R=ze(Ve=R)?Ve:[])["$<<"](q["$[]"](-1)):A=gt(A,xe)},{$$s:y}),ze(at(V=(y.columns=q).$size(),0))&&(y.attributes["$[]="]("colcount",V),ze(at(A,0))||ze(R)||(A=B),y.$assign_column_widths(A,R)),B}),me(le,"$assign_column_widths",function(c,y){var q=this,R=B,A=B,V=B,Y=B,de=B;return c==null&&(c=B),y==null&&(y=B),R=_e("DEFAULT_PRECISION"),A=V=0,ze(c)?(ze(y)&&(ze(at(c,100))?(Y=0,q.$logger().$warn("total column width must not exceed 100% when using autowidth columns; got "+c+"%")):(Y=Le(We(100,c),y.$size()).$truncate(R),Re(Y.$to_i(),Y)&&(Y=Y.$to_i()),c=100),de=W(["width","autowidth-option"],{width:Y,"autowidth-option":""}),He(y,"each",[],function(xe){return xe==null&&(xe=B),xe.$update_attributes(de)})),He(q.columns,"each",[],function(xe){return xe==null&&(xe=B),A=gt(A,V=xe.$assign_width(B,c,R))})):(V=Le(100,q.columns.$size()).$truncate(R),Re(V.$to_i(),V)&&(V=V.$to_i()),He(q.columns,"each",[],function(xe){return xe==null&&(xe=B),A=gt(A,xe.$assign_width(V,B,R))})),Re(A,100)||q.columns["$[]"](-1).$assign_width(gt(We(100,A),V).$round(R),B,R),B},-1),me(le,"$partition_header_footer",function(c){var y,q=this,R=B,A=B;return R=(y=["rowcount",(A=q.rows.$body()).$size()],He(q.attributes,"[]=",y),y[y.length-1]),ze(at(R,0))&&(ze(q.has_header_option)?(q.rows["$head="]([He(A.$shift(),"map",[],function(Y){return Y==null&&(Y=B),Y.$reinitialize(!0)})]),R=We(R,1)):ze(q.has_header_option["$nil?"]())&&(q.has_header_option=!1,A.$unshift(He(A.$shift(),"map",[],function(Y){return Y==null&&(Y=B),Y.$reinitialize(!1)})))),ze(at(R,0))&&ze(c["$[]"]("footer-option"))&&q.rows["$foot="]([A.$pop()]),B})}($e[0],ye("AbstractBlock"),$e),function(ne,U){var P=oe(ne,U,"Column"),le=P.$$prototype;return le.attributes=B,P.$attr_accessor("style"),me(P,"$initialize",function ae(_e,K,v){ae.$$p;var c=this;return ae.$$p=null,v==null&&(v=W([],{})),Xe(c,O(c,"initialize",ae,!1,!0),"initialize",[_e,"table_column"],null),c.style=v["$[]"]("style"),v["$[]="]("colnumber",gt(K,1)),ze(v["$[]"]("width"))||v["$[]="]("width",1),ze(v["$[]"]("halign"))||v["$[]="]("halign","left"),ze(v["$[]"]("valign"))||v["$[]="]("valign","top"),c.$update_attributes(v)},-3),w(P,"table","parent"),me(P,"$assign_width",function(_e,K,v){var c,y=this,q=B;return ze(K)&&(_e=Le(Je(y.attributes["$[]"]("width").$to_f(),100),K).$truncate(v),Re(_e.$to_i(),_e)&&(_e=_e.$to_i())),ze(y.$parent().$attributes()["$[]"]("tableabswidth"))&&y.attributes["$[]="]("colabswidth",Re(q=Je(Le(_e,100),y.$parent().$attributes()["$[]"]("tableabswidth")).$truncate(v),q.$to_i())?q.$to_i():q),c=["colpcwidth",_e],He(y.attributes,"[]=",c),c[c.length-1]}),me(P,"$block?",ft(!1)),me(P,"$inline?",ft(!1))}(ye("Table"),ye("AbstractNode")),function(ne,U,P){var le=oe(ne,U,"Cell"),ae=[le].concat(P),_e=l.$r(ae),K=le.$$prototype;return K.document=K.reinitialize_args=K.attributes=K.cursor=K.text=K.subs=K.style=K.inner_document=K.source_location=K.colspan=K.rowspan=B,Q(ae[0],"DOUBLE_LF",Je(_e("LF"),2)),le.$attr_accessor("colspan"),le.$attr_accessor("rowspan"),w(le,"column","parent"),le.$attr_reader("inner_document"),me(le,"$initialize",function v(c,y,q,R){var A;v.$$p;var V=this,Y=B,de=B,fe=B,xe=B,Ve=B,tt=B,ct=B,vt=B,_t=B,wt=B,Dt=B,zt=B,It=B;if(v.$$p=null,q==null&&(q=W([],{})),R==null&&(R=W([],{})),Xe(V,O(V,"initialize",v,!1,!0),"initialize",[c,"table_cell"],null),V.cursor=V.reinitialize_args=B,ze(V.document.$sourcemap())&&(V.source_location=R["$[]"]("cursor").$dup()),ze(c)&&(ze(Y=c.$table()["$header_row?"]())?Re(Y,"implicit")&&ze(de=ze(fe=c.$style())?fe:ze(xe=q)?q["$[]"]("style"):xe)&&((Re(de,"asciidoc")||Re(de,"literal"))&&(V.reinitialize_args=[c,y,ze(fe=q)?q.$merge():fe,R]),de=B):de=c.$style(),V.$update_attributes(c.$attributes())),ze(q))switch(ze(q["$empty?"]())?V.colspan=V.rowspan=B:(A=[q.$delete("colspan"),q.$delete("rowspan")],V.colspan=A[0],V.rowspan=A[1],ze(Y)||(de=ze(fe=q["$[]"]("style"))?fe:de),V.$update_attributes(q)),de){case"asciidoc":if(Ve=!0,tt=R["$[]"]("cursor"),ze((y=y.$rstrip())["$start_with?"](_e("LF")))){for(ct=1;ze((y=y.$slice(1,y.$length()))["$start_with?"](_e("LF")));)ct=gt(ct,1);tt.$advance(ct)}else y=y.$lstrip();break;case"literal":for(vt=!0,y=y.$rstrip();ze(y["$start_with?"](_e("LF")));)y=y.$slice(1,y.$length());break;default:_t=!0,y=ze(y)?y.$strip():""}else V.colspan=V.rowspan=B,Re(de,"asciidoc")&&(Ve=!0,tt=R["$[]"]("cursor"));return ze(Ve)?(wt=V.document.$attributes().$delete("doctitle"),Dt=y.$split(_e("LF"),-1),ze(Dt["$empty?"]())||ze((zt=Dt["$[]"](0))["$include?"]("::"))&&(It=_e("PreprocessorReader").$new(V.document,[zt]).$readlines(),Re(zt,It["$[]"](0))&&ze(N(It.$size(),2))||(Dt.$shift(),ze(It["$empty?"]())||He(Dt,"unshift",Ze(It)))),V.inner_document=_e("Document").$new(Dt,W(["standalone","parent","cursor"],{standalone:!1,parent:V.document,cursor:tt})),ze(wt["$nil?"]())||V.document.$attributes()["$[]="]("doctitle",wt),V.subs=B):ze(vt)?(V.content_model="verbatim",V.subs=_e("BASIC_SUBS")):(ze(_t)&&(ze(Y)?V.cursor=R["$[]"]("cursor"):V.$catalog_inline_anchor(y,R["$[]"]("cursor"))),V.content_model="simple",V.subs=_e("NORMAL_SUBS")),V.text=y,V.style=de},-3),me(le,"$reinitialize",function(c){var y=this;if(ze(c))y.reinitialize_args=B;else{if(ze(y.reinitialize_args))return He(Qe(_e("Table"),"Cell"),"new",Ze(y.reinitialize_args));y.style=y.attributes["$[]"]("style")}return ze(y.cursor)&&y.$catalog_inline_anchor(),y}),me(le,"$catalog_inline_anchor",function(c,y){var q,R=this;return c==null&&(c=R.text),y==null&&(y=B),ze(y)||(q=[R.cursor,B],y=q[0],R.cursor=q[1]),ze(c["$start_with?"]("[["))&&ze(_e("LeadingInlineAnchorRx")["$=~"](c))?_e("Parser").$catalog_inline_anchor((q=it["~"])===B?B:q["$[]"](1),(q=it["~"])===B?B:q["$[]"](2),R,y,R.document):B},-1),me(le,"$text",function(){var c=this;return c.$apply_subs(c.text,c.subs)}),le.$attr_writer("text"),me(le,"$content",function(){var c=this,y=B,q=B;return Re(y=c.style,"asciidoc")?c.inner_document.$convert():ze(c.text["$include?"](_e("DOUBLE_LF")))?He(c.$text().$split(_e("BlankLineRx")),"map",[],function R(A){var V=R.$$s==null?this:R.$$s;return A==null&&(A=B),ze(y)&&pt(y,"header")?_e("Inline").$new(V.$parent(),"quoted",A,W(["type"],{type:y})).$convert():A},{$$s:c}):ze((q=c.$text())["$empty?"]())?[]:ze(y)&&pt(y,"header")?[_e("Inline").$new(c.$parent(),"quoted",q,W(["type"],{type:y})).$convert()]:[q]}),me(le,"$lines",function(){var c=this;return c.text.$split(_e("LF"))}),me(le,"$source",M("text")),me(le,"$file",function(){var c=this,y=B;return ze(y=c.source_location)?c.source_location.$file():y}),me(le,"$lineno",function(){var c=this,y=B;return ze(y=c.source_location)?c.source_location.$lineno():y}),me(le,"$to_s",function v(){var c=v.$$p||B,y=this,q=B;return v.$$p=null,""+Xe(y,O(y,"to_s",v,!1,!0),"to_s",[],c)+" - [text: "+y.text+", colspan: "+(ze(q=y.colspan)?q:1)+", rowspan: "+(ze(q=y.rowspan)?q:1)+", attributes: "+y.attributes+"]"})}(ye("Table"),ye("AbstractBlock"),$e),function(ne,U,P){var le=oe(ne,U,"ParserContext"),ae=[le].concat(P),_e=l.$r(ae),K=le.$$prototype;return K.delimiter=K.delimiter_rx=K.buffer=K.cellspecs=K.cell_open=K.format=K.start_cursor_data=K.reader=K.table=K.current_row=K.colcount=K.column_visits=K.active_rowspans=K.linenum=B,le.$include(_e("Logging")),Q(ae[0],"FORMATS",["psv","csv","dsv","tsv"].$to_set()),Q(ae[0],"DELIMITERS",W(["psv","csv","dsv","tsv","!sv"],{psv:["|",/\|/],csv:[",",/,/],dsv:[":",/:/],tsv:["	",/\t/],"!sv":["!",/!/]})),le.$attr_accessor("table"),le.$attr_accessor("format"),le.$attr_reader("colcount"),le.$attr_accessor("buffer"),le.$attr_reader("delimiter"),le.$attr_reader("delimiter_re"),me(le,"$initialize",function(c,y,q){var R,A,V=this,Y=B,de=B;return q==null&&(q=W([],{})),V.start_cursor_data=(V.reader=c).$mark(),V.table=y,ze(q["$key?"]("format"))?ze(_e("FORMATS")["$include?"](Y=q["$[]"]("format")))?Re(Y,"tsv")?V.format="csv":Re(V.format=Y,"psv")&&ze(y.$document()["$nested?"]())&&(Y="!sv"):(V.$logger().$error(V.$message_with_context("illegal table format: "+Y,W(["source_location"],{source_location:c.$cursor_at_prev_line()}))),R=["psv",ze(y.$document()["$nested?"]())?"!sv":"psv"],V.format=R[0],Y=R[1]):(R=["psv",ze(y.$document()["$nested?"]())?"!sv":"psv"],V.format=R[0],Y=R[1]),ze(q["$key?"]("separator"))?ze((de=q["$[]"]("separator"))["$nil_or_empty?"]())?(A=_e("DELIMITERS")["$[]"](Y),R=ot(A),V.delimiter=R[0]==null?B:R[0],V.delimiter_rx=R[1]==null?B:R[1]):Re(de,"\\t")?(A=_e("DELIMITERS")["$[]"]("tsv"),R=ot(A),V.delimiter=R[0]==null?B:R[0],V.delimiter_rx=R[1]==null?B:R[1]):(R=[de,I([Qe("Regexp").$escape(de)])],V.delimiter=R[0],V.delimiter_rx=R[1]):(A=_e("DELIMITERS")["$[]"](Y),R=ot(A),V.delimiter=R[0]==null?B:R[0],V.delimiter_rx=R[1]==null?B:R[1]),V.colcount=ze(y.$columns()["$empty?"]())?-1:y.$columns().$size(),V.buffer="",V.cellspecs=[],V.cell_open=!1,V.active_rowspans=[0],V.column_visits=0,V.current_row=[],V.linenum=-1},-3),me(le,"$starts_with_delimiter?",function(c){var y=this;return c["$start_with?"](y.delimiter)}),me(le,"$match_delimiter",function(c){var y=this;return y.delimiter_rx.$match(c)}),me(le,"$skip_past_delimiter",function(c){var y=this;return y.buffer=""+y.buffer+c+y.delimiter,B}),me(le,"$skip_past_escaped_delimiter",function(c){var y=this;return y.buffer=""+y.buffer+c.$chop()+y.delimiter,B}),me(le,"$buffer_has_unclosed_quotes?",function(c,y){var q=this,R=B,A=B,V=B,Y=B;return c==null&&(c=B),y==null&&(y='"'),Re(R=ze(c)?gt(q.buffer,c).$strip():q.buffer.$strip(),y)?!0:ze(R["$start_with?"](y))?(A=gt(y,y),ze(V=R["$end_with?"](y))&&ze(R["$end_with?"](A))||ze(R["$start_with?"](A))?ze(Y=(R=R.$gsub(A,""))["$start_with?"](y))?R["$end_with?"](y)["$!"]():Y:V["$!"]()):!1},-1),me(le,"$take_cellspec",function(){var c=this;return c.cellspecs.$shift()}),me(le,"$push_cellspec",function(c){var y=this,q=B;return c==null&&(c=W([],{})),y.cellspecs["$<<"](ze(q=c)?q:W([],{})),B},-1),me(le,"$keep_cell_open",function(){var c=this;return c.cell_open=!0,B}),me(le,"$mark_cell_closed",function(){var c=this;return c.cell_open=!1,B}),me(le,"$cell_open?",M("cell_open")),me(le,"$cell_closed?",function(){var c=this;return c.cell_open["$!"]()}),me(le,"$close_open_cell",function(c){var y=this;return c==null&&(c=W([],{})),y.$push_cellspec(c),ze(y["$cell_open?"]())&&y.$close_cell(!0),y.$advance(),B},-1),me(le,"$close_cell",function(c){try{var y=ht("return"),q=this,R=B,A=B,V=B,Y=B,de=B;return c==null&&(c=!1),Re(q.format,"psv")?(R=q.buffer,q.buffer="",ze(A=q.$take_cellspec())?V=ze(Y=A.$delete("repeatcol"))?Y:1:(q.$logger().$error(q.$message_with_context("table missing leading separator; recovering automatically",W(["source_location"],{source_location:He(Qe(_e("Reader"),"Cursor"),"new",Ze(q.start_cursor_data))}))),A=W([],{}),V=1)):(R=q.buffer.$strip(),q.buffer="",A=B,V=1,Re(q.format,"csv")&&lt(R["$empty?"]())&&ze(R["$include?"](de='"'))&&(ze(R["$start_with?"](de))&&ze(R["$end_with?"](de))?ze(R=R.$slice(1,We(R.$length(),2)))?R=R.$strip().$squeeze(de):(q.$logger().$error(q.$message_with_context("unclosed quote in CSV data; setting cell to empty",W(["source_location"],{source_location:q.reader.$cursor_at_prev_line()}))),R=""):R=R.$squeeze(de))),He(1,"upto",[V],function fe(xe){var Ve=fe.$$s==null?this:fe.$$s,tt=B,ct=B,vt=B,_t=B;return Ve.colcount==null&&(Ve.colcount=B),Ve.table==null&&(Ve.table=B),Ve.current_row==null&&(Ve.current_row=B),Ve.reader==null&&(Ve.reader=B),Ve.column_visits==null&&(Ve.column_visits=B),Ve.linenum==null&&(Ve.linenum=B),xe==null&&(xe=B),Re(Ve.colcount,-1)?(Ve.table.$columns()["$<<"](tt=Qe(_e("Table"),"Column").$new(Ve.table,We(gt(Ve.table.$columns().$size(),xe),1))),ze(A)&&ze(A["$key?"]("colspan"))&&ze(at(ct=We(A["$[]"]("colspan").$to_i(),1),0))&&(vt=Ve.table.$columns().$size(),He(ct,"times",[],function wt(Dt){var zt=wt.$$s==null?this:wt.$$s;return zt.table==null&&(zt.table=B),Dt==null&&(Dt=B),zt.table.$columns()["$<<"](Qe(_e("Table"),"Column").$new(zt.table,gt(vt,Dt)))},{$$s:Ve}))):ze(tt=Ve.table.$columns()["$[]"](Ve.current_row.$size()))||(Ve.$logger().$error(Ve.$message_with_context("dropping cell because it exceeds specified number of columns",W(["source_location"],{source_location:Ve.reader.$cursor_before_mark()}))),y.$throw()),_t=Qe(_e("Table"),"Cell").$new(tt,R,A,W(["cursor"],{cursor:Ve.reader.$cursor_before_mark()})),Ve.reader.$mark(),lt(_t.$rowspan())||Re(_t.$rowspan(),1)||Ve.$activate_rowspan(_t.$rowspan(),ze(Y=_t.$colspan())?Y:1),Ve.column_visits=gt(Ve.column_visits,ze(Y=_t.$colspan())?Y:1),Ve.current_row["$<<"](_t),ze(Ve["$end_of_row?"]())&&(pt(Ve.colcount,-1)||ze(at(Ve.linenum,0))||ze(c)&&Re(xe,V))?Ve.$close_row():B},{$$s:q,$$ret:y}),q.cell_open=!1,B}catch(fe){if(fe===y)return fe.$v;throw fe}},-1),le.$private(),me(le,"$close_row",function(){var c=this;return c.table.$rows().$body()["$<<"](c.current_row),Re(c.colcount,-1)&&(c.colcount=c.column_visits),c.column_visits=0,c.current_row=[],c.active_rowspans.$shift(),ze(c.active_rowspans["$[]"](0))||c.active_rowspans["$[]="](0,0),B}),me(le,"$activate_rowspan",function(c,y){var q=this;return He(1,"upto",[We(c,1)],function R(A){var V,Y=R.$$s==null?this:R.$$s,de=B;return Y.active_rowspans==null&&(Y.active_rowspans=B),A==null&&(A=B),V=[A,gt(ze(de=Y.active_rowspans["$[]"](A))?de:0,y)],He(Y.active_rowspans,"[]=",V),V[V.length-1]},{$$s:q}),B}),me(le,"$end_of_row?",function(){var c=this,y=B;return ze(y=c.colcount["$=="](-1))?y:c.$effective_column_visits()["$=="](c.colcount)}),me(le,"$effective_column_visits",function(){var c=this;return gt(c.column_visits,c.active_rowspans["$[]"](0))}),me(le,"$advance",function(){var c=this;return c.linenum=gt(c.linenum,1)})}(ye("Table"),null,$e)}(J[0],J)},Opal.modules["asciidoctor/writer"]=function(l){var ce=l.module,oe=l.truthy,Q=l.rb_plus,me=l.hash2,w=l.def,W=l.return_val,Xe=[],O=l.nil,ze=l.$$$;return l.add_stubs("respond_to?,write,+,chomp,include"),function(N,at){var Re=ce(N,"Asciidoctor"),Je=[Re].concat(at);return function(Le,He){var gt=ce(Le,"Writer"),We=[gt].concat(He),ft=l.$r(We);return w(gt,"$write",function(it,pt){return oe(pt["$respond_to?"]("write"))?pt.$write(Q(it.$chomp(),ft("LF"))):ze("File").$write(pt,it,me(["mode"],{mode:ft("FILE_WRITE_MODE")})),O})}(Je[0],Je),function(Le,He){var gt=ce(Le,"VoidWriter"),We=[gt].concat(He),ft=l.$r(We);return gt.$include(ft("Writer")),w(gt,"$write",W(O))}(Je[0],Je)}(Xe[0],Xe)},Opal.modules["asciidoctor/load"]=function(l){var ce=l.module,oe=l.hash2,Q=l.truthy,me=l.neqeq,w=l.not,W=l.eqeqeq,Xe=l.send,O=l.to_ary,ze=l.rb_plus,N=l.eqeq,at=l.def,Re=[],Je=l.nil,Le=l.$$$;return l.add_stubs("merge,[],start,!=,logger,key?,logger=,new,!,===,dup,tap,each,partition,[]=,split,gsub,+,respond_to?,keys,raise,join,ancestors,class,==,at,to_i,mtime,absolute_path,path,dirname,basename,extname,read,rewind,drop,record,parse,exception,message,set_backtrace,backtrace,stack_trace=,stack_trace,open,load"),function(He,gt){var We=ce(He,"Asciidoctor"),ft=[We].concat(gt);return function(Ze,it){var pt=[Ze].concat(it),M=l.$r(pt);return at(Ze,"$load",function(I,lt){var ht,J,B,Qe,Ae=this,qe=Je,Se=Je,$e=Je,ye=Je,ne=Je,U=Je,P=Je,le=Je,ae=Je,_e=Je;lt==null&&(lt=oe([],{}));try{if(lt=lt.$merge(),Q(qe=lt["$[]"]("timings"))&&qe.$start("read"),Q(lt["$key?"]("logger"))&&me(Se=lt["$[]"]("logger"),M("LoggerManager").$logger())&&M("LoggerManager")["$logger="](Q($e=Se)?$e:M("NullLogger").$new()),w(ye=lt["$[]"]("attributes"))?ye=oe([],{}):W(Le("Hash"),ye)?ye=ye.$merge():Q((B=Le("::","Java","skip_raise"))&&(J=Le(B,"JavaUtil","skip_raise"))&&(ht=Le(J,"Map","skip_raise"))?"constant":Je)&&W(Le(Le(Le("Java"),"JavaUtil"),"Map"),ye)?ye=ye.$dup():W(Le("Array"),ye)?ye=Xe(oe([],{}),"tap",[],function(v){return v==null&&(v=Je),Xe(ye,"each",[],function(y){var q,R,A=Je,V=Je,Y=Je;return y==null&&(y=Je),R=y.$partition("="),q=O(R),A=q[0]==null?Je:q[0],V=q[1]==null?Je:q[1],Y=q[2]==null?Je:q[2],q=[A,Y],Xe(v,"[]=",q),q[q.length-1]})}):W(Le("String"),ye)?ye=Xe(oe([],{}),"tap",[],function(v){return v==null&&(v=Je),Xe(ye.$gsub(M("SpaceDelimiterRx"),ze("\\1",M("NULL"))).$gsub(M("EscapedSpaceRx"),"\\1").$split(M("NULL")),"each",[],function(y){var q,R,A=Je,V=Je,Y=Je;return y==null&&(y=Je),R=y.$partition("="),q=O(R),A=q[0]==null?Je:q[0],V=q[1]==null?Je:q[1],Y=q[2]==null?Je:q[2],q=[A,Y],Xe(v,"[]=",q),q[q.length-1]})}):Q(ye["$respond_to?"]("keys"))&&Q(ye["$respond_to?"]("[]"))?ye=Xe(oe([],{}),"tap",[],function(v){return v==null&&(v=Je),Xe(ye.$keys(),"each",[],function(y){var q;return y==null&&(y=Je),q=[y,ye["$[]"](y)],Xe(v,"[]=",q),q[q.length-1]})}):Ae.$raise(Le("ArgumentError"),"illegal type for attributes option: "+ye.$class().$ancestors().$join(" < ")),W(Le("File"),I))lt["$[]="]("input_mtime",N(M("RUBY_ENGINE"),"jruby")?Le("Time").$at(I.$mtime().$to_i()):I.$mtime()),ye["$[]="]("docfile",ne=Le("File").$absolute_path(I.$path())),ye["$[]="]("docdir",Le("File").$dirname(ne)),ye["$[]="]("docname",M("Helpers").$basename(ne,(Qe=["docfilesuffix",M("Helpers").$extname(ne)],Xe(ye,"[]=",Qe),Qe[Qe.length-1]))),U=I.$read();else if(Q(I["$respond_to?"]("read"))){try{I.$rewind()}catch(K){if(l.rescue(K,[M("StandardError")]))l.pop_exception();else throw K}U=I.$read()}else W(Le("String"),I)?U=I:W(Le("Array"),I)?U=I.$drop(0):Q(I)&&Ae.$raise(Le("ArgumentError"),"unsupported input type: "+I.$class());return Q(qe)&&(qe.$record("read"),qe.$start("parse")),lt["$[]="]("attributes",ye),P=N(lt["$[]"]("parse"),!1)?M("Document").$new(U,lt):M("Document").$new(U,lt).$parse(),Q(qe)&&qe.$record("parse"),P}catch(K){if(l.rescue(K,[M("StandardError")])){le=K;try{try{ae="asciidoctor: FAILED: "+(Q($e=ye["$[]"]("docfile"))?$e:"<stdin>")+": Failed to load AsciiDoc document",Q(le["$respond_to?"]("exception"))?(_e=le.$exception(""+ae+" - "+le.$message()),_e.$set_backtrace(le.$backtrace())):(_e=le.$class().$new(ae,le),_e["$stack_trace="](le.$stack_trace()))}catch(v){if(l.rescue(v,[M("StandardError")]))try{_e=le}finally{l.pop_exception()}else throw v}return Ae.$raise(_e)}finally{l.pop_exception()}}else throw K}},-2),at(Ze,"$load_file",function(I,lt){var ht=this;return lt==null&&(lt=oe([],{})),Xe(Le("File"),"open",[I,M("FILE_READ_MODE")],function J(B){var Qe=J.$$s==null?this:J.$$s;return B==null&&(B=Je),Qe.$load(B,lt)},{$$s:ht})},-2)}(l.get_singleton_class(We),ft)}(Re[0],Re)},Opal.modules["asciidoctor/convert"]=function(l){var ce=l.module,oe=l.hash2,Q=l.eqeqeq,me=l.truthy,w=l.eqeq,W=l.rb_ge,Xe=l.not,O=l.rb_lt,ze=l.neqeq,N=l.def,at=l.send,Re=l.alias,Je=[],Le=l.nil,He=l.$$$;return l.add_stubs("delete,merge,===,absolute_path,path,load,respond_to?,[]=,key?,fetch,[],dirname,expand_path,join,attributes,outfilesuffix,==,raise,pwd,>=,safe,normalize_system_path,mkdir_p,directory?,!,convert,write,attr,uriish?,basebackend?,attr?,<,include?,syntax_highlighter,write_stylesheet?,write_primary_stylesheet,instance,to_s,read_asset,file?,!=,write_stylesheet,open,convert_file"),function(gt,We){var ft=ce(gt,"Asciidoctor"),Ze=[ft].concat(We);return function(it,pt){var M=[it].concat(pt),ot=l.$r(M);return N(it,"$convert",function(lt,ht){var J=this,B=Le,Qe=Le,Ae=Le,qe=Le,Se=Le,$e=Le,ye=Le,ne=Le,U=Le,P=Le,le=Le,ae=Le,_e=Le,K=Le,v=Le,c=Le,y=Le,q=Le,R=Le,A=Le,V=Le,Y=Le,de=Le,fe=Le;if(ht==null&&(ht=oe([],{})),(ht=ht.$merge()).$delete("parse"),B=ht.$delete("to_dir"),Qe=ht.$delete("mkdirs"),Q(!0,Ae=qe=ht.$delete("to_file"))||Q(Le,Ae))me(Se=B)||Q(He("File"),lt)&&($e=He("File").$absolute_path(lt.$path())),qe=Le;else if(Q(!1,Ae))qe=Le;else{if(Q("/dev/null",Ae))return J.$load(lt,ht);me(ye=qe["$respond_to?"]("write"))||ht["$[]="]("to_file",Se=qe)}return me(ht["$key?"]("standalone"))||(me($e)||me(Se)?ht["$[]="]("standalone",ht.$fetch("header_footer",!0)):me(ht["$key?"]("header_footer"))&&ht["$[]="]("standalone",ht["$[]"]("header_footer"))),me($e)?ht["$[]="]("to_dir",ne=He("File").$dirname($e)):me(Se)&&(me(B)?me(qe)?ht["$[]="]("to_dir",He("File").$dirname(He("File").$expand_path(qe,B))):ht["$[]="]("to_dir",He("File").$expand_path(B)):me(qe)&&ht["$[]="]("to_dir",He("File").$dirname(He("File").$expand_path(qe)))),U=J.$load(lt,ht),me($e)?(P=He("File").$join(ne,""+U.$attributes()["$[]"]("docname")+U.$outfilesuffix()),w(P,$e)&&J.$raise(He("IOError"),"input file and output file cannot be the same: "+P)):me(Se)?(le=me(ht["$key?"]("base_dir"))?He("File").$expand_path(ht["$[]"]("base_dir")):He("Dir").$pwd(),ae=me(W(U.$safe(),He(ot("SafeMode"),"SAFE")))?le:Le,me(B)?(ne=U.$normalize_system_path(B,le,ae,oe(["target_name","recover"],{target_name:"to_dir",recover:!1})),me(qe)?(P=U.$normalize_system_path(qe,ne,Le,oe(["target_name","recover"],{target_name:"to_dir",recover:!1})),ne=He("File").$dirname(P)):P=He("File").$join(ne,""+U.$attributes()["$[]"]("docname")+U.$outfilesuffix())):me(qe)&&(P=U.$normalize_system_path(qe,le,ae,oe(["target_name","recover"],{target_name:"to_dir",recover:!1})),ne=He("File").$dirname(P)),Q(He("File"),lt)&&w(P,He("File").$absolute_path(lt.$path()))&&J.$raise(He("IOError"),"input file and output file cannot be the same: "+P),me(Qe)?ot("Helpers").$mkdir_p(ne):me(He("File")["$directory?"](ne))||J.$raise(He("IOError"),"target directory does not exist: "+B+" (hint: set :mkdirs option)")):(P=qe,ne=Le),me(P)&&Xe(ye)?_e=U.$convert(oe(["outfile","outdir"],{outfile:P,outdir:ne})):_e=U.$convert(),me(P)?(U.$write(_e,P),Xe(ye)&&me(O(U.$safe(),He(ot("SafeMode"),"SECURE")))&&me(U["$attr?"]("linkcss"))&&me(U["$attr?"]("copycss"))&&me(U["$basebackend?"]("html"))&&Xe(me(Ae=K=U.$attr("stylesdir"))?ot("Helpers")["$uriish?"](K):Ae)&&(me(v=U.$attr("stylesheet"))&&(me(ot("DEFAULT_STYLESHEET_KEYS")["$include?"](v))?c=!0:Xe(ot("Helpers")["$uriish?"](v))&&(y=!0)),q=me(Ae=R=U.$syntax_highlighter())?R["$write_stylesheet?"](U):Ae,(me(c)||me(y)||me(q))&&(A=U.$normalize_system_path(K,ne,me(W(U.$safe(),He(ot("SafeMode"),"SAFE")))?ne:Le),me(Qe)?ot("Helpers").$mkdir_p(A):me(He("File")["$directory?"](A))||J.$raise(He("IOError"),"target stylesheet directory does not exist: "+A+" (hint: set :mkdirs option)"),me(c)?ot("Stylesheets").$instance().$write_primary_stylesheet(A):me(y)&&(w(V=U.$attr("copycss"),"")||w(V,!0)?V=U.$normalize_system_path(v):V=U.$normalize_system_path(V.$to_s()),Y=U.$normalize_system_path(v,A,me(W(U.$safe(),He(ot("SafeMode"),"SAFE")))?ne:Le),ze(V,Y)&&me(de=U.$read_asset(V,oe(["warn_on_failure","label"],{warn_on_failure:He("File")["$file?"](Y)["$!"](),label:"stylesheet"})))&&(ze(fe=He("File").$dirname(Y),A)&&Xe(He("File")["$directory?"](fe))&&(me(Qe)?ot("Helpers").$mkdir_p(fe):J.$raise(He("IOError"),"target stylesheet directory does not exist: "+fe+" (hint: set :mkdirs option)")),He("File").$write(Y,de,oe(["mode"],{mode:ot("FILE_WRITE_MODE")})))),me(q)&&R.$write_stylesheet(U,A))),U):_e},-2),N(it,"$convert_file",function(lt,ht){var J=this;return ht==null&&(ht=oe([],{})),at(He("File"),"open",[lt,ot("FILE_READ_MODE")],function B(Qe){var Ae=B.$$s==null?this:B.$$s;return Qe==null&&(Qe=Le),Ae.$convert(Qe,ht)},{$$s:J})},-2),Re(it,"render","convert"),Re(it,"render_file","convert_file")}(l.get_singleton_class(ft),Ze)}(Je[0],Je)},Opal.modules["asciidoctor/syntax_highlighter/highlightjs"]=function(l){var ce=l.module,oe=l.klass,Q=l.slice,me=l.send2,w=l.find_super,W=l.to_a,Xe=l.def,O=l.hash2,ze=l.send,N=l.truthy,at=l.return_val,Re=l.eqeq,Je=[],Le=l.nil,He=l.$$$;return l.add_stubs("register_for,merge,proc,[]=,attr,[],==,attr?,join,map,split,lstrip"),function(gt,We){var ft=ce(gt,"Asciidoctor"),Ze=[ft].concat(We),it=l.$r(Ze);return function(pt,M,ot){var I=oe(pt,M,"HighlightJsAdapter"),lt=[I].concat(ot),ht=l.$r(lt);return I.$register_for("highlightjs","highlight.js"),Xe(I,"$initialize",function J(B){var Qe,Ae,qe=J.$$p||Le,Se=this;return J.$$p=null,Qe=Q(arguments),Ae=Qe,me(Se,w(Se,"initialize",J,!1,!0),"initialize",W(Ae),qe),Se.name=Se.pre_class="highlightjs"},-1),Xe(I,"$format",function J(B,Qe,Ae){J.$$p;var qe=this;return J.$$p=null,me(qe,w(qe,"format",J,!1,!0),"format",[B,Qe,Ae.$merge(O(["transform"],{transform:ze(qe,"proc",[],function($e,ye){var ne,U=Le;return ye==null&&(ye=Le),ne=["class","language-"+(N(U=Qe)?U:"none")+" hljs"],ze(ye,"[]=",ne),ne[ne.length-1]})}))],null)}),Xe(I,"$docinfo?",at(!0)),Xe(I,"$docinfo",function(B,Qe,Ae){var qe=Le;return qe=Qe.$attr("highlightjsdir",""+Ae["$[]"]("cdn_base_url")+"/highlight.js/"+ht("HIGHLIGHT_JS_VERSION")),Re(B,"head")?'<link rel="stylesheet" href="'+qe+"/styles/"+Qe.$attr("highlightjs-theme","github")+'.min.css"'+Ae["$[]"]("self_closing_tag_slash")+">":'<script src="'+qe+`/highlight.min.js"><\/script>
`+(N(Qe["$attr?"]("highlightjs-languages"))?ze(Qe.$attr("highlightjs-languages").$split(","),"map",[],function($e){return $e==null&&($e=Le),'<script src="'+qe+"/languages/"+$e.$lstrip()+`.min.js"><\/script>
`}).$join():"")+`<script>
if (!hljs.initHighlighting.called) {
  hljs.initHighlighting.called = true
  ;[].slice.call(document.querySelectorAll('pre.highlight > code[data-lang]')).forEach(function (el) { hljs.highlightBlock(el) })
}
<\/script>`})}(it("SyntaxHighlighter"),He(it("SyntaxHighlighter"),"Base"),Ze)}(Je[0],Je)},Opal.modules["asciidoctor/syntax_highlighter"]=function(l){var ce=l.module,oe=l.hash2,Q=l.def,me=l.return_val,w=l.defs,W=l.slice,Xe=l.send,O=l.to_a,ze=l.truthy,N=l.eqeqeq,at=l.Class,Re=l.klass,Je=l.class_variable_set,Le=l.class_variable_get,He=l.top,gt=[],We=l.nil,ft=l.$$$;return l.add_stubs("attr_reader,raise,class,extend,private_class_method,register,map,to_s,each,[]=,registry,[],for,===,new,name,private,include,delete,join,content"),function(Ze,it){var pt=ce(Ze,"Asciidoctor"),M=[pt].concat(it);return function(ot,I){var lt=ce(ot,"SyntaxHighlighter"),ht=[lt].concat(I),J=l.$r(ht);return lt.$attr_reader("name"),Q(lt,"$initialize",function(Qe,Ae,qe){var Se=this;return qe==null&&(qe=oe([],{})),Se.name=Se.pre_class=Qe},-2),Q(lt,"$docinfo?",me(We)),Q(lt,"$docinfo",function(Qe,Ae,qe){var Se=this;return Se.$raise(ft("NotImplementedError"),""+J("SyntaxHighlighter")+" subclass "+Se.$class()+" must implement the #docinfo method since #docinfo? returns true")}),Q(lt,"$highlight?",me(We)),Q(lt,"$highlight",function(Qe,Ae,qe,Se){var $e=this;return $e.$raise(ft("NotImplementedError"),""+J("SyntaxHighlighter")+" subclass "+$e.$class()+" must implement the #highlight method since #highlight? returns true")}),Q(lt,"$format",function(Qe,Ae,qe){var Se=this;return Se.$raise(ft("NotImplementedError"),""+J("SyntaxHighlighter")+" subclass "+Se.$class()+" must implement the #format method")}),Q(lt,"$write_stylesheet?",me(We)),Q(lt,"$write_stylesheet",function(Qe,Ae){var qe=this;return qe.$raise(ft("NotImplementedError"),""+J("SyntaxHighlighter")+" subclass "+qe.$class()+" must implement the #write_stylesheet method since #write_stylesheet? returns true")}),w(lt,"$included",function(Qe){return Qe.$extend(J("Config"))}),lt.$private_class_method("included"),function(B,Qe){var Ae=ce(B,"Config"),qe=[Ae].concat(Qe),Se=l.$r(qe);return Q(Ae,"$register_for",function(ye){var ne,U,P=this;return ne=W(arguments),U=ne,Xe(Se("SyntaxHighlighter"),"register",[P].concat(O(Xe(U,"map",[],function(ae){return ae==null&&(ae=We),ae.$to_s()}))))},-1)}(ht[0],ht),function(B,Qe){var Ae=ce(B,"Factory"),qe=[Ae].concat(Qe),Se=l.$r(qe);return Q(Ae,"$register",function(ye,ne){var U,P,le=this;return U=W(arguments,1),P=U,Xe(P,"each",[],function ae(_e){var K,v=ae.$$s==null?this:ae.$$s;return _e==null&&(_e=We),K=[_e,ye],Xe(v.$registry(),"[]=",K),K[K.length-1]},{$$s:le})},-2),Q(Ae,"$for",function(ye){var ne=this;return ne.$registry()["$[]"](ye)}),Q(Ae,"$create",function(ye,ne,U){var P=this,le=We;return ne==null&&(ne="html5"),U==null&&(U=oe([],{})),ze(le=P.$for(ye))?(N(at,le)&&(le=le.$new(ye,ne,U)),ze(le.$name())||P.$raise(ft("NameError"),""+le.$class()+" must specify a value for `name'"),le):We},-2),Ae.$private(),Q(Ae,"$registry",function(){var ye=this;return ye.$raise(ft("NotImplementedError"),""+Se("Factory")+" subclass "+ye.$class()+" must implement the #registry method")})}(ht[0],ht),function(B,Qe,Ae){var qe=Re(B,Qe,"CustomFactory"),Se=[qe].concat(Ae),$e=l.$r(Se);return qe.$include($e("Factory")),Q(qe,"$initialize",function(ne){var U=this,P=We;return ne==null&&(ne=We),U.registry=ze(P=ne)?P:oe([],{})},-1),qe.$private(),qe.$attr_reader("registry")}(ht[0],null,ht),function(B,Qe){var Ae=ce(B,"DefaultFactory"),qe=[Ae].concat(Qe),Se=l.$r(qe);return Ae.$include(Se("Factory")),Je(qe[0],"@@registry",oe([],{})),Ae.$private(),Q(Ae,"$registry",function(){return Le(qe[0],"@@registry",!1)}),We}(ht[0],ht),function(B,Qe,Ae){var qe=Re(B,Qe,"DefaultFactoryProxy"),Se=[qe].concat(Ae),$e=l.$r(Se);return qe.$include($e("DefaultFactory")),We}(ht[0],J("CustomFactory"),ht),function(B,Qe,Ae){var qe=Re(B,Qe,"Base"),Se=[qe].concat(Ae),$e=l.$r(Se),ye=qe.$$prototype;return ye.pre_class=We,qe.$include($e("SyntaxHighlighter")),Q(qe,"$format",function(U,P,le){var ae=this,_e=We,K=We,v=We,c=We;return _e=ze(le["$[]"]("nowrap"))?""+ae.pre_class+" highlight nowrap":""+ae.pre_class+" highlight",ze(K=le["$[]"]("transform"))?(K["$[]"](v=oe(["class"],{class:_e}),c=ze(P)?oe(["data-lang"],{"data-lang":P}):oe([],{})),ze(P=c.$delete("data-lang"))&&c["$[]="]("data-lang",P),"<pre"+Xe(v,"map",[],function(q,R){return q==null&&(q=We),R==null&&(R=We)," "+q+'="'+R+'"'}).$join()+"><code"+Xe(c,"map",[],function(q,R){return q==null&&(q=We),R==null&&(R=We)," "+q+'="'+R+'"'}).$join()+">"+U.$content()+"</code></pre>"):'<pre class="'+_e+'"><code'+(ze(P)?' data-lang="'+P+'"':"")+">"+U.$content()+"</code></pre>"})}(ht[0],null,ht),lt.$extend(J("DefaultFactory"))}(M[0],M)}(gt[0],gt),He.$require("asciidoctor/syntax_highlighter.rb/../syntax_highlighter/highlightjs"),We},Opal.modules["asciidoctor/timings"]=function(l){var ce=l.module,oe=l.klass,Q=l.hash2,me=l.def,w=l.send,W=l.rb_minus,Xe=l.slice,O=l.rb_plus,ze=l.truthy,N=l.rb_gt,at=l.gvars,Re=l.eqeq,Je=l.const_set,Le=[],He=l.nil,gt=l.$$$;return l.add_stubs("[]=,now,-,delete,reduce,+,[],>,time,puts,sprintf,to_f,read_parse,convert,read_parse_convert,private,==,const_defined?,clock_gettime"),function(We,ft){var Ze=ce(We,"Asciidoctor"),it=[Ze].concat(ft);return function(pt,M,ot){var I=oe(pt,M,"Timings"),lt,ht,J,B,Qe=[I].concat(ot),Ae=l.$r(Qe),qe=I.$$prototype;return qe.timers=qe.log=He,me(I,"$initialize",function(){var $e=this;return $e.log=Q([],{}),$e.timers=Q([],{})}),me(I,"$start",function($e){var ye,ne=this;return ye=[$e,ne.$now()],w(ne.timers,"[]=",ye),ye[ye.length-1]}),me(I,"$record",function($e){var ye,ne=this;return ye=[$e,W(ne.$now(),ne.timers.$delete($e))],w(ne.log,"[]=",ye),ye[ye.length-1]}),me(I,"$time",function($e){var ye,ne,U=this,P=He;return ye=Xe(arguments),ne=ye,P=w(ne,"reduce",[0],function le(ae,_e){var K=le.$$s==null?this:le.$$s,v=He;return K.log==null&&(K.log=He),ae==null&&(ae=He),_e==null&&(_e=He),O(ae,ze(v=K.log["$[]"](_e))?v:0)},{$$s:U}),ze(N(P,0))?P:He},-1),me(I,"$read",function(){var $e=this;return $e.$time("read")}),me(I,"$parse",function(){var $e=this;return $e.$time("parse")}),me(I,"$read_parse",function(){var $e=this;return $e.$time("read","parse")}),me(I,"$convert",function(){var $e=this;return $e.$time("convert")}),me(I,"$read_parse_convert",function(){var $e=this;return $e.$time("read","parse","convert")}),me(I,"$write",function(){var $e=this;return $e.$time("write")}),me(I,"$total",function(){var $e=this;return $e.$time("read","parse","convert","write")}),me(I,"$print_report",function($e,ye){var ne=this;return at.stdout==null&&(at.stdout=He),$e==null&&($e=at.stdout),ye==null&&(ye=He),ze(ye)&&$e.$puts("Input file: "+ye),$e.$puts("  Time to read and parse source: "+ne.$sprintf("%05.5f",ne.$read_parse().$to_f())),$e.$puts("  Time to convert document: "+ne.$sprintf("%05.5f",ne.$convert().$to_f())),$e.$puts("  Total time (read, parse and convert): "+ne.$sprintf("%05.5f",ne.$read_parse_convert().$to_f()))},-1),I.$private(),ze(gt("Process")["$const_defined?"]("CLOCK_MONOTONIC",!1))&&Re((lt=gt("::","Process","skip_raise"))&&(ht=lt,ht)&&(J=ht)&&((B=J.$clock_gettime)&&!B.$$stub||J["$respond_to_missing?"]("clock_gettime"))?"method":He,"method")?(Je(Qe[0],"CLOCK_ID",gt(gt("Process"),"CLOCK_MONOTONIC")),me(I,"$now",function(){return gt("Process").$clock_gettime(Ae("CLOCK_ID"))})):me(I,"$now",function(){return gt("Time").$now()})}(it[0],null,it)}(Le[0],Le)},Opal.modules["asciidoctor/converter/html5"]=function(l){var ce=l.module,oe=l.klass,Q=l.const_set,me=l.hash2,w=l.regexp,W=l.eqeq,Xe=l.def,O=l.send2,ze=l.find_super,N=l.truthy,at=l.send,Re=l.rb_gt,Je=l.rb_plus,Le=l.not,He=l.neqeq,gt=l.rb_le,We=l.rb_lt,ft=l.to_ary,Ze=l.rb_times,it=l.rb_minus,pt=l.gvars,M=l.return_val,ot=l.alias,I=l.eqeqeq,lt=l.slice,ht=l.to_a,J=[],B=l.nil,Qe=l.$$$;return l.add_stubs("register_for,default=,==,[],init_backend_traits,node_name,convert_inline_quoted,convert_paragraph,convert_inline_anchor,convert_section,convert_listing,convert_literal,convert_ulist,convert_olist,convert_dlist,convert_admonition,convert_colist,convert_embedded,convert_example,convert_floating_title,convert_image,convert_inline_break,convert_inline_button,convert_inline_callout,convert_inline_footnote,convert_inline_image,convert_inline_indexterm,convert_inline_kbd,convert_inline_menu,convert_open,convert_page_break,convert_preamble,convert_quote,convert_sidebar,convert_stem,convert_table,convert_thematic_break,convert_verse,convert_video,convert_document,convert_toc,convert_pass,convert_audio,empty?,attr,attr?,<<,include?,sub_replacements,gsub,extname,slice,length,doctitle,normalize_web_path,primary_stylesheet_data,instance,read_contents,syntax_highlighter,size,docinfo,id,sections?,doctype,role?,role,join,noheader,convert,converter,generate_manname_section,header?,notitle,title,header,each,authors,>,name,email,sub_macros,+,downcase,concat,content,!,footnotes?,footnotes,index,text,nofooter,docinfo?,[]=,delete_at,inspect,!=,to_i,attributes,document,sections,level,caption,captioned_title,<=,numbered,<,sectname,sectnum,convert_outline,title?,icon_uri,compact,media_uri,option?,append_boolean_attribute,style,items,blocks?,text?,chomp,safe,read_svg_contents,alt,image_uri,encode_attribute_value,append_link_constraint_attrs,highlight?,to_sym,format,*,-,count,end_with?,start_with?,list_marker_keyword,parent,warn,logger,context,error,content_only,new,columns,to_h,rows,colspan,rowspan,unshift,shift,split,pop,nil_or_empty?,type,===,catalog,get_root_document,xreftext,target,reftext,chop,sub,match,private,upcase,nested?,parent_document,handles?,to_s,send"),function(Ae,qe){var Se=ce(Ae,"Asciidoctor"),$e=[Se].concat(qe),ye=l.$r($e);return function(ne,U,P){var le=oe(ne,U,"Html5Converter"),ae=[le].concat(P),_e=l.$r(ae),K=le.$$prototype;return K.void_element_slash=K.xml_mode=K.refs=K.resolving_xref=B,le.$register_for("html5"),Q(ae[0],"QUOTE_TAGS",me(["monospaced","emphasis","strong","double","single","mark","superscript","subscript","asciimath","latexmath"],{monospaced:["<code>","</code>",!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],double:["&#8220;","&#8221;"],single:["&#8216;","&#8217;"],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]}))["$default="](["",""]),Q(ae[0],"DropAnchorRx",/<(?:a\b[^>]*|\/a)>/),Q(ae[0],"StemBreakRx",/ *\\\n(?:\\?\n)*|\n\n+/),Q(ae[0],"SvgPreambleRx",w(["^",_e("CC_ALL"),"*?(?=<svg[\\s>])"])),Q(ae[0],"SvgStartTagRx",/^<svg(?:\s[^>]*)?>/),Q(ae[0],"DimensionAttributeRx",w([`\\s(?:width|height|style)=(["'])`,_e("CC_ANY"),"*?\\1"])),Xe(le,"$initialize",function(c,y){var q=this,R=B;return y==null&&(y=me([],{})),q.backend=c,W(y["$[]"]("htmlsyntax"),"xml")?(R="xml",q.xml_mode=!0,q.void_element_slash="/"):(R="html",q.xml_mode=B,q.void_element_slash=""),q.$init_backend_traits(me(["basebackend","filetype","htmlsyntax","outfilesuffix","supports_templates"],{basebackend:"html",filetype:"html",htmlsyntax:R,outfilesuffix:".html",supports_templates:!0}))},-2),Xe(le,"$convert",function v(c,y,q){var R=v.$$p||B,A=this;switch(v.$$p=null,y==null&&(y=c.$node_name()),q==null&&(q=B),y){case"inline_quoted":return A.$convert_inline_quoted(c);case"paragraph":return A.$convert_paragraph(c);case"inline_anchor":return A.$convert_inline_anchor(c);case"section":return A.$convert_section(c);case"listing":return A.$convert_listing(c);case"literal":return A.$convert_literal(c);case"ulist":return A.$convert_ulist(c);case"olist":return A.$convert_olist(c);case"dlist":return A.$convert_dlist(c);case"admonition":return A.$convert_admonition(c);case"colist":return A.$convert_colist(c);case"embedded":return A.$convert_embedded(c);case"example":return A.$convert_example(c);case"floating_title":return A.$convert_floating_title(c);case"image":return A.$convert_image(c);case"inline_break":return A.$convert_inline_break(c);case"inline_button":return A.$convert_inline_button(c);case"inline_callout":return A.$convert_inline_callout(c);case"inline_footnote":return A.$convert_inline_footnote(c);case"inline_image":return A.$convert_inline_image(c);case"inline_indexterm":return A.$convert_inline_indexterm(c);case"inline_kbd":return A.$convert_inline_kbd(c);case"inline_menu":return A.$convert_inline_menu(c);case"open":return A.$convert_open(c);case"page_break":return A.$convert_page_break(c);case"preamble":return A.$convert_preamble(c);case"quote":return A.$convert_quote(c);case"sidebar":return A.$convert_sidebar(c);case"stem":return A.$convert_stem(c);case"table":return A.$convert_table(c);case"thematic_break":return A.$convert_thematic_break(c);case"verse":return A.$convert_verse(c);case"video":return A.$convert_video(c);case"document":return A.$convert_document(c);case"toc":return A.$convert_toc(c);case"pass":return A.$convert_pass(c);case"audio":return A.$convert_audio(c);default:return O(A,ze(A,"convert",v,!1,!0),"convert",[c,y,q],R)}},-2),Xe(le,"$convert_document",function(c){var y=this,q=B,R=B,A=B,V=B,Y=B,de=B,fe=B,xe=B,Ve=B,tt=B,ct=B,vt=B,_t=B,wt=B,Dt=B,zt=B,It=B,Mt=B,Ft=B,sr=B,Ot=B,Qt=B,lr=B,er=B,Jt=B;return q="<br"+(R=y.void_element_slash)+">",N((A=c.$attr("asset-uri-scheme","https"))["$empty?"]())||(A=""+A+":"),V=""+A+"//cdnjs.cloudflare.com/ajax/libs",Y=c["$attr?"]("linkcss"),de=N(c["$attr?"]("max-width"))?' style="max-width: '+c.$attr("max-width")+';"':"",fe=["<!DOCTYPE html>"],xe=N(c["$attr?"]("nolang"))?"":' lang="'+c.$attr("lang","en")+'"',fe["$<<"]("<html"+(N(y.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':"")+xe+">"),fe["$<<"](`<head>
<meta charset="`+c.$attr("encoding","UTF-8")+'"'+R+`>
<meta http-equiv="X-UA-Compatible" content="IE=edge"`+R+`>
<meta name="viewport" content="width=device-width, initial-scale=1.0"`+R+`>
<meta name="generator" content="Asciidoctor `+c.$attr("asciidoctor-version")+'"'+R+">"),N(c["$attr?"]("app-name"))&&fe["$<<"]('<meta name="application-name" content="'+c.$attr("app-name")+'"'+R+">"),N(c["$attr?"]("description"))&&fe["$<<"]('<meta name="description" content="'+c.$attr("description")+'"'+R+">"),N(c["$attr?"]("keywords"))&&fe["$<<"]('<meta name="keywords" content="'+c.$attr("keywords")+'"'+R+">"),N(c["$attr?"]("authors"))&&fe["$<<"]('<meta name="author" content="'+(N((Ve=c.$sub_replacements(c.$attr("authors")))["$include?"]("<"))?Ve.$gsub(_e("XmlSanitizeRx"),""):Ve)+'"'+R+">"),N(c["$attr?"]("copyright"))&&fe["$<<"]('<meta name="copyright" content="'+c.$attr("copyright")+'"'+R+">"),N(c["$attr?"]("favicon"))&&(N((tt=c.$attr("favicon"))["$empty?"]())?(tt="favicon.ico",ct="image/x-icon"):N(vt=_e("Helpers").$extname(tt,B))?ct=W(vt,".ico")?"image/x-icon":"image/"+vt.$slice(1,vt.$length()):ct="image/x-icon",fe["$<<"]('<link rel="icon" type="'+ct+'" href="'+tt+'"'+R+">")),fe["$<<"]("<title>"+c.$doctitle(me(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>"),N(_e("DEFAULT_STYLESHEET_KEYS")["$include?"](c.$attr("stylesheet")))?(N(_t=c.$attr("webfonts"))&&fe["$<<"]('<link rel="stylesheet" href="'+A+"//fonts.googleapis.com/css?family="+(N(_t["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":_t)+'"'+R+">"),N(Y)?fe["$<<"]('<link rel="stylesheet" href="'+c.$normalize_web_path(_e("DEFAULT_STYLESHEET_NAME"),c.$attr("stylesdir",""),!1)+'"'+R+">"):fe["$<<"](`<style>
`+_e("Stylesheets").$instance().$primary_stylesheet_data()+`
</style>`)):N(c["$attr?"]("stylesheet"))&&(N(Y)?fe["$<<"]('<link rel="stylesheet" href="'+c.$normalize_web_path(c.$attr("stylesheet"),c.$attr("stylesdir",""))+'"'+R+">"):fe["$<<"](`<style>
`+c.$read_contents(c.$attr("stylesheet"),me(["start","warn_on_failure","label"],{start:c.$attr("stylesdir"),warn_on_failure:!0,label:"stylesheet"}))+`
</style>`)),N(c["$attr?"]("icons","font"))&&(N(c["$attr?"]("iconfont-remote"))?fe["$<<"]('<link rel="stylesheet" href="'+c.$attr("iconfont-cdn",""+V+"/font-awesome/"+_e("FONT_AWESOME_VERSION")+"/css/font-awesome.min.css")+'"'+R+">"):(wt=""+c.$attr("iconfont-name","font-awesome")+".css",fe["$<<"]('<link rel="stylesheet" href="'+c.$normalize_web_path(wt,c.$attr("stylesdir",""),!1)+'"'+R+">"))),N(Dt=c.$syntax_highlighter())&&fe["$<<"](zt=fe.$size()),N((It=c.$docinfo())["$empty?"]())||fe["$<<"](It),fe["$<<"]("</head>"),Mt=N(c.$id())?' id="'+c.$id()+'"':"",N(Ft=c["$sections?"]())&&N(c["$attr?"]("toc-class"))&&N(c["$attr?"]("toc"))&&N(c["$attr?"]("toc-placement","auto"))?sr=[c.$doctype(),c.$attr("toc-class"),"toc-"+c.$attr("toc-position","header")]:sr=[c.$doctype()],N(c["$role?"]())&&sr["$<<"](c.$role()),fe["$<<"]("<body"+Mt+' class="'+sr.$join(" ")+'">'),N((It=c.$docinfo("header"))["$empty?"]())||fe["$<<"](It),N(c.$noheader())||(fe["$<<"]('<div id="header"'+de+">"),W(c.$doctype(),"manpage")?(fe["$<<"]("<h1>"+c.$doctitle()+" Manual Page</h1>"),N(Ft)&&N(c["$attr?"]("toc"))&&N(c["$attr?"]("toc-placement","auto"))&&fe["$<<"]('<div id="toc" class="'+c.$attr("toc-class","toc")+`">
<div id="toctitle">`+c.$attr("toc-title")+`</div>
`+c.$converter().$convert(c,"outline")+`
</div>`),N(c["$attr?"]("manpurpose"))&&fe["$<<"](y.$generate_manname_section(c))):(N(c["$header?"]())&&(N(c.$notitle())||fe["$<<"]("<h1>"+c.$header().$title()+"</h1>"),Ot=[],Qt=1,at(c.$authors(),"each",[],function(vr){return vr==null&&(vr=B),Ot["$<<"]('<span id="author'+(N(Re(Qt,1))?Qt:"")+'" class="author">'+c.$sub_replacements(vr.$name())+"</span>"+q),N(vr.$email())&&Ot["$<<"]('<span id="email'+(N(Re(Qt,1))?Qt:"")+'" class="email">'+c.$sub_macros(vr.$email())+"</span>"+q),Qt=Je(Qt,1)}),N(c["$attr?"]("revnumber"))&&Ot["$<<"]('<span id="revnumber">'+(N(lr=c.$attr("version-label"))?lr:"").$downcase()+" "+c.$attr("revnumber")+(N(c["$attr?"]("revdate"))?",":"")+"</span>"),N(c["$attr?"]("revdate"))&&Ot["$<<"]('<span id="revdate">'+c.$attr("revdate")+"</span>"),N(c["$attr?"]("revremark"))&&Ot["$<<"](""+q+'<span id="revremark">'+c.$attr("revremark")+"</span>"),N(Ot["$empty?"]())||(fe["$<<"]('<div class="details">'),fe.$concat(Ot),fe["$<<"]("</div>"))),N(Ft)&&N(c["$attr?"]("toc"))&&N(c["$attr?"]("toc-placement","auto"))&&fe["$<<"]('<div id="toc" class="'+c.$attr("toc-class","toc")+`">
<div id="toctitle">`+c.$attr("toc-title")+`</div>
`+c.$converter().$convert(c,"outline")+`
</div>`)),fe["$<<"]("</div>")),fe["$<<"]('<div id="content"'+de+`>
`+c.$content()+`
</div>`),N(c["$footnotes?"]())&&Le(c["$attr?"]("nofootnotes"))&&(fe["$<<"]('<div id="footnotes"'+de+`>
<hr`+R+">"),at(c.$footnotes(),"each",[],function(vr){return vr==null&&(vr=B),fe["$<<"]('<div class="footnote" id="_footnotedef_'+vr.$index()+`">
<a href="#_footnoteref_`+vr.$index()+'">'+vr.$index()+"</a>. "+vr.$text()+`
</div>`)}),fe["$<<"]("</div>")),N(c.$nofooter())||(fe["$<<"]('<div id="footer"'+de+">"),fe["$<<"]('<div id="footer-text">'),N(c["$attr?"]("revnumber"))&&fe["$<<"](""+c.$attr("version-label")+" "+c.$attr("revnumber")+q),N(c["$attr?"]("last-update-label"))&&Le(c["$attr?"]("reproducible"))&&fe["$<<"](""+c.$attr("last-update-label")+" "+c.$attr("docdatetime")),fe["$<<"]("</div>"),fe["$<<"]("</div>")),N(Dt)&&(N(Dt["$docinfo?"]("head"))?fe["$[]="](zt,Dt.$docinfo("head",c,me(["cdn_base_url","linkcss","self_closing_tag_slash"],{cdn_base_url:V,linkcss:Y,self_closing_tag_slash:R}))):fe.$delete_at(zt),N(Dt["$docinfo?"]("footer"))&&fe["$<<"](Dt.$docinfo("footer",c,me(["cdn_base_url","linkcss","self_closing_tag_slash"],{cdn_base_url:V,linkcss:Y,self_closing_tag_slash:R})))),N(c["$attr?"]("stem"))&&(er=c.$attr("eqnums","none"),N(er["$empty?"]())&&(er="AMS"),Jt=' equationNumbers: { autoNumber: "'+er+'" } ',fe["$<<"](`<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [`+_e("INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+`],
    displayMath: [`+_e("BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+`],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [`+_e("BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+`],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: {`+Jt+`}
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains("stemblock")) {
      data.math.root.display = "block"
    }
    return data
  })
})
<\/script>
<script src="`+V+"/mathjax/"+_e("MATHJAX_VERSION")+'/MathJax.js?config=TeX-MML-AM_HTMLorMML"><\/script>')),N((It=c.$docinfo("footer"))["$empty?"]())||fe["$<<"](It),fe["$<<"]("</body>"),fe["$<<"]("</html>"),fe.$join(_e("LF"))}),Xe(le,"$convert_embedded",function(c){var y=this,q=B,R=B,A=B;return q=[],W(c.$doctype(),"manpage")?(N(c.$notitle())||(R=N(c.$id())?' id="'+c.$id()+'"':"",q["$<<"]("<h1"+R+">"+c.$doctitle()+" Manual Page</h1>")),N(c["$attr?"]("manpurpose"))&&q["$<<"](y.$generate_manname_section(c))):N(c["$header?"]())&&Le(c.$notitle())&&(R=N(c.$id())?' id="'+c.$id()+'"':"",q["$<<"]("<h1"+R+">"+c.$header().$title()+"</h1>")),N(c["$sections?"]())&&N(c["$attr?"]("toc"))&&He(A=c.$attr("toc-placement"),"macro")&&He(A,"preamble")&&q["$<<"](`<div id="toc" class="toc">
<div id="toctitle">`+c.$attr("toc-title")+`</div>
`+c.$converter().$convert(c,"outline")+`
</div>`),q["$<<"](c.$content()),N(c["$footnotes?"]())&&Le(c["$attr?"]("nofootnotes"))&&(q["$<<"](`<div id="footnotes">
<hr`+y.void_element_slash+">"),at(c.$footnotes(),"each",[],function(Y){return Y==null&&(Y=B),q["$<<"]('<div class="footnote" id="_footnotedef_'+Y.$index()+`">
<a href="#_footnoteref_`+Y.$index()+'">'+Y.$index()+"</a>. "+Y.$text()+`
</div>`)}),q["$<<"]("</div>")),q.$join(_e("LF"))}),Xe(le,"$convert_outline",function(c,y){var q=this,R=B,A=B,V=B,Y=B,de=B,fe=B;return y==null&&(y=me([],{})),N(c["$sections?"]())?(R=N(A=y["$[]"]("sectnumlevels"))?A:(N(V=c.$document().$attributes()["$[]"]("sectnumlevels"))?V:3).$to_i(),Y=N(A=y["$[]"]("toclevels"))?A:(N(V=c.$document().$attributes()["$[]"]("toclevels"))?V:2).$to_i(),de=c.$sections(),fe=['<ul class="sectlevel'+de["$[]"](0).$level()+'">'],at(de,"each",[],function xe(Ve){var tt=xe.$$s==null?this:xe.$$s,ct=B,vt=B,_t=B,wt=B;if(Ve==null&&(Ve=B),ct=Ve.$level(),N(Ve.$caption()))vt=Ve.$captioned_title();else if(N(Ve.$numbered())&&N(gt(ct,R)))if(N(We(ct,2))&&W(c.$document().$doctype(),"book"))switch(Ve.$sectname()){case"chapter":vt=(N(_t=c.$document().$attributes()["$[]"]("chapter-signifier"))?""+_t+" ":"")+Ve.$sectnum()+" "+Ve.$title();break;case"part":vt=(N(_t=c.$document().$attributes()["$[]"]("part-signifier"))?""+_t+" ":"")+Ve.$sectnum(B,":")+" "+Ve.$title();break;default:vt=""+Ve.$sectnum()+" "+Ve.$title()}else vt=""+Ve.$sectnum()+" "+Ve.$title();else vt=Ve.$title();return N(vt["$include?"]("<a"))&&(vt=vt.$gsub(_e("DropAnchorRx"),"")),N(We(ct,Y))&&N(wt=tt.$convert_outline(Ve,me(["toclevels","sectnumlevels"],{toclevels:Y,sectnumlevels:R})))?(fe["$<<"]('<li><a href="#'+Ve.$id()+'">'+vt+"</a>"),fe["$<<"](wt),fe["$<<"]("</li>")):fe["$<<"]('<li><a href="#'+Ve.$id()+'">'+vt+"</a></li>")},{$$s:q}),fe["$<<"]("</ul>"),fe.$join(_e("LF"))):B},-2),Xe(le,"$convert_section",function(c){var y=B,q=B,R=B,A=B,V=B,Y=B,de=B,fe=B;if(y=c.$document().$attributes(),q=c.$level(),N(c.$caption()))R=c.$captioned_title();else if(N(c.$numbered())&&N(gt(q,(N(A=y["$[]"]("sectnumlevels"))?A:3).$to_i())))if(N(We(q,2))&&W(c.$document().$doctype(),"book"))switch(c.$sectname()){case"chapter":R=(N(V=y["$[]"]("chapter-signifier"))?""+V+" ":"")+c.$sectnum()+" "+c.$title();break;case"part":R=(N(V=y["$[]"]("part-signifier"))?""+V+" ":"")+c.$sectnum(B,":")+" "+c.$title();break;default:R=""+c.$sectnum()+" "+c.$title()}else R=""+c.$sectnum()+" "+c.$title();else R=c.$title();return N(c.$id())?(Y=' id="'+(de=c.$id())+'"',N(y["$[]"]("sectlinks"))&&(R='<a class="link" href="#'+de+'">'+R+"</a>"),N(y["$[]"]("sectanchors"))&&(W(y["$[]"]("sectanchors"),"after")?R=""+R+'<a class="anchor" href="#'+de+'"></a>':R='<a class="anchor" href="#'+de+'"></a>'+R)):Y="",W(q,0)?"<h1"+Y+' class="sect0'+(N(fe=c.$role())?" "+fe:"")+'">'+R+`</h1>
`+c.$content():'<div class="sect'+q+(N(fe=c.$role())?" "+fe:"")+`">
<h`+Je(q,1)+Y+">"+R+"</h"+Je(q,1)+`>
`+(W(q,1)?`<div class="sectionbody">
`+c.$content()+`
</div>`:c.$content())+`
</div>`}),Xe(le,"$convert_admonition",function(c){var y=this,q=B,R=B,A=B,V=B,Y=B;return q=N(c.$id())?' id="'+c.$id()+'"':"",R=c.$attr("name"),A=N(c["$title?"]())?'<div class="title">'+c.$title()+`</div>
`:"",N(c.$document()["$attr?"]("icons"))?N(c.$document()["$attr?"]("icons","font"))&&Le(c["$attr?"]("icon"))?V='<i class="fa icon-'+R+'" title="'+c.$attr("textlabel")+'"></i>':V='<img src="'+c.$icon_uri(R)+'" alt="'+c.$attr("textlabel")+'"'+y.void_element_slash+">":V='<div class="title">'+c.$attr("textlabel")+"</div>","<div"+q+' class="admonitionblock '+R+(N(Y=c.$role())?" "+Y:"")+`">
<table>
<tr>
<td class="icon">
`+V+`
</td>
<td class="content">
`+A+c.$content()+`
</td>
</tr>
</table>
</div>`}),Xe(le,"$convert_audio",function(c){var y=this,q=B,R=B,A=B,V=B,Y=B,de=B,fe=B,xe=B,Ve=B;return q=y.xml_mode,R=N(c.$id())?' id="'+c.$id()+'"':"",A=["audioblock",c.$role()].$compact(),V=' class="'+A.$join(" ")+'"',Y=N(c["$title?"]())?'<div class="title">'+c.$title()+`</div>
`:"",de=c.$attr("start"),fe=c.$attr("end"),xe=N(de)||N(fe)?"#t="+(N(Ve=de)?Ve:"")+(N(fe)?","+fe:""):"","<div"+R+V+`>
`+Y+`<div class="content">
<audio src="`+c.$media_uri(c.$attr("target"))+xe+'"'+(N(c["$option?"]("autoplay"))?y.$append_boolean_attribute("autoplay",q):"")+(N(c["$option?"]("nocontrols"))?"":y.$append_boolean_attribute("controls",q))+(N(c["$option?"]("loop"))?y.$append_boolean_attribute("loop",q):"")+`>
Your browser does not support the audio tag.
</audio>
</div>
</div>`}),Xe(le,"$convert_colist",function(c){var y,q=this,R=B,A=B,V=B,Y=B,de=B,fe=B;return R=[],A=N(c.$id())?' id="'+c.$id()+'"':"",V=["colist",c.$style(),c.$role()].$compact(),Y=' class="'+V.$join(" ")+'"',R["$<<"]("<div"+A+Y+">"),N(c["$title?"]())&&R["$<<"]('<div class="title">'+c.$title()+"</div>"),N(c.$document()["$attr?"]("icons"))?(R["$<<"]("<table>"),y=[c.$document()["$attr?"]("icons","font"),0],de=y[0],fe=y[1],at(c.$items(),"each",[],function xe(Ve){var tt=xe.$$s==null?this:xe.$$s,ct=B;return tt.void_element_slash==null&&(tt.void_element_slash=B),Ve==null&&(Ve=B),fe=Je(fe,1),N(de)?ct='<i class="conum" data-value="'+fe+'"></i><b>'+fe+"</b>":ct='<img src="'+c.$icon_uri("callouts/"+fe)+'" alt="'+fe+'"'+tt.void_element_slash+">",R["$<<"](`<tr>
<td>`+ct+`</td>
<td>`+Ve.$text()+(N(Ve["$blocks?"]())?Je(_e("LF"),Ve.$content()):"")+`</td>
</tr>`)},{$$s:q}),R["$<<"]("</table>")):(R["$<<"]("<ol>"),at(c.$items(),"each",[],function(Ve){return Ve==null&&(Ve=B),R["$<<"](`<li>
<p>`+Ve.$text()+"</p>"+(N(Ve["$blocks?"]())?Je(_e("LF"),Ve.$content()):"")+`
</li>`)}),R["$<<"]("</ol>")),R["$<<"]("</div>"),R.$join(_e("LF"))}),Xe(le,"$convert_dlist",function(c){var y=this,q=B,R=B,A=B,V=B,Y=B,de=B,fe=B;switch(q=[],R=N(c.$id())?' id="'+c.$id()+'"':"",c.$style()){case"qanda":A=["qlist","qanda",c.$role()];break;case"horizontal":A=["hdlist",c.$role()];break;default:A=["dlist",c.$style(),c.$role()]}switch(V=' class="'+A.$compact().$join(" ")+'"',q["$<<"]("<div"+R+V+">"),N(c["$title?"]())&&q["$<<"]('<div class="title">'+c.$title()+"</div>"),c.$style()){case"qanda":q["$<<"]("<ol>"),at(c.$items(),"each",[],function(Ve,tt){return Ve==null&&(Ve=B),tt==null&&(tt=B),q["$<<"]("<li>"),at(Ve,"each",[],function(vt){return vt==null&&(vt=B),q["$<<"]("<p><em>"+vt.$text()+"</em></p>")}),N(tt)&&(N(tt["$text?"]())&&q["$<<"]("<p>"+tt.$text()+"</p>"),N(tt["$blocks?"]())&&q["$<<"](tt.$content())),q["$<<"]("</li>")}),q["$<<"]("</ol>");break;case"horizontal":Y=y.void_element_slash,q["$<<"]("<table>"),(N(c["$attr?"]("labelwidth"))||N(c["$attr?"]("itemwidth")))&&(q["$<<"]("<colgroup>"),de=N(c["$attr?"]("labelwidth"))?' style="width: '+c.$attr("labelwidth").$chomp("%")+'%;"':"",q["$<<"]("<col"+de+Y+">"),de=N(c["$attr?"]("itemwidth"))?' style="width: '+c.$attr("itemwidth").$chomp("%")+'%;"':"",q["$<<"]("<col"+de+Y+">"),q["$<<"]("</colgroup>")),at(c.$items(),"each",[],function(Ve,tt){var ct=B;return Ve==null&&(Ve=B),tt==null&&(tt=B),q["$<<"]("<tr>"),q["$<<"]('<td class="hdlist1'+(N(c["$option?"]("strong"))?" strong":"")+'">'),ct=!0,at(Ve,"each",[],function(_t){return _t==null&&(_t=B),N(ct)||q["$<<"]("<br"+Y+">"),q["$<<"](_t.$text()),ct=B}),q["$<<"]("</td>"),q["$<<"]('<td class="hdlist2">'),N(tt)&&(N(tt["$text?"]())&&q["$<<"]("<p>"+tt.$text()+"</p>"),N(tt["$blocks?"]())&&q["$<<"](tt.$content())),q["$<<"]("</td>"),q["$<<"]("</tr>")}),q["$<<"]("</table>");break;default:q["$<<"]("<dl>"),fe=N(c.$style())?"":' class="hdlist1"',at(c.$items(),"each",[],function(Ve,tt){return Ve==null&&(Ve=B),tt==null&&(tt=B),at(Ve,"each",[],function(vt){return vt==null&&(vt=B),q["$<<"]("<dt"+fe+">"+vt.$text()+"</dt>")}),N(tt)?(q["$<<"]("<dd>"),N(tt["$text?"]())&&q["$<<"]("<p>"+tt.$text()+"</p>"),N(tt["$blocks?"]())&&q["$<<"](tt.$content()),q["$<<"]("</dd>")):B}),q["$<<"]("</dl>")}return q["$<<"]("</div>"),q.$join(_e("LF"))}),Xe(le,"$convert_example",function(c){var y=B,q=B,R=B,A=B,V=B;return y=N(c.$id())?' id="'+c.$id()+'"':"",N(c["$option?"]("collapsible"))?(q=N(c.$role())?' class="'+c.$role()+'"':"",R=N(c["$title?"]())?'<summary class="title">'+c.$title()+"</summary>":'<summary class="title">Details</summary>',"<details"+y+q+(N(c["$option?"]("open"))?" open":"")+`>
`+R+`
<div class="content">
`+c.$content()+`
</div>
</details>`):(A=N(c["$title?"]())?'<div class="title">'+c.$captioned_title()+`</div>
`:"","<div"+y+' class="exampleblock'+(N(V=c.$role())?" "+V:"")+`">
`+A+`<div class="content">
`+c.$content()+`
</div>
</div>`)}),Xe(le,"$convert_floating_title",function(c){var y=B,q=B,R=B;return y="h"+Je(c.$level(),1),q=N(c.$id())?' id="'+c.$id()+'"':"",R=[c.$style(),c.$role()].$compact(),"<"+y+q+' class="'+R.$join(" ")+'">'+c.$title()+"</"+y+">"}),Xe(le,"$convert_image",function(c){var y=this,q=B,R=B,A=B,V=B,Y=B,de=B,fe=B,xe=B,Ve=B,tt=B;return q=c.$attr("target"),R=N(c["$attr?"]("width"))?' width="'+c.$attr("width")+'"':"",A=N(c["$attr?"]("height"))?' height="'+c.$attr("height")+'"':"",(N(c["$attr?"]("format","svg"))||N(q["$include?"](".svg")))&&N(We(c.$document().$safe(),Qe(_e("SafeMode"),"SECURE")))?N(c["$option?"]("inline"))?V=N(Y=y.$read_svg_contents(c,q))?Y:'<span class="alt">'+c.$alt()+"</span>":N(c["$option?"]("interactive"))?(de=N(c["$attr?"]("fallback"))?'<img src="'+c.$image_uri(c.$attr("fallback"))+'" alt="'+y.$encode_attribute_value(c.$alt())+'"'+R+A+y.void_element_slash+">":'<span class="alt">'+c.$alt()+"</span>",V='<object type="image/svg+xml" data="'+c.$image_uri(q)+'"'+R+A+">"+de+"</object>"):V='<img src="'+c.$image_uri(q)+'" alt="'+y.$encode_attribute_value(c.$alt())+'"'+R+A+y.void_element_slash+">":V='<img src="'+c.$image_uri(q)+'" alt="'+y.$encode_attribute_value(c.$alt())+'"'+R+A+y.void_element_slash+">",N(c["$attr?"]("link"))&&(V='<a class="image" href="'+c.$attr("link")+'"'+y.$append_link_constraint_attrs(c).$join()+">"+V+"</a>"),fe=N(c.$id())?' id="'+c.$id()+'"':"",xe=["imageblock"],N(c["$attr?"]("float"))&&xe["$<<"](c.$attr("float")),N(c["$attr?"]("align"))&&xe["$<<"]("text-"+c.$attr("align")),N(c.$role())&&xe["$<<"](c.$role()),Ve=' class="'+xe.$join(" ")+'"',tt=N(c["$title?"]())?`
<div class="title">`+c.$captioned_title()+"</div>":"","<div"+fe+Ve+`>
<div class="content">
`+V+`
</div>`+tt+`
</div>`}),Xe(le,"$convert_listing",function(c){var y=B,q=B,R=B,A=B,V=B,Y=B,de=B,fe=B,xe=B,Ve=B,tt=B;return y=N(q=c["$option?"]("nowrap"))?q:c.$document()["$attr?"]("prewrap")["$!"](),W(c.$style(),"source")?(R=c.$attr("language"),N(A=c.$document().$syntax_highlighter())?(V=N(A["$highlight?"]())?me(["css_mode","style"],{css_mode:(N(q=(Y=c.$document().$attributes())["$[]"](""+A.$name()+"-css"))?q:"class").$to_sym(),style:Y["$[]"](""+A.$name()+"-style")}):me([],{}),V["$[]="]("nowrap",y)):(de='<pre class="highlight'+(N(y)?" nowrap":"")+'"><code'+(N(R)?' class="language-'+R+'" data-lang="'+R+'"':"")+">",fe="</code></pre>")):(de="<pre"+(N(y)?' class="nowrap"':"")+">",fe="</pre>"),xe=N(c.$id())?' id="'+c.$id()+'"':"",Ve=N(c["$title?"]())?'<div class="title">'+c.$captioned_title()+`</div>
`:"","<div"+xe+' class="listingblock'+(N(tt=c.$role())?" "+tt:"")+`">
`+Ve+`<div class="content">
`+(N(A)?A.$format(c,R,V):Je(Je(de,c.$content()),fe))+`
</div>
</div>`}),Xe(le,"$convert_literal",function(c){var y=B,q=B,R=B,A=B,V=B;return y=N(c.$id())?' id="'+c.$id()+'"':"",q=N(c["$title?"]())?'<div class="title">'+c.$title()+`</div>
`:"",R=N(A=c.$document()["$attr?"]("prewrap")["$!"]())?A:c["$option?"]("nowrap"),"<div"+y+' class="literalblock'+(N(V=c.$role())?" "+V:"")+`">
`+q+`<div class="content">
<pre`+(N(R)?' class="nowrap"':"")+">"+c.$content()+`</pre>
</div>
</div>`}),Xe(le,"$convert_stem",function(c){var y,q,R=this,A=B,V=B,Y=B,de=B,fe=B,xe=B,Ve=B,tt=B;return A=N(c.$id())?' id="'+c.$id()+'"':"",V=N(c["$title?"]())?'<div class="title">'+c.$title()+`</div>
`:"",q=_e("BLOCK_MATH_DELIMITERS")["$[]"](Y=c.$style().$to_sym()),y=ft(q),de=y[0]==null?B:y[0],fe=y[1]==null?B:y[1],N(xe=c.$content())?(W(Y,"asciimath")&&N(xe["$include?"](_e("LF")))&&(Ve=""+_e("LF")+"<br"+R.void_element_slash+">",xe=at(xe,"gsub",[_e("StemBreakRx")],function(){var vt;return""+fe+Ze(Ve,it(((vt=pt["~"])===B?B:vt["$[]"](0)).$count(_e("LF")),1))+_e("LF")+de})),N(xe["$start_with?"](de))&&N(xe["$end_with?"](fe))||(xe=""+de+xe+fe)):xe="","<div"+A+' class="stemblock'+(N(tt=c.$role())?" "+tt:"")+`">
`+V+`<div class="content">
`+xe+`
</div>
</div>`}),Xe(le,"$convert_olist",function(c){var y=this,q=B,R=B,A=B,V=B,Y=B,de=B,fe=B,xe=B;return q=[],R=N(c.$id())?' id="'+c.$id()+'"':"",A=["olist",c.$style(),c.$role()].$compact(),V=' class="'+A.$join(" ")+'"',q["$<<"]("<div"+R+V+">"),N(c["$title?"]())&&q["$<<"]('<div class="title">'+c.$title()+"</div>"),Y=N(de=c.$list_marker_keyword())?' type="'+de+'"':"",fe=N(c["$attr?"]("start"))?' start="'+c.$attr("start")+'"':"",xe=N(c["$option?"]("reversed"))?y.$append_boolean_attribute("reversed",y.xml_mode):"",q["$<<"]('<ol class="'+c.$style()+'"'+Y+fe+xe+">"),at(c.$items(),"each",[],function(tt){return tt==null&&(tt=B),N(tt.$id())?q["$<<"]('<li id="'+tt.$id()+'"'+(N(tt.$role())?' class="'+tt.$role()+'"':"")+">"):N(tt.$role())?q["$<<"]('<li class="'+tt.$role()+'">'):q["$<<"]("<li>"),q["$<<"]("<p>"+tt.$text()+"</p>"),N(tt["$blocks?"]())&&q["$<<"](tt.$content()),q["$<<"]("</li>")}),q["$<<"]("</ol>"),q["$<<"]("</div>"),q.$join(_e("LF"))}),Xe(le,"$convert_open",function(c){var y=this,q=B,R=B,A=B,V=B;return W(q=c.$style(),"abstract")?W(c.$parent(),c.$document())&&W(c.$document().$doctype(),"book")?(y.$logger().$warn("abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),""):(R=N(c.$id())?' id="'+c.$id()+'"':"",A=N(c["$title?"]())?'<div class="title">'+c.$title()+`</div>
`:"","<div"+R+' class="quoteblock abstract'+(N(V=c.$role())?" "+V:"")+`">
`+A+`<blockquote>
`+c.$content()+`
</blockquote>
</div>`):W(q,"partintro")&&(N(Re(c.$level(),0))||He(c.$parent().$context(),"section")||He(c.$document().$doctype(),"book"))?(y.$logger().$error("partintro block can only be used when doctype is book and must be a child of a book part. Excluding block content."),""):(R=N(c.$id())?' id="'+c.$id()+'"':"",A=N(c["$title?"]())?'<div class="title">'+c.$title()+`</div>
`:"","<div"+R+' class="openblock'+(N(q)&&He(q,"open")?" "+q:"")+(N(V=c.$role())?" "+V:"")+`">
`+A+`<div class="content">
`+c.$content()+`
</div>
</div>`)}),Xe(le,"$convert_page_break",M('<div style="page-break-after: always;"></div>')),Xe(le,"$convert_paragraph",function(c){var y=B;return N(c.$role())?y=(N(c.$id())?' id="'+c.$id()+'"':"")+' class="paragraph '+c.$role()+'"':N(c.$id())?y=' id="'+c.$id()+'" class="paragraph"':y=' class="paragraph"',N(c["$title?"]())?"<div"+y+`>
<div class="title">`+c.$title()+`</div>
<p>`+c.$content()+`</p>
</div>`:"<div"+y+`>
<p>`+c.$content()+`</p>
</div>`}),ot(le,"convert_pass","content_only"),Xe(le,"$convert_preamble",function(c){var y=B,q=B;return N((y=c.$document())["$attr?"]("toc-placement","preamble"))&&N(y["$sections?"]())&&N(y["$attr?"]("toc"))?q=`
<div id="toc" class="`+y.$attr("toc-class","toc")+`">
<div id="toctitle">`+y.$attr("toc-title")+`</div>
`+y.$converter().$convert(y,"outline")+`
</div>`:q="",`<div id="preamble">
<div class="sectionbody">
`+c.$content()+`
</div>`+q+`
</div>`}),Xe(le,"$convert_quote",function(c){var y=this,q=B,R=B,A=B,V=B,Y=B,de=B,fe=B,xe=B,Ve=B;return q=N(c.$id())?' id="'+c.$id()+'"':"",R=["quoteblock",c.$role()].$compact(),A=' class="'+R.$join(" ")+'"',V=N(c["$title?"]())?`
<div class="title">`+c.$title()+"</div>":"",Y=N(c["$attr?"]("attribution"))?c.$attr("attribution"):B,de=N(c["$attr?"]("citetitle"))?c.$attr("citetitle"):B,N(Y)||N(de)?(fe=N(de)?"<cite>"+de+"</cite>":"",xe=N(Y)?"&#8212; "+Y+(N(de)?"<br"+y.void_element_slash+`>
`:""):"",Ve=`
<div class="attribution">
`+xe+fe+`
</div>`):Ve="","<div"+q+A+">"+V+`
<blockquote>
`+c.$content()+`
</blockquote>`+Ve+`
</div>`}),Xe(le,"$convert_thematic_break",function(c){var y=this;return"<hr"+y.void_element_slash+">"}),Xe(le,"$convert_sidebar",function(c){var y=B,q=B,R=B;return y=N(c.$id())?' id="'+c.$id()+'"':"",q=N(c["$title?"]())?'<div class="title">'+c.$title()+`</div>
`:"","<div"+y+' class="sidebarblock'+(N(R=c.$role())?" "+R:"")+`">
<div class="content">
`+q+c.$content()+`
</div>
</div>`}),Xe(le,"$convert_table",function(c){var y=this,q=B,R=B,A=B,V=B,Y=B,de=B,fe=B,xe=B,Ve=B,tt=B,ct=B;return q=[],R=N(c.$id())?' id="'+c.$id()+'"':"",W(A=c.$attr("frame","all","table-frame"),"topbot")&&(A="ends"),V=["tableblock","frame-"+A,"grid-"+c.$attr("grid","all","table-grid")],N(Y=c.$attr("stripes",B,"table-stripes"))&&V["$<<"]("stripes-"+Y),de="",N(fe=c["$option?"]("autowidth"))&&Le(c["$attr?"]("width"))?V["$<<"]("fit-content"):W(xe=c.$attr("tablepcwidth"),100)?V["$<<"]("stretch"):de=' style="width: '+xe+'%;"',N(c["$attr?"]("float"))&&V["$<<"](c.$attr("float")),N(Ve=c.$role())&&V["$<<"](Ve),tt=' class="'+V.$join(" ")+'"',q["$<<"]("<table"+R+tt+de+">"),N(c["$title?"]())&&q["$<<"]('<caption class="title">'+c.$captioned_title()+"</caption>"),N(Re(c.$attr("rowcount"),0))&&(ct=y.void_element_slash,q["$<<"]("<colgroup>"),N(fe)?q=Je(q,_e("Array").$new(c.$columns().$size(),"<col"+ct+">")):at(c.$columns(),"each",[],function(_t){return _t==null&&(_t=B),q["$<<"](N(_t["$option?"]("autowidth"))?"<col"+ct+">":'<col style="width: '+_t.$attr("colpcwidth")+'%;"'+ct+">")}),q["$<<"]("</colgroup>"),at(c.$rows().$to_h(),"each",[],function(_t,wt){return _t==null&&(_t=B),wt==null&&(wt=B),N(wt["$empty?"]())?B:(q["$<<"]("<t"+_t+">"),at(wt,"each",[],function(zt){return zt==null&&(zt=B),q["$<<"]("<tr>"),at(zt,"each",[],function(Mt){var Ft=B,sr=B,Ot=B,Qt=B,lr=B,er=B;if(Mt==null&&(Mt=B),W(_t,"head"))Ft=Mt.$text();else switch(Mt.$style()){case"asciidoc":Ft='<div class="content">'+Mt.$content()+"</div>";break;case"literal":Ft='<div class="literal"><pre>'+Mt.$text()+"</pre></div>";break;default:Ft=N((Ft=Mt.$content())["$empty?"]())?"":'<p class="tableblock">'+Ft.$join(`</p>
<p class="tableblock">`)+"</p>"}return sr=W(_t,"head")||W(Mt.$style(),"header")?"th":"td",Ot=' class="tableblock halign-'+Mt.$attr("halign")+" valign-"+Mt.$attr("valign")+'"',Qt=N(Mt.$colspan())?' colspan="'+Mt.$colspan()+'"':"",lr=N(Mt.$rowspan())?' rowspan="'+Mt.$rowspan()+'"':"",er=N(c.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+c.$document().$attr("cellbgcolor")+';"':"",q["$<<"]("<"+sr+Ot+Qt+lr+er+">"+Ft+"</"+sr+">")}),q["$<<"]("</tr>")}),q["$<<"]("</t"+_t+">"))})),q["$<<"]("</table>"),q.$join(_e("LF"))}),Xe(le,"$convert_toc",function(c){var y=B,q=B,R=B,A=B,V=B,Y=B;return N((y=c.$document())["$attr?"]("toc-placement","macro"))&&N(y["$sections?"]())&&N(y["$attr?"]("toc"))?(N(c.$id())?(q=' id="'+c.$id()+'"',R=' id="'+c.$id()+'title"'):(q=' id="toc"',R=' id="toctitle"'),A=N(c["$title?"]())?c.$title():y.$attr("toc-title"),V=N(c["$attr?"]("levels"))?c.$attr("levels").$to_i():B,Y=N(c["$role?"]())?c.$role():y.$attr("toc-class","toc"),"<div"+q+' class="'+Y+`">
<div`+R+' class="title">'+A+`</div>
`+y.$converter().$convert(y,"outline",me(["toclevels"],{toclevels:V}))+`
</div>`):"<!-- toc disabled -->"}),Xe(le,"$convert_ulist",function(c){var y=this,q=B,R=B,A=B,V=B,Y=B,de=B,fe=B;return q=[],R=N(c.$id())?' id="'+c.$id()+'"':"",A=["ulist",c.$style(),c.$role()].$compact(),V=Y="",N(de=c["$option?"]("checklist"))?(A.$unshift(A.$shift(),"checklist"),fe=' class="checklist"',N(c["$option?"]("interactive"))?N(y.xml_mode)?(V='<input type="checkbox" data-item-complete="1" checked="checked"/> ',Y='<input type="checkbox" data-item-complete="0"/> '):(V='<input type="checkbox" data-item-complete="1" checked> ',Y='<input type="checkbox" data-item-complete="0"> '):N(c.$document()["$attr?"]("icons","font"))?(V='<i class="fa fa-check-square-o"></i> ',Y='<i class="fa fa-square-o"></i> '):(V="&#10003; ",Y="&#10063; ")):fe=N(c.$style())?' class="'+c.$style()+'"':"",q["$<<"]("<div"+R+' class="'+A.$join(" ")+'">'),N(c["$title?"]())&&q["$<<"]('<div class="title">'+c.$title()+"</div>"),q["$<<"]("<ul"+fe+">"),at(c.$items(),"each",[],function(Ve){return Ve==null&&(Ve=B),N(Ve.$id())?q["$<<"]('<li id="'+Ve.$id()+'"'+(N(Ve.$role())?' class="'+Ve.$role()+'"':"")+">"):N(Ve.$role())?q["$<<"]('<li class="'+Ve.$role()+'">'):q["$<<"]("<li>"),N(de)&&N(Ve["$attr?"]("checkbox"))?q["$<<"]("<p>"+(N(Ve["$attr?"]("checked"))?V:Y)+Ve.$text()+"</p>"):q["$<<"]("<p>"+Ve.$text()+"</p>"),N(Ve["$blocks?"]())&&q["$<<"](Ve.$content()),q["$<<"]("</li>")}),q["$<<"]("</ul>"),q["$<<"]("</div>"),q.$join(_e("LF"))}),Xe(le,"$convert_verse",function(c){var y=this,q=B,R=B,A=B,V=B,Y=B,de=B,fe=B,xe=B,Ve=B;return q=N(c.$id())?' id="'+c.$id()+'"':"",R=["verseblock",c.$role()].$compact(),A=' class="'+R.$join(" ")+'"',V=N(c["$title?"]())?`
<div class="title">`+c.$title()+"</div>":"",Y=N(c["$attr?"]("attribution"))?c.$attr("attribution"):B,de=N(c["$attr?"]("citetitle"))?c.$attr("citetitle"):B,N(Y)||N(de)?(fe=N(de)?"<cite>"+de+"</cite>":"",xe=N(Y)?"&#8212; "+Y+(N(de)?"<br"+y.void_element_slash+`>
`:""):"",Ve=`
<div class="attribution">
`+xe+fe+`
</div>`):Ve="","<div"+q+A+">"+V+`
<pre class="content">`+c.$content()+"</pre>"+Ve+`
</div>`}),Xe(le,"$convert_video",function(c){var y,q,R=this,A=B,V=B,Y=B,de=B,fe=B,xe=B,Ve=B,tt=B,ct=B,vt=B,_t=B,wt=B,Dt=B,zt=B,It=B,Mt=B,Ft=B,sr=B,Ot=B,Qt=B,lr=B,er=B,Jt=B,fr=B,vr=B,Mn=B,an=B,pr=B,ar=B,ur=B,Cr=B,nr=B,Nr=B,Qr=B,qr=B,Fr=B,bn=B;switch(A=R.xml_mode,V=N(c.$id())?' id="'+c.$id()+'"':"",Y=["videoblock"],N(c["$attr?"]("float"))&&Y["$<<"](c.$attr("float")),N(c["$attr?"]("align"))&&Y["$<<"]("text-"+c.$attr("align")),N(c.$role())&&Y["$<<"](c.$role()),de=' class="'+Y.$join(" ")+'"',fe=N(c["$title?"]())?`
<div class="title">`+c.$title()+"</div>":"",xe=N(c["$attr?"]("width"))?' width="'+c.$attr("width")+'"':"",Ve=N(c["$attr?"]("height"))?' height="'+c.$attr("height")+'"':"",c.$attr("poster")){case"vimeo":return N((tt=c.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(tt=""+tt+":"),ct=N(c["$attr?"]("start"))?"#at="+c.$attr("start"):"",vt=["?"],q=c.$attr("target").$split("/",2),y=ft(q),_t=y[0]==null?B:y[0],wt=y[1]==null?B:y[1],Dt=N(wt=N(zt=wt)?zt:c.$attr("hash"))?""+(N(zt=vt.$pop())?zt:"&amp;")+"h="+wt:"",It=N(c["$option?"]("autoplay"))?""+(N(zt=vt.$pop())?zt:"&amp;")+"autoplay=1":"",Mt=N(c["$option?"]("loop"))?""+(N(zt=vt.$pop())?zt:"&amp;")+"loop=1":"",Ft=N(c["$option?"]("muted"))?""+(N(zt=vt.$pop())?zt:"&amp;")+"muted=1":"","<div"+V+de+">"+fe+`
<div class="content">
<iframe`+xe+Ve+' src="'+tt+"//player.vimeo.com/video/"+_t+Dt+It+Mt+Ft+ct+'" frameborder="0"'+(N(c["$option?"]("nofullscreen"))?"":R.$append_boolean_attribute("allowfullscreen",A))+`></iframe>
</div>
</div>`;case"youtube":return N((tt=c.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(tt=""+tt+":"),sr=N(c["$option?"]("related"))?1:0,Ot=N(c["$attr?"]("start"))?"&amp;start="+c.$attr("start"):"",Qt=N(c["$attr?"]("end"))?"&amp;end="+c.$attr("end"):"",It=N(c["$option?"]("autoplay"))?"&amp;autoplay=1":"",Mt=N(lr=c["$option?"]("loop"))?"&amp;loop=1":"",er=N(c["$option?"]("muted"))?"&amp;mute=1":"",Jt=N(c["$option?"]("nocontrols"))?"&amp;controls=0":"",N(c["$option?"]("nofullscreen"))?(fr="&amp;fs=0",vr=""):(fr="",vr=R.$append_boolean_attribute("allowfullscreen",A)),Mn=N(c["$option?"]("modest"))?"&amp;modestbranding=1":"",an=N(c["$attr?"]("theme"))?"&amp;theme="+c.$attr("theme"):"",pr=N(c["$attr?"]("lang"))?"&amp;hl="+c.$attr("lang"):"",q=c.$attr("target").$split("/",2),y=ft(q),_t=y[0]==null?B:y[0],ar=y[1]==null?B:y[1],N(ar=N(zt=ar)?zt:c.$attr("list"))?ur="&amp;list="+ar:(q=_t.$split(",",2),y=ft(q),_t=y[0]==null?B:y[0],Cr=y[1]==null?B:y[1],N(Cr=N(zt=Cr)?zt:c.$attr("playlist"))?ur="&amp;playlist="+_t+","+Cr:ur=N(lr)?"&amp;playlist="+_t:""),"<div"+V+de+">"+fe+`
<div class="content">
<iframe`+xe+Ve+' src="'+tt+"//www.youtube.com/embed/"+_t+"?rel="+sr+Ot+Qt+It+Mt+er+Jt+ur+fr+Mn+an+pr+'" frameborder="0"'+vr+`></iframe>
</div>
</div>`;default:return nr=N((Nr=c.$attr("poster"))["$nil_or_empty?"]())?"":' poster="'+c.$media_uri(Nr)+'"',Qr=N((Nr=c.$attr("preload"))["$nil_or_empty?"]())?"":' preload="'+Nr+'"',qr=c.$attr("start"),Fr=c.$attr("end"),bn=N(qr)||N(Fr)?"#t="+(N(zt=qr)?zt:"")+(N(Fr)?","+Fr:""):"","<div"+V+de+">"+fe+`
<div class="content">
<video src="`+c.$media_uri(c.$attr("target"))+bn+'"'+xe+Ve+nr+(N(c["$option?"]("autoplay"))?R.$append_boolean_attribute("autoplay",A):"")+(N(c["$option?"]("muted"))?R.$append_boolean_attribute("muted",A):"")+(N(c["$option?"]("nocontrols"))?"":R.$append_boolean_attribute("controls",A))+(N(c["$option?"]("loop"))?R.$append_boolean_attribute("loop",A):"")+Qr+`>
Your browser does not support the video tag.
</video>
</div>
</div>`}}),Xe(le,"$convert_inline_anchor",function(c){var y=this,q=B,R=B,A=B,V=B,Y=B,de=B,fe=B,xe=B,Ve=B;switch(c.$type()){case"xref":return N(q=c.$attributes()["$[]"]("path"))?(R=y.$append_link_constraint_attrs(c,N(c.$role())?[' class="'+c.$role()+'"']:[]).$join(),A=N(V=c.$text())?V:q):(R=N(c.$role())?' class="'+c.$role()+'"':"",N(A=c.$text())||(I(_e("AbstractNode"),Y=N(V=(y.refs=N(de=y.refs)?de:c.$document().$catalog()["$[]"]("refs"))["$[]"](fe=c.$attributes()["$[]"]("refid")))?V:N(fe["$nil_or_empty?"]())?xe=y.$get_root_document(c):B)?N(y.resolving_xref=N(V=y.resolving_xref)?V:Ve=!0)&&N(Ve)?(N(A=Y.$xreftext(c.$attr("xrefstyle",B,!0)))?N(A["$include?"]("<a"))&&(A=A.$gsub(_e("DropAnchorRx"),"")):A=N(xe)?"[^top]":"["+fe+"]",y.resolving_xref=B):A=N(xe)?"[^top]":"["+fe+"]":A="["+fe+"]")),'<a href="'+c.$target()+'"'+R+">"+A+"</a>";case"ref":return'<a id="'+c.$id()+'"></a>';case"link":return R=N(c.$id())?[' id="'+c.$id()+'"']:[],N(c.$role())&&R["$<<"](' class="'+c.$role()+'"'),N(c["$attr?"]("title"))&&R["$<<"](' title="'+c.$attr("title")+'"'),'<a href="'+c.$target()+'"'+y.$append_link_constraint_attrs(c,R).$join()+">"+c.$text()+"</a>";case"bibref":return'<a id="'+c.$id()+'"></a>['+(N(V=c.$reftext())?V:c.$id())+"]";default:return y.$logger().$warn("unknown anchor type: "+c.$type().$inspect()),B}}),Xe(le,"$convert_inline_break",function(c){var y=this;return""+c.$text()+"<br"+y.void_element_slash+">"}),Xe(le,"$convert_inline_button",function(c){return'<b class="button">'+c.$text()+"</b>"}),Xe(le,"$convert_inline_callout",function(c){var y=this,q=B,R=B;return N(c.$document()["$attr?"]("icons","font"))?'<i class="conum" data-value="'+c.$text()+'"></i><b>('+c.$text()+")</b>":N(c.$document()["$attr?"]("icons"))?(q=c.$icon_uri("callouts/"+c.$text()),'<img src="'+q+'" alt="'+c.$text()+'"'+y.void_element_slash+">"):I(Qe("Array"),R=c.$attributes()["$[]"]("guard"))?'&lt;!--<b class="conum">('+c.$text()+")</b>--&gt;":""+R+'<b class="conum">('+c.$text()+")</b>"}),Xe(le,"$convert_inline_footnote",function(c){var y=B,q=B;return N(y=c.$attr("index"))?W(c.$type(),"xref")?'<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_'+y+'" title="View footnote.">'+y+"</a>]</sup>":(q=N(c.$id())?' id="_footnote_'+c.$id()+'"':"",'<sup class="footnote"'+q+'>[<a id="_footnoteref_'+y+'" class="footnote" href="#_footnotedef_'+y+'" title="View footnote.">'+y+"</a>]</sup>"):W(c.$type(),"xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+c.$text()+"]</sup>":B}),Xe(le,"$convert_inline_image",function(c){var y=this,q=B,R=B,A=B,V=B,Y=B,de=B,fe=B,xe=B,Ve=B,tt=B;return q=c.$target(),W(R=N(A=c.$type())?A:"image","icon")?W(V=c.$document().$attr("icons"),"font")?(Y="fa fa-"+q,N(c["$attr?"]("size"))&&(Y=""+Y+" fa-"+c.$attr("size")),N(c["$attr?"]("flip"))?Y=""+Y+" fa-flip-"+c.$attr("flip"):N(c["$attr?"]("rotate"))&&(Y=""+Y+" fa-rotate-"+c.$attr("rotate")),de=N(c["$attr?"]("title"))?' title="'+c.$attr("title")+'"':"",fe='<i class="'+Y+'"'+de+"></i>"):N(V)?(de=N(c["$attr?"]("width"))?' width="'+c.$attr("width")+'"':"",N(c["$attr?"]("height"))&&(de=""+de+' height="'+c.$attr("height")+'"'),N(c["$attr?"]("title"))&&(de=""+de+' title="'+c.$attr("title")+'"'),fe='<img src="'+c.$icon_uri(q)+'" alt="'+y.$encode_attribute_value(c.$alt())+'"'+de+y.void_element_slash+">"):fe="["+c.$alt()+"&#93;":(de=N(c["$attr?"]("width"))?' width="'+c.$attr("width")+'"':"",N(c["$attr?"]("height"))&&(de=""+de+' height="'+c.$attr("height")+'"'),N(c["$attr?"]("title"))&&(de=""+de+' title="'+c.$attr("title")+'"'),(N(c["$attr?"]("format","svg"))||N(q["$include?"](".svg")))&&N(We(c.$document().$safe(),Qe(_e("SafeMode"),"SECURE")))?N(c["$option?"]("inline"))?fe=N(A=y.$read_svg_contents(c,q))?A:'<span class="alt">'+c.$alt()+"</span>":N(c["$option?"]("interactive"))?(xe=N(c["$attr?"]("fallback"))?'<img src="'+c.$image_uri(c.$attr("fallback"))+'" alt="'+y.$encode_attribute_value(c.$alt())+'"'+de+y.void_element_slash+">":'<span class="alt">'+c.$alt()+"</span>",fe='<object type="image/svg+xml" data="'+c.$image_uri(q)+'"'+de+">"+xe+"</object>"):fe='<img src="'+c.$image_uri(q)+'" alt="'+y.$encode_attribute_value(c.$alt())+'"'+de+y.void_element_slash+">":fe='<img src="'+c.$image_uri(q)+'" alt="'+y.$encode_attribute_value(c.$alt())+'"'+de+y.void_element_slash+">"),N(c["$attr?"]("link"))&&(fe='<a class="image" href="'+c.$attr("link")+'"'+y.$append_link_constraint_attrs(c).$join()+">"+fe+"</a>"),Ve=R,N(tt=c.$role())?Ve=N(c["$attr?"]("float"))?""+Ve+" "+c.$attr("float")+" "+tt:""+Ve+" "+tt:N(c["$attr?"]("float"))&&(Ve=""+Ve+" "+c.$attr("float")),'<span class="'+Ve+'">'+fe+"</span>"}),Xe(le,"$convert_inline_indexterm",function(c){return W(c.$type(),"visible")?c.$text():""}),Xe(le,"$convert_inline_kbd",function(c){var y=B;return W((y=c.$attr("keys")).$size(),1)?"<kbd>"+y["$[]"](0)+"</kbd>":'<span class="keyseq"><kbd>'+y.$join("</kbd>+<kbd>")+"</kbd></span>"}),Xe(le,"$convert_inline_menu",function(c){var y=B,q=B,R=B,A=B,V=B;return y=N(c.$document()["$attr?"]("icons","font"))?'&#160;<i class="fa fa-angle-right caret"></i> ':'&#160;<b class="caret">&#8250;</b> ',q="</b>"+y+'<b class="submenu">',R=c.$attr("menu"),N((A=c.$attr("submenus"))["$empty?"]())?N(V=c.$attr("menuitem"))?'<span class="menuseq"><b class="menu">'+R+"</b>"+y+'<b class="menuitem">'+V+"</b></span>":'<b class="menuref">'+R+"</b>":'<span class="menuseq"><b class="menu">'+R+"</b>"+y+'<b class="submenu">'+A.$join(q)+"</b>"+y+'<b class="menuitem">'+c.$attr("menuitem")+"</b></span>"}),Xe(le,"$convert_inline_quoted",function(c){var y,q,R=B,A=B,V=B,Y=B;return q=_e("QUOTE_TAGS")["$[]"](c.$type()),y=ft(q),R=y[0]==null?B:y[0],A=y[1]==null?B:y[1],V=y[2]==null?B:y[2],N(c.$id())?(Y=N(c.$role())?' class="'+c.$role()+'"':"",N(V)?""+R.$chop()+' id="'+c.$id()+'"'+Y+">"+c.$text()+A:'<span id="'+c.$id()+'"'+Y+">"+R+c.$text()+A+"</span>"):N(c.$role())?N(V)?""+R.$chop()+' class="'+c.$role()+'">'+c.$text()+A:'<span class="'+c.$role()+'">'+R+c.$text()+A+"</span>":""+R+c.$text()+A}),Xe(le,"$read_svg_contents",function(c,y){var q=B,R=B,A=B,V=B;if(N(q=c.$read_contents(y,me(["start","normalize","label","warn_if_empty"],{start:c.$document().$attr("imagesdir"),normalize:!0,label:"SVG",warn_if_empty:!0})))){if(N(q["$empty?"]()))return B;N(q["$start_with?"]("<svg"))||(q=q.$sub(_e("SvgPreambleRx"),"")),R=A=V=B,at(["width","height"],"each",[],function(de){var fe=B,xe=B;if(de==null&&(de=B),!N(c["$attr?"](de)))return B;if(!N(A)){if(W(V=N(fe=V)?fe:N(xe=q.$match(_e("SvgStartTagRx")))?xe:"no_match","no_match"))return B;A=(R=V["$[]"](0)).$gsub(_e("DimensionAttributeRx"),"")}return A=""+A.$chop()+" "+de+'="'+c.$attr(de)+'">'}),N(A)&&(q=""+A+q["$[]"](l.Range.$new(R.$length(),-1,!1)))}return q}),le.$private(),Xe(le,"$append_boolean_attribute",function(c,y){return N(y)?" "+c+'="'+c+'"':" "+c}),Xe(le,"$append_link_constraint_attrs",function(c,y){var q=B,R=B;return y==null&&(y=[]),N(c["$option?"]("nofollow"))&&(q="nofollow"),N(R=c.$attributes()["$[]"]("window"))?(y["$<<"](' target="'+R+'"'),(W(R,"_blank")||N(c["$option?"]("noopener")))&&y["$<<"](N(q)?' rel="'+q+' noopener"':' rel="noopener"')):N(q)&&y["$<<"](' rel="'+q+'"'),y},-2),Xe(le,"$encode_attribute_value",function(c){return N(c["$include?"]('"'))?c.$gsub('"',"&quot;"):c}),Xe(le,"$generate_manname_section",function(c){var y=B,q=B,R=B,A=B,V=B;return y=c.$attr("manname-title","Name"),N(R=c.$sections()["$[]"](0))&&W(q=R.$title(),q.$upcase())&&(y=y.$upcase()),A=N(V=c.$attr("manname-id"))?' id="'+V+'"':"","<h2"+A+">"+y+`</h2>
<div class="sectionbody">
<p>`+c.$attr("mannames").$join(", ")+" - "+c.$attr("manpurpose")+`</p>
</div>`}),Xe(le,"$get_root_document",function(c){for(;N((c=c.$document())["$nested?"]());)c=c.$parent_document();return c}),Xe(le,"$method_missing",function v(c,y){var q,R,A=v.$$p||B,V=this,Y=B;return v.$$p=null,q=lt(arguments,1),R=q,Le((Y=c.$to_s())["$start_with?"]("convert_"))&&N(V["$handles?"](Y))?at(V,"send",["convert_"+Y].concat(ht(R))):O(V,ze(V,"method_missing",v,!1,!0),"method_missing",[c].concat(ht(R)),A)},-2),Xe(le,"$respond_to_missing?",function(c,y){var q=this,R=B,A=B;return lt(arguments,1),N(R=(A=c.$to_s())["$start_with?"]("convert_")["$!"]())?q["$handles?"](A):R},-2)}(ye("Converter"),Qe(ye("Converter"),"Base"),$e)}(J[0],J)},Opal.modules["asciidoctor/extensions"]=function(l){var ce=l.module,oe=l.klass,Q=l.truthy,me=l.hash2,w=l.def,W=l.send,Xe=l.alias,O=l.slice,ze=l.rb_plus,N=l.eqeq,at=l.rb_gt,Re=l.not,Je=l.eqeqeq,Le=l.to_a,He=l.to_ary,gt=l.const_set,We=l.return_val,ft=l.send2,Ze=l.find_super,it=l.NilClass,pt=l.class_variable_set,M=l.class_variable_get,ot=l.regexp,I=l.Class,lt=l.return_ivar,ht=l.rb_lt,J=l.rb_minus,B=l.hash,Qe=[],Ae=l.nil,qe=l.$$$;return l.add_stubs("[]=,config,const_defined?,singleton_class?,include,const_get,extend,enable_dsl,attr_reader,merge,class,update,raise,document,==,doctype,[],+,level,delete,>,casecmp,new,title=,sectname=,special=,fetch,numbered=,attr?,!,key?,special,numbered,id=,generate_id,title,update_attributes,tr,basename,create_block,assign_caption,===,parse_blocks,empty?,include?,sub_attributes,parse,each,define_method,unshift,shift,send,size,receiver,binding,define_singleton_method,instance_exec,to_proc,call,option,content_model,flatten,positional_attributes,default_attributes,respond_to?,to_s,partition,to_i,<<,compact,inspect,resolve_attributes,attr_accessor,to_set,contexts,match?,resolve_regexp,format,method,register,reset,values,groups,arity,activate,add_document_processor,tree_processor,tree_processors?,tree_processors,any?,select,add_syntax_processor,to_sym,instance_variable_get,kind,private,join,map,split,capitalize,instance_variable_set,resolve_args,singleton_class,process_block_given?,source_location,freeze,resolve_class,<,update_config,as_symbol,name,name=,pop,-,-@,next_auto_id,generate_name,each_with_object"),function(Se,$e){var ye=ce(Se,"Asciidoctor"),ne=[ye].concat($e);return function(U,P){var le=ce(U,"Extensions"),ae=[le].concat(P),_e=l.$r(ae);return function(K,v,c){var y=oe(K,v,"Processor"),q=[y].concat(c),R=l.$r(q),A=y.$$prototype;return A.config=Ae,function(V,Y){return w(V,"$config",function(){var fe=this,xe=Ae;return fe.config==null&&(fe.config=Ae),fe.config=Q(xe=fe.config)?xe:me([],{})}),w(V,"$option",function(fe,xe){var Ve,tt=this;return Ve=[fe,xe],W(tt.$config(),"[]=",Ve),Ve[Ve.length-1]}),w(V,"$enable_dsl",function(){var fe=this;return Q(fe["$const_defined?"]("DSL"))?Q(fe["$singleton_class?"]())?fe.$include(fe.$const_get("DSL")):fe.$extend(fe.$const_get("DSL")):Ae}),Xe(V,"use_dsl","enable_dsl")}(l.get_singleton_class(y)),y.$attr_reader("config"),w(y,"$initialize",function(Y){var de=this;return Y==null&&(Y=me([],{})),de.config=de.$class().$config().$merge(Y)},-1),w(y,"$update_config",function(Y){var de=this;return de.config.$update(Y)}),w(y,"$process",function(Y){var de=this;return O(arguments),de.$raise(qe("NotImplementedError"),""+R("Processor")+" subclass "+de.$class()+" must implement the #process method")},-1),w(y,"$create_section",function(Y,de,fe,xe){var Ve,tt,ct=Ae,vt=Ae,_t=Ae,wt=Ae,Dt=Ae,zt=Ae,It=Ae,Mt=Ae,Ft=Ae,sr=Ae;return xe==null&&(xe=me([],{})),ct=Y.$document(),vt=(_t=ct.$doctype())["$=="]("book"),wt=Q(Dt=xe["$[]"]("level"))?Dt:ze(Y.$level(),1),Q(zt=fe.$delete("style"))?Q(vt)&&N(zt,"abstract")?(Ve=["chapter",1],It=Ve[0],wt=Ve[1]):(Ve=[zt,!0],It=Ve[0],Mt=Ve[1],N(wt,0)&&(wt=1)):Q(vt)?It=N(wt,0)?"part":Q(at(wt,1))?"section":"chapter":N(_t,"manpage")&&N(de.$casecmp("synopsis"),0)?(Ve=["synopsis",!0],It=Ve[0],Mt=Ve[1]):It="section",Ft=R("Section").$new(Y,wt),Ve=[de,It],tt=[Ve[0]],W(Ft,"title=",tt),tt[tt.length-1],tt=[Ve[1]],W(Ft,"sectname=",tt),tt[tt.length-1],Q(Mt)?(Ft["$special="](!0),Q(xe.$fetch("numbered",zt["$=="]("appendix")))?Ft["$numbered="](!0):Re(xe["$key?"]("numbered"))&&Q(ct["$attr?"]("sectnums","all"))&&Ft["$numbered="](Q(vt)&&N(wt,1)?"chapter":!0)):Q(at(wt,0))?Q(xe.$fetch("numbered",ct["$attr?"]("sectnums")))&&Ft["$numbered="](Q(Ft.$special())?Q(Dt=Y.$numbered())||Dt:!0):Q(xe.$fetch("numbered",Q(Dt=vt)?ct["$attr?"]("partnums"):Dt))&&Ft["$numbered="](!0),N(sr=fe["$[]"]("id"),!1)?fe.$delete("id"):Ft["$id="]((Ve=["id",Q(Dt=sr)?Dt:Q(ct["$attr?"]("sectids"))?R("Section").$generate_id(Ft.$title(),ct):Ae],W(fe,"[]=",Ve),Ve[Ve.length-1])),Ft.$update_attributes(fe),Ft},-4),w(y,"$create_block",function(Y,de,fe,xe,Ve){return Ve==null&&(Ve=me([],{})),R("Block").$new(Y,de,me(["source","attributes"],{source:fe,attributes:xe}).$merge(Ve))},-5),w(y,"$create_list",function(Y,de,fe){var xe=Ae;return fe==null&&(fe=Ae),xe=R("List").$new(Y,de),Q(fe)&&xe.$update_attributes(fe),xe},-3),w(y,"$create_list_item",function(Y,de){return de==null&&(de=Ae),R("ListItem").$new(Y,de)},-2),w(y,"$create_image_block",function(Y,de,fe){var xe,Ve=this,tt=Ae,ct=Ae,vt=Ae;return fe==null&&(fe=me([],{})),Q(tt=de["$[]"]("target"))||Ve.$raise(qe("ArgumentError"),"Unable to create an image block, target attribute is required"),Q(de["$[]"]("alt"))||de["$[]="]("alt",(xe=["default-alt",R("Helpers").$basename(tt,!0).$tr("_-"," ")],W(de,"[]=",xe),xe[xe.length-1])),ct=Q(de["$key?"]("title"))?de.$delete("title"):Ae,vt=Ve.$create_block(Y,"image",Ae,de,fe),Q(ct)&&(vt["$title="](ct),vt.$assign_caption(de.$delete("caption"),"figure")),vt},-3),w(y,"$create_inline",function(Y,de,fe,xe){return xe==null&&(xe=me([],{})),R("Inline").$new(Y,de,fe,N(de,"quoted")?me(["type"],{type:"unquoted"}).$merge(xe):xe)},-4),w(y,"$parse_content",function(Y,de,fe){var xe=Ae;return fe==null&&(fe=Ae),xe=Je(R("Reader"),de)?de:R("Reader").$new(de),R("Parser").$parse_blocks(xe,Y,fe),Y},-3),w(y,"$parse_attributes",function(Y,de,fe){var xe=Ae;return fe==null&&(fe=me([],{})),Q(Q(de)?de["$empty?"]():!0)?me([],{}):(Q(fe["$[]"]("sub_attributes"))&&Q(de["$include?"](R("ATTR_REF_HEAD")))&&(de=Y.$sub_attributes(de)),R("AttributeList").$new(de).$parse(Q(xe=fe["$[]"]("positional_attributes"))?xe:[]))},-3),W([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"],["create_inline_pass","create_inline","quoted"]],"each",[],function V(Y,de,fe){var xe=V.$$s==null?this:V.$$s;return Y==null&&(Y=Ae),de==null&&(de=Ae),fe==null&&(fe=Ae),W(xe,"define_method",[Y],function Ve(tt){var ct,vt,_t=Ve.$$s==null?this:Ve.$$s;return ct=O(arguments),vt=ct,vt.$unshift(vt.$shift(),fe),W(_t,"send",[de].concat(Le(vt)))},{$$arity:-1,$$s:xe})},{$$s:y})}(ae[0],null,ae),function(K){var v=ce(K,"ProcessorDsl");return w(v,"$option",function(y,q){var R,A=this;return R=[y,q],W(A.$config(),"[]=",R),R[R.length-1]}),w(v,"$process",function c(y){var q=c.$$p||Ae,R,A,V,Y=this,de=Ae;return Y.process_block==null&&(Y.process_block=Ae),c.$$p=null,R=O(arguments),A=R,q!==Ae?(Q(A["$empty?"]())||Y.$raise(qe("ArgumentError"),"wrong number of arguments (given "+A.$size()+", expected 0)"),Q(q.$binding())&&N(Y,q.$binding().$receiver())||(de=Y,W(q,"define_singleton_method",["call"],function(xe){var Ve,tt;return Ve=O(arguments),tt=Ve,W(de,"instance_exec",Le(tt),q.$to_proc())},-1)),Y.process_block=q):Q((V=Y.process_block,V!=null&&V!==Ae?"instance-variable":Ae))?W(Y.process_block,"call",Le(A)):Y.$raise(qe("NotImplementedError"),""+Y.$class()+" #process method called before being registered")},-1),w(v,"$process_block_given?",function(){var y,q=this;return y=q.process_block,y!=null&&y!==Ae?"instance-variable":Ae})}(ae[0]),function(K,v){var c=ce(K,"DocumentProcessorDsl"),y=[c].concat(v),q=l.$r(y);return c.$include(q("ProcessorDsl")),w(c,"$prefer",function(){var A=this;return A.$option("position",">>")})}(ae[0],ae),function(K,v){var c=ce(K,"SyntaxProcessorDsl"),y=[c].concat(v),q=l.$r(y);return c.$include(q("ProcessorDsl")),w(c,"$named",function(A){var V=this;return Je(q("Processor"),V)?V.name=A:V.$option("name",A)}),w(c,"$content_model",function(A){var V=this;return V.$option("content_model",A)}),Xe(c,"parse_content_as","content_model"),w(c,"$positional_attributes",function(A){var V,Y,de=this;return V=O(arguments),Y=V,de.$option("positional_attrs",Y.$flatten())},-1),Xe(c,"name_positional_attributes","positional_attributes"),Xe(c,"positional_attrs","positional_attributes"),w(c,"$default_attributes",function(A){var V=this;return V.$option("default_attrs",A)}),Xe(c,"default_attrs","default_attributes"),w(c,"$resolve_attributes",function(A){var V,Y,de,fe=this,xe=Ae,Ve=Ae,tt=Ae;return V=O(arguments),Y=V,Q(at(Y.$size(),1))||Q((Y=Y.$fetch(0,!0))["$respond_to?"]("to_sym"))&&(Y=[Y]),Je(!0,xe=Y)?(fe.$option("positional_attrs",[]),fe.$option("default_attrs",me([],{}))):Je(qe("Array"),xe)?(de=[[],me([],{})],Ve=de[0],tt=de[1],W(Y,"each",[],function(vt){var _t,wt,Dt=Ae,zt=Ae,It=Ae;return vt==null&&(vt=Ae),Q((vt=vt.$to_s())["$include?"]("="))?(wt=vt.$partition("="),_t=He(wt),Dt=_t[0]==null?Ae:_t[0],_t[1]==null||_t[1],zt=_t[2]==null?Ae:_t[2],Q(Dt["$include?"](":"))&&(wt=Dt.$partition(":"),_t=He(wt),It=_t[0]==null?Ae:_t[0],_t[1]==null||_t[1],Dt=_t[2]==null?Ae:_t[2],It=N(It,"@")?Ve.$size():It.$to_i(),Ve["$[]="](It,Dt)),_t=[Dt,zt],W(tt,"[]=",_t),_t[_t.length-1]):Q(vt["$include?"](":"))?(wt=vt.$partition(":"),_t=He(wt),It=_t[0]==null?Ae:_t[0],_t[1]==null||_t[1],Dt=_t[2]==null?Ae:_t[2],It=N(It,"@")?Ve.$size():It.$to_i(),_t=[It,Dt],W(Ve,"[]=",_t),_t[_t.length-1]):Ve["$<<"](vt)}),fe.$option("positional_attrs",Ve.$compact()),fe.$option("default_attrs",tt)):Je(qe("Hash"),xe)?(de=[[],me([],{})],Ve=de[0],tt=de[1],W(Y,"each",[],function(vt,_t){var wt,Dt,zt=Ae,It=Ae;return vt==null&&(vt=Ae),_t==null&&(_t=Ae),Q((zt=vt.$to_s())["$include?"](":"))&&(Dt=zt.$partition(":"),wt=He(Dt),It=wt[0]==null?Ae:wt[0],wt[1]==null||wt[1],zt=wt[2]==null?Ae:wt[2],It=N(It,"@")?Ve.$size():It.$to_i(),Ve["$[]="](It,zt)),Q(_t)?(wt=[zt,_t],W(tt,"[]=",wt),wt[wt.length-1]):Ae}),fe.$option("positional_attrs",Ve.$compact()),fe.$option("default_attrs",tt)):fe.$raise(qe("ArgumentError"),"unsupported attributes specification for macro: "+Y.$inspect())},-1),Xe(c,"resolves_attributes","resolve_attributes")}(ae[0],ae),function(K,v,c){var y=oe(K,v,"Preprocessor"),q=[y].concat(c),R=l.$r(q);return w(y,"$process",function(V,Y){var de=this;return de.$raise(qe("NotImplementedError"),""+R("Preprocessor")+" subclass "+de.$class()+" must implement the #process method")})}(ae[0],_e("Processor"),ae),gt(_e("Preprocessor"),"DSL",_e("DocumentProcessorDsl")),function(K,v,c){var y=oe(K,v,"TreeProcessor"),q=[y].concat(c),R=l.$r(q);return w(y,"$process",function(V){var Y=this;return Y.$raise(qe("NotImplementedError"),""+R("TreeProcessor")+" subclass "+Y.$class()+" must implement the #process method")})}(ae[0],_e("Processor"),ae),gt(_e("TreeProcessor"),"DSL",_e("DocumentProcessorDsl")),gt(ae[0],"Treeprocessor",_e("TreeProcessor")),function(K,v,c){var y=oe(K,v,"Postprocessor"),q=[y].concat(c),R=l.$r(q);return w(y,"$process",function(V,Y){var de=this;return de.$raise(qe("NotImplementedError"),""+R("Postprocessor")+" subclass "+de.$class()+" must implement the #process method")})}(ae[0],_e("Processor"),ae),gt(_e("Postprocessor"),"DSL",_e("DocumentProcessorDsl")),function(K,v,c){var y=oe(K,v,"IncludeProcessor"),q=[y].concat(c),R=l.$r(q);return w(y,"$process",function(V,Y,de,fe){var xe=this;return xe.$raise(qe("NotImplementedError"),""+R("IncludeProcessor")+" subclass "+xe.$class()+" must implement the #process method")}),w(y,"$handles?",We(!0))}(ae[0],_e("Processor"),ae),function(K,v){var c=ce(K,"IncludeProcessorDsl"),y=[c].concat(v),q=l.$r(y);return c.$include(q("DocumentProcessorDsl")),w(c,"$handles?",function R(A){var V=R.$$p||Ae,Y,de,fe,xe=this;return xe.handles_block==null&&(xe.handles_block=Ae),R.$$p=null,Y=O(arguments),de=Y,V!==Ae?(Q(de["$empty?"]())||xe.$raise(qe("ArgumentError"),"wrong number of arguments (given "+de.$size()+", expected 0)"),xe.handles_block=V):Q((fe=xe.handles_block,fe!=null&&fe!==Ae?"instance-variable":Ae))?xe.handles_block.$call(de["$[]"](0)):!0},-1)}(ae[0],ae),gt(_e("IncludeProcessor"),"DSL",_e("IncludeProcessorDsl")),function(K,v,c){var y=oe(K,v,"DocinfoProcessor"),q=[y].concat(c),R=l.$r(q),A=y.$$prototype;return A.config=Ae,w(y,"$initialize",function V(Y){var de;V.$$p;var fe=this,xe=Ae;return V.$$p=null,Y==null&&(Y=me([],{})),ft(fe,Ze(fe,"initialize",V,!1,!0),"initialize",[Y],null),Q(xe=fe.config["$[]"]("location"))?xe:(de=["location","head"],W(fe.config,"[]=",de),de[de.length-1])},-1),w(y,"$process",function(Y){var de=this;return de.$raise(qe("NotImplementedError"),""+R("DocinfoProcessor")+" subclass "+de.$class()+" must implement the #process method")})}(ae[0],_e("Processor"),ae),function(K,v){var c=ce(K,"DocinfoProcessorDsl"),y=[c].concat(v),q=l.$r(y);return c.$include(q("DocumentProcessorDsl")),w(c,"$at_location",function(A){var V=this;return V.$option("location",A)})}(ae[0],ae),gt(_e("DocinfoProcessor"),"DSL",_e("DocinfoProcessorDsl")),function(K,v,c){var y=oe(K,v,"BlockProcessor"),q=[y].concat(c),R=l.$r(q),A=y.$$prototype;return A.config=Ae,y.$attr_accessor("name"),w(y,"$initialize",function V(Y,de){var fe;V.$$p;var xe=this,Ve=Ae;return V.$$p=null,Y==null&&(Y=Ae),de==null&&(de=me([],{})),ft(xe,Ze(xe,"initialize",V,!1,!0),"initialize",[de],null),xe.name=Q(Ve=Y)?Ve:xe.config["$[]"]("name"),Je(it,Ve=xe.config["$[]"]("contexts"))?Q(xe.config["$[]"]("contexts"))||xe.config["$[]="]("contexts",["open","paragraph"].$to_set()):Je(qe("Symbol"),Ve)?xe.config["$[]="]("contexts",[xe.config["$[]"]("contexts")].$to_set()):xe.config["$[]="]("contexts",xe.config["$[]"]("contexts").$to_set()),Q(Ve=xe.config["$[]"]("content_model"))?Ve:(fe=["content_model","compound"],W(xe.config,"[]=",fe),fe[fe.length-1])},-1),w(y,"$process",function(Y,de,fe){var xe=this;return xe.$raise(qe("NotImplementedError"),""+R("BlockProcessor")+" subclass "+xe.$class()+" must implement the #process method")})}(ae[0],_e("Processor"),ae),function(K,v){var c=ce(K,"BlockProcessorDsl"),y=[c].concat(v),q=l.$r(y);return c.$include(q("SyntaxProcessorDsl")),w(c,"$contexts",function(A){var V,Y,de=this;return V=O(arguments),Y=V,de.$option("contexts",Y.$flatten().$to_set())},-1),Xe(c,"on_contexts","contexts"),Xe(c,"on_context","contexts"),Xe(c,"bind_to","contexts")}(ae[0],ae),gt(_e("BlockProcessor"),"DSL",_e("BlockProcessorDsl")),function(K,v,c){var y=oe(K,v,"MacroProcessor"),q=[y].concat(c),R=l.$r(q),A=y.$$prototype;return A.config=Ae,y.$attr_accessor("name"),w(y,"$initialize",function V(Y,de){var fe;V.$$p;var xe=this,Ve=Ae;return V.$$p=null,Y==null&&(Y=Ae),de==null&&(de=me([],{})),ft(xe,Ze(xe,"initialize",V,!1,!0),"initialize",[de],null),xe.name=Q(Ve=Y)?Ve:xe.config["$[]"]("name"),Q(Ve=xe.config["$[]"]("content_model"))?Ve:(fe=["content_model","attributes"],W(xe.config,"[]=",fe),fe[fe.length-1])},-1),w(y,"$process",function(Y,de,fe){var xe=this;return xe.$raise(qe("NotImplementedError"),""+R("MacroProcessor")+" subclass "+xe.$class()+" must implement the #process method")})}(ae[0],_e("Processor"),ae),function(K,v){var c=ce(K,"MacroProcessorDsl"),y=[c].concat(v),q=l.$r(y);return c.$include(q("SyntaxProcessorDsl")),w(c,"$resolve_attributes",function R(A){var V,Y,de=R.$$p||Ae,fe=this;return R.$$p=null,V=O(arguments),Y=V,N(Y.$size(),1)&&Re(Y["$[]"](0))?fe.$option("content_model","text"):(ft(fe,Ze(fe,"resolve_attributes",R,!1,!0),"resolve_attributes",Le(Y),de),fe.$option("content_model","attributes"))},-1),Xe(c,"resolves_attributes","resolve_attributes")}(ae[0],ae),function(K,v,c){var y=oe(K,v,"BlockMacroProcessor"),q=[y].concat(c),R=l.$r(q),A=y.$$prototype;return A.name=Ae,w(y,"$name",function(){var Y=this;return Q(R("MacroNameRx")["$match?"](Y.name.$to_s()))||Y.$raise(qe("ArgumentError"),"invalid name for block macro: "+Y.name),Y.name})}(ae[0],_e("MacroProcessor"),ae),gt(_e("BlockMacroProcessor"),"DSL",_e("MacroProcessorDsl")),function(K,v,c){var y=oe(K,v,"InlineMacroProcessor"),q=[y].concat(c),R=l.$r(q),A=y.$$prototype;return A.config=A.name=Ae,pt(q[0],"@@rx_cache",me([],{})),w(y,"$regexp",function(){var Y,de=this,fe=Ae;return Q(fe=de.config["$[]"]("regexp"))?fe:(Y=["regexp",de.$resolve_regexp(de.name.$to_s(),de.config["$[]"]("format"))],W(de.config,"[]=",Y),Y[Y.length-1])}),w(y,"$resolve_regexp",function(Y,de){var fe,xe=this,Ve=Ae;return Q(R("MacroNameRx")["$match?"](Y))||xe.$raise(qe("ArgumentError"),"invalid name for inline macro: "+Y),Q(Ve=M(q[0],"@@rx_cache",!1)["$[]"]([Y,de]))?Ve:(fe=[[Y,de],ot(["\\\\?",Y,":",N(de,"short")?"(){0}":"(\\S+?)","\\[(|",R("CC_ANY"),"*?[^\\\\])\\]"])],W(M(q[0],"@@rx_cache",!1),"[]=",fe),fe[fe.length-1])})}(ae[0],_e("MacroProcessor"),ae),function(K,v){var c=ce(K,"InlineMacroProcessorDsl"),y=[c].concat(v),q=l.$r(y);return c.$include(q("MacroProcessorDsl")),w(c,"$format",function(A){var V=this;return V.$option("format",A)}),Xe(c,"match_format","format"),Xe(c,"using_format","format"),w(c,"$match",function(A){var V=this;return V.$option("regexp",A)})}(ae[0],ae),gt(_e("InlineMacroProcessor"),"DSL",_e("InlineMacroProcessorDsl")),function(K,v){var c=oe(K,v,"Extension");return c.$attr_reader("kind"),c.$attr_reader("config"),c.$attr_reader("instance"),w(c,"$initialize",function(q,R,A){var V=this;return V.kind=q,V.instance=R,V.config=A})}(ae[0],null),function(K,v){var c=oe(K,v,"ProcessorExtension");return c.$attr_reader("process_method"),w(c,"$initialize",function y(q,R,A){y.$$p;var V=this,Y=Ae;return y.$$p=null,A==null&&(A=Ae),ft(V,Ze(V,"initialize",y,!1,!0),"initialize",[q,R,R.$config()],null),V.process_method=Q(Y=A)?Y:R.$method("process")},-3)}(ae[0],_e("Extension")),function(K,v,c){var y=oe(K,v,"Group"),q=[y].concat(c);return function(R,A){var V=[R].concat(A),Y=l.$r(V);return w(R,"$register",function(fe){var xe=this;return fe==null&&(fe=Ae),Y("Extensions").$register(fe,xe)},-1)}(l.get_singleton_class(y),q),w(y,"$activate",function(A){var V=this;return V.$raise(qe("NotImplementedError"))})}(ae[0],null,ae),function(K,v,c){var y=oe(K,v,"Registry"),q=[y].concat(c),R=l.$r(q),A=y.$$prototype;return A.document=A.groups=A.preprocessor_extensions=A.tree_processor_extensions=A.postprocessor_extensions=A.include_processor_extensions=A.docinfo_processor_extensions=A.block_extensions=A.block_macro_extensions=A.inline_macro_extensions=Ae,y.$attr_reader("document"),y.$attr_reader("groups"),w(y,"$initialize",function(Y){var de=this;return Y==null&&(Y=me([],{})),de.groups=Y,de.$reset(),de.preprocessor_extensions=de.tree_processor_extensions=de.postprocessor_extensions=de.include_processor_extensions=de.docinfo_processor_extensions=de.block_extensions=de.block_macro_extensions=de.inline_macro_extensions=Ae,de.document=Ae},-1),w(y,"$activate",function(Y){var de=this,fe=Ae;return Q(de.document)&&de.$reset(),de.document=Y,Q((fe=ze(R("Extensions").$groups().$values(),de.groups.$values()))["$empty?"]())||W(fe,"each",[],function xe(Ve){var tt=xe.$$s==null?this:xe.$$s,ct=Ae;if(Ve==null&&(Ve=Ae),Je(qe("Proc"),ct=Ve))switch(Ve.$arity()){case 0:case-1:return W(tt,"instance_exec",[],Ve.$to_proc());case 1:return Ve.$call(tt);default:return Ae}else return Je(I,ct)?Ve.$new().$activate(tt):Ve.$activate(tt)},{$$s:de}),de}),w(y,"$preprocessor",function V(Y){var de=V.$$p||Ae,fe,xe,Ve=this;return V.$$p=null,fe=O(arguments),xe=fe,W(Ve,"add_document_processor",["preprocessor",xe],de.$to_proc())},-1),w(y,"$preprocessors?",function(){var Y=this;return Y.preprocessor_extensions["$!"]()["$!"]()}),w(y,"$preprocessors",lt("preprocessor_extensions")),w(y,"$tree_processor",function V(Y){var de=V.$$p||Ae,fe,xe,Ve=this;return V.$$p=null,fe=O(arguments),xe=fe,W(Ve,"add_document_processor",["tree_processor",xe],de.$to_proc())},-1),w(y,"$tree_processors?",function(){var Y=this;return Y.tree_processor_extensions["$!"]()["$!"]()}),w(y,"$tree_processors",lt("tree_processor_extensions")),Xe(y,"treeprocessor","tree_processor"),Xe(y,"treeprocessors?","tree_processors?"),Xe(y,"treeprocessors","tree_processors"),w(y,"$postprocessor",function V(Y){var de=V.$$p||Ae,fe,xe,Ve=this;return V.$$p=null,fe=O(arguments),xe=fe,W(Ve,"add_document_processor",["postprocessor",xe],de.$to_proc())},-1),w(y,"$postprocessors?",function(){var Y=this;return Y.postprocessor_extensions["$!"]()["$!"]()}),w(y,"$postprocessors",lt("postprocessor_extensions")),w(y,"$include_processor",function V(Y){var de=V.$$p||Ae,fe,xe,Ve=this;return V.$$p=null,fe=O(arguments),xe=fe,W(Ve,"add_document_processor",["include_processor",xe],de.$to_proc())},-1),w(y,"$include_processors?",function(){var Y=this;return Y.include_processor_extensions["$!"]()["$!"]()}),w(y,"$include_processors",lt("include_processor_extensions")),w(y,"$docinfo_processor",function V(Y){var de=V.$$p||Ae,fe,xe,Ve=this;return V.$$p=null,fe=O(arguments),xe=fe,W(Ve,"add_document_processor",["docinfo_processor",xe],de.$to_proc())},-1),w(y,"$docinfo_processors?",function(Y){var de=this;return Y==null&&(Y=Ae),Q(de.docinfo_processor_extensions)?Q(Y)?W(de.docinfo_processor_extensions,"any?",[],function(xe){return xe==null&&(xe=Ae),xe.$config()["$[]"]("location")["$=="](Y)}):!0:!1},-1),w(y,"$docinfo_processors",function(Y){var de=this;return Y==null&&(Y=Ae),Q(de.docinfo_processor_extensions)?Q(Y)?W(de.docinfo_processor_extensions,"select",[],function(xe){return xe==null&&(xe=Ae),xe.$config()["$[]"]("location")["$=="](Y)}):de.docinfo_processor_extensions:Ae},-1),w(y,"$block",function V(Y){var de=V.$$p||Ae,fe,xe,Ve=this;return V.$$p=null,fe=O(arguments),xe=fe,W(Ve,"add_syntax_processor",["block",xe],de.$to_proc())},-1),w(y,"$blocks?",function(){var Y=this;return Y.block_extensions["$!"]()["$!"]()}),w(y,"$registered_for_block?",function(Y,de){var fe=this,xe=Ae;return Q(xe=fe.block_extensions["$[]"](Y.$to_sym()))&&Q(xe.$config()["$[]"]("contexts")["$include?"](de))?xe:!1}),w(y,"$find_block_extension",function(Y){var de=this;return de.block_extensions["$[]"](Y.$to_sym())}),w(y,"$block_macro",function V(Y){var de=V.$$p||Ae,fe,xe,Ve=this;return V.$$p=null,fe=O(arguments),xe=fe,W(Ve,"add_syntax_processor",["block_macro",xe],de.$to_proc())},-1),w(y,"$block_macros?",function(){var Y=this;return Y.block_macro_extensions["$!"]()["$!"]()}),w(y,"$registered_for_block_macro?",function(Y){var de=this,fe=Ae;return Q(fe=de.block_macro_extensions["$[]"](Y.$to_sym()))?fe:!1}),w(y,"$find_block_macro_extension",function(Y){var de=this;return de.block_macro_extensions["$[]"](Y.$to_sym())}),w(y,"$inline_macro",function V(Y){var de=V.$$p||Ae,fe,xe,Ve=this;return V.$$p=null,fe=O(arguments),xe=fe,W(Ve,"add_syntax_processor",["inline_macro",xe],de.$to_proc())},-1),w(y,"$inline_macros?",function(){var Y=this;return Y.inline_macro_extensions["$!"]()["$!"]()}),w(y,"$registered_for_inline_macro?",function(Y){var de=this,fe=Ae;return Q(fe=de.inline_macro_extensions["$[]"](Y.$to_sym()))?fe:!1}),w(y,"$find_inline_macro_extension",function(Y){var de=this;return de.inline_macro_extensions["$[]"](Y.$to_sym())}),w(y,"$inline_macros",function(){var Y=this;return Y.inline_macro_extensions.$values()}),w(y,"$prefer",function V(Y){var de=V.$$p||Ae,fe,xe,Ve=this,tt=Ae,ct=Ae,vt=Ae;return V.$$p=null,fe=O(arguments),xe=fe,tt=Je(R("ProcessorExtension"),ct=xe.$shift())?ct:W(Ve,"send",[ct].concat(Le(xe)),de.$to_proc()),vt=Ve.$instance_variable_get(("@"+tt.$kind()+"_extensions").$to_sym()),vt.$unshift(vt.$delete(tt)),tt},-1),y.$private(),w(y,"$add_document_processor",function V(Y,de){var fe=V.$$p||Ae,xe,Ve,tt=this,ct=Ae,vt=Ae,_t=Ae,wt=Ae,Dt=Ae,zt=Ae,It=Ae,Mt=Ae,Ft=Ae,sr=Ae,Ot=Ae;return V.$$p=null,ct=Y.$to_s().$tr("_"," "),vt=W(ct.$split(),"map",[],function(lr){return lr==null&&(lr=Ae),lr.$capitalize()}).$join().$to_sym(),_t=R("Extensions").$const_get(vt,!1),wt=Q(qe("::","AsciidoctorJ","skip_raise")?"constant":Ae)?qe(qe("AsciidoctorJ"),"Extensions").$const_get(vt,!1):Ae,Dt=Q(zt=tt.$instance_variable_get(("@"+Y+"_extensions").$to_sym()))?zt:tt.$instance_variable_set(("@"+Y+"_extensions").$to_sym(),[]),fe!==Ae?(It=tt.$resolve_args(de,1),(Mt=_t.$new(It)).$singleton_class().$enable_dsl(),N(fe.$arity(),0)?W(Mt,"instance_exec",[],fe.$to_proc()):l.yield1(fe,Mt),Q(Mt["$process_block_given?"]())||tt.$raise(qe("NoMethodError"),"No block specified to process "+ct+" extension at "+fe.$source_location().$join(":")),Mt.$freeze(),Ft=R("ProcessorExtension").$new(Y,Mt)):(Ve=tt.$resolve_args(de,2),xe=He(Ve),Mt=xe[0]==null?Ae:xe[0],It=xe[1]==null?Ae:xe[1],Q(sr=R("Helpers").$resolve_class(Mt))?(Q(ht(sr,_t))||Q(wt)&&Q(ht(sr,wt))||tt.$raise(qe("ArgumentError"),"Invalid type for "+ct+" extension: "+Mt),Ot=sr.$new(It),Ot.$freeze(),Ft=R("ProcessorExtension").$new(Y,Ot)):Je(_t,Mt)||Q(wt)&&Je(wt,Mt)?(Mt.$update_config(It),Mt.$freeze(),Ft=R("ProcessorExtension").$new(Y,Mt)):tt.$raise(qe("ArgumentError"),"Invalid arguments specified for registering "+ct+" extension: "+de)),N(Ft.$config()["$[]"]("position"),">>")?Dt.$unshift(Ft):Dt["$<<"](Ft),Ft}),w(y,"$add_syntax_processor",function V(Y,de){var fe=V.$$p||Ae,xe,Ve,tt=this,ct=Ae,vt=Ae,_t=Ae,wt=Ae,Dt=Ae,zt=Ae,It=Ae,Mt=Ae,Ft=Ae,sr=Ae,Ot=Ae;return V.$$p=null,ct=Y.$to_s().$tr("_"," "),vt=W(ct.$split(),"map",[],function(lr){return lr==null&&(lr=Ae),lr.$capitalize()})["$<<"]("Processor").$join().$to_sym(),_t=R("Extensions").$const_get(vt,!1),wt=Q(qe("::","AsciidoctorJ","skip_raise")?"constant":Ae)?qe(qe("AsciidoctorJ"),"Extensions").$const_get(vt,!1):Ae,Dt=Q(zt=tt.$instance_variable_get(("@"+Y+"_extensions").$to_sym()))?zt:tt.$instance_variable_set(("@"+Y+"_extensions").$to_sym(),me([],{})),fe!==Ae?(Ve=tt.$resolve_args(de,2),xe=He(Ve),It=xe[0]==null?Ae:xe[0],Mt=xe[1]==null?Ae:xe[1],(Ft=_t.$new(tt.$as_symbol(It),Mt)).$singleton_class().$enable_dsl(),N(fe.$arity(),0)?W(Ft,"instance_exec",[],fe.$to_proc()):l.yield1(fe,Ft),Q(It=tt.$as_symbol(Ft.$name()))||tt.$raise(qe("ArgumentError"),"No name specified for "+ct+" extension at "+fe.$source_location().$join(":")),Q(Ft["$process_block_given?"]())||tt.$raise(qe("NoMethodError"),"No block specified to process "+ct+" extension at "+fe.$source_location().$join(":")),Ft.$freeze(),xe=[It,R("ProcessorExtension").$new(Y,Ft)],W(Dt,"[]=",xe),xe[xe.length-1]):(Ve=tt.$resolve_args(de,3),xe=He(Ve),Ft=xe[0]==null?Ae:xe[0],It=xe[1]==null?Ae:xe[1],Mt=xe[2]==null?Ae:xe[2],Q(sr=R("Helpers").$resolve_class(Ft))?(Q(ht(sr,_t))||Q(wt)&&Q(ht(sr,wt))||tt.$raise(qe("ArgumentError"),"Class specified for "+ct+" extension does not inherit from "+_t+": "+Ft),Ot=sr.$new(tt.$as_symbol(It),Mt),Q(It=tt.$as_symbol(Ot.$name()))||tt.$raise(qe("ArgumentError"),"No name specified for "+ct+" extension: "+Ft),Ot.$freeze(),xe=[It,R("ProcessorExtension").$new(Y,Ot)],W(Dt,"[]=",xe),xe[xe.length-1]):Je(_t,Ft)||Q(wt)&&Je(wt,Ft)?(Ft.$update_config(Mt),Q(It=Q(It)?(xe=[tt.$as_symbol(It)],W(Ft,"name=",xe),xe[xe.length-1]):tt.$as_symbol(Ft.$name()))||tt.$raise(qe("ArgumentError"),"No name specified for "+ct+" extension: "+Ft),Ft.$freeze(),xe=[It,R("ProcessorExtension").$new(Y,Ft)],W(Dt,"[]=",xe),xe[xe.length-1]):tt.$raise(qe("ArgumentError"),"Invalid arguments specified for registering "+ct+" extension: "+de))}),w(y,"$reset",function(){var Y=this;return Y.preprocessor_extensions=Y.tree_processor_extensions=Y.postprocessor_extensions=Y.include_processor_extensions=Y.docinfo_processor_extensions=Y.block_extensions=Y.block_macro_extensions=Y.inline_macro_extensions=Ae,Y.document=Ae}),w(y,"$resolve_args",function(Y,de){var fe=Ae,xe=Ae;return fe=Je(qe("Hash"),Y["$[]"](-1))?Y.$pop():me([],{}),N(de,1)?fe:(Q(at(xe=J(J(de,1),Y.$size()),0))?Y=ze(Y,qe("Array").$new(xe)):Q(ht(xe,0))&&Y.$pop(xe["$-@"]()),Y["$<<"](fe),Y)}),w(y,"$as_symbol",function(Y){return Q(Y)?Y.$to_sym():Ae})}(ae[0],null,ae),function(K,v){var c=[K].concat(v),y=l.$r(c);return w(K,"$generate_name",function(){var R=this;return"extgrp"+R.$next_auto_id()}),w(K,"$next_auto_id",function(){var R=this,A=Ae;return R.auto_id==null&&(R.auto_id=Ae),R.auto_id=Q(A=R.auto_id)?A:-1,R.auto_id=ze(R.auto_id,1)}),w(K,"$groups",function(){var R=this,A=Ae;return R.groups==null&&(R.groups=Ae),R.groups=Q(A=R.groups)?A:me([],{})}),w(K,"$create",function q(R){var A=q.$$p||Ae,V=this,Y=Ae;return q.$$p=null,R==null&&(R=Ae),A!==Ae?y("Registry").$new(B(Q(Y=R)?Y:V.$generate_name(),A)):y("Registry").$new()},-1),w(K,"$register",function q(R){var A=q.$$p||Ae,V,Y,de,fe=this,xe=Ae,Ve=Ae,tt=Ae,ct=Ae,vt=Ae;return q.$$p=null,V=O(arguments),Y=V,xe=Y.$size(),A!==Ae?Ve=A:Q(tt=Y.$pop())?Ve=Q(ct=y("Helpers").$resolve_class(tt))?ct:tt:fe.$raise(qe("ArgumentError"),"Extension group to register not specified"),vt=Q(ct=Y.$pop())?ct:fe.$generate_name(),Q(Y["$empty?"]())||fe.$raise(qe("ArgumentError"),"Wrong number of arguments ("+xe+" for 1..2)"),de=[vt.$to_sym(),Ve],W(fe.$groups(),"[]=",de),de[de.length-1]},-1),w(K,"$unregister_all",function(){var R=this;return R.groups=me([],{}),Ae}),w(K,"$unregister",function(R){var A,V,Y=this;return A=O(arguments),V=A,W(V,"each_with_object",[Y.$groups()],function(fe,xe){return fe==null&&(fe=Ae),xe==null&&(xe=Ae),xe.$delete(fe.$to_sym())}),Ae},-1)}(l.get_singleton_class(le),ae)}(ne[0],ne)}(Qe[0],Qe)},Opal.modules["asciidoctor/js/asciidoctor_ext/stylesheet"]=function(l){var ce=l.module,oe=l.klass,Q=l.truthy,me=l.def,w=[],W=l.nil,Xe=l.$$$;return l.add_stubs("rstrip,read,join"),function(O,ze){var N=ce(O,"Asciidoctor"),at=[N].concat(ze);return function(Re,Je){var Le=oe(Re,Je,"Stylesheets"),He=Le.$$prototype;return He.primary_stylesheet_data=W,me(Le,"$primary_stylesheet_data",function(){var We=this,ft=W;return We.primary_stylesheet_data=Q(ft=We.primary_stylesheet_data)?ft:Xe("IO").$read(Xe("File").$join("css","asciidoctor.css")).$rstrip()})}(at[0],null)}(w[0],w)},Opal.modules["asciidoctor/js/asciidoctor_ext/document"]=function(l){var ce=l.module,oe=l.klass,Q=l.def,me=[];return l.nil,function(w,W){var Xe=ce(w,"Asciidoctor"),O=[Xe].concat(W),ze=l.$r(O);return function(N,at){var Re=oe(N,at,"Document");return Q(Re,"$fill_datetime_attributes",function(Le,He){var gt=l.truthy,We=l.falsy,ft=l.nil,Ze,it,pt,M,ot,I,lt,ht,J=function(q,R){return R===0?q.getUTCFullYear():q.getFullYear()},B=function(q,R){return R===0?q.getUTCMonth():q.getMonth()},Qe=function(q,R){return R===0?q.getUTCDate():q.getDate()},Ae=function(q,R){return R===0?q.getUTCHours():q.getHours()},qe=new Date;if(l.const_get_qualified("::","ENV")["$key?"]("SOURCE_DATE_EPOCH")?(qe.setTime(parseInt(l.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))*1e3),it=qe,Ze=0):Ze=-qe.getTimezoneOffset()/60,gt(pt=Le["$[]"]("localdate")))We(M=Le["$[]"]("localyear"))&&(M=pt.indexOf("-")===4?pt.substring(0,4):ft,Le["$[]="]("localyear",M));else{var Se=J(qe,Ze).toString(),$e=("0"+(B(qe,Ze)+1)).slice(-2),ye=("0"+Qe(qe,Ze)).slice(-2);pt=Se+"-"+$e+"-"+ye,Le["$[]="]("localdate",pt),M=Se,Le["$[]="]("localyear",Se)}if(We(ot=Le["$[]"]("localtime"))){var ne=("0"+Ae(qe,Ze)).slice(-2),U=("0"+qe.getMinutes()).slice(-2),P=("0"+qe.getSeconds()).slice(-2),le;Ze===0?le="UTC":Ze>0?le=("+0"+Ze*100).slice(-5):le=("-0"+-Ze*100).slice(-5),ot=ne+":"+U+":"+P+" "+le,Le["$[]="]("localtime",ot)}if(We(I=Le["$[]"]("localdatetime"))&&(I=pt+" "+ot,Le["$[]="]("localdatetime",I)),gt(it)?He=it:gt(He)?Ze=-He.getTimezoneOffset()/60:He=qe,gt(lt=Le["$[]"]("docdate")))Le["$[]="]("docyear",lt.indexOf("-")===4?lt.substring(0,4):ft);else{var ae=J(He,Ze).toString(),_e=("0"+(B(He,Ze)+1)).slice(-2),K=("0"+Qe(He,Ze)).slice(-2);lt=ae+"-"+_e+"-"+K,Le["$[]="]("docdate",lt),We(Le["$[]"]("docyear"))&&Le["$[]="]("docyear",ae)}if(We(ht=Le["$[]"]("doctime"))){var v=("0"+Ae(He,Ze)).slice(-2),c=("0"+He.getMinutes()).slice(-2),y=("0"+He.getSeconds()).slice(-2),le;Ze===0?le="UTC":Ze>0?le=("+0"+Ze*100).slice(-5):le=("-0"+-Ze*100).slice(-5),ht=v+":"+c+":"+y+" "+le,Le["$[]="]("doctime",ht)}return We(Le["$[]"]("docdatetime"))&&Le["$[]="]("docdatetime",lt+" "+ht),ft})}(O[0],ze("AbstractBlock"))}(me[0],me)},Opal.modules["asciidoctor/js/asciidoctor_ext/substitutors"]=function(l){var ce=l.module,oe=l.def,Q=[];return l.nil,function(me,w){var W=ce(me,"Asciidoctor"),Xe=[W].concat(w);return function(O){var ze=ce(O,"Substitutors");return oe(ze,"$sub_placeholder",function(at,Re){return at.replace("%s",Re)})}(Xe[0])}(Q[0],Q)},Opal.modules["asciidoctor/js/asciidoctor_ext/parser"]=function(l){var ce=l.module,oe=l.klass,Q=l.truthy,me=l.defs,w=[];return l.nil,function(W,Xe){var O=ce(W,"Asciidoctor"),ze=[O].concat(Xe);return function(N,at){var Re=oe(N,at,"Parser");return Q(String.prototype.repeat)?me(Re,"$uniform?",function(Le,He,gt){return He.repeat(gt)===Le}):me(Re,"$uniform?",function(Le,He,gt){return Array.apply(null,{length:gt}).map(function(){return He}).join("")===Le})}(ze[0],null)}(w[0],w)},Opal.modules["asciidoctor/js/asciidoctor_ext/syntax_highlighter"]=function(l){var ce=l.module,oe=l.truthy,Q=l.def,me=[],w=l.nil;return l.add_stubs("key?,registry,[],include?,include,empty?,debug,logger,join,keys"),function(W,Xe){var O=ce(W,"Asciidoctor"),ze=[O].concat(Xe);return function(N,at){var Re=ce(N,"SyntaxHighlighter"),Je=[Re].concat(at);return function(Le,He){var gt=ce(Le,"Factory"),We=[gt].concat(He),ft=l.$r(We);return Q(gt,"$for",function(it){var pt=this;return oe(pt.$registry()["$key?"](it))?pt.$registry()["$[]"](it):(oe(pt["$include?"](ft("Logging")))||pt.$include(ft("Logging")),oe(pt.$registry()["$empty?"]())?pt.$logger().$debug("no syntax highlighter available, functionality disabled."):pt.$logger().$debug("syntax highlighter named '"+it+"' is not available, must be one of: '"+pt.$registry().$keys().$join("', '")+"'."),w)})}(Je[0],Je)}(ze[0],ze)}(me[0],me)},Opal.modules["asciidoctor/js/asciidoctor_ext"]=function(l){var ce=l.top;l.nil,l.add_stubs("require"),ce.$require("asciidoctor/js/asciidoctor_ext/stylesheet"),ce.$require("asciidoctor/js/asciidoctor_ext/document"),ce.$require("asciidoctor/js/asciidoctor_ext/substitutors"),ce.$require("asciidoctor/js/asciidoctor_ext/parser"),ce.$require("asciidoctor/js/asciidoctor_ext/syntax_highlighter"),ce.$require("asciidoctor/js/asciidoctor_ext/browser")},Opal.modules["asciidoctor/js/opal_ext/logger"]=function(l){var ce=l.klass,oe=l.def,Q=l.truthy,me=l.rb_lt,w=[],W=l.nil;return l.add_stubs("chr,rjust,message_as_string,<,write,call,[]"),function(Xe,O,ze){var N=ce(Xe,O,"Logger"),at=[N].concat(ze),Re=l.$r(at),Je=N.$$prototype;return Je.level=Je.progname=Je.pipe=Je.formatter=W,function(Le,He){var gt=ce(Le,He,"Formatter");return oe(gt,"$call",function(ft,Ze,it,pt){var M=this,ot=W;return ot=Ze.getFullYear()+"-"+("0"+(Ze.getMonth()+1)).slice(-2)+"-"+("0"+Ze.getDate()).slice(-2)+"T"+("0"+Ze.getHours()).slice(-2)+":"+("0"+Ze.getMinutes()).slice(-2)+":"+("0"+Ze.getSeconds()).slice(-2)+"."+("00"+new Date().getMilliseconds()*1e3).slice(-6),""+ft.$chr()+", ["+ot+"] "+ft.$rjust(5)+" -- "+it+": "+M.$message_as_string(pt)})}(at[0],null),oe(N,"$add",function Le(He,gt,We){var ft=Le.$$p||W,Ze=this,it=W;return Le.$$p=null,gt==null&&(gt=W),We==null&&(We=W),Q(me(He=Q(it=He)?it:Re("UNKNOWN"),Ze.level))||(We=Q(it=We)?it:Ze.progname,Q(gt)||(ft!==W?gt=l.yieldX(ft,[]):(gt=We,We=Ze.progname)),Ze.pipe.$write(Ze.formatter.$call(Q(it=Re("SEVERITY_LABELS")["$[]"](He))?it:"ANY",new Date,We,gt))),!0},-2)}(w[0],null,w)},Opal.modules["asciidoctor/js/postscript"]=function(l){var ce=l.top;return l.nil,l.add_stubs("require"),ce.$require("asciidoctor/converter/composite"),ce.$require("asciidoctor/converter/html5"),ce.$require("asciidoctor/extensions"),ce.$require("asciidoctor/js/asciidoctor_ext"),ce.$require("asciidoctor/js/opal_ext/logger")},Opal.queue(function(l){var ce=l.module,oe=l.const_set,Q=l.send,me=l.to_ary,w=l.defs,W=l.def,Xe=l.truthy,O=l.hash2,ze=l.eqeq,N=l.rb_minus,at=l.regexp,Re=l.top,Je=[],Le=l.nil,He=l.$$$;return l.add_stubs("require,==,to_h,sort,map,constants,const_get,downcase,to_s,<=>,upcase,[],values,new,attr_reader,instance_variable_set,send,singleton_class,<<,define,dirname,absolute_path,join,home,pwd,to_set,tap,each,chr,each_key,[]=,slice,length,-,merge,default=,drop,insert"),Re.$require("set"),Re.$require("asciidoctor/js"),function(gt,We){var ft=ce(gt,"Asciidoctor"),Ze=[ft].concat(We),it=l.$r(Ze),pt=Le;return oe(Ze[0],"RUBY_ENGINE_OPAL",oe(Ze[0],"RUBY_ENGINE",He("RUBY_ENGINE"))["$=="]("opal")),function(M,ot){var I=ce(M,"SafeMode"),lt=[I].concat(ot);return oe(lt[0],"UNSAFE",0),oe(lt[0],"SAFE",1),oe(lt[0],"SERVER",10),oe(lt[0],"SECURE",20),I.names_by_value=Q(Q(I.$constants(!1),"map",[],function ht(J){var B=ht.$$s==null?this:ht.$$s;return J==null&&(J=Le),[B.$const_get(J),J.$to_s().$downcase()]},{$$s:I}),"sort",[],function(J,B){var Qe,Ae,qe=Le,Se=Le;return J==null&&(J=Le),B==null&&(B=Le),Ae=J,Qe=me(Ae),qe=Qe[0]==null?Le:Qe[0],Ae=B,Qe=me(Ae),Se=Qe[0]==null?Le:Qe[0],qe["$<=>"](Se)},{$$has_top_level_mlhs_arg:!0}).$to_h(),w(I,"$value_for_name",function(J){var B=this;return B.$const_get(J.$upcase(),!1)}),w(I,"$name_for_value",function(J){var B=this;return B.names_by_value==null&&(B.names_by_value=Le),B.names_by_value["$[]"](J)}),w(I,"$names",function(){var J=this;return J.names_by_value==null&&(J.names_by_value=Le),J.names_by_value.$values()})}(Ze[0],Ze),function(M,ot){var I=ce(M,"Compliance");return I.keys=He("Set").$new(),function(lt,ht){return lt.$attr_reader("keys"),W(lt,"$define",function(B,Qe){var Ae=this;return Ae.keys==null&&(Ae.keys=Le),Ae.$instance_variable_set("@"+B,Qe),Ae.$singleton_class().$send("attr_accessor",B),Ae.keys["$<<"](B),Le})}(l.get_singleton_class(I)),I.$define("block_terminates_paragraph",!0),I.$define("strict_verbatim_paragraphs",!0),I.$define("underline_style_section_titles",!0),I.$define("unwrap_standalone_preamble",!0),I.$define("attribute_missing","skip"),I.$define("attribute_undefined","drop-line"),I.$define("shorthand_property_syntax",!0),I.$define("natural_xrefs",!0),I.$define("unique_id_start_index",2),I.$define("markdown_syntax",!0)}(Ze[0]),Xe(it("ROOT_DIR","skip_raise")?"constant":Le)||oe(Ze[0],"ROOT_DIR",He("File").$dirname(He("File").$absolute_path("."))),oe(Ze[0],"LIB_DIR",He("File").$join(it("ROOT_DIR"),"lib")),oe(Ze[0],"DATA_DIR",He("File").$join(it("ROOT_DIR"),"data")),oe(Ze[0],"USER_HOME",function(){try{return He("Dir").$home()}catch(M){if(l.rescue(M,[it("StandardError")]))try{return Xe(pt=He("ENV")["$[]"]("HOME"))?pt:He("Dir").$pwd()}finally{l.pop_exception()}else throw M}}()),oe(Ze[0],"LF",`
`),oe(Ze[0],"NULL","\0"),oe(Ze[0],"TAB","	"),oe(Ze[0],"MAX_INT",9007199254740991),oe(Ze[0],"UTF_8",He(He("Encoding"),"UTF_8")),oe(Ze[0],"BOM_BYTES_UTF_8",[239,187,191]),oe(Ze[0],"BOM_BYTES_UTF_16LE",[255,254]),oe(Ze[0],"BOM_BYTES_UTF_16BE",[254,255]),oe(Ze[0],"FILE_READ_MODE",Xe(it("RUBY_ENGINE_OPAL"))?"r":"rb:utf-8:utf-8"),oe(Ze[0],"URI_READ_MODE",it("FILE_READ_MODE")),oe(Ze[0],"FILE_WRITE_MODE",Xe(it("RUBY_ENGINE_OPAL"))?"w":"w:utf-8"),oe(Ze[0],"DEFAULT_DOCTYPE","article"),oe(Ze[0],"DEFAULT_BACKEND","html5"),oe(Ze[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set()),oe(Ze[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),oe(Ze[0],"BACKEND_ALIASES",O(["html","docbook"],{html:"html5",docbook:"docbook5"})),oe(Ze[0],"DEFAULT_PAGE_WIDTHS",O(["docbook"],{docbook:425})),oe(Ze[0],"DEFAULT_EXTENSIONS",O(["html","docbook","pdf","epub","manpage","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",asciidoc:".adoc"})),oe(Ze[0],"ASCIIDOC_EXTENSIONS",O([".adoc",".asciidoc",".asc",".ad",".txt"],{".adoc":!0,".asciidoc":!0,".asc":!0,".ad":!0,".txt":!0})),oe(Ze[0],"SETEXT_SECTION_LEVELS",O(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4})),oe(Ze[0],"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set()),oe(Ze[0],"ADMONITION_STYLE_HEADS",Q(He("Set").$new(),"tap",[],function(ot){return ot==null&&(ot=Le),Q(it("ADMONITION_STYLES"),"each",[],function(lt){return lt==null&&(lt=Le),ot["$<<"](lt.$chr())})})),oe(Ze[0],"PARAGRAPH_STYLES",["comment","example","literal","listing","normal","open","pass","quote","sidebar","source","verse","abstract","partintro"].$to_set()),oe(Ze[0],"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set()),oe(Ze[0],"DELIMITED_BLOCKS",O(["--","----","....","====","****","____","++++","|===",",===",":===","!===","////","```"],{"--":["open",["comment","example","literal","listing","pass","quote","sidebar","source","verse","admonition","abstract","partintro"].$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",He("Set").$new()],____:["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",He("Set").$new()],",===":["table",He("Set").$new()],":===":["table",He("Set").$new()],"!===":["table",He("Set").$new()],"////":["comment",He("Set").$new()],"```":["fenced_code",He("Set").$new()]})),oe(Ze[0],"DELIMITED_BLOCK_HEADS",Q(O([],{}),"tap",[],function(ot){return ot==null&&(ot=Le),Q(it("DELIMITED_BLOCKS"),"each_key",[],function(lt){var ht;return lt==null&&(lt=Le),ht=[lt.$slice(0,2),!0],Q(ot,"[]=",ht),ht[ht.length-1]})})),oe(Ze[0],"DELIMITED_BLOCK_TAILS",Q(O([],{}),"tap",[],function(ot){return ot==null&&(ot=Le),Q(it("DELIMITED_BLOCKS"),"each_key",[],function(lt){var ht;return lt==null&&(lt=Le),ze(lt.$length(),4)?(ht=[lt,lt["$[]"](N(lt.$length(),1))],Q(ot,"[]=",ht),ht[ht.length-1]):Le})})),oe(Ze[0],"CAPTION_ATTRIBUTE_NAMES",O(["example","figure","listing","table"],{example:"example-caption",figure:"figure-caption",listing:"listing-caption",table:"table-caption"})),oe(Ze[0],"LAYOUT_BREAK_CHARS",O(["'","<"],{"'":"thematic_break","<":"page_break"})),oe(Ze[0],"MARKDOWN_THEMATIC_BREAK_CHARS",O(["-","*","_"],{"-":"thematic_break","*":"thematic_break",_:"thematic_break"})),oe(Ze[0],"HYBRID_LAYOUT_BREAK_CHARS",it("LAYOUT_BREAK_CHARS").$merge(it("MARKDOWN_THEMATIC_BREAK_CHARS"))),oe(Ze[0],"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]),oe(Ze[0],"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]),oe(Ze[0],"ORDERED_LIST_KEYWORDS",O(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"})),oe(Ze[0],"ATTR_REF_HEAD","{"),oe(Ze[0],"LIST_CONTINUATION","+"),oe(Ze[0],"HARD_LINE_BREAK"," +"),oe(Ze[0],"LINE_CONTINUATION"," \\"),oe(Ze[0],"LINE_CONTINUATION_LEGACY"," +"),oe(Ze[0],"BLOCK_MATH_DELIMITERS",O(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]})),oe(Ze[0],"INLINE_MATH_DELIMITERS",O(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),oe(Ze[0],"STEM_TYPE_ALIASES",O(["latexmath","latex","tex"],{latexmath:"latexmath",latex:"latexmath",tex:"latexmath"}))["$default="]("asciimath"),oe(Ze[0],"FONT_AWESOME_VERSION","4.7.0"),oe(Ze[0],"HIGHLIGHT_JS_VERSION","9.18.3"),oe(Ze[0],"MATHJAX_VERSION","2.7.9"),oe(Ze[0],"DEFAULT_ATTRIBUTES",O(["appendix-caption","appendix-refsig","caution-caption","chapter-refsig","example-caption","figure-caption","important-caption","last-update-label","note-caption","part-refsig","prewrap","sectids","section-refsig","table-caption","tip-caption","toc-placement","toc-title","untitled-label","version-label","warning-caption"],{"appendix-caption":"Appendix","appendix-refsig":"Appendix","caution-caption":"Caution","chapter-refsig":"Chapter","example-caption":"Example","figure-caption":"Figure","important-caption":"Important","last-update-label":"Last updated","note-caption":"Note","part-refsig":"Part",prewrap:"",sectids:"","section-refsig":"Section","table-caption":"Table","tip-caption":"Tip","toc-placement":"auto","toc-title":"Table of Contents","untitled-label":"Untitled","version-label":"Version","warning-caption":"Warning"})),oe(Ze[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]),oe(Ze[0],"INTRINSIC_ATTRIBUTES",O(["startsb","endsb","vbar","caret","asterisk","tilde","plus","backslash","backtick","blank","empty","sp","two-colons","two-semicolons","nbsp","deg","zwsp","quot","apos","lsquo","rsquo","ldquo","rdquo","wj","brvbar","pp","cpp","amp","lt","gt"],{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",pp:"&#43;&#43;",cpp:"C&#43;&#43;",amp:"&",lt:"<",gt:">"})),oe(Ze[0],"QUOTE_SUBS",Q(O([],{}),"tap",[],function(ot){var I=Le,lt=Le;return ot==null&&(ot=Le),ot["$[]="](!1,I=[["strong","unconstrained",at(["\\\\?(?:\\[([^\\]]+)\\])?\\*\\*(",it("CC_ALL"),"+?)\\*\\*"],"m")],["strong","constrained",at(["(^|[^",it("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?\\*(\\S|\\S",it("CC_ALL"),"*?\\S)\\*(?!",it("CG_WORD"),")"],"m")],["double","constrained",at(["(^|[^",it("CC_WORD"),';:}])(?:\\[([^\\]]+)\\])?"`(\\S|\\S',it("CC_ALL"),'*?\\S)`"(?!',it("CG_WORD"),")"],"m")],["single","constrained",at(["(^|[^",it("CC_WORD"),";:`}])(?:\\[([^\\]]+)\\])?'`(\\S|\\S",it("CC_ALL"),"*?\\S)`'(?!",it("CG_WORD"),")"],"m")],["monospaced","unconstrained",at(["\\\\?(?:\\[([^\\]]+)\\])?``(",it("CC_ALL"),"+?)``"],"m")],["monospaced","constrained",at(["(^|[^",it("CC_WORD"),";:\"'`}])(?:\\[([^\\]]+)\\])?`(\\S|\\S",it("CC_ALL"),"*?\\S)`(?![",it("CC_WORD"),"\"'`])"],"m")],["emphasis","unconstrained",at(["\\\\?(?:\\[([^\\]]+)\\])?__(",it("CC_ALL"),"+?)__"],"m")],["emphasis","constrained",at(["(^|[^",it("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?_(\\S|\\S",it("CC_ALL"),"*?\\S)_(?!",it("CG_WORD"),")"],"m")],["mark","unconstrained",at(["\\\\?(?:\\[([^\\]]+)\\])?##(",it("CC_ALL"),"+?)##"],"m")],["mark","constrained",at(["(^|[^",it("CC_WORD"),"&;:}])(?:\\[([^\\]]+)\\])?#(\\S|\\S",it("CC_ALL"),"*?\\S)#(?!",it("CG_WORD"),")"],"m")],["superscript","unconstrained",/\\?(?:\[([^\]]+)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+)\])?~(\S+?)~/]]),ot["$[]="](!0,lt=I.$drop(0)),lt["$[]="](2,["double","constrained",at(["(^|[^",it("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?``(\\S|\\S",it("CC_ALL"),"*?\\S)''(?!",it("CG_WORD"),")"],"m")]),lt["$[]="](3,["single","constrained",at(["(^|[^",it("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?`(\\S|\\S",it("CC_ALL"),"*?\\S)'(?!",it("CG_WORD"),")"],"m")]),lt["$[]="](4,["monospaced","unconstrained",at(["\\\\?(?:\\[([^\\]]+)\\])?\\+\\+(",it("CC_ALL"),"+?)\\+\\+"],"m")]),lt["$[]="](5,["monospaced","constrained",at(["(^|[^",it("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?\\+(\\S|\\S",it("CC_ALL"),"*?\\S)\\+(?!",it("CG_WORD"),")"],"m")]),lt.$insert(3,["emphasis","constrained",at(["(^|[^",it("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?'(\\S|\\S",it("CC_ALL"),"*?\\S)'(?!",it("CG_WORD"),")"],"m")])})),oe(Ze[0],"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(?: |\n|^|\\)--(?: |\n|$)/,"&#8201;&#8212;&#8201;","none"],[at(["(",it("CG_WORD"),")\\\\?--(?=",it("CG_WORD"),")"]),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","none"],[/\\?`'/,"&#8217;","none"],[at(["(",it("CG_ALNUM"),")\\\\?'(?=",it("CG_ALPHA"),")"]),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z][a-zA-Z]+\d{0,2}|#\d\d\d{0,4}|#x[\da-fA-F][\da-fA-F][\da-fA-F]{0,3});)/,"","bounding"]]),Le}(Je[0],Je),Re.$require("asciidoctor.rb/../asciidoctor/core_ext"),Re.$require("asciidoctor.rb/../asciidoctor/helpers"),Re.$require("asciidoctor.rb/../asciidoctor/logging"),Re.$require("asciidoctor.rb/../asciidoctor/rx"),Re.$require("asciidoctor.rb/../asciidoctor/substitutors"),Re.$require("asciidoctor.rb/../asciidoctor/version"),Re.$require("asciidoctor.rb/../asciidoctor/abstract_node"),Re.$require("asciidoctor.rb/../asciidoctor/abstract_block"),Re.$require("asciidoctor.rb/../asciidoctor/attribute_list"),Re.$require("asciidoctor.rb/../asciidoctor/block"),Re.$require("asciidoctor.rb/../asciidoctor/callouts"),Re.$require("asciidoctor.rb/../asciidoctor/converter"),Re.$require("asciidoctor.rb/../asciidoctor/document"),Re.$require("asciidoctor.rb/../asciidoctor/inline"),Re.$require("asciidoctor.rb/../asciidoctor/list"),Re.$require("asciidoctor.rb/../asciidoctor/parser"),Re.$require("asciidoctor.rb/../asciidoctor/path_resolver"),Re.$require("asciidoctor.rb/../asciidoctor/reader"),Re.$require("asciidoctor.rb/../asciidoctor/section"),Re.$require("asciidoctor.rb/../asciidoctor/stylesheets"),Re.$require("asciidoctor.rb/../asciidoctor/table"),Re.$require("asciidoctor.rb/../asciidoctor/writer"),Re.$require("asciidoctor.rb/../asciidoctor/load"),Re.$require("asciidoctor.rb/../asciidoctor/convert"),Re.$require("asciidoctor.rb/../asciidoctor/syntax_highlighter"),Re.$require("asciidoctor.rb/../asciidoctor/timings"),Re.$require("asciidoctor/js/postscript")});const e=function(l){return l&&!l.$$is_hash?Opal.hash2(Object.keys(l),l):l},n=function(l){const ce={};if(l){const oe=l.$$smap;for(const me in oe){const w=oe[me];ce[me]=w===Opal.nil?void 0:w}const Q=l.$$map;if(Q){const me=[];for(const w in Q){const W=Q[w],Xe=W.value,O=W.key-1;me[O]=Xe===Opal.nil?void 0:Xe}me.length>0&&(ce.$positional=me)}}return ce},s=function(l){const ce={};if(l){const oe=l.$$keys;for(const Q in oe){const me=oe[Q].value;ce[Q.toString()]=me===Opal.nil?void 0:me}}return ce},o=function(l){if(l=e(l),l){const ce=l["$[]"]("converter");ce&&ce!==Opal.nil&&l["$[]="]("converter",d(ce));const oe=l["$[]"]("attributes");oe&&typeof oe=="object"&&oe.constructor.name==="Object"&&(l=l.$dup(),l["$[]="]("attributes",e(oe)))}return l},d=function(l){const ce=function(ze){return Object.assign({},ze.basebackend?{basebackend:ze.basebackend}:{},ze.outfilesuffix?{outfilesuffix:ze.outfilesuffix}:{},ze.filetype?{filetype:ze.filetype}:{},ze.htmlsyntax?{htmlsyntax:ze.htmlsyntax}:{},ze.supports_templates?{supports_templates:ze.supports_templates}:{})},oe=function(ze,N){ze.backend_traits?N.backend_traits=e(ze.backend_traits):ze.backendTraits?N.backend_traits=e(ze.backendTraits):(ze.basebackend||ze.outfilesuffix||ze.filetype||ze.htmlsyntax||ze.supports_templates)&&(N.backend_traits=e(ce(ze)))},Q=function(ze,N){Xe(ze,N,"$handles?","handles",function(){return!0})},me=function(ze,N){Xe(ze,N,"$composed","composed")},w=function(ze,N){Xe(ze,N,"$==","==",function(at){return N===at})},W=function(ze,N){Xe(ze,N,"$send","send",function(at){const[,...Re]=Array.from(arguments),Je=N["$"+at];if(Je)return Je.apply(N,Re);throw new Error(`undefined method \`${at}\` for \`${N.toString()}\``)})},Xe=function(ze,N,at,Re,Je){typeof ze[at]>"u"&&(typeof ze[Re]=="function"?N[at]=ze[Re]:Je&&(N[at]=Je))},O=function(ze){typeof ze["$respond_to?"]!="function"&&(ze["$respond_to?"]=function(N){return typeof this[N]=="function"})};if(typeof l=="function"){const ze=b(yt,l.constructor.name,{initialize:function(N,at){const Re=this,Je=new l(N,at);Object.assign(this,Je),oe(Je,Re);const Le=Object.getOwnPropertyNames(l.prototype);for(let He=0;He<Le.length;He++){const gt=Le[He];gt!=="constructor"&&(Re[gt]=Je[gt])}typeof Je.$convert>"u"&&typeof Je.convert=="function"&&(Re.$convert=Je.convert),Q(Je,Re),me(Je,Re),O(Re),Re.super(N,at)}});return ze.$extend(Tt),ze}if(typeof l=="object"){if(typeof l.$convert>"u"&&typeof l.convert=="function"&&(l.$convert=l.convert),oe(l,l),l.backend_traits){const ze=["basebackend","filetype","htmlsyntax","outfilesuffix","supports_templates","supports_templates?","init_backend_traits","backend_traits"];for(const N of ze)l["$"+N]=Tt.prototype["$"+N];l.$$meta=Tt}return Q(l,l),me(l,l),w(l,l),W(l,l),O(l),l}return l};function b(l,ce,oe,Q,me){const w=Opal.klass(Opal.Object,l,ce,function(){});let W,Xe,O;const ze={};for(const Re in oe)Object.prototype.hasOwnProperty.call(oe,Re)&&function(Je){const Le=oe[Je];if(Je==="postConstruct")W=Le;else if(Je==="initialize")Xe=Le;else if(Je==="constructor")O=Le;else{Q&&Object.prototype.hasOwnProperty.call(Q,Je)&&(ze[Je]=!0);let He;Opal.def(w,"$"+Je,He=function(){let gt;me&&Object.prototype.hasOwnProperty.call(me,Je)?gt=me[Je](arguments):gt=arguments;const We=He.$$p;return We&&(gt[gt.length]=function(){return Opal.yield1(We)},gt.length+=1,He.$$p=null),Le.apply(this,gt)})}}(Re);let N;typeof O=="function"?N=function(){const Re=Array.from(arguments);for(let Le=0;Le<Re.length;Le++)typeof Re[Le]=="object"&&"$$smap"in Re[Le]&&(Re[Le]=n(Re[Le]));Re.unshift(null);const Je=new(Function.prototype.bind.apply(O,Re));Object.assign(this,Je),typeof W=="function"&&W.bind(this)()}:typeof Xe=="function"?N=function(){const Re=Array.from(arguments);for(let Je=0;Je<Re.length;Je++)typeof Re[Je]=="object"&&"$$smap"in Re[Je]&&(Re[Je]=n(Re[Je]));Xe.apply(this,Re),typeof W=="function"&&W.bind(this)()}:N=function(){Opal.send(this,Opal.find_super_dispatcher(this,"initialize",N)),typeof W=="function"&&W.bind(this)()},Opal.def(w,"$initialize",N);let at;Opal.def(w,"super",at=function(Re){if(typeof Re=="function")Opal.send(this,Opal.find_super_dispatcher(this,Re.name,Re));else{const Je=Array.from(arguments);for(let Le=0;Le<Je.length;Le++)typeof Je[Le]=="object"&&(Je[Le]=e(Je[Le]));Opal.send(this,Opal.find_super_dispatcher(this,"initialize",N),Je)}});for(const Re in oe)at[Re]=function(){const Je=Array.from(arguments);for(let He=0;He<Je.length;He++)typeof Je[He]=="object"&&typeof Je[He].constructor=="function"&&Je[He].constructor.name==="Object"&&(Je[He]=e(Je[He]));const Le=w.$$prototype;return Opal.send(Le,Opal.find_super_dispatcher(Le,Re,Le[`$${Re}`]),Je)};if(Q)for(const Re in Q)Object.prototype.hasOwnProperty.call(Q,Re)&&!Object.prototype.hasOwnProperty.call(ze,Re)&&function(Je){const Le=Q[Je];Opal.def(w,"$"+Je,function(){return Le.apply(this,arguments)})}(Re);return w}const k=Opal.Asciidoctor.$$class;k.prototype.getCoreVersion=function(){return this.$$const.VERSION},k.prototype.getRuntime=function(){return{ioModule:Opal.const_get_qualified("::","JAVASCRIPT_IO_MODULE"),platform:Opal.const_get_qualified("::","JAVASCRIPT_PLATFORM"),engine:Opal.const_get_qualified("::","JAVASCRIPT_ENGINE"),framework:Opal.const_get_qualified("::","JAVASCRIPT_FRAMEWORK")}},k.prototype.convert=function(l,ce){typeof l=="object"&&l.constructor.name==="Buffer"&&(l=l.toString("utf8"));const oe=ce&&ce.to_file;typeof oe=="object"&&oe.constructor.name==="Writable"&&typeof oe.write=="function"&&(oe["$respond_to?"]=w=>w==="write",oe.$object_id=()=>"",oe.$write=function(w){this.write(w)});const Q=o(ce),me=this.$convert(l,Q);return typeof oe=="object"&&oe.constructor.name==="Writable"&&typeof oe.end=="function"&&oe.end(),me===Opal.nil?"":me},k.prototype.convertFile=function(l,ce){return this.$convert_file(l,o(ce))},k.prototype.load=function(l,ce){return typeof l=="object"&&l.constructor.name==="Buffer"&&(l=l.toString("utf8")),this.$load(l,o(ce))},k.prototype.loadFile=function(l,ce){return this.$load_file(l,o(ce))};const C=Opal.Asciidoctor.AbstractBlock;C.prototype.getContentModel=function(){const l=this.content_model;return l===Opal.nil?void 0:l},C.prototype.setContentModel=function(l){this.content_model=l},C.prototype.append=function(l){return this.$append(l),this},C.prototype.getTitle=function(){const l=this.$title();return l===Opal.nil?void 0:l},C.prototype.setTitle=function(l){return l=typeof l>"u"?Opal.nil:l,this["$title="](l)},C.prototype.assignCaption=function(l,ce){l=typeof l>"u"?Opal.nil:l,ce=typeof ce>"u"?null:ce,this.$assign_caption(l,ce)},C.prototype.getCaptionedTitle=function(){return this.$captioned_title()},C.prototype.getStyle=function(){const l=this.style;return l===Opal.nil?void 0:l},C.prototype.setStyle=function(l){this.style=l},C.prototype.getSourceLocation=function(){const l=this.source_location;if(l!==Opal.nil)return l.getFile=function(){const ce=this.file;return ce===Opal.nil?void 0:ce},l.getDirectory=function(){const ce=this.dir;return ce===Opal.nil?void 0:ce},l.getPath=function(){const ce=this.path;return ce===Opal.nil?void 0:ce},l.getLineNumber=function(){const ce=this.lineno;return ce===Opal.nil?void 0:ce},l},C.prototype.getCaption=function(){const l=this.$caption();return l===Opal.nil?void 0:l},C.prototype.setCaption=function(l){this.caption=typeof l>"u"?Opal.nil:l},C.prototype.getLevel=function(){const l=this.level;return l===Opal.nil?void 0:l},C.prototype.getSubstitutions=function(){return this.subs},C.prototype.hasSubstitution=function(l){return this["$sub?"](l)},C.prototype.removeSubstitution=function(l){this.$remove_sub(l)},C.prototype.hasBlocks=function(){return this.blocks.length>0},C.prototype.getBlocks=function(){return this.blocks},C.prototype.getContent=function(){const l=this.$content();return l===Opal.nil?void 0:l},C.prototype.convert=function(){return this.$convert()},C.prototype.findBy=function(l,ce){return typeof ce>"u"&&typeof l=="function"?Opal.send(this,"find_by",null,l):typeof ce=="function"?Opal.send(this,"find_by",[e(l)],ce):this.$find_by(e(l))},C.prototype.getLineNumber=function(){const l=this.$lineno();return l===Opal.nil?void 0:l},C.prototype.hasSections=function(){return this.next_section_index!==Opal.nil&&this.next_section_index>0},C.prototype.getSections=function(){return this.$sections()},C.prototype.getNumeral=function(){const l=this.$numeral();return l===Opal.nil?void 0:l},C.prototype.setNumeral=function(l){this["$numeral="](l)},C.prototype.hasTitle=function(){return this["$title?"]()},C.prototype.getAlt=function(){return this.$alt()};const g=Opal.Asciidoctor.Section;g.create=function(l,ce,oe,Q){return Q&&Q.attributes&&(Q.attributes=e(Q.attributes)),this.$new(l,ce,oe,e(Q))},g.prototype.setLevel=function(l){this.level=l},g.prototype.getIndex=function(){return this.index},g.prototype.setIndex=function(l){this.index=l},g.prototype.getSectionName=function(){const l=this.sectname;return l===Opal.nil?void 0:l},g.prototype.setSectionName=function(l){this.sectname=l},g.prototype.getSectionNumeral=function(){return this.$sectnum()},g.prototype.getSectionNumber=g.prototype.getSectionNumeral,g.prototype.isSpecial=function(){return this.special},g.prototype.setSpecial=function(l){this.special=l},g.prototype.isNumbered=function(){return this.numbered},g.prototype.getCaption=function(){const l=this.caption;return l===Opal.nil?void 0:l},g.prototype.getName=function(){return this.getTitle()};const se=Opal.Asciidoctor.Block;se.create=function(l,ce,oe){return oe&&oe.attributes&&(oe.attributes=e(oe.attributes)),this.$new(l,ce,e(oe))},se.prototype.getSource=function(){return this.$source()},se.prototype.getSourceLines=function(){return this.lines};const we=Opal.Asciidoctor.AbstractNode;we.prototype.applySubstitutions=function(l,ce){return this.$apply_subs(l,ce)},we.prototype.resolveSubstitutions=function(l,ce,oe,Q){typeof ce>"u"&&(ce="block"),typeof oe>"u"&&(oe=Opal.nil),typeof Q>"u"&&(Q=Opal.nil);const me=this.$resolve_subs(l,ce,oe,Q);return me===Opal.nil?void 0:me},we.prototype.resolveBlockSubstitutions=function(l,ce,oe){return this.resolveSubstitutions(l,"block",ce,oe)},we.prototype.resolvePassSubstitutions=function(l){return this.resolveSubstitutions(l,"inline",void 0,"passthrough macro")},we.prototype.getNodeName=function(){return this.node_name},we.prototype.getAttributes=function(){return n(this.attributes)},we.prototype.getAttribute=function(l,ce,oe){const Q=this.$attr(l,ce,oe);return Q===Opal.nil?void 0:Q},we.prototype.hasAttribute=function(l){return l in this.attributes.$$smap},we.prototype.isAttribute=function(l,ce,oe){return this["$attr?"](l,ce,oe)},we.prototype.setAttribute=function(l,ce,oe){return typeof oe>"u"&&(oe=!0),this.$set_attr(l,ce,oe)},we.prototype.removeAttribute=function(l){const ce=this.$remove_attr(l);return ce===Opal.nil?void 0:ce},we.prototype.getDocument=function(){return this.document},we.prototype.getParent=function(){const l=this.parent;return l===Opal.nil?void 0:l},we.prototype.isInline=function(){return this["$inline?"]()},we.prototype.isBlock=function(){return this["$block?"]()},we.prototype.isRole=function(l){return this["$role?"](l)},we.prototype.getRole=function(){const l=this.$role();return l===Opal.nil?void 0:l},we.prototype.setRole=function(l){return Array.isArray(l)||typeof l=="string"&&arguments.length===1?this["$role="](l):this["$role="](Array.from(arguments))},we.prototype.hasRole=function(l){return this["$has_role?"](l)},we.prototype.getRoles=function(){return this.$roles()},we.prototype.addRole=function(l){return this.$add_role(l)},we.prototype.removeRole=function(l){return this.$remove_role(l)},we.prototype.isReftext=function(){return this["$reftext?"]()},we.prototype.getReftext=function(){const l=this.$reftext();return l===Opal.nil?void 0:l},we.prototype.getContext=function(){const l=this.context;return typeof l=="string"?l:l.toString()},we.prototype.getId=function(){const l=this.id;return l===Opal.nil?void 0:l},we.prototype.setId=function(l){this.id=l},we.prototype.isOption=function(l){return this["$option?"](l)},we.prototype.setOption=function(l){return this.$set_option(l)},we.prototype.getIconUri=function(l){return this.$icon_uri(l)},we.prototype.getMediaUri=function(l,ce){return this.$media_uri(l,ce)},we.prototype.getImageUri=function(l,ce){return this.$image_uri(l,ce)},we.prototype.getConverter=function(){return this.$converter()},we.prototype.readContents=function(l,ce){return this.$read_contents(l,e(ce))},we.prototype.readAsset=function(l,ce){const oe=this.$read_asset(l,e(ce));return oe===Opal.nil?void 0:oe},we.prototype.normalizeWebPath=function(l,ce,oe){return this.$normalize_web_path(l,ce,oe)},we.prototype.normalizeSystemPath=function(l,ce,oe,Q){return this.$normalize_system_path(l,ce,oe,e(Q))},we.prototype.normalizeAssetPath=function(l,ce,oe){return this.$normalize_asset_path(l,ce,oe)};const he=Opal.Asciidoctor.Document;he.prototype.append=function(l){return this["$<<"](l),this},he.prototype.getSyntaxHighlighter=function(){const l=this.syntax_highlighter,ce=l.__proto__;return ce&&(typeof ce["$highlight?"]=="function"&&(ce.handlesHighlighting=function(){const oe=ce["$highlight?"]();return oe===Opal.nil?!1:oe}),typeof ce["$docinfo?"]=="function"&&(ce.hasDocinfo=ce["$docinfo?"]),typeof ce.$format=="function"&&(ce.format=function(oe,Q,me){return this.$format(oe,Q,e(me))}),typeof ce.$docinfo=="function"&&(ce.docinfo=function(oe,Q,me){return this.$docinfo(oe,Q,e(me))})),l},he.prototype.getRefs=function(){return n(this.catalog.$$smap.refs)},he.prototype.getImages=function(){return this.catalog.$$smap.images},he.prototype.getLinks=function(){return this.catalog.$$smap.links},he.prototype.hasFootnotes=function(){return this["$footnotes?"]()},he.prototype.getFootnotes=function(){return this.$footnotes()},he.prototype.getHeader=function(){return this.header},he.prototype.setAttribute=function(l,ce){return this.$set_attribute(l,ce)},he.prototype.removeAttribute=function(l){this.attributes.$delete(l),this.attribute_overrides.$delete(l)},he.prototype.convert=function(l){const ce=this.$convert(e(l));return ce===Opal.nil?"":ce},he.prototype.write=function(l,ce){return this.$write(l,ce)},he.prototype.getAuthor=function(){return this.$author()},he.prototype.getSource=function(){return this.$source()},he.prototype.getSourceLines=function(){return this.$source_lines()},he.prototype.isNested=function(){return this["$nested?"]()},he.prototype.isEmbedded=function(){return this["$embedded?"]()},he.prototype.hasExtensions=function(){return this["$extensions?"]()},he.prototype.getDoctype=function(){return this.doctype},he.prototype.getBackend=function(){return this.backend},he.prototype.isBasebackend=function(l){return this["$basebackend?"](l)},he.prototype.getTitle=function(){const l=this.$title();return l===Opal.nil?void 0:l},he.prototype.setTitle=function(l){return this["$title="](l)},he.prototype.getDocumentTitle=function(l){const ce=this.$doctitle(e(l));return ce===Opal.nil?void 0:ce},he.prototype.getDoctitle=he.prototype.getDocumentTitle,he.prototype.getCatalog=function(){return n(this.catalog)},he.prototype.getReferences=he.prototype.getCatalog,he.prototype.getRevisionDate=function(){return this.getAttribute("revdate")},he.prototype.getRevdate=function(){return this.getRevisionDate()},he.prototype.getRevisionNumber=function(){return this.getAttribute("revnumber")},he.prototype.getRevisionRemark=function(){return this.getAttribute("revremark")},he.prototype.setHeaderAttribute=function(l,ce,oe){return typeof oe>"u"&&(oe=!0),typeof ce>"u"&&(ce=""),this.$set_header_attribute(l,ce,oe)},he.prototype.getAuthors=function(){return this.$authors()};const Ce=he.Footnote;Ce.prototype.getIndex=function(){const l=this.$$data.index;return l===Opal.nil?void 0:l},Ce.prototype.getId=function(){const l=this.$$data.id;return l===Opal.nil?void 0:l},Ce.prototype.getText=function(){const l=this.$$data.text;return l===Opal.nil?void 0:l};const Be=he.ImageReference;Be.prototype.getTarget=function(){return this.$$data.target},Be.prototype.getImagesDirectory=function(){const l=this.$$data.imagesdir;return l===Opal.nil?void 0:l};const Ie=he.Author;Ie.prototype.getName=function(){const l=this.$$data.name;return l===Opal.nil?void 0:l},Ie.prototype.getFirstName=function(){const l=this.$$data.firstname;return l===Opal.nil?void 0:l},Ie.prototype.getMiddleName=function(){const l=this.$$data.middlename;return l===Opal.nil?void 0:l},Ie.prototype.getLastName=function(){const l=this.$$data.lastname;return l===Opal.nil?void 0:l},Ie.prototype.getInitials=function(){const l=this.$$data.initials;return l===Opal.nil?void 0:l},Ie.prototype.getEmail=function(){const l=this.$$data.email;return l===Opal.nil?void 0:l},he.RevisionInfo=function(l,ce,oe){this.date=l,this.number=ce,this.remark=oe};const ee=he.RevisionInfo;ee.prototype.getDate=function(){return this.date},ee.prototype.getNumber=function(){return this.number},ee.prototype.getRemark=function(){return this.remark},ee.prototype.isEmpty=function(){return this.date===void 0&&this.number===void 0&&this.remark===void 0};const ke=Opal.Asciidoctor.SafeMode;ke.getValueForName=function(l){return this.$value_for_name(l)},ke.getNameForValue=function(l){const ce=this.$name_for_value(l);return ce===Opal.nil?void 0:ce},ke.getNames=function(){return this.$names()};const Oe=Opal.Asciidoctor.Callouts;Oe.create=function(){return this.$new()},Oe.prototype.register=function(l){return this.$register(l)},Oe.prototype.readNextId=function(){return this.$read_next_id()},Oe.prototype.getCalloutIds=function(l){return this.$callout_ids(l)},Oe.prototype.getLists=function(){const l=this.lists;if(l&&l.length>0)for(let ce=0;ce<l.length;ce++){const oe=l[ce];if(oe&&oe.length>0)for(let Q=0;Q<oe.length;Q++)typeof oe[Q]=="object"&&"$$smap"in oe[Q]&&(oe[Q]=n(oe[Q]))}return l},Oe.prototype.getListIndex=function(){return this.list_index},Oe.prototype.getCurrentList=function(){const l=this.$current_list();if(l&&l.length>0)for(let ce=0;ce<l.length;ce++)typeof l[ce]=="object"&&"$$smap"in l[ce]&&(l[ce]=n(l[ce]));return l},Oe.prototype.nextList=function(){return this.$nextList()},Oe.prototype.rewind=function(){return this.$rewind()},he.prototype.getRevisionInfo=function(){return new he.RevisionInfo(this.getRevisionDate(),this.getRevisionNumber(),this.getRevisionRemark())},he.prototype.hasRevisionInfo=function(){return!this.getRevisionInfo().isEmpty()},he.prototype.getNotitle=function(){return this.$notitle()},he.prototype.getNoheader=function(){return this.$noheader()},he.prototype.getNofooter=function(){return this.$nofooter()},he.prototype.hasHeader=function(){return this["$header?"]()},he.prototype.playbackAttributes=function(l){if(l=e(l),l){const ce=l["$[]"]("attribute_entries");if(ce&&Array.isArray(ce)){const oe=[];for(let Q=0;Q<ce.length;Q++){const me=ce[Q];me&&typeof me=="object"&&me.constructor.name==="Object"&&(me.$name=function(){return this.name},me.$value=function(){return this.value},me.$negate=function(){return this.negate}),oe.push(me)}l["$[]="]("attribute_entries",oe)}}this.$playback_attributes(l)},he.prototype.deleteAttribute=function(l){return this.$delete_attribute(l)},he.prototype.isAttributeLocked=function(l){return this["$attribute_locked?"](l)},he.prototype.restoreAttributes=function(){return this.$restore_attributes()},he.prototype.parse=function(l){return this.$parse(l)},he.prototype.getDocinfo=function(l,ce){return this.$docinfo(l,ce)},he.prototype.hasDocinfoProcessors=function(l){return this["$docinfo_processors?"](l)},he.prototype.incrementAndStoreCounter=function(l,ce){return this.$increment_and_store_counter(l,ce)},he.prototype.counterIncrement=he.prototype.incrementAndStoreCounter,he.prototype.counter=function(l,ce){return this.$counter(l,ce)},he.prototype.getSafe=function(){return this.safe},he.prototype.getCompatMode=function(){return this.compat_mode},he.prototype.getSourcemap=function(){const l=this.sourcemap;return l===Opal.nil?!1:l},he.prototype.setSourcemap=function(l){this.sourcemap=l},he.prototype.getCounters=function(){return n(this.counters)},he.prototype.getCallouts=function(){return this.$callouts()},he.prototype.getBaseDir=function(){return this.base_dir},he.prototype.getOptions=function(){return n(this.options)},he.prototype.getOutfilesuffix=function(){return this.outfilesuffix},he.prototype.getParentDocument=function(){const l=this.parent_document;return l===Opal.nil?void 0:l},he.prototype.getReader=function(){return this.reader},he.prototype.getConverter=function(){return this.converter},he.prototype.getExtensions=function(){const l=this.extensions;return l===Opal.nil?void 0:l};const Ne=he.Title;Ne.prototype.getMain=function(){return this.main},Ne.prototype.getCombined=function(){return this.combined},Ne.prototype.getSubtitle=function(){const l=this.subtitle;return l===Opal.nil?void 0:l},Ne.prototype.isSanitized=function(){const l=this["$sanitized?"]();return l===Opal.nil?!1:l},Ne.prototype.hasSubtitle=function(){return this["$subtitle?"]()};const Fe=Opal.Asciidoctor.Inline;Fe.create=function(l,ce,oe,Q){return this.$new(l,ce,oe,o(Q))},Fe.prototype.convert=function(){return this.$convert()},Fe.prototype.getText=function(){const l=this.$text();return l===Opal.nil?void 0:l},Fe.prototype.getType=function(){return this.$type()},Fe.prototype.getTarget=function(){const l=this.$target();return l===Opal.nil?void 0:l},Fe.prototype.getAlt=function(){return this.$alt()};const Te=Opal.Asciidoctor.List;Te.prototype.hasItems=function(){return this["$items?"]()},Te.prototype.getItems=function(){return this.blocks};const Me=Opal.Asciidoctor.ListItem;Me.prototype.getText=function(){return this.$text()},Me.prototype.setText=function(l){return this["$text="](l)},Me.prototype.hasText=function(){return this["$text?"]()},Me.prototype.getMarker=function(){return this.marker},Me.prototype.setMarker=function(l){this.marker=l},Me.prototype.getList=function(){return this.$list()},Me.prototype.getParent=Me.prototype.getList;const te=Opal.Asciidoctor.Reader;te.prototype.pushInclude=function(l,ce,oe,Q,me){return this.$push_include(l,ce,oe,Q,e(me))},te.prototype.getCursor=function(){return this.$cursor()},te.prototype.getLines=function(){return this.$lines()},te.prototype.getString=function(){return this.$string()},te.prototype.hasMoreLines=function(){return this["$has_more_lines?"]()},te.prototype.isEmpty=function(){return this["$empty?"]()},te.prototype.peekLine=function(l){l=l||!1;const ce=this.$peek_line(l);return ce===Opal.nil?void 0:ce},te.prototype.readLine=function(){const l=this.$read_line();return l===Opal.nil?void 0:l},te.prototype.readLines=function(){return this.$read_lines()},te.prototype.read=function(){return this.$read()},te.prototype.advance=function(){return this.$advance()};const pe=Opal.Asciidoctor.Reader.Cursor;pe.prototype.getFile=function(){const l=this.file;return l===Opal.nil?void 0:l},pe.prototype.getDirectory=function(){const l=this.dir;return l===Opal.nil?void 0:l},pe.prototype.getPath=function(){const l=this.path;return l===Opal.nil?void 0:l},pe.prototype.getLineNumber=function(){return this.lineno};function F(l,ce){const oe=Opal.const_get_qualified(Opal.Logger,"Formatter");return b(oe,l,ce,{},{call:function(Q){for(let me=0;me<Q.length;me++)typeof Q[me]=="object"&&"$$smap"in Q[me]&&(Q[me]=n(Q[me]));return Q}})}function ue(l,ce){const oe=Opal.const_get_qualified(Opal.Asciidoctor,"Logger");return b(oe,l,ce,{},{add:function(Q){if(Q.length>=2&&typeof Q[2]=="object"&&"$$smap"in Q[2]){const me=Q[2],w=n(me);w.getText=function(){return this.text},w.getSourceLocation=function(){return this.source_location},w.$inspect=function(){const W=this.getSourceLocation();return W?W.getPath()+": line "+W.getLineNumber()+": "+this.getText():this.getText()},Q[2]=w}return Q.length>=1&&(Q[1]=Q[1]===Opal.nil?void 0:Q[1]),Q}})}const G=Opal.const_get_qualified(Opal.Asciidoctor,"LoggerManager",!0);Opal.Asciidoctor.LoggerManager=G,G.getLogger=function(){return this.$logger()},G.setLogger=function(l){this["$logger="](l)},G.newLogger=function(l,ce){return ue(l,ce).$new()},G.newFormatter=function(l,ce){return F(l,ce).$new()};const x=Opal.const_get_qualified(Opal.Logger,"Severity",!0);Opal.Asciidoctor.LoggerSeverity=x,x.get=function(l){return x.$constants()[l]};const Z=Opal.const_get_qualified(Opal.Logger,"Formatter",!0);Opal.Asciidoctor.LoggerFormatter=Z,Z.prototype.call=function(l,ce,oe,Q){return this.$call(x.get(l),ce,oe,Q)};const X=Opal.const_get_qualified(Opal.Asciidoctor,"MemoryLogger",!0);Opal.Asciidoctor.MemoryLogger=X,X.create=function(){return this.$new()},X.prototype.getMessages=function(){const l=this.messages,ce=[];for(let oe=0;oe<l.length;oe++){const Q=l[oe],me=n(Q);typeof me.message=="string"?me.getText=function(){return this.message}:(me.message=n(me.message),me.getText=function(){return this.message.text}),me.getSeverity=function(){return this.severity.toString()},me.getSourceLocation=function(){return this.message.source_location},ce.push(me)}return ce};const ge=Opal.const_get_qualified(Opal.Asciidoctor,"Logging",!0);Opal.Asciidoctor.Logging=ge,ge.getLogger=function(){return G.$logger()},ge.createLogMessage=function(l,ce){return ge.prototype.$message_with_context(l,e(ce))},te.prototype.getLogger=ge.getLogger,te.prototype.createLogMessage=ge.createLogMessage,we.prototype.getLogger=ge.getLogger,we.prototype.createLogMessage=ge.createLogMessage;const j=Opal.const_get_qualified(Opal.Asciidoctor,"Logger",!0);Opal.Asciidoctor.Logger=j,j.prototype.getMaxSeverity=function(){const l=this.max_severity;return l===Opal.nil?void 0:l},j.prototype.getFormatter=function(){return this.formatter},j.prototype.setFormatter=function(l){this.formatter=l},j.prototype.getLevel=function(){return this.level},j.prototype.setLevel=function(l){this.level=l},j.prototype.getProgramName=function(){return this.progname},j.prototype.setProgramName=function(l){this.progname=l};const Ke=Opal.const_get_qualified("::","Logger"),ve=function(l,ce,oe){l["$"+ce](oe)};Ke.prototype.add=function(l,ce,oe){const Q=typeof l=="string"?x[l.toUpperCase()]:l;this.$add(Q,ce,oe)},Ke.prototype.log=Ke.prototype.add,Ke.prototype.debug=function(l){ve(this,"debug",l)},Ke.prototype.info=function(l){ve(this,"info",l)},Ke.prototype.warn=function(l){ve(this,"warn",l)},Ke.prototype.error=function(l){ve(this,"error",l)},Ke.prototype.fatal=function(l){ve(this,"fatal",l)},Ke.prototype.isDebugEnabled=function(){return this["$debug?"]()},Ke.prototype.isInfoEnabled=function(){return this["$info?"]()},Ke.prototype.isWarnEnabled=function(){return this["$warn?"]()},Ke.prototype.isErrorEnabled=function(){return this["$error?"]()},Ke.prototype.isFatalEnabled=function(){return this["$fatal?"]()};const re=Opal.const_get_qualified(Opal.Asciidoctor,"NullLogger",!0);Opal.Asciidoctor.NullLogger=re,re.create=function(){return this.$new()},re.prototype.getMaxSeverity=function(){return this.max_severity},Opal.Asciidoctor.StopIteration=Opal.StopIteration;const m=Opal.const_get_qualified(Opal.Asciidoctor,"Timings",!0);Opal.Asciidoctor.Timings=m,m.create=function(){return this.$new()},m.prototype.printReport=function(l,ce){let oe;if(l)if(typeof l.$add=="function")oe=function(Q){l.$add(1,Q)};else if(typeof l.log=="function")oe=l.log;else if(typeof l.write=="function")oe=function(Q){l.write(Q,"utf-8")};else throw new Error("The output should be a Stream (with a write function), an object with a log function or a Ruby Logger (with a add function)");else oe=function(Q){Opal.gvars.stdout.$write(Q)};ce&&oe("Input file: "+ce),oe(" Time to read and parse source: "+this.$read_parse().toFixed(2)),oe(" Time to convert document: "+this.$convert().toFixed(2)),oe(" Total time (read, parse and convert): "+this.$read_parse_convert().toFixed(2))};const f=Opal.const_get_qualified(Opal.Asciidoctor,"SyntaxHighlighter",!0);Opal.Asciidoctor.SyntaxHighlighter=f,f.register=function(l,ce){const oe=typeof l=="string"?l:l[0];if(typeof ce=="function"){const w=ce.prototype,W=Object.getOwnPropertyNames(w);ce={};for(const Xe in W){const O=W[Xe];ce[O]=w[O]}}const Q=b(u,oe,ce,{},{format:function(me){return me.length>=2&&typeof me[2]=="object"&&"$$smap"in me[2]&&(me[2]=n(me[2])),me.length>=1&&(me[1]=me[1]===Opal.nil?void 0:me[1]),me},highlight:function(me){if(me.length>=3&&typeof me[3]=="object"&&"$$smap"in me[3]){let w=me[3];w=n(w);for(const W in w){const Xe=w[W];if(W==="callouts"){const O=s(Xe);for(const ze in O){const N=O[ze];for(let at=0;at<N.length;at++){const Re=N[at];for(let Je=0;Je<Re.length;Je++)Re[Je]=Re[Je]===Opal.nil?void 0:Re[Je]}}w[W]=O}else w[W]=Xe===Opal.nil?void 0:Xe}me[3]=w}return me.length>=2&&(me[2]=me[2]===Opal.nil?void 0:me[2]),me}});for(const me in ce)Object.prototype.hasOwnProperty.call(ce,me)&&function(w){const W=ce[w];w==="handlesHighlighting"?Opal.def(Q,"$highlight?",function(){return W.call()}):w==="hasDocinfo"&&Opal.def(Q,"$docinfo?",function(Xe){return W.apply(this,[Xe])})}(me);return Opal.def(Q,"$name",function(){return oe}),f.$register(Q,l),Q},f.get=function(l){const ce=f.$for(l);return ce===Opal.nil?void 0:ce},f.for=f.get;const u=Opal.const_get_qualified(f,"Base",!0);Opal.Asciidoctor.SyntaxHighlighterBase=u,u.prototype.registerFor=function(l){f.$register(this,l)};const $=Opal.Asciidoctor.Table;$.create=function(l,ce){return this.$new(l,e(ce))},$.prototype.getCaption=function(){return this.caption},$.prototype.getRows=function(){return this.rows},$.prototype.getColumns=function(){return this.columns},$.prototype.getHeadRows=function(){return this.rows.head},$.prototype.hasHeadRows=function(){return this.rows!==Opal.nil&&this.rows.head.length>0},$.prototype.getBodyRows=function(){return this.rows.body},$.prototype.hasBodyRows=function(){return this.rows!==Opal.nil&&this.rows.body.length>0},$.prototype.getFootRows=function(){return this.rows.foot},$.prototype.hasFootRows=function(){return this.rows!==Opal.nil&&this.rows.foot.length>0},$.prototype.hasHeaderOption=function(){return this.has_header_option},$.prototype.hasFooterOption=function(){return this.isOption("footer")},$.prototype.hasAutowidthOption=function(){return this.isOption("autowidth")},$.prototype.getRowCount=function(){return this.getAttribute("rowcount")},$.prototype.setRowCount=function(l){this.setAttribute("rowcount",l)},$.prototype.getColumnCount=function(){return this.getAttribute("colcount")},$.prototype.setColumnCount=function(l){this.setAttribute("colcount",l)};const h=Opal.Asciidoctor.Table.Rows;h.create=function(l,ce,oe){return this.$new(l,ce,oe)},h.prototype.getHead=function(){return this.head},h.prototype.getFoot=function(){return this.foot},h.prototype.getBody=function(){return this.body},h.prototype.bySection=function(){return[["head",this.head],["body",this.body],["foot",this.foot]]};const p=Opal.Asciidoctor.Table.Column;p.create=function(l,ce,oe){return this.$new(l,ce,e(oe))},p.prototype.getColumnNumber=function(){return this.getAttribute("colnumber")},p.prototype.getWidth=function(){return this.getAttribute("width")},p.prototype.getHorizontalAlign=function(){return this.getAttribute("halign")},p.prototype.getVerticalAlign=function(){return this.getAttribute("valign")},p.prototype.getStyle=function(){const l=this.style;return l===Opal.nil?void 0:l};const D=Opal.Asciidoctor.Table.Cell;D.create=function(l,ce,oe,Q){return this.$new(l,ce,e(oe),e(Q))},D.prototype.getColumnSpan=function(){const l=this.colspan;return l===Opal.nil?void 0:l},D.prototype.setColumnSpan=function(l){return this["$colspan="](l)},D.prototype.getRowSpan=function(){const l=this.rowspan;return l===Opal.nil?void 0:l},D.prototype.setRowSpan=function(l){return this["$rowspan="](l)},D.prototype.getContent=function(){return this.$content()},D.prototype.getText=function(){return this.$text()},D.prototype.getSource=function(){return this.$source()},D.prototype.getLines=function(){return this.$lines()},D.prototype.getLineNumber=function(){const l=this.$lineno();return l===Opal.nil?void 0:l},D.prototype.getFile=function(){const l=this.$file();return l===Opal.nil?void 0:l},D.prototype.getStyle=function(){const l=this.$style();return l===Opal.nil?void 0:l},D.prototype.getColumn=function(){const l=this.$column();return l===Opal.nil?void 0:l},D.prototype.getWidth=function(){return this.getAttribute("width")},D.prototype.getColumnPercentageWidth=function(){return this.getAttribute("colpcwidth")},D.prototype.getInnerDocument=function(){const l=this.inner_document;return l===Opal.nil?void 0:l};const z=Opal.Asciidoctor.Converter.TemplateConverter;if(z){Opal.Asciidoctor.TemplateConverter=z,z.create=function(ce,oe,Q){Q&&Q.template_cache&&(Q.template_cache=e(Q.template_cache)),this.$new(ce,oe,e(Q))},z.getCache=function(){const ce=n(this.caches);if(ce){if(ce.scans){ce.scans=n(ce.scans);for(const oe in ce.scans)ce.scans[oe]=n(ce.scans[oe])}ce.templates&&(ce.templates=n(ce.templates))}return ce},z.clearCache=function(){this.$clear_caches()},z.prototype.convert=function(ce,oe,Q){return this.$convert(ce,oe,e(Q))},z.prototype.handles=function(ce){return this["$handles?"](ce)},z.prototype.getContentOnly=function(ce){return this.$content_only(ce)},z.prototype.skip=function(ce){this.$skip(ce)},z.prototype.getTemplates=function(){return n(this.$templates())},z.prototype.register=function(ce,oe){return this.$register(ce,oe)};const l={};l.registry={},Opal.Asciidoctor.TemplateEngine=l,l.register=function(ce,oe){if(typeof ce=="string")this.registry[ce]=oe;else for(let Q=0;Q<ce.length;Q++){const me=ce[Q];this.registry[me]=oe}}}const ie=Opal.Asciidoctor.Converter.CompositeConverter;ie&&(Opal.Asciidoctor.CompositeConverter=ie,ie.prototype.convert=function(l,ce,oe){return this.$convert(l,ce,e(oe))},ie.prototype.getContentOnly=function(l){return this.$content_only(l)},ie.prototype.skip=function(l){this.$skip(l)},ie.prototype.getConverters=function(){return this.converters},ie.prototype.getConverter=function(l){const ce=this.$converter_for(l);return ce===Opal.nil?void 0:ce},ie.prototype.findConverter=function(l){return this.$find_converter(l)});const Ue=Opal.const_get_qualified(Opal.Asciidoctor,"Converter");Opal.Asciidoctor.Converter=Ue,Ue.prototype.convert=function(l,ce,oe){return this.$convert(l,ce,e(oe))},Ue.create=function(l,ce){return this.$create(l,e(ce))};const ut=Opal.Asciidoctor.Converter.Factory,yt=Opal.Asciidoctor.Converter.Base;Opal.Asciidoctor.ConverterFactory=ut;const Tt=Opal.Asciidoctor.Converter.BackendTraits;Opal.Asciidoctor.ConverterBackendTraits=Tt,ut.register=function(l,ce){const oe=[d(l)].concat(ce);return Ue.$register.apply(Ue,oe)},ut.getDefault=function(l){return this.$default(l)},ut.prototype.create=function(l,ce){return this.$create(l,e(ce))},ut.getRegistry=function(){return n(Ue.$registry())},ut.for=function(l){const ce=Ue.$for(l);return ce===Opal.nil?void 0:ce},ut.unregisterAll=function(){const l=Ue.DefaultFactory.$$cvars["@@registry"];Ue.DefaultFactory.$$cvars["@@registry"]=e({html5:l["$[]"]("html5")})};const Ht=Opal.Asciidoctor.Converter.Html5Converter;Opal.Asciidoctor.Html5Converter=Ht,Ht.create=function(){return this.$new()},Ht.prototype.convert=function(l,ce,oe){return this.$convert(l,ce,oe)};const Lt=function(l){return l.$$arity=l.length,l},Kt=function(l,ce,oe,Q){return typeof oe=="object"||oe.$$is_class?l["$"+ce](oe,Q):Opal.send(l,ce,Q&&[Q],Lt(oe))},Ut=Opal.const_get_qualified(Opal.Asciidoctor,"Extensions");Opal.Asciidoctor.Extensions=Ut,Ut.create=function(l,ce){return typeof l=="function"&&typeof ce>"u"?Opal.send(this,"create",null,Lt(l)):typeof ce=="function"?Opal.send(this,"create",[l],Lt(ce)):this.$create()},Ut.register=function(l,ce){return typeof l=="function"&&typeof ce>"u"?Opal.send(this,"register",null,Lt(l)):Opal.send(this,"register",[l],Lt(ce))},Ut.getGroups=function(){return n(this.$groups())},Ut.unregisterAll=function(){this.$unregister_all()},Ut.unregister=function(){const l=Array.prototype.concat.apply([],arguments),ce=this.$groups(),oe={};let Q=0;const me=ce.$$keys;for(;Q<me.length;Q++){const w=me[Q];oe[w.toString()]=w}for(let w=0;w<l.length;w++){const W=l[w];W in oe&&Opal.hash_delete(ce,oe[W])}};const Xt=Ut.Registry;Xt.prototype.getGroups=Ut.getGroups,Xt.prototype.unregisterAll=function(){this.groups=Opal.hash()},Xt.prototype.unregister=Ut.unregister,Xt.prototype.prefer=function(l,ce){return arguments.length===1&&(ce=l,l=null),typeof ce=="object"||ce.$$is_class?this.$prefer(l,ce):Opal.send(this,"prefer",l&&[l],Lt(ce))},Xt.prototype.block=function(l,ce){return arguments.length===1&&(ce=l,l=null),Kt(this,"block",ce,l)},Xt.prototype.inlineMacro=function(l,ce){return arguments.length===1&&(ce=l,l=null),Kt(this,"inline_macro",ce,l)},Xt.prototype.includeProcessor=function(l,ce){return arguments.length===1&&(ce=l,l=null),Kt(this,"include_processor",ce,l)},Xt.prototype.blockMacro=function(l,ce){return arguments.length===1&&(ce=l,l=null),Kt(this,"block_macro",ce,l)},Xt.prototype.treeProcessor=function(l,ce){return arguments.length===1&&(ce=l,l=null),Kt(this,"tree_processor",ce,l)},Xt.prototype.postprocessor=function(l,ce){return arguments.length===1&&(ce=l,l=null),Kt(this,"postprocessor",ce,l)},Xt.prototype.preprocessor=function(l,ce){return arguments.length===1&&(ce=l,l=null),Kt(this,"preprocessor",ce,l)},Xt.prototype.docinfoProcessor=function(l,ce){return arguments.length===1&&(ce=l,l=null),Kt(this,"docinfo_processor",ce,l)},Xt.prototype.hasPreprocessors=function(){return this["$preprocessors?"]()},Xt.prototype.hasTreeProcessors=function(){return this["$tree_processors?"]()},Xt.prototype.hasIncludeProcessors=function(){return this["$include_processors?"]()},Xt.prototype.hasPostprocessors=function(){return this["$postprocessors?"]()},Xt.prototype.hasDocinfoProcessors=function(l){return this["$docinfo_processors?"](l)},Xt.prototype.hasBlocks=function(){return this["$blocks?"]()},Xt.prototype.hasBlockMacros=function(){return this["$block_macros?"]()},Xt.prototype.hasInlineMacros=function(){return this["$inline_macros?"]()},Xt.prototype.getPreprocessors=function(){return this.$preprocessors()},Xt.prototype.getTreeProcessors=function(){return this.$tree_processors()},Xt.prototype.getIncludeProcessors=function(){return this.$include_processors()},Xt.prototype.getPostprocessors=function(){return this.$postprocessors()},Xt.prototype.getDocinfoProcessors=function(l){return this.$docinfo_processors(l)},Xt.prototype.getBlocks=function(){return this.block_extensions.$values()},Xt.prototype.getBlockMacros=function(){return this.block_macro_extensions.$values()},Xt.prototype.getInlineMacros=function(){return this.$inline_macros()},Xt.prototype.getInlineMacroFor=function(l){const ce=this["$registered_for_inline_macro?"](l);return ce===!1?void 0:ce},Xt.prototype.getBlockFor=function(l,ce){if(typeof ce>"u"){const Q=this.$find_block_extension(l);return Q===Opal.nil?void 0:Q}const oe=this["$registered_for_block?"](l,ce);return oe===!1?void 0:oe},Xt.prototype.getBlockMacroFor=function(l){const ce=this["$registered_for_block_macro?"](l);return ce===!1?void 0:ce};const Gt=Ut.Processor;Gt.prototype.prepend=function(){this.$option("position",">>")},Gt.prototype.process=function(l){const ce={apply:function(Q,me,w){for(let W=0;W<w.length;W++)typeof w[W]=="object"&&"$$smap"in w[W]&&(w[W]=n(w[W]));return Q.apply(me,w)}},oe=new Proxy(l,ce);return Opal.send(this,"process",null,Lt(oe))},Gt.prototype.named=function(l){return this.$named(l)},Gt.prototype.createBlock=function(l,ce,oe,Q,me){return this.$create_block(l,ce,oe,e(Q),e(me))},Gt.prototype.createList=function(l,ce,oe){return this.$create_list(l,ce,e(oe))},Gt.prototype.createListItem=function(l,ce){return this.$create_list_item(l,ce)},Gt.prototype.createImageBlock=function(l,ce,oe){return this.$create_image_block(l,e(ce),e(oe))},Gt.prototype.createParagraph=function(l,ce,oe,Q){return this.$create_paragraph(l,ce,e(oe),e(Q))},Gt.prototype.createOpenBlock=function(l,ce,oe,Q){return this.$create_open_block(l,ce,e(oe),e(Q))},Gt.prototype.createExampleBlock=function(l,ce,oe,Q){return this.$create_example_block(l,ce,e(oe),e(Q))},Gt.prototype.createPassBlock=function(l,ce,oe,Q){return this.$create_pass_block(l,ce,e(oe),e(Q))},Gt.prototype.createListingBlock=function(l,ce,oe,Q){return this.$create_listing_block(l,ce,e(oe),e(Q))},Gt.prototype.createLiteralBlock=function(l,ce,oe,Q){return this.$create_literal_block(l,ce,e(oe),e(Q))},Gt.prototype.createAnchor=function(l,ce,oe){return oe&&oe.attributes&&(oe.attributes=e(oe.attributes)),this.$create_anchor(l,ce,e(oe))},Gt.prototype.createInlinePass=function(l,ce,oe){return oe&&oe.attributes&&(oe.attributes=e(oe.attributes)),this.$create_inline_pass(l,ce,e(oe))},Gt.prototype.createInline=function(l,ce,oe,Q){return Q&&Q.attributes&&(Q.attributes=e(Q.attributes)),this.$create_inline(l,ce,oe,e(Q))},Gt.prototype.parseContent=function(l,ce,oe){return this.$parse_content(l,ce,e(oe))},Gt.prototype.parseAttributes=function(l,ce,oe){return oe&&oe.attributes&&(oe.attributes=e(oe.attributes)),n(this.$parse_attributes(l,ce,e(oe)))},Gt.prototype.positionalAttributes=function(l){return this.$positional_attrs(l)},Gt.prototype.resolveAttributes=function(l){return typeof l=="object"&&!Array.isArray(l)?this.$resolves_attributes(e(l)):arguments.length>1?this.$resolves_attributes(Array.prototype.slice.call(arguments)):typeof l>"u"?this.$resolves_attributes(Opal.nil):this.$resolves_attributes(l)},Gt.prototype.resolvesAttributes=Gt.prototype.resolveAttributes,Gt.prototype.getConfig=function(){return n(this.config)},Gt.prototype.option=function(l,ce){this.$option(l,ce)};const $t=Ut.BlockProcessor;$t.prototype.defaultAttributes=function(l){this.$default_attributes(e(l))},$t.prototype.onContext=function(l){return this.$on_context(l)},$t.prototype.onContexts=function(l){return this.$on_contexts(Array.prototype.slice.call(arguments))},$t.prototype.getName=function(){const l=this.name;return l===Opal.nil?void 0:l},$t.prototype.parseContentAs=function(l){this.$parse_content_as(l)};const De=Ut.BlockMacroProcessor;De.prototype.defaultAttributes=function(l){this.$default_attributes(e(l))},De.prototype.getName=function(){const l=this.name;return l===Opal.nil?void 0:l},De.prototype.parseContentAs=function(l){this.$parse_content_as(l)};const Ye=Ut.InlineMacroProcessor;Ye.prototype.defaultAttributes=function(l){this.$default_attributes(e(l))},Ye.prototype.getName=function(){const l=this.name;return l===Opal.nil?void 0:l},Ye.prototype.parseContentAs=function(l){this.$parse_content_as(l)},Ye.prototype.matchFormat=function(l){this.$match_format(l)},Ye.prototype.match=function(l){this.$match(l)};const et=Ut.IncludeProcessor;et.prototype.handles=function(l){return Opal.send(this,"handles?",null,Lt(l))},et.prototype.prefer=function(){this.$prefer()};const T=Ut.TreeProcessor;T.prototype.prefer=function(){this.$prefer()};const L=Ut.Postprocessor;L.prototype.prefer=function(){this.$prefer()};const be=Ut.Preprocessor;be.prototype.prefer=function(){this.$prefer()};const Pe=Ut.DocinfoProcessor;Pe.prototype.prefer=function(){this.$prefer()},Pe.prototype.atLocation=function(l){this.$at_location(l)};function rt(l,ce,oe){const Q=Opal.const_get_qualified(Ut,l);return b(Q,ce,oe,{"handles?":function(){return!0}})}Ut.createPostprocessor=function(l,ce){return arguments.length===1&&(ce=l,l=null),rt("Postprocessor",l,ce)},Ut.newPostprocessor=function(l,ce){return arguments.length===1&&(ce=l,l=null),this.createPostprocessor(l,ce).$new()},Ut.createPreprocessor=function(l,ce){return arguments.length===1&&(ce=l,l=null),rt("Preprocessor",l,ce)},Ut.newPreprocessor=function(l,ce){return arguments.length===1&&(ce=l,l=null),this.createPreprocessor(l,ce).$new()},Ut.createTreeProcessor=function(l,ce){return arguments.length===1&&(ce=l,l=null),rt("TreeProcessor",l,ce)},Ut.newTreeProcessor=function(l,ce){return arguments.length===1&&(ce=l,l=null),this.createTreeProcessor(l,ce).$new()},Ut.createIncludeProcessor=function(l,ce){return arguments.length===1&&(ce=l,l=null),rt("IncludeProcessor",l,ce)},Ut.newIncludeProcessor=function(l,ce){return arguments.length===1&&(ce=l,l=null),this.createIncludeProcessor(l,ce).$new()},Ut.createDocinfoProcessor=function(l,ce){return arguments.length===1&&(ce=l,l=null),rt("DocinfoProcessor",l,ce)},Ut.newDocinfoProcessor=function(l,ce){return arguments.length===1&&(ce=l,l=null),this.createDocinfoProcessor(l,ce).$new()},Ut.createBlockProcessor=function(l,ce){return arguments.length===1&&(ce=l,l=null),rt("BlockProcessor",l,ce)},Ut.newBlockProcessor=function(l,ce){return arguments.length===1&&(ce=l,l=null),this.createBlockProcessor(l,ce).$new()},Ut.createInlineMacroProcessor=function(l,ce){return arguments.length===1&&(ce=l,l=null),rt("InlineMacroProcessor",l,ce)},Ut.newInlineMacroProcessor=function(l,ce){return arguments.length===1&&(ce=l,l=null),this.createInlineMacroProcessor(l,ce).$new()},Ut.createBlockMacroProcessor=function(l,ce){return arguments.length===1&&(ce=l,l=null),rt("BlockMacroProcessor",l,ce)},Ut.newBlockMacroProcessor=function(l,ce){return arguments.length===1&&(ce=l,l=null),this.createBlockMacroProcessor(l,ce).$new()};var mt="3.0.4";return Opal.Asciidoctor.prototype.getVersion=function(){return mt},Opal.Asciidoctor}const dE=Object.freeze(Object.defineProperty({__proto__:null,default:hE},Symbol.toStringTag,{value:"Module"})),pE=D0(dE);var i_,Km;function mE(){return Km||(Km=1,i_=pE),i_}var gE=mE();const vv=rv(gE),vE=()=>{};var Xm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let o=t.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},yE=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const o=t[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const d=t[n++];e[s++]=String.fromCharCode((o&31)<<6|d&63)}else if(o>239&&o<365){const d=t[n++],b=t[n++],k=t[n++],C=((o&7)<<18|(d&63)<<12|(b&63)<<6|k&63)-65536;e[s++]=String.fromCharCode(55296+(C>>10)),e[s++]=String.fromCharCode(56320+(C&1023))}else{const d=t[n++],b=t[n++];e[s++]=String.fromCharCode((o&15)<<12|(d&63)<<6|b&63)}}return e.join("")},bv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<t.length;o+=3){const d=t[o],b=o+1<t.length,k=b?t[o+1]:0,C=o+2<t.length,g=C?t[o+2]:0,se=d>>2,we=(d&3)<<4|k>>4;let he=(k&15)<<2|g>>6,Ce=g&63;C||(Ce=64,b||(he=64)),s.push(n[se],n[we],n[he],n[Ce])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<t.length;){const d=n[t.charAt(o++)],k=o<t.length?n[t.charAt(o)]:0;++o;const g=o<t.length?n[t.charAt(o)]:64;++o;const we=o<t.length?n[t.charAt(o)]:64;if(++o,d==null||k==null||g==null||we==null)throw new bE;const he=d<<2|k>>4;if(s.push(he),g!==64){const Ce=k<<4&240|g>>2;if(s.push(Ce),we!==64){const Be=g<<6&192|we;s.push(Be)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EE=function(t){const e=yv(t);return bv.encodeByteArray(e,!0)},yc=function(t){return EE(t).replace(/\./g,"")},wE=function(t){try{return bv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=()=>AE().__FIREBASE_DEFAULTS__,xE=()=>{if(typeof process>"u"||typeof Xm>"u")return;const t=Xm.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},SE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wE(t[1]);return e&&JSON.parse(e)},Q_=()=>{try{return vE()||TE()||xE()||SE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},RE=t=>{var e,n;return(n=(e=Q_())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},kE=t=>{const e=RE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Ev=()=>{var t;return(t=Q_())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function IE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=t.iat||0,d=t.sub||t.user_id;if(!d)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const b={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:d,user_id:d,firebase:{sign_in_provider:"custom",identities:{}},...t};return[yc(JSON.stringify(n)),yc(JSON.stringify(b)),""].join(".")}const bl={};function NE(){const t={prod:[],emulator:[]};for(const e of Object.keys(bl))bl[e]?t.emulator.push(e):t.prod.push(e);return t}function qE(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Qm=!1;function zE(t,e){if(typeof window>"u"||typeof document>"u"||!O_(window.location.host)||bl[t]===e||bl[t]||Qm)return;bl[t]=e;function n(he){return`__firebase__banner__${he}`}const s="__firebase__banner",d=NE().prod.length>0;function b(){const he=document.getElementById(s);he&&he.remove()}function k(he){he.style.display="flex",he.style.background="#7faaf0",he.style.position="fixed",he.style.bottom="5px",he.style.left="5px",he.style.padding=".5em",he.style.borderRadius="5px",he.style.alignItems="center"}function C(he,Ce){he.setAttribute("width","24"),he.setAttribute("id",Ce),he.setAttribute("height","24"),he.setAttribute("viewBox","0 0 24 24"),he.setAttribute("fill","none"),he.style.marginLeft="-6px"}function g(){const he=document.createElement("span");return he.style.cursor="pointer",he.style.marginLeft="16px",he.style.fontSize="24px",he.innerHTML=" &times;",he.onclick=()=>{Qm=!0,b()},he}function se(he,Ce){he.setAttribute("id",Ce),he.innerText="Learn more",he.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",he.setAttribute("target","__blank"),he.style.paddingLeft="5px",he.style.textDecoration="underline"}function we(){const he=qE(s),Ce=n("text"),Be=document.getElementById(Ce)||document.createElement("span"),Ie=n("learnmore"),ee=document.getElementById(Ie)||document.createElement("a"),ke=n("preprendIcon"),Oe=document.getElementById(ke)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(he.created){const Ne=he.element;k(Ne),se(ee,Ie);const Fe=g();C(Oe,ke),Ne.append(Oe,Be,ee,Fe),document.body.appendChild(Ne)}d?(Be.innerText="Preview backend disconnected.",Oe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Oe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Be.innerText="Preview backend running in this workspace."),Be.setAttribute("id",Ce)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",we):we()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LE(){var e;const t=(e=Q_())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PE(){return!LE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BE(){try{return typeof indexedDB=="object"}catch{return!1}}function FE(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var d;e(((d=o.error)==null?void 0:d.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="FirebaseError";class vo extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=VE,Object.setPrototypeOf(this,vo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wv.prototype.create)}}class wv{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,d=this.errors[e],b=d?UE(d,s):"Error",k=`${this.serviceName}: ${b} (${o}).`;return new vo(o,k,s)}}function UE(t,e){return t.replace(jE,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const jE=/\{\$([^}]+)}/g;function bc(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const d=t[o],b=e[o];if(Om(d)&&Om(b)){if(!bc(d,b))return!1}else if(d!==b)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Om(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(t){return t&&t._delegate?t._delegate:t}class Rl{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new CE;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YE(e))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const d=this.getOrInitializeService({instanceIdentifier:o});s.resolve(d)}catch{}}}}clearInstance(e=fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fa){return this.instances.has(e)}getOptions(e=fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[d,b]of this.instancesDeferred.entries()){const k=this.normalizeInstanceIdentifier(d);s===k&&b.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const d=this.instances.get(s);return d&&e(d,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:GE(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=fa){return this.component?this.component.multipleInstances?e:fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GE(t){return t===fa?void 0:t}function YE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new HE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(kr||(kr={}));const XE={debug:kr.DEBUG,verbose:kr.VERBOSE,info:kr.INFO,warn:kr.WARN,error:kr.ERROR,silent:kr.SILENT},QE=kr.INFO,OE={[kr.DEBUG]:"log",[kr.VERBOSE]:"log",[kr.INFO]:"info",[kr.WARN]:"warn",[kr.ERROR]:"error"},WE=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),o=OE[e];if(o)console[o](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Av{constructor(e){this.name=e,this._logLevel=QE,this._logHandler=WE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in kr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,kr.DEBUG,...e),this._logHandler(this,kr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,kr.VERBOSE,...e),this._logHandler(this,kr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,kr.INFO,...e),this._logHandler(this,kr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,kr.WARN,...e),this._logHandler(this,kr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,kr.ERROR,...e),this._logHandler(this,kr.ERROR,...e)}}const ZE=(t,e)=>e.some(n=>t instanceof n);let Wm,Zm;function JE(){return Wm||(Wm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ew(){return Zm||(Zm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Tv=new WeakMap,p_=new WeakMap,xv=new WeakMap,s_=new WeakMap,W_=new WeakMap;function tw(t){const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("success",d),t.removeEventListener("error",b)},d=()=>{n(Is(t.result)),o()},b=()=>{s(t.error),o()};t.addEventListener("success",d),t.addEventListener("error",b)});return e.then(n=>{n instanceof IDBCursor&&Tv.set(n,t)}).catch(()=>{}),W_.set(e,t),e}function rw(t){if(p_.has(t))return;const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("complete",d),t.removeEventListener("error",b),t.removeEventListener("abort",b)},d=()=>{n(),o()},b=()=>{s(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",d),t.addEventListener("error",b),t.addEventListener("abort",b)});p_.set(t,e)}let m_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return p_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Is(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function nw(t){m_=t(m_)}function iw(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(a_(this),e,...n);return xv.set(s,e.sort?e.sort():[e]),Is(s)}:ew().includes(t)?function(...e){return t.apply(a_(this),e),Is(Tv.get(this))}:function(...e){return Is(t.apply(a_(this),e))}}function sw(t){return typeof t=="function"?iw(t):(t instanceof IDBTransaction&&rw(t),ZE(t,JE())?new Proxy(t,m_):t)}function Is(t){if(t instanceof IDBRequest)return tw(t);if(s_.has(t))return s_.get(t);const e=sw(t);return e!==t&&(s_.set(t,e),W_.set(e,t)),e}const a_=t=>W_.get(t);function aw(t,e,{blocked:n,upgrade:s,blocking:o,terminated:d}={}){const b=indexedDB.open(t,e),k=Is(b);return s&&b.addEventListener("upgradeneeded",C=>{s(Is(b.result),C.oldVersion,C.newVersion,Is(b.transaction),C)}),n&&b.addEventListener("blocked",C=>n(C.oldVersion,C.newVersion,C)),k.then(C=>{d&&C.addEventListener("close",()=>d()),o&&C.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),k}const ow=["get","getKey","getAll","getAllKeys","count"],lw=["put","add","delete","clear"],o_=new Map;function Jm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(o_.get(e))return o_.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=lw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ow.includes(n)))return;const d=async function(b,...k){const C=this.transaction(b,o?"readwrite":"readonly");let g=C.store;return s&&(g=g.index(k.shift())),(await Promise.all([g[n](...k),o&&C.done]))[0]};return o_.set(e,d),d}nw(t=>({...t,get:(e,n,s)=>Jm(e,n)||t.get(e,n,s),has:(e,n)=>!!Jm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function cw(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const g_="@firebase/app",eg="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new Av("@firebase/app"),$w="@firebase/app-compat",fw="@firebase/analytics-compat",_w="@firebase/analytics",hw="@firebase/app-check-compat",dw="@firebase/app-check",pw="@firebase/auth",mw="@firebase/auth-compat",gw="@firebase/database",vw="@firebase/data-connect",yw="@firebase/database-compat",bw="@firebase/functions",Ew="@firebase/functions-compat",ww="@firebase/installations",Aw="@firebase/installations-compat",Tw="@firebase/messaging",xw="@firebase/messaging-compat",Sw="@firebase/performance",Rw="@firebase/performance-compat",kw="@firebase/remote-config",Cw="@firebase/remote-config-compat",Iw="@firebase/storage",Dw="@firebase/storage-compat",Nw="@firebase/firestore",qw="@firebase/ai",zw="@firebase/firestore-compat",Mw="firebase",Lw="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="[DEFAULT]",Pw={[g_]:"fire-core",[$w]:"fire-core-compat",[_w]:"fire-analytics",[fw]:"fire-analytics-compat",[dw]:"fire-app-check",[hw]:"fire-app-check-compat",[pw]:"fire-auth",[mw]:"fire-auth-compat",[gw]:"fire-rtdb",[vw]:"fire-data-connect",[yw]:"fire-rtdb-compat",[bw]:"fire-fn",[Ew]:"fire-fn-compat",[ww]:"fire-iid",[Aw]:"fire-iid-compat",[Tw]:"fire-fcm",[xw]:"fire-fcm-compat",[Sw]:"fire-perf",[Rw]:"fire-perf-compat",[kw]:"fire-rc",[Cw]:"fire-rc-compat",[Iw]:"fire-gcs",[Dw]:"fire-gcs-compat",[Nw]:"fire-fst",[zw]:"fire-fst-compat",[qw]:"fire-vertex","fire-js":"fire-js",[Mw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=new Map,Bw=new Map,y_=new Map;function tg(t,e){try{t.container.addComponent(e)}catch(n){as.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wc(t){const e=t.name;if(y_.has(e))return as.debug(`There were multiple attempts to register component ${e}.`),!1;y_.set(e,t);for(const n of Ec.values())tg(n,t);for(const n of Bw.values())tg(n,t);return!0}function Fw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Vw(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ds=new wv("app","Firebase",Uw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Rl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=Lw;function Sv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:v_,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ds.create("bad-app-name",{appName:String(o)});if(n||(n=Ev()),!n)throw Ds.create("no-options");const d=Ec.get(o);if(d){if(bc(n,d.options)&&bc(s,d.config))return d;throw Ds.create("duplicate-app",{appName:o})}const b=new KE(o);for(const C of y_.values())b.addComponent(C);const k=new jw(n,s,b);return Ec.set(o,k),k}function Gw(t=v_){const e=Ec.get(t);if(!e&&t===v_&&Ev())return Sv();if(!e)throw Ds.create("no-app",{appName:t});return e}function lo(t,e,n){let s=Pw[t]??t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),d=e.match(/\s|\//);if(o||d){const b=[`Unable to register library "${s}" with version "${e}":`];o&&b.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&d&&b.push("and"),d&&b.push(`version name "${e}" contains illegal characters (whitespace or "/")`),as.warn(b.join(" "));return}wc(new Rl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="firebase-heartbeat-database",Kw=1,kl="firebase-heartbeat-store";let l_=null;function Rv(){return l_||(l_=aw(Yw,Kw,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(kl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ds.create("idb-open",{originalErrorMessage:t.message})})),l_}async function Xw(t){try{const n=(await Rv()).transaction(kl),s=await n.objectStore(kl).get(kv(t));return await n.done,s}catch(e){if(e instanceof vo)as.warn(e.message);else{const n=Ds.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});as.warn(n.message)}}}async function rg(t,e){try{const s=(await Rv()).transaction(kl,"readwrite");await s.objectStore(kl).put(e,kv(t)),await s.done}catch(n){if(n instanceof vo)as.warn(n.message);else{const s=Ds.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});as.warn(s.message)}}}function kv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=1024,Ow=30;class Ww{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Jw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),d=ng();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===d||this._heartbeatsCache.heartbeats.some(b=>b.date===d))return;if(this._heartbeatsCache.heartbeats.push({date:d,agent:o}),this._heartbeatsCache.heartbeats.length>Ow){const b=eA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(b,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){as.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ng(),{heartbeatsToSend:s,unsentEntries:o}=Zw(this._heartbeatsCache.heartbeats),d=yc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),d}catch(n){return as.warn(n),""}}}function ng(){return new Date().toISOString().substring(0,10)}function Zw(t,e=Qw){const n=[];let s=t.slice();for(const o of t){const d=n.find(b=>b.agent===o.agent);if(d){if(d.dates.push(o.date),ig(n)>e){d.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),ig(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Jw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BE()?FE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Xw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return rg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return rg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ig(t){return yc(JSON.stringify({version:2,heartbeats:t})).length}function eA(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t){wc(new Rl("platform-logger",e=>new uw(e),"PRIVATE")),wc(new Rl("heartbeat",e=>new Ww(e),"PRIVATE")),lo(g_,eg,t),lo(g_,eg,"esm2020"),lo("fire-js","")}tA("");var rA="firebase",nA="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lo(rA,nA,"app");var sg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ns,Cv;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(te,pe){function F(){}F.prototype=pe.prototype,te.D=pe.prototype,te.prototype=new F,te.prototype.constructor=te,te.C=function(ue,G,x){for(var Z=Array(arguments.length-2),X=2;X<arguments.length;X++)Z[X-2]=arguments[X];return pe.prototype[G].apply(ue,Z)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(te,pe,F){F||(F=0);var ue=Array(16);if(typeof pe=="string")for(var G=0;16>G;++G)ue[G]=pe.charCodeAt(F++)|pe.charCodeAt(F++)<<8|pe.charCodeAt(F++)<<16|pe.charCodeAt(F++)<<24;else for(G=0;16>G;++G)ue[G]=pe[F++]|pe[F++]<<8|pe[F++]<<16|pe[F++]<<24;pe=te.g[0],F=te.g[1],G=te.g[2];var x=te.g[3],Z=pe+(x^F&(G^x))+ue[0]+3614090360&4294967295;pe=F+(Z<<7&4294967295|Z>>>25),Z=x+(G^pe&(F^G))+ue[1]+3905402710&4294967295,x=pe+(Z<<12&4294967295|Z>>>20),Z=G+(F^x&(pe^F))+ue[2]+606105819&4294967295,G=x+(Z<<17&4294967295|Z>>>15),Z=F+(pe^G&(x^pe))+ue[3]+3250441966&4294967295,F=G+(Z<<22&4294967295|Z>>>10),Z=pe+(x^F&(G^x))+ue[4]+4118548399&4294967295,pe=F+(Z<<7&4294967295|Z>>>25),Z=x+(G^pe&(F^G))+ue[5]+1200080426&4294967295,x=pe+(Z<<12&4294967295|Z>>>20),Z=G+(F^x&(pe^F))+ue[6]+2821735955&4294967295,G=x+(Z<<17&4294967295|Z>>>15),Z=F+(pe^G&(x^pe))+ue[7]+4249261313&4294967295,F=G+(Z<<22&4294967295|Z>>>10),Z=pe+(x^F&(G^x))+ue[8]+1770035416&4294967295,pe=F+(Z<<7&4294967295|Z>>>25),Z=x+(G^pe&(F^G))+ue[9]+2336552879&4294967295,x=pe+(Z<<12&4294967295|Z>>>20),Z=G+(F^x&(pe^F))+ue[10]+4294925233&4294967295,G=x+(Z<<17&4294967295|Z>>>15),Z=F+(pe^G&(x^pe))+ue[11]+2304563134&4294967295,F=G+(Z<<22&4294967295|Z>>>10),Z=pe+(x^F&(G^x))+ue[12]+1804603682&4294967295,pe=F+(Z<<7&4294967295|Z>>>25),Z=x+(G^pe&(F^G))+ue[13]+4254626195&4294967295,x=pe+(Z<<12&4294967295|Z>>>20),Z=G+(F^x&(pe^F))+ue[14]+2792965006&4294967295,G=x+(Z<<17&4294967295|Z>>>15),Z=F+(pe^G&(x^pe))+ue[15]+1236535329&4294967295,F=G+(Z<<22&4294967295|Z>>>10),Z=pe+(G^x&(F^G))+ue[1]+4129170786&4294967295,pe=F+(Z<<5&4294967295|Z>>>27),Z=x+(F^G&(pe^F))+ue[6]+3225465664&4294967295,x=pe+(Z<<9&4294967295|Z>>>23),Z=G+(pe^F&(x^pe))+ue[11]+643717713&4294967295,G=x+(Z<<14&4294967295|Z>>>18),Z=F+(x^pe&(G^x))+ue[0]+3921069994&4294967295,F=G+(Z<<20&4294967295|Z>>>12),Z=pe+(G^x&(F^G))+ue[5]+3593408605&4294967295,pe=F+(Z<<5&4294967295|Z>>>27),Z=x+(F^G&(pe^F))+ue[10]+38016083&4294967295,x=pe+(Z<<9&4294967295|Z>>>23),Z=G+(pe^F&(x^pe))+ue[15]+3634488961&4294967295,G=x+(Z<<14&4294967295|Z>>>18),Z=F+(x^pe&(G^x))+ue[4]+3889429448&4294967295,F=G+(Z<<20&4294967295|Z>>>12),Z=pe+(G^x&(F^G))+ue[9]+568446438&4294967295,pe=F+(Z<<5&4294967295|Z>>>27),Z=x+(F^G&(pe^F))+ue[14]+3275163606&4294967295,x=pe+(Z<<9&4294967295|Z>>>23),Z=G+(pe^F&(x^pe))+ue[3]+4107603335&4294967295,G=x+(Z<<14&4294967295|Z>>>18),Z=F+(x^pe&(G^x))+ue[8]+1163531501&4294967295,F=G+(Z<<20&4294967295|Z>>>12),Z=pe+(G^x&(F^G))+ue[13]+2850285829&4294967295,pe=F+(Z<<5&4294967295|Z>>>27),Z=x+(F^G&(pe^F))+ue[2]+4243563512&4294967295,x=pe+(Z<<9&4294967295|Z>>>23),Z=G+(pe^F&(x^pe))+ue[7]+1735328473&4294967295,G=x+(Z<<14&4294967295|Z>>>18),Z=F+(x^pe&(G^x))+ue[12]+2368359562&4294967295,F=G+(Z<<20&4294967295|Z>>>12),Z=pe+(F^G^x)+ue[5]+4294588738&4294967295,pe=F+(Z<<4&4294967295|Z>>>28),Z=x+(pe^F^G)+ue[8]+2272392833&4294967295,x=pe+(Z<<11&4294967295|Z>>>21),Z=G+(x^pe^F)+ue[11]+1839030562&4294967295,G=x+(Z<<16&4294967295|Z>>>16),Z=F+(G^x^pe)+ue[14]+4259657740&4294967295,F=G+(Z<<23&4294967295|Z>>>9),Z=pe+(F^G^x)+ue[1]+2763975236&4294967295,pe=F+(Z<<4&4294967295|Z>>>28),Z=x+(pe^F^G)+ue[4]+1272893353&4294967295,x=pe+(Z<<11&4294967295|Z>>>21),Z=G+(x^pe^F)+ue[7]+4139469664&4294967295,G=x+(Z<<16&4294967295|Z>>>16),Z=F+(G^x^pe)+ue[10]+3200236656&4294967295,F=G+(Z<<23&4294967295|Z>>>9),Z=pe+(F^G^x)+ue[13]+681279174&4294967295,pe=F+(Z<<4&4294967295|Z>>>28),Z=x+(pe^F^G)+ue[0]+3936430074&4294967295,x=pe+(Z<<11&4294967295|Z>>>21),Z=G+(x^pe^F)+ue[3]+3572445317&4294967295,G=x+(Z<<16&4294967295|Z>>>16),Z=F+(G^x^pe)+ue[6]+76029189&4294967295,F=G+(Z<<23&4294967295|Z>>>9),Z=pe+(F^G^x)+ue[9]+3654602809&4294967295,pe=F+(Z<<4&4294967295|Z>>>28),Z=x+(pe^F^G)+ue[12]+3873151461&4294967295,x=pe+(Z<<11&4294967295|Z>>>21),Z=G+(x^pe^F)+ue[15]+530742520&4294967295,G=x+(Z<<16&4294967295|Z>>>16),Z=F+(G^x^pe)+ue[2]+3299628645&4294967295,F=G+(Z<<23&4294967295|Z>>>9),Z=pe+(G^(F|~x))+ue[0]+4096336452&4294967295,pe=F+(Z<<6&4294967295|Z>>>26),Z=x+(F^(pe|~G))+ue[7]+1126891415&4294967295,x=pe+(Z<<10&4294967295|Z>>>22),Z=G+(pe^(x|~F))+ue[14]+2878612391&4294967295,G=x+(Z<<15&4294967295|Z>>>17),Z=F+(x^(G|~pe))+ue[5]+4237533241&4294967295,F=G+(Z<<21&4294967295|Z>>>11),Z=pe+(G^(F|~x))+ue[12]+1700485571&4294967295,pe=F+(Z<<6&4294967295|Z>>>26),Z=x+(F^(pe|~G))+ue[3]+2399980690&4294967295,x=pe+(Z<<10&4294967295|Z>>>22),Z=G+(pe^(x|~F))+ue[10]+4293915773&4294967295,G=x+(Z<<15&4294967295|Z>>>17),Z=F+(x^(G|~pe))+ue[1]+2240044497&4294967295,F=G+(Z<<21&4294967295|Z>>>11),Z=pe+(G^(F|~x))+ue[8]+1873313359&4294967295,pe=F+(Z<<6&4294967295|Z>>>26),Z=x+(F^(pe|~G))+ue[15]+4264355552&4294967295,x=pe+(Z<<10&4294967295|Z>>>22),Z=G+(pe^(x|~F))+ue[6]+2734768916&4294967295,G=x+(Z<<15&4294967295|Z>>>17),Z=F+(x^(G|~pe))+ue[13]+1309151649&4294967295,F=G+(Z<<21&4294967295|Z>>>11),Z=pe+(G^(F|~x))+ue[4]+4149444226&4294967295,pe=F+(Z<<6&4294967295|Z>>>26),Z=x+(F^(pe|~G))+ue[11]+3174756917&4294967295,x=pe+(Z<<10&4294967295|Z>>>22),Z=G+(pe^(x|~F))+ue[2]+718787259&4294967295,G=x+(Z<<15&4294967295|Z>>>17),Z=F+(x^(G|~pe))+ue[9]+3951481745&4294967295,te.g[0]=te.g[0]+pe&4294967295,te.g[1]=te.g[1]+(G+(Z<<21&4294967295|Z>>>11))&4294967295,te.g[2]=te.g[2]+G&4294967295,te.g[3]=te.g[3]+x&4294967295}s.prototype.u=function(te,pe){pe===void 0&&(pe=te.length);for(var F=pe-this.blockSize,ue=this.B,G=this.h,x=0;x<pe;){if(G==0)for(;x<=F;)o(this,te,x),x+=this.blockSize;if(typeof te=="string"){for(;x<pe;)if(ue[G++]=te.charCodeAt(x++),G==this.blockSize){o(this,ue),G=0;break}}else for(;x<pe;)if(ue[G++]=te[x++],G==this.blockSize){o(this,ue),G=0;break}}this.h=G,this.o+=pe},s.prototype.v=function(){var te=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);te[0]=128;for(var pe=1;pe<te.length-8;++pe)te[pe]=0;var F=8*this.o;for(pe=te.length-8;pe<te.length;++pe)te[pe]=F&255,F/=256;for(this.u(te),te=Array(16),pe=F=0;4>pe;++pe)for(var ue=0;32>ue;ue+=8)te[F++]=this.g[pe]>>>ue&255;return te};function d(te,pe){var F=k;return Object.prototype.hasOwnProperty.call(F,te)?F[te]:F[te]=pe(te)}function b(te,pe){this.h=pe;for(var F=[],ue=!0,G=te.length-1;0<=G;G--){var x=te[G]|0;ue&&x==pe||(F[G]=x,ue=!1)}this.g=F}var k={};function C(te){return-128<=te&&128>te?d(te,function(pe){return new b([pe|0],0>pe?-1:0)}):new b([te|0],0>te?-1:0)}function g(te){if(isNaN(te)||!isFinite(te))return we;if(0>te)return ee(g(-te));for(var pe=[],F=1,ue=0;te>=F;ue++)pe[ue]=te/F|0,F*=4294967296;return new b(pe,0)}function se(te,pe){if(te.length==0)throw Error("number format error: empty string");if(pe=pe||10,2>pe||36<pe)throw Error("radix out of range: "+pe);if(te.charAt(0)=="-")return ee(se(te.substring(1),pe));if(0<=te.indexOf("-"))throw Error('number format error: interior "-" character');for(var F=g(Math.pow(pe,8)),ue=we,G=0;G<te.length;G+=8){var x=Math.min(8,te.length-G),Z=parseInt(te.substring(G,G+x),pe);8>x?(x=g(Math.pow(pe,x)),ue=ue.j(x).add(g(Z))):(ue=ue.j(F),ue=ue.add(g(Z)))}return ue}var we=C(0),he=C(1),Ce=C(16777216);t=b.prototype,t.m=function(){if(Ie(this))return-ee(this).m();for(var te=0,pe=1,F=0;F<this.g.length;F++){var ue=this.i(F);te+=(0<=ue?ue:4294967296+ue)*pe,pe*=4294967296}return te},t.toString=function(te){if(te=te||10,2>te||36<te)throw Error("radix out of range: "+te);if(Be(this))return"0";if(Ie(this))return"-"+ee(this).toString(te);for(var pe=g(Math.pow(te,6)),F=this,ue="";;){var G=Fe(F,pe).g;F=ke(F,G.j(pe));var x=((0<F.g.length?F.g[0]:F.h)>>>0).toString(te);if(F=G,Be(F))return x+ue;for(;6>x.length;)x="0"+x;ue=x+ue}},t.i=function(te){return 0>te?0:te<this.g.length?this.g[te]:this.h};function Be(te){if(te.h!=0)return!1;for(var pe=0;pe<te.g.length;pe++)if(te.g[pe]!=0)return!1;return!0}function Ie(te){return te.h==-1}t.l=function(te){return te=ke(this,te),Ie(te)?-1:Be(te)?0:1};function ee(te){for(var pe=te.g.length,F=[],ue=0;ue<pe;ue++)F[ue]=~te.g[ue];return new b(F,~te.h).add(he)}t.abs=function(){return Ie(this)?ee(this):this},t.add=function(te){for(var pe=Math.max(this.g.length,te.g.length),F=[],ue=0,G=0;G<=pe;G++){var x=ue+(this.i(G)&65535)+(te.i(G)&65535),Z=(x>>>16)+(this.i(G)>>>16)+(te.i(G)>>>16);ue=Z>>>16,x&=65535,Z&=65535,F[G]=Z<<16|x}return new b(F,F[F.length-1]&-2147483648?-1:0)};function ke(te,pe){return te.add(ee(pe))}t.j=function(te){if(Be(this)||Be(te))return we;if(Ie(this))return Ie(te)?ee(this).j(ee(te)):ee(ee(this).j(te));if(Ie(te))return ee(this.j(ee(te)));if(0>this.l(Ce)&&0>te.l(Ce))return g(this.m()*te.m());for(var pe=this.g.length+te.g.length,F=[],ue=0;ue<2*pe;ue++)F[ue]=0;for(ue=0;ue<this.g.length;ue++)for(var G=0;G<te.g.length;G++){var x=this.i(ue)>>>16,Z=this.i(ue)&65535,X=te.i(G)>>>16,ge=te.i(G)&65535;F[2*ue+2*G]+=Z*ge,Oe(F,2*ue+2*G),F[2*ue+2*G+1]+=x*ge,Oe(F,2*ue+2*G+1),F[2*ue+2*G+1]+=Z*X,Oe(F,2*ue+2*G+1),F[2*ue+2*G+2]+=x*X,Oe(F,2*ue+2*G+2)}for(ue=0;ue<pe;ue++)F[ue]=F[2*ue+1]<<16|F[2*ue];for(ue=pe;ue<2*pe;ue++)F[ue]=0;return new b(F,0)};function Oe(te,pe){for(;(te[pe]&65535)!=te[pe];)te[pe+1]+=te[pe]>>>16,te[pe]&=65535,pe++}function Ne(te,pe){this.g=te,this.h=pe}function Fe(te,pe){if(Be(pe))throw Error("division by zero");if(Be(te))return new Ne(we,we);if(Ie(te))return pe=Fe(ee(te),pe),new Ne(ee(pe.g),ee(pe.h));if(Ie(pe))return pe=Fe(te,ee(pe)),new Ne(ee(pe.g),pe.h);if(30<te.g.length){if(Ie(te)||Ie(pe))throw Error("slowDivide_ only works with positive integers.");for(var F=he,ue=pe;0>=ue.l(te);)F=Te(F),ue=Te(ue);var G=Me(F,1),x=Me(ue,1);for(ue=Me(ue,2),F=Me(F,2);!Be(ue);){var Z=x.add(ue);0>=Z.l(te)&&(G=G.add(F),x=Z),ue=Me(ue,1),F=Me(F,1)}return pe=ke(te,G.j(pe)),new Ne(G,pe)}for(G=we;0<=te.l(pe);){for(F=Math.max(1,Math.floor(te.m()/pe.m())),ue=Math.ceil(Math.log(F)/Math.LN2),ue=48>=ue?1:Math.pow(2,ue-48),x=g(F),Z=x.j(pe);Ie(Z)||0<Z.l(te);)F-=ue,x=g(F),Z=x.j(pe);Be(x)&&(x=he),G=G.add(x),te=ke(te,Z)}return new Ne(G,te)}t.A=function(te){return Fe(this,te).h},t.and=function(te){for(var pe=Math.max(this.g.length,te.g.length),F=[],ue=0;ue<pe;ue++)F[ue]=this.i(ue)&te.i(ue);return new b(F,this.h&te.h)},t.or=function(te){for(var pe=Math.max(this.g.length,te.g.length),F=[],ue=0;ue<pe;ue++)F[ue]=this.i(ue)|te.i(ue);return new b(F,this.h|te.h)},t.xor=function(te){for(var pe=Math.max(this.g.length,te.g.length),F=[],ue=0;ue<pe;ue++)F[ue]=this.i(ue)^te.i(ue);return new b(F,this.h^te.h)};function Te(te){for(var pe=te.g.length+1,F=[],ue=0;ue<pe;ue++)F[ue]=te.i(ue)<<1|te.i(ue-1)>>>31;return new b(F,te.h)}function Me(te,pe){var F=pe>>5;pe%=32;for(var ue=te.g.length-F,G=[],x=0;x<ue;x++)G[x]=0<pe?te.i(x+F)>>>pe|te.i(x+F+1)<<32-pe:te.i(x+F);return new b(G,te.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Cv=s,b.prototype.add=b.prototype.add,b.prototype.multiply=b.prototype.j,b.prototype.modulo=b.prototype.A,b.prototype.compare=b.prototype.l,b.prototype.toNumber=b.prototype.m,b.prototype.toString=b.prototype.toString,b.prototype.getBits=b.prototype.i,b.fromNumber=g,b.fromString=se,Ns=b}).apply(typeof sg<"u"?sg:typeof self<"u"?self:typeof window<"u"?window:{});var sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Iv,ml,Dv,_c,b_,Nv,qv,zv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(E,Ee,je){return E==Array.prototype||E==Object.prototype||(E[Ee]=je.value),E};function n(E){E=[typeof globalThis=="object"&&globalThis,E,typeof window=="object"&&window,typeof self=="object"&&self,typeof sc=="object"&&sc];for(var Ee=0;Ee<E.length;++Ee){var je=E[Ee];if(je&&je.Math==Math)return je}throw Error("Cannot find global object")}var s=n(this);function o(E,Ee){if(Ee)e:{var je=s;E=E.split(".");for(var st=0;st<E.length-1;st++){var xt=E[st];if(!(xt in je))break e;je=je[xt]}E=E[E.length-1],st=je[E],Ee=Ee(st),Ee!=st&&Ee!=null&&e(je,E,{configurable:!0,writable:!0,value:Ee})}}function d(E,Ee){E instanceof String&&(E+="");var je=0,st=!1,xt={next:function(){if(!st&&je<E.length){var Ct=je++;return{value:Ee(Ct,E[Ct]),done:!1}}return st=!0,{done:!0,value:void 0}}};return xt[Symbol.iterator]=function(){return xt},xt}o("Array.prototype.values",function(E){return E||function(){return d(this,function(Ee,je){return je})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var b=b||{},k=this||self;function C(E){var Ee=typeof E;return Ee=Ee!="object"?Ee:E?Array.isArray(E)?"array":Ee:"null",Ee=="array"||Ee=="object"&&typeof E.length=="number"}function g(E){var Ee=typeof E;return Ee=="object"&&E!=null||Ee=="function"}function se(E,Ee,je){return E.call.apply(E.bind,arguments)}function we(E,Ee,je){if(!E)throw Error();if(2<arguments.length){var st=Array.prototype.slice.call(arguments,2);return function(){var xt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(xt,st),E.apply(Ee,xt)}}return function(){return E.apply(Ee,arguments)}}function he(E,Ee,je){return he=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?se:we,he.apply(null,arguments)}function Ce(E,Ee){var je=Array.prototype.slice.call(arguments,1);return function(){var st=je.slice();return st.push.apply(st,arguments),E.apply(this,st)}}function Be(E,Ee){function je(){}je.prototype=Ee.prototype,E.aa=Ee.prototype,E.prototype=new je,E.prototype.constructor=E,E.Qb=function(st,xt,Ct){for(var Yt=Array(arguments.length-2),Tr=2;Tr<arguments.length;Tr++)Yt[Tr-2]=arguments[Tr];return Ee.prototype[xt].apply(st,Yt)}}function Ie(E){const Ee=E.length;if(0<Ee){const je=Array(Ee);for(let st=0;st<Ee;st++)je[st]=E[st];return je}return[]}function ee(E,Ee){for(let je=1;je<arguments.length;je++){const st=arguments[je];if(C(st)){const xt=E.length||0,Ct=st.length||0;E.length=xt+Ct;for(let Yt=0;Yt<Ct;Yt++)E[xt+Yt]=st[Yt]}else E.push(st)}}class ke{constructor(Ee,je){this.i=Ee,this.j=je,this.h=0,this.g=null}get(){let Ee;return 0<this.h?(this.h--,Ee=this.g,this.g=Ee.next,Ee.next=null):Ee=this.i(),Ee}}function Oe(E){return/^[\s\xa0]*$/.test(E)}function Ne(){var E=k.navigator;return E&&(E=E.userAgent)?E:""}function Fe(E){return Fe[" "](E),E}Fe[" "]=function(){};var Te=Ne().indexOf("Gecko")!=-1&&!(Ne().toLowerCase().indexOf("webkit")!=-1&&Ne().indexOf("Edge")==-1)&&!(Ne().indexOf("Trident")!=-1||Ne().indexOf("MSIE")!=-1)&&Ne().indexOf("Edge")==-1;function Me(E,Ee,je){for(const st in E)Ee.call(je,E[st],st,E)}function te(E,Ee){for(const je in E)Ee.call(void 0,E[je],je,E)}function pe(E){const Ee={};for(const je in E)Ee[je]=E[je];return Ee}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(E,Ee){let je,st;for(let xt=1;xt<arguments.length;xt++){st=arguments[xt];for(je in st)E[je]=st[je];for(let Ct=0;Ct<F.length;Ct++)je=F[Ct],Object.prototype.hasOwnProperty.call(st,je)&&(E[je]=st[je])}}function G(E){var Ee=1;E=E.split(":");const je=[];for(;0<Ee&&E.length;)je.push(E.shift()),Ee--;return E.length&&je.push(E.join(":")),je}function x(E){k.setTimeout(()=>{throw E},0)}function Z(){var E=re;let Ee=null;return E.g&&(Ee=E.g,E.g=E.g.next,E.g||(E.h=null),Ee.next=null),Ee}class X{constructor(){this.h=this.g=null}add(Ee,je){const st=ge.get();st.set(Ee,je),this.h?this.h.next=st:this.g=st,this.h=st}}var ge=new ke(()=>new j,E=>E.reset());class j{constructor(){this.next=this.g=this.h=null}set(Ee,je){this.h=Ee,this.g=je,this.next=null}reset(){this.next=this.g=this.h=null}}let Ke,ve=!1,re=new X,m=()=>{const E=k.Promise.resolve(void 0);Ke=()=>{E.then(f)}};var f=()=>{for(var E;E=Z();){try{E.h.call(E.g)}catch(je){x(je)}var Ee=ge;Ee.j(E),100>Ee.h&&(Ee.h++,E.next=Ee.g,Ee.g=E)}ve=!1};function u(){this.s=this.s,this.C=this.C}u.prototype.s=!1,u.prototype.ma=function(){this.s||(this.s=!0,this.N())},u.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(E,Ee){this.type=E,this.g=this.target=Ee,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var h=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var E=!1,Ee=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const je=()=>{};k.addEventListener("test",je,Ee),k.removeEventListener("test",je,Ee)}catch{}return E}();function p(E,Ee){if($.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var je=this.type=E.type,st=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=Ee,Ee=E.relatedTarget){if(Te){e:{try{Fe(Ee.nodeName);var xt=!0;break e}catch{}xt=!1}xt||(Ee=null)}}else je=="mouseover"?Ee=E.fromElement:je=="mouseout"&&(Ee=E.toElement);this.relatedTarget=Ee,st?(this.clientX=st.clientX!==void 0?st.clientX:st.pageX,this.clientY=st.clientY!==void 0?st.clientY:st.pageY,this.screenX=st.screenX||0,this.screenY=st.screenY||0):(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType=typeof E.pointerType=="string"?E.pointerType:D[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&p.aa.h.call(this)}}Be(p,$);var D={2:"touch",3:"pen",4:"mouse"};p.prototype.h=function(){p.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),ie=0;function Ue(E,Ee,je,st,xt){this.listener=E,this.proxy=null,this.src=Ee,this.type=je,this.capture=!!st,this.ha=xt,this.key=++ie,this.da=this.fa=!1}function ut(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function yt(E){this.src=E,this.g={},this.h=0}yt.prototype.add=function(E,Ee,je,st,xt){var Ct=E.toString();E=this.g[Ct],E||(E=this.g[Ct]=[],this.h++);var Yt=Ht(E,Ee,st,xt);return-1<Yt?(Ee=E[Yt],je||(Ee.fa=!1)):(Ee=new Ue(Ee,this.src,Ct,!!st,xt),Ee.fa=je,E.push(Ee)),Ee};function Tt(E,Ee){var je=Ee.type;if(je in E.g){var st=E.g[je],xt=Array.prototype.indexOf.call(st,Ee,void 0),Ct;(Ct=0<=xt)&&Array.prototype.splice.call(st,xt,1),Ct&&(ut(Ee),E.g[je].length==0&&(delete E.g[je],E.h--))}}function Ht(E,Ee,je,st){for(var xt=0;xt<E.length;++xt){var Ct=E[xt];if(!Ct.da&&Ct.listener==Ee&&Ct.capture==!!je&&Ct.ha==st)return xt}return-1}var Lt="closure_lm_"+(1e6*Math.random()|0),Kt={};function Ut(E,Ee,je,st,xt){if(Array.isArray(Ee)){for(var Ct=0;Ct<Ee.length;Ct++)Ut(E,Ee[Ct],je,st,xt);return null}return je=be(je),E&&E[z]?E.K(Ee,je,g(st)?!!st.capture:!1,xt):Xt(E,Ee,je,!1,st,xt)}function Xt(E,Ee,je,st,xt,Ct){if(!Ee)throw Error("Invalid event type");var Yt=g(xt)?!!xt.capture:!!xt,Tr=T(E);if(Tr||(E[Lt]=Tr=new yt(E)),je=Tr.add(Ee,je,st,Yt,Ct),je.proxy)return je;if(st=Gt(),je.proxy=st,st.src=E,st.listener=je,E.addEventListener)h||(xt=Yt),xt===void 0&&(xt=!1),E.addEventListener(Ee.toString(),st,xt);else if(E.attachEvent)E.attachEvent(Ye(Ee.toString()),st);else if(E.addListener&&E.removeListener)E.addListener(st);else throw Error("addEventListener and attachEvent are unavailable.");return je}function Gt(){function E(je){return Ee.call(E.src,E.listener,je)}const Ee=et;return E}function $t(E,Ee,je,st,xt){if(Array.isArray(Ee))for(var Ct=0;Ct<Ee.length;Ct++)$t(E,Ee[Ct],je,st,xt);else st=g(st)?!!st.capture:!!st,je=be(je),E&&E[z]?(E=E.i,Ee=String(Ee).toString(),Ee in E.g&&(Ct=E.g[Ee],je=Ht(Ct,je,st,xt),-1<je&&(ut(Ct[je]),Array.prototype.splice.call(Ct,je,1),Ct.length==0&&(delete E.g[Ee],E.h--)))):E&&(E=T(E))&&(Ee=E.g[Ee.toString()],E=-1,Ee&&(E=Ht(Ee,je,st,xt)),(je=-1<E?Ee[E]:null)&&De(je))}function De(E){if(typeof E!="number"&&E&&!E.da){var Ee=E.src;if(Ee&&Ee[z])Tt(Ee.i,E);else{var je=E.type,st=E.proxy;Ee.removeEventListener?Ee.removeEventListener(je,st,E.capture):Ee.detachEvent?Ee.detachEvent(Ye(je),st):Ee.addListener&&Ee.removeListener&&Ee.removeListener(st),(je=T(Ee))?(Tt(je,E),je.h==0&&(je.src=null,Ee[Lt]=null)):ut(E)}}}function Ye(E){return E in Kt?Kt[E]:Kt[E]="on"+E}function et(E,Ee){if(E.da)E=!0;else{Ee=new p(Ee,this);var je=E.listener,st=E.ha||E.src;E.fa&&De(E),E=je.call(st,Ee)}return E}function T(E){return E=E[Lt],E instanceof yt?E:null}var L="__closure_events_fn_"+(1e9*Math.random()>>>0);function be(E){return typeof E=="function"?E:(E[L]||(E[L]=function(Ee){return E.handleEvent(Ee)}),E[L])}function Pe(){u.call(this),this.i=new yt(this),this.M=this,this.F=null}Be(Pe,u),Pe.prototype[z]=!0,Pe.prototype.removeEventListener=function(E,Ee,je,st){$t(this,E,Ee,je,st)};function rt(E,Ee){var je,st=E.F;if(st)for(je=[];st;st=st.F)je.push(st);if(E=E.M,st=Ee.type||Ee,typeof Ee=="string")Ee=new $(Ee,E);else if(Ee instanceof $)Ee.target=Ee.target||E;else{var xt=Ee;Ee=new $(st,E),ue(Ee,xt)}if(xt=!0,je)for(var Ct=je.length-1;0<=Ct;Ct--){var Yt=Ee.g=je[Ct];xt=mt(Yt,st,!0,Ee)&&xt}if(Yt=Ee.g=E,xt=mt(Yt,st,!0,Ee)&&xt,xt=mt(Yt,st,!1,Ee)&&xt,je)for(Ct=0;Ct<je.length;Ct++)Yt=Ee.g=je[Ct],xt=mt(Yt,st,!1,Ee)&&xt}Pe.prototype.N=function(){if(Pe.aa.N.call(this),this.i){var E=this.i,Ee;for(Ee in E.g){for(var je=E.g[Ee],st=0;st<je.length;st++)ut(je[st]);delete E.g[Ee],E.h--}}this.F=null},Pe.prototype.K=function(E,Ee,je,st){return this.i.add(String(E),Ee,!1,je,st)},Pe.prototype.L=function(E,Ee,je,st){return this.i.add(String(E),Ee,!0,je,st)};function mt(E,Ee,je,st){if(Ee=E.i.g[String(Ee)],!Ee)return!0;Ee=Ee.concat();for(var xt=!0,Ct=0;Ct<Ee.length;++Ct){var Yt=Ee[Ct];if(Yt&&!Yt.da&&Yt.capture==je){var Tr=Yt.listener,dn=Yt.ha||Yt.src;Yt.fa&&Tt(E.i,Yt),xt=Tr.call(dn,st)!==!1&&xt}}return xt&&!st.defaultPrevented}function l(E,Ee,je){if(typeof E=="function")je&&(E=he(E,je));else if(E&&typeof E.handleEvent=="function")E=he(E.handleEvent,E);else throw Error("Invalid listener argument");return 2147483647<Number(Ee)?-1:k.setTimeout(E,Ee||0)}function ce(E){E.g=l(()=>{E.g=null,E.i&&(E.i=!1,ce(E))},E.l);const Ee=E.h;E.h=null,E.m.apply(null,Ee)}class oe extends u{constructor(Ee,je){super(),this.m=Ee,this.l=je,this.h=null,this.i=!1,this.g=null}j(Ee){this.h=arguments,this.g?this.i=!0:ce(this)}N(){super.N(),this.g&&(k.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Q(E){u.call(this),this.h=E,this.g={}}Be(Q,u);var me=[];function w(E){Me(E.g,function(Ee,je){this.g.hasOwnProperty(je)&&De(Ee)},E),E.g={}}Q.prototype.N=function(){Q.aa.N.call(this),w(this)},Q.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var W=k.JSON.stringify,Xe=k.JSON.parse,O=class{stringify(E){return k.JSON.stringify(E,void 0)}parse(E){return k.JSON.parse(E,void 0)}};function ze(){}ze.prototype.h=null;function N(E){return E.h||(E.h=E.i())}function at(){}var Re={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Je(){$.call(this,"d")}Be(Je,$);function Le(){$.call(this,"c")}Be(Le,$);var He={},gt=null;function We(){return gt=gt||new Pe}He.La="serverreachability";function ft(E){$.call(this,He.La,E)}Be(ft,$);function Ze(E){const Ee=We();rt(Ee,new ft(Ee))}He.STAT_EVENT="statevent";function it(E,Ee){$.call(this,He.STAT_EVENT,E),this.stat=Ee}Be(it,$);function pt(E){const Ee=We();rt(Ee,new it(Ee,E))}He.Ma="timingevent";function M(E,Ee){$.call(this,He.Ma,E),this.size=Ee}Be(M,$);function ot(E,Ee){if(typeof E!="function")throw Error("Fn must not be null and must be a function");return k.setTimeout(function(){E()},Ee)}function I(){this.g=!0}I.prototype.xa=function(){this.g=!1};function lt(E,Ee,je,st,xt,Ct){E.info(function(){if(E.g)if(Ct)for(var Yt="",Tr=Ct.split("&"),dn=0;dn<Tr.length;dn++){var xr=Tr[dn].split("=");if(1<xr.length){var En=xr[0];xr=xr[1];var pn=En.split("_");Yt=2<=pn.length&&pn[1]=="type"?Yt+(En+"="+xr+"&"):Yt+(En+"=redacted&")}}else Yt=null;else Yt=Ct;return"XMLHTTP REQ ("+st+") [attempt "+xt+"]: "+Ee+`
`+je+`
`+Yt})}function ht(E,Ee,je,st,xt,Ct,Yt){E.info(function(){return"XMLHTTP RESP ("+st+") [ attempt "+xt+"]: "+Ee+`
`+je+`
`+Ct+" "+Yt})}function J(E,Ee,je,st){E.info(function(){return"XMLHTTP TEXT ("+Ee+"): "+Qe(E,je)+(st?" "+st:"")})}function B(E,Ee){E.info(function(){return"TIMEOUT: "+Ee})}I.prototype.info=function(){};function Qe(E,Ee){if(!E.g)return Ee;if(!Ee)return null;try{var je=JSON.parse(Ee);if(je){for(E=0;E<je.length;E++)if(Array.isArray(je[E])){var st=je[E];if(!(2>st.length)){var xt=st[1];if(Array.isArray(xt)&&!(1>xt.length)){var Ct=xt[0];if(Ct!="noop"&&Ct!="stop"&&Ct!="close")for(var Yt=1;Yt<xt.length;Yt++)xt[Yt]=""}}}}return W(je)}catch{return Ee}}var Ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Se;function $e(){}Be($e,ze),$e.prototype.g=function(){return new XMLHttpRequest},$e.prototype.i=function(){return{}},Se=new $e;function ye(E,Ee,je,st){this.j=E,this.i=Ee,this.l=je,this.R=st||1,this.U=new Q(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ne}function ne(){this.i=null,this.g="",this.h=!1}var U={},P={};function le(E,Ee,je){E.L=1,E.v=lr(Mt(Ee)),E.m=je,E.P=!0,ae(E,null)}function ae(E,Ee){E.F=Date.now(),v(E),E.A=Mt(E.v);var je=E.A,st=E.R;Array.isArray(st)||(st=[String(st)]),Qr(je.i,"t",st),E.C=0,je=E.j.J,E.h=new ne,E.g=nu(E.j,je?Ee:null,!E.m),0<E.O&&(E.M=new oe(he(E.Y,E,E.g),E.O)),Ee=E.U,je=E.g,st=E.ca;var xt="readystatechange";Array.isArray(xt)||(xt&&(me[0]=xt.toString()),xt=me);for(var Ct=0;Ct<xt.length;Ct++){var Yt=Ut(je,xt[Ct],st||Ee.handleEvent,!1,Ee.h||Ee);if(!Yt)break;Ee.g[Yt.key]=Yt}Ee=E.H?pe(E.H):{},E.m?(E.u||(E.u="POST"),Ee["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,Ee)):(E.u="GET",E.g.ea(E.A,E.u,null,Ee)),Ze(),lt(E.i,E.u,E.A,E.l,E.R,E.m)}ye.prototype.ca=function(E){E=E.target;const Ee=this.M;Ee&&si(E)==3?Ee.j():this.Y(E)},ye.prototype.Y=function(E){try{if(E==this.g)e:{const pn=si(this.g);var Ee=this.g.Ba();const Ui=this.g.Z();if(!(3>pn)&&(pn!=3||this.g&&(this.h.h||this.g.oa()||Ql(this.g)))){this.J||pn!=4||Ee==7||(Ee==8||0>=Ui?Ze(3):Ze(2)),y(this);var je=this.g.Z();this.X=je;t:if(_e(this)){var st=Ql(this.g);E="";var xt=st.length,Ct=si(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){R(this),q(this);var Yt="";break t}this.h.i=new k.TextDecoder}for(Ee=0;Ee<xt;Ee++)this.h.h=!0,E+=this.h.i.decode(st[Ee],{stream:!(Ct&&Ee==xt-1)});st.length=0,this.h.g+=E,this.C=0,Yt=this.h.g}else Yt=this.g.oa();if(this.o=je==200,ht(this.i,this.u,this.A,this.l,this.R,pn,je),this.o){if(this.T&&!this.K){t:{if(this.g){var Tr,dn=this.g;if((Tr=dn.g?dn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Oe(Tr)){var xr=Tr;break t}}xr=null}if(je=xr)J(this.i,this.l,je,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,A(this,je);else{this.o=!1,this.s=3,pt(12),R(this),q(this);break e}}if(this.P){je=!0;let kn;for(;!this.J&&this.C<Yt.length;)if(kn=K(this,Yt),kn==P){pn==4&&(this.s=4,pt(14),je=!1),J(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==U){this.s=4,pt(15),J(this.i,this.l,Yt,"[Invalid Chunk]"),je=!1;break}else J(this.i,this.l,kn,null),A(this,kn);if(_e(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pn!=4||Yt.length!=0||this.h.h||(this.s=1,pt(16),je=!1),this.o=this.o&&je,!je)J(this.i,this.l,Yt,"[Invalid Chunked Response]"),R(this),q(this);else if(0<Yt.length&&!this.W){this.W=!0;var En=this.j;En.g==this&&En.ba&&!En.M&&(En.j.info("Great, no buffering proxy detected. Bytes received: "+Yt.length),Ks(En),En.M=!0,pt(11))}}else J(this.i,this.l,Yt,null),A(this,Yt);pn==4&&R(this),this.o&&!this.J&&(pn==4?eu(this.j,this):(this.o=!1,v(this)))}else i$(this.g),je==400&&0<Yt.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),R(this),q(this)}}}catch{}finally{}};function _e(E){return E.g?E.u=="GET"&&E.L!=2&&E.j.Ca:!1}function K(E,Ee){var je=E.C,st=Ee.indexOf(`
`,je);return st==-1?P:(je=Number(Ee.substring(je,st)),isNaN(je)?U:(st+=1,st+je>Ee.length?P:(Ee=Ee.slice(st,st+je),E.C=st+je,Ee)))}ye.prototype.cancel=function(){this.J=!0,R(this)};function v(E){E.S=Date.now()+E.I,c(E,E.I)}function c(E,Ee){if(E.B!=null)throw Error("WatchDog timer not null");E.B=ot(he(E.ba,E),Ee)}function y(E){E.B&&(k.clearTimeout(E.B),E.B=null)}ye.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(B(this.i,this.A),this.L!=2&&(Ze(),pt(17)),R(this),this.s=2,q(this)):c(this,this.S-E)};function q(E){E.j.G==0||E.J||eu(E.j,E)}function R(E){y(E);var Ee=E.M;Ee&&typeof Ee.ma=="function"&&Ee.ma(),E.M=null,w(E.U),E.g&&(Ee=E.g,E.g=null,Ee.abort(),Ee.ma())}function A(E,Ee){try{var je=E.j;if(je.G!=0&&(je.g==E||xe(je.h,E))){if(!E.K&&xe(je.h,E)&&je.G==3){try{var st=je.Da.g.parse(Ee)}catch{st=null}if(Array.isArray(st)&&st.length==3){var xt=st;if(xt[0]==0){e:if(!je.u){if(je.g)if(je.g.F+3e3<E.F)Ca(je),Ra(je);else break e;xo(je),pt(18)}}else je.za=xt[1],0<je.za-je.T&&37500>xt[2]&&je.F&&je.v==0&&!je.C&&(je.C=ot(he(je.Za,je),6e3));if(1>=fe(je.h)&&je.ca){try{je.ca()}catch{}je.ca=void 0}}else Vi(je,11)}else if((E.K||je.g==E)&&Ca(je),!Oe(Ee))for(xt=je.Da.g.parse(Ee),Ee=0;Ee<xt.length;Ee++){let xr=xt[Ee];if(je.T=xr[0],xr=xr[1],je.G==2)if(xr[0]=="c"){je.K=xr[1],je.ia=xr[2];const En=xr[3];En!=null&&(je.la=En,je.j.info("VER="+je.la));const pn=xr[4];pn!=null&&(je.Aa=pn,je.j.info("SVER="+je.Aa));const Ui=xr[5];Ui!=null&&typeof Ui=="number"&&0<Ui&&(st=1.5*Ui,je.L=st,je.j.info("backChannelRequestTimeoutMs_="+st)),st=je;const kn=E.g;if(kn){const Ai=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ai){var Ct=st.h;Ct.g||Ai.indexOf("spdy")==-1&&Ai.indexOf("quic")==-1&&Ai.indexOf("h2")==-1||(Ct.j=Ct.l,Ct.g=new Set,Ct.h&&(Ve(Ct,Ct.h),Ct.h=null))}if(st.D){const Ro=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ro&&(st.ya=Ro,Qt(st.I,st.D,Ro))}}je.G=3,je.l&&je.l.ua(),je.ba&&(je.R=Date.now()-E.F,je.j.info("Handshake RTT: "+je.R+"ms")),st=je;var Yt=E;if(st.qa=ru(st,st.J?st.ia:null,st.W),Yt.K){tt(st.h,Yt);var Tr=Yt,dn=st.L;dn&&(Tr.I=dn),Tr.B&&(y(Tr),v(Tr)),st.g=Yt}else Zl(st);0<je.i.length&&ka(je)}else xr[0]!="stop"&&xr[0]!="close"||Vi(je,7);else je.G==3&&(xr[0]=="stop"||xr[0]=="close"?xr[0]=="stop"?Vi(je,7):Ao(je):xr[0]!="noop"&&je.l&&je.l.ta(xr),je.v=0)}}Ze(4)}catch{}}var V=class{constructor(E,Ee){this.g=E,this.map=Ee}};function Y(E){this.l=E||10,k.PerformanceNavigationTiming?(E=k.performance.getEntriesByType("navigation"),E=0<E.length&&(E[0].nextHopProtocol=="hq"||E[0].nextHopProtocol=="h2")):E=!!(k.chrome&&k.chrome.loadTimes&&k.chrome.loadTimes()&&k.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function de(E){return E.h?!0:E.g?E.g.size>=E.j:!1}function fe(E){return E.h?1:E.g?E.g.size:0}function xe(E,Ee){return E.h?E.h==Ee:E.g?E.g.has(Ee):!1}function Ve(E,Ee){E.g?E.g.add(Ee):E.h=Ee}function tt(E,Ee){E.h&&E.h==Ee?E.h=null:E.g&&E.g.has(Ee)&&E.g.delete(Ee)}Y.prototype.cancel=function(){if(this.i=ct(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const E of this.g.values())E.cancel();this.g.clear()}};function ct(E){if(E.h!=null)return E.i.concat(E.h.D);if(E.g!=null&&E.g.size!==0){let Ee=E.i;for(const je of E.g.values())Ee=Ee.concat(je.D);return Ee}return Ie(E.i)}function vt(E){if(E.V&&typeof E.V=="function")return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if(typeof E=="string")return E.split("");if(C(E)){for(var Ee=[],je=E.length,st=0;st<je;st++)Ee.push(E[st]);return Ee}Ee=[],je=0;for(st in E)Ee[je++]=E[st];return Ee}function _t(E){if(E.na&&typeof E.na=="function")return E.na();if(!E.V||typeof E.V!="function"){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(C(E)||typeof E=="string"){var Ee=[];E=E.length;for(var je=0;je<E;je++)Ee.push(je);return Ee}Ee=[],je=0;for(const st in E)Ee[je++]=st;return Ee}}}function wt(E,Ee){if(E.forEach&&typeof E.forEach=="function")E.forEach(Ee,void 0);else if(C(E)||typeof E=="string")Array.prototype.forEach.call(E,Ee,void 0);else for(var je=_t(E),st=vt(E),xt=st.length,Ct=0;Ct<xt;Ct++)Ee.call(void 0,st[Ct],je&&je[Ct],E)}var Dt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zt(E,Ee){if(E){E=E.split("&");for(var je=0;je<E.length;je++){var st=E[je].indexOf("="),xt=null;if(0<=st){var Ct=E[je].substring(0,st);xt=E[je].substring(st+1)}else Ct=E[je];Ee(Ct,xt?decodeURIComponent(xt.replace(/\+/g," ")):"")}}}function It(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof It){this.h=E.h,Ft(this,E.j),this.o=E.o,this.g=E.g,sr(this,E.s),this.l=E.l;var Ee=E.i,je=new ur;je.i=Ee.i,Ee.g&&(je.g=new Map(Ee.g),je.h=Ee.h),Ot(this,je),this.m=E.m}else E&&(Ee=String(E).match(Dt))?(this.h=!1,Ft(this,Ee[1]||"",!0),this.o=er(Ee[2]||""),this.g=er(Ee[3]||"",!0),sr(this,Ee[4]),this.l=er(Ee[5]||"",!0),Ot(this,Ee[6]||"",!0),this.m=er(Ee[7]||"")):(this.h=!1,this.i=new ur(null,this.h))}It.prototype.toString=function(){var E=[],Ee=this.j;Ee&&E.push(Jt(Ee,vr,!0),":");var je=this.g;return(je||Ee=="file")&&(E.push("//"),(Ee=this.o)&&E.push(Jt(Ee,vr,!0),"@"),E.push(encodeURIComponent(String(je)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),je=this.s,je!=null&&E.push(":",String(je))),(je=this.l)&&(this.g&&je.charAt(0)!="/"&&E.push("/"),E.push(Jt(je,je.charAt(0)=="/"?an:Mn,!0))),(je=this.i.toString())&&E.push("?",je),(je=this.m)&&E.push("#",Jt(je,ar)),E.join("")};function Mt(E){return new It(E)}function Ft(E,Ee,je){E.j=je?er(Ee,!0):Ee,E.j&&(E.j=E.j.replace(/:$/,""))}function sr(E,Ee){if(Ee){if(Ee=Number(Ee),isNaN(Ee)||0>Ee)throw Error("Bad port number "+Ee);E.s=Ee}else E.s=null}function Ot(E,Ee,je){Ee instanceof ur?(E.i=Ee,Fr(E.i,E.h)):(je||(Ee=Jt(Ee,pr)),E.i=new ur(Ee,E.h))}function Qt(E,Ee,je){E.i.set(Ee,je)}function lr(E){return Qt(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function er(E,Ee){return E?Ee?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function Jt(E,Ee,je){return typeof E=="string"?(E=encodeURI(E).replace(Ee,fr),je&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function fr(E){return E=E.charCodeAt(0),"%"+(E>>4&15).toString(16)+(E&15).toString(16)}var vr=/[#\/\?@]/g,Mn=/[#\?:]/g,an=/[#\?]/g,pr=/[#\?@]/g,ar=/#/g;function ur(E,Ee){this.h=this.g=null,this.i=E||null,this.j=!!Ee}function Cr(E){E.g||(E.g=new Map,E.h=0,E.i&&zt(E.i,function(Ee,je){E.add(decodeURIComponent(Ee.replace(/\+/g," ")),je)}))}t=ur.prototype,t.add=function(E,Ee){Cr(this),this.i=null,E=qr(this,E);var je=this.g.get(E);return je||this.g.set(E,je=[]),je.push(Ee),this.h+=1,this};function nr(E,Ee){Cr(E),Ee=qr(E,Ee),E.g.has(Ee)&&(E.i=null,E.h-=E.g.get(Ee).length,E.g.delete(Ee))}function Nr(E,Ee){return Cr(E),Ee=qr(E,Ee),E.g.has(Ee)}t.forEach=function(E,Ee){Cr(this),this.g.forEach(function(je,st){je.forEach(function(xt){E.call(Ee,xt,st,this)},this)},this)},t.na=function(){Cr(this);const E=Array.from(this.g.values()),Ee=Array.from(this.g.keys()),je=[];for(let st=0;st<Ee.length;st++){const xt=E[st];for(let Ct=0;Ct<xt.length;Ct++)je.push(Ee[st])}return je},t.V=function(E){Cr(this);let Ee=[];if(typeof E=="string")Nr(this,E)&&(Ee=Ee.concat(this.g.get(qr(this,E))));else{E=Array.from(this.g.values());for(let je=0;je<E.length;je++)Ee=Ee.concat(E[je])}return Ee},t.set=function(E,Ee){return Cr(this),this.i=null,E=qr(this,E),Nr(this,E)&&(this.h-=this.g.get(E).length),this.g.set(E,[Ee]),this.h+=1,this},t.get=function(E,Ee){return E?(E=this.V(E),0<E.length?String(E[0]):Ee):Ee};function Qr(E,Ee,je){nr(E,Ee),0<je.length&&(E.i=null,E.g.set(qr(E,Ee),Ie(je)),E.h+=je.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],Ee=Array.from(this.g.keys());for(var je=0;je<Ee.length;je++){var st=Ee[je];const Ct=encodeURIComponent(String(st)),Yt=this.V(st);for(st=0;st<Yt.length;st++){var xt=Ct;Yt[st]!==""&&(xt+="="+encodeURIComponent(String(Yt[st]))),E.push(xt)}}return this.i=E.join("&")};function qr(E,Ee){return Ee=String(Ee),E.j&&(Ee=Ee.toLowerCase()),Ee}function Fr(E,Ee){Ee&&!E.j&&(Cr(E),E.i=null,E.g.forEach(function(je,st){var xt=st.toLowerCase();st!=xt&&(nr(this,st),Qr(this,xt,je))},E)),E.j=Ee}function bn(E,Ee){const je=new I;if(k.Image){const st=new Image;st.onload=Ce(Lr,je,"TestLoadImage: loaded",!0,Ee,st),st.onerror=Ce(Lr,je,"TestLoadImage: error",!1,Ee,st),st.onabort=Ce(Lr,je,"TestLoadImage: abort",!1,Ee,st),st.ontimeout=Ce(Lr,je,"TestLoadImage: timeout",!1,Ee,st),k.setTimeout(function(){st.ontimeout&&st.ontimeout()},1e4),st.src=E}else Ee(!1)}function jr(E,Ee){const je=new I,st=new AbortController,xt=setTimeout(()=>{st.abort(),Lr(je,"TestPingServer: timeout",!1,Ee)},1e4);fetch(E,{signal:st.signal}).then(Ct=>{clearTimeout(xt),Ct.ok?Lr(je,"TestPingServer: ok",!0,Ee):Lr(je,"TestPingServer: server error",!1,Ee)}).catch(()=>{clearTimeout(xt),Lr(je,"TestPingServer: error",!1,Ee)})}function Lr(E,Ee,je,st,xt){try{xt&&(xt.onload=null,xt.onerror=null,xt.onabort=null,xt.ontimeout=null),st(je)}catch{}}function Kn(){this.g=new O}function Rn(E,Ee,je){const st=je||"";try{wt(E,function(xt,Ct){let Yt=xt;g(xt)&&(Yt=W(xt)),Ee.push(st+Ct+"="+encodeURIComponent(Yt))})}catch(xt){throw Ee.push(st+"type="+encodeURIComponent("_badmap")),xt}}function ii(E){this.l=E.Ub||null,this.j=E.eb||!1}Be(ii,ze),ii.prototype.g=function(){return new Ln(this.l,this.j)},ii.prototype.i=function(E){return function(){return E}}({});function Ln(E,Ee){Pe.call(this),this.D=E,this.o=Ee,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Be(Ln,Pe),t=Ln.prototype,t.open=function(E,Ee){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=Ee,this.readyState=1,Hr(this)},t.send=function(E){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const Ee={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(Ee.body=E),(this.D||k).fetch(new Request(this.A,Ee)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,On(this)),this.readyState=0},t.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,Hr(this)),this.g&&(this.readyState=3,Hr(this),this.g)))if(this.responseType==="arraybuffer")E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof k.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fi(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fi(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}t.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var Ee=E.value?E.value:new Uint8Array(0);(Ee=this.v.decode(Ee,{stream:!E.done}))&&(this.response=this.responseText+=Ee)}E.done?On(this):Hr(this),this.readyState==3&&Fi(this)}},t.Ra=function(E){this.g&&(this.response=this.responseText=E,On(this))},t.Qa=function(E){this.g&&(this.response=E,On(this))},t.ga=function(){this.g&&On(this)};function On(E){E.readyState=4,E.l=null,E.j=null,E.v=null,Hr(E)}t.setRequestHeader=function(E,Ee){this.u.append(E,Ee)},t.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],Ee=this.h.entries();for(var je=Ee.next();!je.done;)je=je.value,E.push(je[0]+": "+je[1]),je=Ee.next();return E.join(`\r
`)};function Hr(E){E.onreadystatechange&&E.onreadystatechange.call(E)}Object.defineProperty(Ln.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(E){this.m=E?"include":"same-origin"}});function Wn(E){let Ee="";return Me(E,function(je,st){Ee+=st,Ee+=":",Ee+=je,Ee+=`\r
`}),Ee}function Or(E,Ee,je){e:{for(st in je){var st=!1;break e}st=!0}st||(je=Wn(je),typeof E=="string"?je!=null&&encodeURIComponent(String(je)):Qt(E,Ee,je))}function zr(E){Pe.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Be(zr,Pe);var Aa=/^https?$/i,js=["POST","PUT"];t=zr.prototype,t.Ha=function(E){this.J=E},t.ea=function(E,Ee,je,st){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);Ee=Ee?Ee.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Se.g(),this.v=this.o?N(this.o):N(Se),this.g.onreadystatechange=he(this.Ea,this);try{this.B=!0,this.g.open(Ee,String(E),!0),this.B=!1}catch(Ct){Xl(this,Ct);return}if(E=je||"",je=new Map(this.headers),st)if(Object.getPrototypeOf(st)===Object.prototype)for(var xt in st)je.set(xt,st[xt]);else if(typeof st.keys=="function"&&typeof st.get=="function")for(const Ct of st.keys())je.set(Ct,st.get(Ct));else throw Error("Unknown input type for opt_headers: "+String(st));st=Array.from(je.keys()).find(Ct=>Ct.toLowerCase()=="content-type"),xt=k.FormData&&E instanceof k.FormData,!(0<=Array.prototype.indexOf.call(js,Ee,void 0))||st||xt||je.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ct,Yt]of je)this.g.setRequestHeader(Ct,Yt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hs(this),this.u=!0,this.g.send(E),this.u=!1}catch(Ct){Xl(this,Ct)}};function Xl(E,Ee){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=Ee,E.m=5,Ta(E),Ei(E)}function Ta(E){E.A||(E.A=!0,rt(E,"complete"),rt(E,"error"))}t.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,rt(this,"complete"),rt(this,"abort"),Ei(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ei(this,!0)),zr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?xa(this):this.bb())},t.bb=function(){xa(this)};function xa(E){if(E.h&&typeof b<"u"&&(!E.v[1]||si(E)!=4||E.Z()!=2)){if(E.u&&si(E)==4)l(E.Ea,0,E);else if(rt(E,"readystatechange"),si(E)==4){E.h=!1;try{const Yt=E.Z();e:switch(Yt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var Ee=!0;break e;default:Ee=!1}var je;if(!(je=Ee)){var st;if(st=Yt===0){var xt=String(E.D).match(Dt)[1]||null;!xt&&k.self&&k.self.location&&(xt=k.self.location.protocol.slice(0,-1)),st=!Aa.test(xt?xt.toLowerCase():"")}je=st}if(je)rt(E,"complete"),rt(E,"success");else{E.m=6;try{var Ct=2<si(E)?E.g.statusText:""}catch{Ct=""}E.l=Ct+" ["+E.Z()+"]",Ta(E)}}finally{Ei(E)}}}}function Ei(E,Ee){if(E.g){Hs(E);const je=E.g,st=E.v[0]?()=>{}:null;E.g=null,E.v=null,Ee||rt(E,"ready");try{je.onreadystatechange=st}catch{}}}function Hs(E){E.I&&(k.clearTimeout(E.I),E.I=null)}t.isActive=function(){return!!this.g};function si(E){return E.g?E.g.readyState:0}t.Z=function(){try{return 2<si(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(E){if(this.g){var Ee=this.g.responseText;return E&&Ee.indexOf(E)==0&&(Ee=Ee.substring(E.length)),Xe(Ee)}};function Ql(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function i$(E){const Ee={};E=(E.g&&2<=si(E)&&E.g.getAllResponseHeaders()||"").split(`\r
`);for(let st=0;st<E.length;st++){if(Oe(E[st]))continue;var je=G(E[st]);const xt=je[0];if(je=je[1],typeof je!="string")continue;je=je.trim();const Ct=Ee[xt]||[];Ee[xt]=Ct,Ct.push(je)}te(Ee,function(st){return st.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gs(E,Ee,je){return je&&je.internalChannelParams&&je.internalChannelParams[E]||Ee}function Sa(E){this.Aa=0,this.i=[],this.j=new I,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gs("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gs("baseRetryDelayMs",5e3,E),this.cb=Gs("retryDelaySeedMs",1e4,E),this.Wa=Gs("forwardChannelMaxRetries",2,E),this.wa=Gs("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new Y(E&&E.concurrentRequestLimit),this.Da=new Kn,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Sa.prototype,t.la=8,t.G=1,t.connect=function(E,Ee,je,st){pt(0),this.W=E,this.H=Ee||{},je&&st!==void 0&&(this.H.OSID=je,this.H.OAID=st),this.F=this.X,this.I=ru(this,null,this.W),ka(this)};function Ao(E){if(Ol(E),E.G==3){var Ee=E.U++,je=Mt(E.I);if(Qt(je,"SID",E.K),Qt(je,"RID",Ee),Qt(je,"TYPE","terminate"),Ys(E,je),Ee=new ye(E,E.j,Ee),Ee.L=2,Ee.v=lr(Mt(je)),je=!1,k.navigator&&k.navigator.sendBeacon)try{je=k.navigator.sendBeacon(Ee.v.toString(),"")}catch{}!je&&k.Image&&(new Image().src=Ee.v,je=!0),je||(Ee.g=nu(Ee.j,null),Ee.g.ea(Ee.v)),Ee.F=Date.now(),v(Ee)}tu(E)}function Ra(E){E.g&&(Ks(E),E.g.cancel(),E.g=null)}function Ol(E){Ra(E),E.u&&(k.clearTimeout(E.u),E.u=null),Ca(E),E.h.cancel(),E.s&&(typeof E.s=="number"&&k.clearTimeout(E.s),E.s=null)}function ka(E){if(!de(E.h)&&!E.s){E.s=!0;var Ee=E.Ga;Ke||m(),ve||(Ke(),ve=!0),re.add(Ee,E),E.B=0}}function s$(E,Ee){return fe(E.h)>=E.h.j-(E.s?1:0)?!1:E.s?(E.i=Ee.D.concat(E.i),!0):E.G==1||E.G==2||E.B>=(E.Va?0:E.Wa)?!1:(E.s=ot(he(E.Ga,E,Ee),So(E,E.B)),E.B++,!0)}t.Ga=function(E){if(this.s)if(this.s=null,this.G==1){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const xt=new ye(this,this.j,E);let Ct=this.o;if(this.S&&(Ct?(Ct=pe(Ct),ue(Ct,this.S)):Ct=this.S),this.m!==null||this.O||(xt.H=Ct,Ct=null),this.P)e:{for(var Ee=0,je=0;je<this.i.length;je++){t:{var st=this.i[je];if("__data__"in st.map&&(st=st.map.__data__,typeof st=="string")){st=st.length;break t}st=void 0}if(st===void 0)break;if(Ee+=st,4096<Ee){Ee=je;break e}if(Ee===4096||je===this.i.length-1){Ee=je+1;break e}}Ee=1e3}else Ee=1e3;Ee=Wl(this,xt,Ee),je=Mt(this.I),Qt(je,"RID",E),Qt(je,"CVER",22),this.D&&Qt(je,"X-HTTP-Session-Id",this.D),Ys(this,je),Ct&&(this.O?Ee="headers="+encodeURIComponent(String(Wn(Ct)))+"&"+Ee:this.m&&Or(je,this.m,Ct)),Ve(this.h,xt),this.Ua&&Qt(je,"TYPE","init"),this.P?(Qt(je,"$req",Ee),Qt(je,"SID","null"),xt.T=!0,le(xt,je,null)):le(xt,je,Ee),this.G=2}}else this.G==3&&(E?To(this,E):this.i.length==0||de(this.h)||To(this))};function To(E,Ee){var je;Ee?je=Ee.l:je=E.U++;const st=Mt(E.I);Qt(st,"SID",E.K),Qt(st,"RID",je),Qt(st,"AID",E.T),Ys(E,st),E.m&&E.o&&Or(st,E.m,E.o),je=new ye(E,E.j,je,E.B+1),E.m===null&&(je.H=E.o),Ee&&(E.i=Ee.D.concat(E.i)),Ee=Wl(E,je,1e3),je.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),Ve(E.h,je),le(je,st,Ee)}function Ys(E,Ee){E.H&&Me(E.H,function(je,st){Qt(Ee,st,je)}),E.l&&wt({},function(je,st){Qt(Ee,st,je)})}function Wl(E,Ee,je){je=Math.min(E.i.length,je);var st=E.l?he(E.l.Na,E.l,E):null;e:{var xt=E.i;let Ct=-1;for(;;){const Yt=["count="+je];Ct==-1?0<je?(Ct=xt[0].g,Yt.push("ofs="+Ct)):Ct=0:Yt.push("ofs="+Ct);let Tr=!0;for(let dn=0;dn<je;dn++){let xr=xt[dn].g;const En=xt[dn].map;if(xr-=Ct,0>xr)Ct=Math.max(0,xt[dn].g-100),Tr=!1;else try{Rn(En,Yt,"req"+xr+"_")}catch{st&&st(En)}}if(Tr){st=Yt.join("&");break e}}}return E=E.i.splice(0,je),Ee.D=E,st}function Zl(E){if(!E.g&&!E.u){E.Y=1;var Ee=E.Fa;Ke||m(),ve||(Ke(),ve=!0),re.add(Ee,E),E.v=0}}function xo(E){return E.g||E.u||3<=E.v?!1:(E.Y++,E.u=ot(he(E.Fa,E),So(E,E.v)),E.v++,!0)}t.Fa=function(){if(this.u=null,Jl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=ot(he(this.ab,this),E)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),Ra(this),Jl(this))};function Ks(E){E.A!=null&&(k.clearTimeout(E.A),E.A=null)}function Jl(E){E.g=new ye(E,E.j,"rpc",E.Y),E.m===null&&(E.g.H=E.o),E.g.O=0;var Ee=Mt(E.qa);Qt(Ee,"RID","rpc"),Qt(Ee,"SID",E.K),Qt(Ee,"AID",E.T),Qt(Ee,"CI",E.F?"0":"1"),!E.F&&E.ja&&Qt(Ee,"TO",E.ja),Qt(Ee,"TYPE","xmlhttp"),Ys(E,Ee),E.m&&E.o&&Or(Ee,E.m,E.o),E.L&&(E.g.I=E.L);var je=E.g;E=E.ia,je.L=1,je.v=lr(Mt(Ee)),je.m=null,je.P=!0,ae(je,E)}t.Za=function(){this.C!=null&&(this.C=null,Ra(this),xo(this),pt(19))};function Ca(E){E.C!=null&&(k.clearTimeout(E.C),E.C=null)}function eu(E,Ee){var je=null;if(E.g==Ee){Ca(E),Ks(E),E.g=null;var st=2}else if(xe(E.h,Ee))je=Ee.D,tt(E.h,Ee),st=1;else return;if(E.G!=0){if(Ee.o)if(st==1){je=Ee.m?Ee.m.length:0,Ee=Date.now()-Ee.F;var xt=E.B;st=We(),rt(st,new M(st,je)),ka(E)}else Zl(E);else if(xt=Ee.s,xt==3||xt==0&&0<Ee.X||!(st==1&&s$(E,Ee)||st==2&&xo(E)))switch(je&&0<je.length&&(Ee=E.h,Ee.i=Ee.i.concat(je)),xt){case 1:Vi(E,5);break;case 4:Vi(E,10);break;case 3:Vi(E,6);break;default:Vi(E,2)}}}function So(E,Ee){let je=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(je*=2),je*Ee}function Vi(E,Ee){if(E.j.info("Error code "+Ee),Ee==2){var je=he(E.fb,E),st=E.Xa;const xt=!st;st=new It(st||"//www.google.com/images/cleardot.gif"),k.location&&k.location.protocol=="http"||Ft(st,"https"),lr(st),xt?bn(st.toString(),je):jr(st.toString(),je)}else pt(2);E.G=0,E.l&&E.l.sa(Ee),tu(E),Ol(E)}t.fb=function(E){E?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function tu(E){if(E.G=0,E.ka=[],E.l){const Ee=ct(E.h);(Ee.length!=0||E.i.length!=0)&&(ee(E.ka,Ee),ee(E.ka,E.i),E.h.i.length=0,Ie(E.i),E.i.length=0),E.l.ra()}}function ru(E,Ee,je){var st=je instanceof It?Mt(je):new It(je);if(st.g!="")Ee&&(st.g=Ee+"."+st.g),sr(st,st.s);else{var xt=k.location;st=xt.protocol,Ee=Ee?Ee+"."+xt.hostname:xt.hostname,xt=+xt.port;var Ct=new It(null);st&&Ft(Ct,st),Ee&&(Ct.g=Ee),xt&&sr(Ct,xt),je&&(Ct.l=je),st=Ct}return je=E.D,Ee=E.ya,je&&Ee&&Qt(st,je,Ee),Qt(st,"VER",E.la),Ys(E,st),st}function nu(E,Ee,je){if(Ee&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return Ee=E.Ca&&!E.pa?new zr(new ii({eb:je})):new zr(E.pa),Ee.Ha(E.J),Ee}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function iu(){}t=iu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ia(){}Ia.prototype.g=function(E,Ee){return new jn(E,Ee)};function jn(E,Ee){Pe.call(this),this.g=new Sa(Ee),this.l=E,this.h=Ee&&Ee.messageUrlParams||null,E=Ee&&Ee.messageHeaders||null,Ee&&Ee.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=Ee&&Ee.initMessageHeaders||null,Ee&&Ee.messageContentType&&(E?E["X-WebChannel-Content-Type"]=Ee.messageContentType:E={"X-WebChannel-Content-Type":Ee.messageContentType}),Ee&&Ee.va&&(E?E["X-WebChannel-Client-Profile"]=Ee.va:E={"X-WebChannel-Client-Profile":Ee.va}),this.g.S=E,(E=Ee&&Ee.Sb)&&!Oe(E)&&(this.g.m=E),this.v=Ee&&Ee.supportsCrossDomainXhr||!1,this.u=Ee&&Ee.sendRawJson||!1,(Ee=Ee&&Ee.httpSessionIdParam)&&!Oe(Ee)&&(this.g.D=Ee,E=this.h,E!==null&&Ee in E&&(E=this.h,Ee in E&&delete E[Ee])),this.j=new wi(this)}Be(jn,Pe),jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){Ao(this.g)},jn.prototype.o=function(E){var Ee=this.g;if(typeof E=="string"){var je={};je.__data__=E,E=je}else this.u&&(je={},je.__data__=W(E),E=je);Ee.i.push(new V(Ee.Ya++,E)),Ee.G==3&&ka(Ee)},jn.prototype.N=function(){this.g.l=null,delete this.j,Ao(this.g),delete this.g,jn.aa.N.call(this)};function su(E){Je.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var Ee=E.__sm__;if(Ee){e:{for(const je in Ee){E=je;break e}E=void 0}(this.i=E)&&(E=this.i,Ee=Ee!==null&&E in Ee?Ee[E]:void 0),this.data=Ee}else this.data=E}Be(su,Je);function au(){Le.call(this),this.status=1}Be(au,Le);function wi(E){this.g=E}Be(wi,iu),wi.prototype.ua=function(){rt(this.g,"a")},wi.prototype.ta=function(E){rt(this.g,new su(E))},wi.prototype.sa=function(E){rt(this.g,new au)},wi.prototype.ra=function(){rt(this.g,"b")},Ia.prototype.createWebChannel=Ia.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,zv=function(){return new Ia},qv=function(){return We()},Nv=He,b_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,_c=Ae,qe.COMPLETE="complete",Dv=qe,at.EventType=Re,Re.OPEN="a",Re.CLOSE="b",Re.ERROR="c",Re.MESSAGE="d",Pe.prototype.listen=Pe.prototype.K,ml=at,zr.prototype.listenOnce=zr.prototype.L,zr.prototype.getLastError=zr.prototype.Ka,zr.prototype.getLastErrorCode=zr.prototype.Ba,zr.prototype.getStatus=zr.prototype.Z,zr.prototype.getResponseJson=zr.prototype.Oa,zr.prototype.getResponseText=zr.prototype.oa,zr.prototype.send=zr.prototype.ea,zr.prototype.setWithCredentials=zr.prototype.Ha,Iv=zr}).apply(typeof sc<"u"?sc:typeof self<"u"?self:typeof window<"u"?window:{});const ag="@firebase/firestore",og="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vn.UNAUTHENTICATED=new Vn(null),Vn.GOOGLE_CREDENTIALS=new Vn("google-credentials-uid"),Vn.FIRST_PARTY=new Vn("first-party-uid"),Vn.MOCK_USER=new Vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yo="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new Av("@firebase/firestore");function io(){return ma.logLevel}function Wt(t,...e){if(ma.logLevel<=kr.DEBUG){const n=e.map(Z_);ma.debug(`Firestore (${yo}): ${t}`,...n)}}function os(t,...e){if(ma.logLevel<=kr.ERROR){const n=e.map(Z_);ma.error(`Firestore (${yo}): ${t}`,...n)}}function co(t,...e){if(ma.logLevel<=kr.WARN){const n=e.map(Z_);ma.warn(`Firestore (${yo}): ${t}`,...n)}}function Z_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Mv(t,s,n)}function Mv(t,e,n){let s=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw os(s),new Error(s)}function Mr(t,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,t||Mv(e,o,s)}function dr(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rr extends vo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vn.UNAUTHENTICATED))}shutdown(){}}class sA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class aA{constructor(e){this.t=e,this.currentUser=Vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Mr(this.o===void 0,42304);let s=this.i;const o=C=>this.i!==s?(s=this.i,n(C)):Promise.resolve();let d=new qs;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new qs,e.enqueueRetryable(()=>o(this.currentUser))};const b=()=>{const C=d;e.enqueueRetryable(async()=>{await C.promise,await o(this.currentUser)})},k=C=>{Wt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.o&&(this.auth.addAuthTokenListener(this.o),b())};this.t.onInit(C=>k(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?k(C):(Wt("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new qs)}},0),b()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(Wt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Mr(typeof s.accessToken=="string",31837,{l:s}),new Lv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Mr(e===null||typeof e=="string",2055,{h:e}),new Vn(e)}}class oA{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class lA{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new oA(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uA{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vw(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Mr(this.o===void 0,3512);const s=d=>{d.error!=null&&Wt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const b=d.token!==this.m;return this.m=d.token,Wt("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?n(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>s(d))};const o=d=>{Wt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(d=>o(d)),setTimeout(()=>{if(!this.appCheck){const d=this.V.getImmediate({optional:!0});d?o(d):Wt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new lg(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Mr(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new lg(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=cA(40);for(let d=0;d<o.length;++d)s.length<20&&o[d]<n&&(s+=e.charAt(o[d]%62))}return s}}function Er(t,e){return t<e?-1:t>e?1:0}function E_(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const o=t.charAt(s),d=e.charAt(s);if(o!==d)return u_(o)===u_(d)?Er(o,d):u_(o)?1:-1}return Er(t.length,e.length)}const $A=55296,fA=57343;function u_(t){const e=t.charCodeAt(0);return e>=$A&&e<=fA}function $o(t,e,n){return t.length===e.length&&t.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="__name__";class Ci{constructor(e,n,s){n===void 0?n=0:n>e.length&&$r(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&$r(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ci.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ci?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const d=Ci.compareSegments(e.get(o),n.get(o));if(d!==0)return d}return Er(e.length,n.length)}static compareSegments(e,n){const s=Ci.isNumericId(e),o=Ci.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ci.extractNumericId(e).compare(Ci.extractNumericId(n)):E_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ns.fromString(e.substring(4,e.length-2))}}class Jr extends Ci{construct(e,n,s){return new Jr(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new rr(jt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Jr(n)}static emptyPath(){return new Jr([])}}const _A=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qn extends Ci{construct(e,n,s){return new qn(e,n,s)}static isValidIdentifier(e){return _A.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ug}static keyField(){return new qn([ug])}static fromServerFormat(e){const n=[];let s="",o=0;const d=()=>{if(s.length===0)throw new rr(jt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let b=!1;for(;o<e.length;){const k=e[o];if(k==="\\"){if(o+1===e.length)throw new rr(jt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const C=e[o+1];if(C!=="\\"&&C!=="."&&C!=="`")throw new rr(jt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=C,o+=2}else k==="`"?(b=!b,o++):k!=="."||b?(s+=k,o++):(d(),o++)}if(d(),b)throw new rr(jt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qn(n)}static emptyPath(){return new qn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.path=e}static fromPath(e){return new or(Jr.fromString(e))}static fromName(e){return new or(Jr.fromString(e).popFirst(5))}static empty(){return new or(Jr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Jr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new or(new Jr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(t,e,n){if(!n)throw new rr(jt.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function dA(t,e,n,s){if(e===!0&&s===!0)throw new rr(jt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cg(t){if(!or.isDocumentKey(t))throw new rr(jt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Pv(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function eh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":$r(12329,{type:typeof t})}function Cl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new rr(jt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=eh(t);throw new rr(jt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ul(t,e){if(!Pv(t))throw new rr(jt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,d="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const b=t[s];if(o&&typeof b!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(d!==void 0&&b!==d.value){n=`Expected '${s}' field to equal '${d.value}'`;break}}if(n)throw new rr(jt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g=-62135596800,fg=1e6;class Kr{static now(){return Kr.fromMillis(Date.now())}static fromDate(e){return Kr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*fg);return new Kr(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new rr(jt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rr(jt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$g)throw new rr(jt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rr(jt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fg}_compareTo(e){return this.seconds===e.seconds?Er(this.nanoseconds,e.nanoseconds):Er(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Kr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ul(e,Kr._jsonSchema))return new Kr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$g;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Kr._jsonSchemaVersion="firestore/timestamp/1.0",Kr._jsonSchema={type:hn("string",Kr._jsonSchemaVersion),seconds:hn("number"),nanoseconds:hn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{static fromTimestamp(e){return new _r(e)}static min(){return new _r(new Kr(0,0))}static max(){return new _r(new Kr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=-1;function pA(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,o=_r.fromTimestamp(s===1e9?new Kr(n+1,0):new Kr(n,s));return new Ms(o,or.empty(),e)}function mA(t){return new Ms(t.readTime,t.key,Il)}class Ms{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ms(_r.min(),or.empty(),Il)}static max(){return new Ms(_r.max(),or.empty(),Il)}}function gA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=or.comparator(t.documentKey,e.documentKey),n!==0?n:Er(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(t){if(t.code!==jt.FAILED_PRECONDITION||t.message!==vA)throw t;Wt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&$r(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Bt((s,o)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(s,o)},this.catchCallback=d=>{this.wrapFailure(n,d).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Bt?n:Bt.resolve(n)}catch(n){return Bt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Bt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Bt.reject(n)}static resolve(e){return new Bt((n,s)=>{n(e)})}static reject(e){return new Bt((n,s)=>{s(e)})}static waitFor(e){return new Bt((n,s)=>{let o=0,d=0,b=!1;e.forEach(k=>{++o,k.next(()=>{++d,b&&d===o&&n()},C=>s(C))}),b=!0,d===o&&n()})}static or(e){let n=Bt.resolve(!1);for(const s of e)n=n.next(o=>o?Bt.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,d)=>{s.push(n.call(this,o,d))}),this.waitFor(s)}static mapArray(e,n){return new Bt((s,o)=>{const d=e.length,b=new Array(d);let k=0;for(let C=0;C<d;C++){const g=C;n(e[g]).next(se=>{b[g]=se,++k,k===d&&s(b)},se=>o(se))}})}static doWhile(e,n){return new Bt((s,o)=>{const d=()=>{e()===!0?n().next(()=>{d()},o):s()};d()})}}function bA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Eo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Bc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=-1;function Fc(t){return t==null}function Ac(t){return t===0&&1/t==-1/0}function EA(t){return typeof t=="number"&&Number.isInteger(t)&&!Ac(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="";function wA(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=_g(e)),e=AA(t.get(n),e);return _g(e)}function AA(t,e){let n=e;const s=t.length;for(let o=0;o<s;o++){const d=t.charAt(o);switch(d){case"\0":n+="";break;case Bv:n+="";break;default:n+=d}}return n}function _g(t){return t+Bv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Us(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Fv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n){this.comparator=e,this.root=n||Nn.EMPTY}insert(e,n){return new tn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nn.BLACK,null,null))}remove(e){return new tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ac(this.root,e,this.comparator,!0)}}class ac{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=n?s(e.key,n):1,n&&o&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(d===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nn{constructor(e,n,s,o,d){this.key=e,this.value=n,this.color=s??Nn.RED,this.left=o??Nn.EMPTY,this.right=d??Nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,d){return new Nn(e??this.key,n??this.value,s??this.color,o??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const d=s(e,o.key);return o=d<0?o.copy(null,null,null,o.left.insert(e,n,s),null):d===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Nn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $r(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $r(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw $r(27949);return e+(this.isRed()?0:1)}}Nn.EMPTY=null,Nn.RED=!0,Nn.BLACK=!1;Nn.EMPTY=new class{constructor(){this.size=0}get key(){throw $r(57766)}get value(){throw $r(16141)}get color(){throw $r(16727)}get left(){throw $r(29726)}get right(){throw $r(36894)}copy(e,n,s,o,d){return this}insert(e,n,s){return new Nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.comparator=e,this.data=new tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dg(this.data.getIterator())}getIteratorFrom(e){return new dg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof yn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,d=s.getNext().key;if(this.comparator(o,d)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new yn(this.comparator);return n.data=e,n}}class dg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this.fields=e,e.sort(qn.comparator)}static empty(){return new bi([])}unionWith(e){let n=new yn(qn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new bi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $o(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(d){throw typeof DOMException<"u"&&d instanceof DOMException?new Vv("Invalid base64 string: "+d):d}}(e);return new zn(n)}static fromUint8Array(e){const n=function(o){let d="";for(let b=0;b<o.length;++b)d+=String.fromCharCode(o[b]);return d}(e);return new zn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Er(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zn.EMPTY_BYTE_STRING=new zn("");const TA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ls(t){if(Mr(!!t,39018),typeof t=="string"){let e=0;const n=TA.exec(t);if(Mr(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:un(t.seconds),nanos:un(t.nanos)}}function un(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ps(t){return typeof t=="string"?zn.fromBase64String(t):zn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="server_timestamp",jv="__type__",Hv="__previous_value__",Gv="__local_write_time__";function rh(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[jv])==null?void 0:s.stringValue)===Uv}function Vc(t){const e=t.mapValue.fields[Hv];return rh(e)?Vc(e):e}function Dl(t){const e=Ls(t.mapValue.fields[Gv].timestampValue);return new Kr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,n,s,o,d,b,k,C,g,se){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=d,this.forceLongPolling=b,this.autoDetectLongPolling=k,this.longPollingOptions=C,this.useFetchStreams=g,this.isUsingEmulator=se}}const Tc="(default)";class Nl{constructor(e,n){this.projectId=e,this.database=n||Tc}static empty(){return new Nl("","")}get isDefaultDatabase(){return this.database===Tc}isEqual(e){return e instanceof Nl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="__type__",SA="__max__",oc={mapValue:{}},Kv="__vector__",xc="value";function Bs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rh(t)?4:kA(t)?9007199254740991:RA(t)?10:11:$r(28295,{value:t})}function Mi(t,e){if(t===e)return!0;const n=Bs(t);if(n!==Bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dl(t).isEqual(Dl(e));case 3:return function(o,d){if(typeof o.timestampValue=="string"&&typeof d.timestampValue=="string"&&o.timestampValue.length===d.timestampValue.length)return o.timestampValue===d.timestampValue;const b=Ls(o.timestampValue),k=Ls(d.timestampValue);return b.seconds===k.seconds&&b.nanos===k.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,d){return Ps(o.bytesValue).isEqual(Ps(d.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,d){return un(o.geoPointValue.latitude)===un(d.geoPointValue.latitude)&&un(o.geoPointValue.longitude)===un(d.geoPointValue.longitude)}(t,e);case 2:return function(o,d){if("integerValue"in o&&"integerValue"in d)return un(o.integerValue)===un(d.integerValue);if("doubleValue"in o&&"doubleValue"in d){const b=un(o.doubleValue),k=un(d.doubleValue);return b===k?Ac(b)===Ac(k):isNaN(b)&&isNaN(k)}return!1}(t,e);case 9:return $o(t.arrayValue.values||[],e.arrayValue.values||[],Mi);case 10:case 11:return function(o,d){const b=o.mapValue.fields||{},k=d.mapValue.fields||{};if(hg(b)!==hg(k))return!1;for(const C in b)if(b.hasOwnProperty(C)&&(k[C]===void 0||!Mi(b[C],k[C])))return!1;return!0}(t,e);default:return $r(52216,{left:t})}}function ql(t,e){return(t.values||[]).find(n=>Mi(n,e))!==void 0}function fo(t,e){if(t===e)return 0;const n=Bs(t),s=Bs(e);if(n!==s)return Er(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Er(t.booleanValue,e.booleanValue);case 2:return function(d,b){const k=un(d.integerValue||d.doubleValue),C=un(b.integerValue||b.doubleValue);return k<C?-1:k>C?1:k===C?0:isNaN(k)?isNaN(C)?0:-1:1}(t,e);case 3:return pg(t.timestampValue,e.timestampValue);case 4:return pg(Dl(t),Dl(e));case 5:return E_(t.stringValue,e.stringValue);case 6:return function(d,b){const k=Ps(d),C=Ps(b);return k.compareTo(C)}(t.bytesValue,e.bytesValue);case 7:return function(d,b){const k=d.split("/"),C=b.split("/");for(let g=0;g<k.length&&g<C.length;g++){const se=Er(k[g],C[g]);if(se!==0)return se}return Er(k.length,C.length)}(t.referenceValue,e.referenceValue);case 8:return function(d,b){const k=Er(un(d.latitude),un(b.latitude));return k!==0?k:Er(un(d.longitude),un(b.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return mg(t.arrayValue,e.arrayValue);case 10:return function(d,b){var he,Ce,Be,Ie;const k=d.fields||{},C=b.fields||{},g=(he=k[xc])==null?void 0:he.arrayValue,se=(Ce=C[xc])==null?void 0:Ce.arrayValue,we=Er(((Be=g==null?void 0:g.values)==null?void 0:Be.length)||0,((Ie=se==null?void 0:se.values)==null?void 0:Ie.length)||0);return we!==0?we:mg(g,se)}(t.mapValue,e.mapValue);case 11:return function(d,b){if(d===oc.mapValue&&b===oc.mapValue)return 0;if(d===oc.mapValue)return 1;if(b===oc.mapValue)return-1;const k=d.fields||{},C=Object.keys(k),g=b.fields||{},se=Object.keys(g);C.sort(),se.sort();for(let we=0;we<C.length&&we<se.length;++we){const he=E_(C[we],se[we]);if(he!==0)return he;const Ce=fo(k[C[we]],g[se[we]]);if(Ce!==0)return Ce}return Er(C.length,se.length)}(t.mapValue,e.mapValue);default:throw $r(23264,{he:n})}}function pg(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Er(t,e);const n=Ls(t),s=Ls(e),o=Er(n.seconds,s.seconds);return o!==0?o:Er(n.nanos,s.nanos)}function mg(t,e){const n=t.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const d=fo(n[o],s[o]);if(d)return d}return Er(n.length,s.length)}function _o(t){return w_(t)}function w_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=Ls(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ps(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return or.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",o=!0;for(const d of n.values||[])o?o=!1:s+=",",s+=w_(d);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",d=!0;for(const b of s)d?d=!1:o+=",",o+=`${b}:${w_(n.fields[b])}`;return o+"}"}(t.mapValue):$r(61005,{value:t})}function hc(t){switch(Bs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vc(t);return e?16+hc(e):16;case 5:return 2*t.stringValue.length;case 6:return Ps(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,d)=>o+hc(d),0)}(t.arrayValue);case 10:case 11:return function(s){let o=0;return Us(s.fields,(d,b)=>{o+=d.length+hc(b)}),o}(t.mapValue);default:throw $r(13486,{value:t})}}function A_(t){return!!t&&"integerValue"in t}function nh(t){return!!t&&"arrayValue"in t}function gg(t){return!!t&&"nullValue"in t}function vg(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dc(t){return!!t&&"mapValue"in t}function RA(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Yv])==null?void 0:s.stringValue)===Kv}function El(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Us(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=El(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=El(t.arrayValue.values[n]);return e}return{...t}}function kA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===SA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.value=e}static empty(){return new ni({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!dc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=El(n)}setAll(e){let n=qn.emptyPath(),s={},o=[];e.forEach((b,k)=>{if(!n.isImmediateParentOf(k)){const C=this.getFieldsMap(n);this.applyChanges(C,s,o),s={},o=[],n=k.popLast()}b?s[k.lastSegment()]=El(b):o.push(k.lastSegment())});const d=this.getFieldsMap(n);this.applyChanges(d,s,o)}delete(e){const n=this.field(e.popLast());dc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];dc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Us(n,(o,d)=>e[o]=d);for(const o of s)delete e[o]}clone(){return new ni(El(this.value))}}function Xv(t){const e=[];return Us(t.fields,(n,s)=>{const o=new qn([n]);if(dc(s)){const d=Xv(s.mapValue).fields;if(d.length===0)e.push(o);else for(const b of d)e.push(o.child(b))}else e.push(o)}),new bi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,n,s,o,d,b,k){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=d,this.data=b,this.documentState=k}static newInvalidDocument(e){return new Un(e,0,_r.min(),_r.min(),_r.min(),ni.empty(),0)}static newFoundDocument(e,n,s,o){return new Un(e,1,n,_r.min(),s,o,0)}static newNoDocument(e,n){return new Un(e,2,n,_r.min(),_r.min(),ni.empty(),0)}static newUnknownDocument(e,n){return new Un(e,3,n,_r.min(),_r.min(),ni.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_r.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ni.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_r.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n){this.position=e,this.inclusive=n}}function yg(t,e,n){let s=0;for(let o=0;o<t.position.length;o++){const d=e[o],b=t.position[o];if(d.field.isKeyField()?s=or.comparator(or.fromName(b.referenceValue),n.key):s=fo(b,n.data.field(d.field)),d.dir==="desc"&&(s*=-1),s!==0)break}return s}function bg(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n="asc"){this.field=e,this.dir=n}}function CA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{}class vn extends Qv{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new DA(e,n,s):n==="array-contains"?new zA(e,s):n==="in"?new MA(e,s):n==="not-in"?new LA(e,s):n==="array-contains-any"?new PA(e,s):new vn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new NA(e,s):new qA(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fo(n,this.value)):n!==null&&Bs(this.value)===Bs(n)&&this.matchesComparison(fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $r(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends Qv{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Li(e,n)}matches(e){return Ov(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ov(t){return t.op==="and"}function Wv(t){return IA(t)&&Ov(t)}function IA(t){for(const e of t.filters)if(e instanceof Li)return!1;return!0}function T_(t){if(t instanceof vn)return t.field.canonicalString()+t.op.toString()+_o(t.value);if(Wv(t))return t.filters.map(e=>T_(e)).join(",");{const e=t.filters.map(n=>T_(n)).join(",");return`${t.op}(${e})`}}function Zv(t,e){return t instanceof vn?function(s,o){return o instanceof vn&&s.op===o.op&&s.field.isEqual(o.field)&&Mi(s.value,o.value)}(t,e):t instanceof Li?function(s,o){return o instanceof Li&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((d,b,k)=>d&&Zv(b,o.filters[k]),!0):!1}(t,e):void $r(19439)}function Jv(t){return t instanceof vn?function(n){return`${n.field.canonicalString()} ${n.op} ${_o(n.value)}`}(t):t instanceof Li?function(n){return n.op.toString()+" {"+n.getFilters().map(Jv).join(" ,")+"}"}(t):"Filter"}class DA extends vn{constructor(e,n,s){super(e,n,s),this.key=or.fromName(s.referenceValue)}matches(e){const n=or.comparator(e.key,this.key);return this.matchesComparison(n)}}class NA extends vn{constructor(e,n){super(e,"in",n),this.keys=ey("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class qA extends vn{constructor(e,n){super(e,"not-in",n),this.keys=ey("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ey(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>or.fromName(s.referenceValue))}class zA extends vn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return nh(n)&&ql(n.arrayValue,this.value)}}class MA extends vn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ql(this.value.arrayValue,n)}}class LA extends vn{constructor(e,n){super(e,"not-in",n)}matches(e){if(ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ql(this.value.arrayValue,n)}}class PA extends vn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!nh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ql(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,n=null,s=[],o=[],d=null,b=null,k=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=d,this.startAt=b,this.endAt=k,this.Te=null}}function Eg(t,e=null,n=[],s=[],o=null,d=null,b=null){return new BA(t,e,n,s,o,d,b)}function ih(t){const e=dr(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>T_(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(d){return d.field.canonicalString()+d.dir}(s)).join(","),Fc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>_o(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>_o(s)).join(",")),e.Te=n}return e.Te}function sh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!CA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Zv(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bg(t.startAt,e.startAt)&&bg(t.endAt,e.endAt)}function x_(t){return or.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n=null,s=[],o=[],d=null,b="F",k=null,C=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=d,this.limitType=b,this.startAt=k,this.endAt=C,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function FA(t,e,n,s,o,d,b,k){return new Uc(t,e,n,s,o,d,b,k)}function ah(t){return new Uc(t)}function wg(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function VA(t){return t.collectionGroup!==null}function wl(t){const e=dr(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const d of e.explicitOrderBy)e.Ie.push(d),n.add(d.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(b){let k=new yn(qn.comparator);return b.filters.forEach(C=>{C.getFlattenedFilters().forEach(g=>{g.isInequality()&&(k=k.add(g.field))})}),k})(e).forEach(d=>{n.has(d.canonicalString())||d.isKeyField()||e.Ie.push(new Rc(d,s))}),n.has(qn.keyField().canonicalString())||e.Ie.push(new Rc(qn.keyField(),s))}return e.Ie}function Ii(t){const e=dr(t);return e.Ee||(e.Ee=UA(e,wl(t))),e.Ee}function UA(t,e){if(t.limitType==="F")return Eg(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const d=o.dir==="desc"?"asc":"desc";return new Rc(o.field,d)});const n=t.endAt?new Sc(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Sc(t.startAt.position,t.startAt.inclusive):null;return Eg(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function S_(t,e,n){return new Uc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jc(t,e){return sh(Ii(t),Ii(e))&&t.limitType===e.limitType}function ty(t){return`${ih(Ii(t))}|lt:${t.limitType}`}function so(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>Jv(o)).join(", ")}]`),Fc(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(b){return`${b.field.canonicalString()} (${b.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>_o(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>_o(o)).join(",")),`Target(${s})`}(Ii(t))}; limitType=${t.limitType})`}function Hc(t,e){return e.isFoundDocument()&&function(s,o){const d=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(d):or.isDocumentKey(s.path)?s.path.isEqual(d):s.path.isImmediateParentOf(d)}(t,e)&&function(s,o){for(const d of wl(s))if(!d.field.isKeyField()&&o.data.field(d.field)===null)return!1;return!0}(t,e)&&function(s,o){for(const d of s.filters)if(!d.matches(o))return!1;return!0}(t,e)&&function(s,o){return!(s.startAt&&!function(b,k,C){const g=yg(b,k,C);return b.inclusive?g<=0:g<0}(s.startAt,wl(s),o)||s.endAt&&!function(b,k,C){const g=yg(b,k,C);return b.inclusive?g>=0:g>0}(s.endAt,wl(s),o))}(t,e)}function jA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ry(t){return(e,n)=>{let s=!1;for(const o of wl(t)){const d=HA(o,e,n);if(d!==0)return d;s=s||o.field.isKeyField()}return 0}}function HA(t,e,n){const s=t.field.isKeyField()?or.comparator(e.key,n.key):function(d,b,k){const C=b.data.field(d),g=k.data.field(d);return C!==null&&g!==null?fo(C,g):$r(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return $r(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,d]of s)if(this.equalsFn(o,e))return d}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let d=0;d<o.length;d++)if(this.equalsFn(o[d][0],e))return void(o[d]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Us(this.inner,(n,s)=>{for(const[o,d]of s)e(o,d)})}isEmpty(){return Fv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=new tn(or.comparator);function ls(){return GA}const ny=new tn(or.comparator);function gl(...t){let e=ny;for(const n of t)e=e.insert(n.key,n);return e}function iy(t){let e=ny;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function _a(){return Al()}function sy(){return Al()}function Al(){return new ba(t=>t.toString(),(t,e)=>t.isEqual(e))}const YA=new tn(or.comparator),KA=new yn(or.comparator);function wr(...t){let e=KA;for(const n of t)e=e.add(n);return e}const XA=new yn(Er);function QA(){return XA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ac(e)?"-0":e}}function ay(t){return{integerValue:""+t}}function OA(t,e){return EA(e)?ay(e):oh(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(){this._=void 0}}function WA(t,e,n){return t instanceof kc?function(o,d){const b={fields:{[jv]:{stringValue:Uv},[Gv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return d&&rh(d)&&(d=Vc(d)),d&&(b.fields[Hv]=d),{mapValue:b}}(n,e):t instanceof zl?ly(t,e):t instanceof Ml?uy(t,e):function(o,d){const b=oy(o,d),k=Ag(b)+Ag(o.Ae);return A_(b)&&A_(o.Ae)?ay(k):oh(o.serializer,k)}(t,e)}function ZA(t,e,n){return t instanceof zl?ly(t,e):t instanceof Ml?uy(t,e):n}function oy(t,e){return t instanceof Cc?function(s){return A_(s)||function(d){return!!d&&"doubleValue"in d}(s)}(e)?e:{integerValue:0}:null}class kc extends Gc{}class zl extends Gc{constructor(e){super(),this.elements=e}}function ly(t,e){const n=cy(e);for(const s of t.elements)n.some(o=>Mi(o,s))||n.push(s);return{arrayValue:{values:n}}}class Ml extends Gc{constructor(e){super(),this.elements=e}}function uy(t,e){let n=cy(e);for(const s of t.elements)n=n.filter(o=>!Mi(o,s));return{arrayValue:{values:n}}}class Cc extends Gc{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Ag(t){return un(t.integerValue||t.doubleValue)}function cy(t){return nh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function JA(t,e){return t.field.isEqual(e.field)&&function(s,o){return s instanceof zl&&o instanceof zl||s instanceof Ml&&o instanceof Ml?$o(s.elements,o.elements,Mi):s instanceof Cc&&o instanceof Cc?Mi(s.Ae,o.Ae):s instanceof kc&&o instanceof kc}(t.transform,e.transform)}class eT{constructor(e,n){this.version=e,this.transformResults=n}}class ss{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ss}static exists(e){return new ss(void 0,e)}static updateTime(e){return new ss(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yc{}function $y(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _y(t.key,ss.none()):new Kc(t.key,t.data,ss.none());{const n=t.data,s=ni.empty();let o=new yn(qn.comparator);for(let d of e.fields)if(!o.has(d)){let b=n.field(d);b===null&&d.length>1&&(d=d.popLast(),b=n.field(d)),b===null?s.delete(d):s.set(d,b),o=o.add(d)}return new Ea(t.key,s,new bi(o.toArray()),ss.none())}}function tT(t,e,n){t instanceof Kc?function(o,d,b){const k=o.value.clone(),C=xg(o.fieldTransforms,d,b.transformResults);k.setAll(C),d.convertToFoundDocument(b.version,k).setHasCommittedMutations()}(t,e,n):t instanceof Ea?function(o,d,b){if(!pc(o.precondition,d))return void d.convertToUnknownDocument(b.version);const k=xg(o.fieldTransforms,d,b.transformResults),C=d.data;C.setAll(fy(o)),C.setAll(k),d.convertToFoundDocument(b.version,C).setHasCommittedMutations()}(t,e,n):function(o,d,b){d.convertToNoDocument(b.version).setHasCommittedMutations()}(0,e,n)}function Tl(t,e,n,s){return t instanceof Kc?function(d,b,k,C){if(!pc(d.precondition,b))return k;const g=d.value.clone(),se=Sg(d.fieldTransforms,C,b);return g.setAll(se),b.convertToFoundDocument(b.version,g).setHasLocalMutations(),null}(t,e,n,s):t instanceof Ea?function(d,b,k,C){if(!pc(d.precondition,b))return k;const g=Sg(d.fieldTransforms,C,b),se=b.data;return se.setAll(fy(d)),se.setAll(g),b.convertToFoundDocument(b.version,se).setHasLocalMutations(),k===null?null:k.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map(we=>we.field))}(t,e,n,s):function(d,b,k){return pc(d.precondition,b)?(b.convertToNoDocument(b.version).setHasLocalMutations(),null):k}(t,e,n)}function rT(t,e){let n=null;for(const s of t.fieldTransforms){const o=e.data.field(s.field),d=oy(s.transform,o||null);d!=null&&(n===null&&(n=ni.empty()),n.set(s.field,d))}return n||null}function Tg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&$o(s,o,(d,b)=>JA(d,b))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Kc extends Yc{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ea extends Yc{constructor(e,n,s,o,d=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function fy(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function xg(t,e,n){const s=new Map;Mr(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const d=t[o],b=d.transform,k=e.data.field(d.field);s.set(d.field,ZA(b,k,n[o]))}return s}function Sg(t,e,n){const s=new Map;for(const o of t){const d=o.transform,b=n.data.field(o.field);s.set(o.field,WA(d,b,e))}return s}class _y extends Yc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nT extends Yc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const d=this.mutations[o];d.key.isEqual(e.key)&&tT(d,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Tl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Tl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=sy();return this.mutations.forEach(o=>{const d=e.get(o.key),b=d.overlayedDocument;let k=this.applyToLocalView(b,d.mutatedFields);k=n.has(o.key)?null:k;const C=$y(b,k);C!==null&&s.set(o.key,C),b.isValidDocument()||b.convertToNoDocument(_r.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),wr())}isEqual(e){return this.batchId===e.batchId&&$o(this.mutations,e.mutations,(n,s)=>Tg(n,s))&&$o(this.baseMutations,e.baseMutations,(n,s)=>Tg(n,s))}}class lh{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Mr(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return YA}();const d=e.mutations;for(let b=0;b<d.length;b++)o=o.insert(d[b].key,s[b].version);return new lh(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _n,Rr;function oT(t){switch(t){case jt.OK:return $r(64938);case jt.CANCELLED:case jt.UNKNOWN:case jt.DEADLINE_EXCEEDED:case jt.RESOURCE_EXHAUSTED:case jt.INTERNAL:case jt.UNAVAILABLE:case jt.UNAUTHENTICATED:return!1;case jt.INVALID_ARGUMENT:case jt.NOT_FOUND:case jt.ALREADY_EXISTS:case jt.PERMISSION_DENIED:case jt.FAILED_PRECONDITION:case jt.ABORTED:case jt.OUT_OF_RANGE:case jt.UNIMPLEMENTED:case jt.DATA_LOSS:return!0;default:return $r(15467,{code:t})}}function hy(t){if(t===void 0)return os("GRPC error has no .code"),jt.UNKNOWN;switch(t){case _n.OK:return jt.OK;case _n.CANCELLED:return jt.CANCELLED;case _n.UNKNOWN:return jt.UNKNOWN;case _n.DEADLINE_EXCEEDED:return jt.DEADLINE_EXCEEDED;case _n.RESOURCE_EXHAUSTED:return jt.RESOURCE_EXHAUSTED;case _n.INTERNAL:return jt.INTERNAL;case _n.UNAVAILABLE:return jt.UNAVAILABLE;case _n.UNAUTHENTICATED:return jt.UNAUTHENTICATED;case _n.INVALID_ARGUMENT:return jt.INVALID_ARGUMENT;case _n.NOT_FOUND:return jt.NOT_FOUND;case _n.ALREADY_EXISTS:return jt.ALREADY_EXISTS;case _n.PERMISSION_DENIED:return jt.PERMISSION_DENIED;case _n.FAILED_PRECONDITION:return jt.FAILED_PRECONDITION;case _n.ABORTED:return jt.ABORTED;case _n.OUT_OF_RANGE:return jt.OUT_OF_RANGE;case _n.UNIMPLEMENTED:return jt.UNIMPLEMENTED;case _n.DATA_LOSS:return jt.DATA_LOSS;default:return $r(39323,{code:t})}}(Rr=_n||(_n={}))[Rr.OK=0]="OK",Rr[Rr.CANCELLED=1]="CANCELLED",Rr[Rr.UNKNOWN=2]="UNKNOWN",Rr[Rr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rr[Rr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rr[Rr.NOT_FOUND=5]="NOT_FOUND",Rr[Rr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rr[Rr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rr[Rr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rr[Rr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rr[Rr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rr[Rr.ABORTED=10]="ABORTED",Rr[Rr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rr[Rr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rr[Rr.INTERNAL=13]="INTERNAL",Rr[Rr.UNAVAILABLE=14]="UNAVAILABLE",Rr[Rr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=new Ns([4294967295,4294967295],0);function Rg(t){const e=lT().encode(t),n=new Cv;return n.update(e),new Uint8Array(n.digest())}function kg(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),d=e.getUint32(12,!0);return[new Ns([n,s],0),new Ns([o,d],0)]}class uh{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new vl(`Invalid padding: ${n}`);if(s<0)throw new vl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new vl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new vl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ns.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Ns.fromNumber(s)));return o.compare(uT)===1&&(o=new Ns([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Rg(e),[s,o]=kg(n);for(let d=0;d<this.hashCount;d++){const b=this.ye(s,o,d);if(!this.we(b))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,d=new Uint8Array(Math.ceil(e/8)),b=new uh(d,o,n);return s.forEach(k=>b.insert(k)),b}insert(e){if(this.ge===0)return;const n=Rg(e),[s,o]=kg(n);for(let d=0;d<this.hashCount;d++){const b=this.ye(s,o,d);this.Se(b)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n,s,o,d){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,jl.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Xc(_r.min(),o,new tn(Er),ls(),wr())}}class jl{constructor(e,n,s,o,d){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new jl(s,n,wr(),wr(),wr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class dy{constructor(e,n){this.targetId=e,this.Ce=n}}class py{constructor(e,n,s=zn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Cg{constructor(){this.ve=0,this.Fe=Ig(),this.Me=zn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=wr(),n=wr(),s=wr();return this.Fe.forEach((o,d)=>{switch(d){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:$r(38017,{changeType:d})}}),new jl(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Ig()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Mr(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class cT{constructor(e){this.Ge=e,this.ze=new Map,this.je=ls(),this.Je=lc(),this.He=lc(),this.Ye=new tn(Er)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:$r(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const d=o.target;if(x_(d))if(s===0){const b=new or(d.path);this.et(n,b,Un.newNoDocument(b,_r.min()))}else Mr(s===1,20013,{expectedCount:s});else{const b=this._t(n);if(b!==s){const k=this.ut(e),C=k?this.ct(k,e,b):1;if(C!==0){this.it(n);const g=C===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:d=0}=n;let b,k;try{b=Ps(s).toUint8Array()}catch(C){if(C instanceof Vv)return co("Decoding the base64 bloom filter in existence filter failed ("+C.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw C}try{k=new uh(b,o,d)}catch(C){return co(C instanceof vl?"BloomFilter error: ":"Applying bloom filter failed: ",C),null}return k.ge===0?null:k}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(d=>{const b=this.Ge.ht(),k=`projects/${b.projectId}/databases/${b.database}/documents/${d.path.canonicalString()}`;e.mightContain(k)||(this.et(n,d,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((d,b)=>{const k=this.ot(b);if(k){if(d.current&&x_(k.target)){const C=new or(k.target.path);this.It(C).has(b)||this.Et(b,C)||this.et(b,C,Un.newNoDocument(C,e))}d.Be&&(n.set(b,d.ke()),d.qe())}});let s=wr();this.He.forEach((d,b)=>{let k=!0;b.forEachWhile(C=>{const g=this.ot(C);return!g||g.purpose==="TargetPurposeLimboResolution"||(k=!1,!1)}),k&&(s=s.add(d))}),this.je.forEach((d,b)=>b.setReadTime(e));const o=new Xc(e,n,this.Ye,this.je,s);return this.je=ls(),this.Je=lc(),this.He=lc(),this.Ye=new tn(Er),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Cg,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new yn(Er),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new yn(Er),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Wt("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Cg),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function lc(){return new tn(or.comparator)}function Ig(){return new tn(or.comparator)}const $T={asc:"ASCENDING",desc:"DESCENDING"},fT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_T={and:"AND",or:"OR"};class hT{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function R_(t,e){return t.useProto3Json||Fc(e)?e:{value:e}}function Ic(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function my(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dT(t,e){return Ic(t,e.toTimestamp())}function Di(t){return Mr(!!t,49232),_r.fromTimestamp(function(n){const s=Ls(n);return new Kr(s.seconds,s.nanos)}(t))}function ch(t,e){return k_(t,e).canonicalString()}function k_(t,e){const n=function(o){return new Jr(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function gy(t){const e=Jr.fromString(t);return Mr(wy(e),10190,{key:e.toString()}),e}function C_(t,e){return ch(t.databaseId,e.path)}function c_(t,e){const n=gy(e);if(n.get(1)!==t.databaseId.projectId)throw new rr(jt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new rr(jt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new or(yy(n))}function vy(t,e){return ch(t.databaseId,e)}function pT(t){const e=gy(t);return e.length===4?Jr.emptyPath():yy(e)}function I_(t){return new Jr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yy(t){return Mr(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Dg(t,e,n){return{name:C_(t,e),fields:n.value.mapValue.fields}}function mT(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:$r(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],d=function(g,se){return g.useProto3Json?(Mr(se===void 0||typeof se=="string",58123),zn.fromBase64String(se||"")):(Mr(se===void 0||se instanceof Buffer||se instanceof Uint8Array,16193),zn.fromUint8Array(se||new Uint8Array))}(t,e.targetChange.resumeToken),b=e.targetChange.cause,k=b&&function(g){const se=g.code===void 0?jt.UNKNOWN:hy(g.code);return new rr(se,g.message||"")}(b);n=new py(s,o,d,k||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=c_(t,s.document.name),d=Di(s.document.updateTime),b=s.document.createTime?Di(s.document.createTime):_r.min(),k=new ni({mapValue:{fields:s.document.fields}}),C=Un.newFoundDocument(o,d,b,k),g=s.targetIds||[],se=s.removedTargetIds||[];n=new mc(g,se,C.key,C)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=c_(t,s.document),d=s.readTime?Di(s.readTime):_r.min(),b=Un.newNoDocument(o,d),k=s.removedTargetIds||[];n=new mc([],k,b.key,b)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=c_(t,s.document),d=s.removedTargetIds||[];n=new mc([],d,o,null)}else{if(!("filter"in e))return $r(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:d}=s,b=new aT(o,d),k=s.targetId;n=new dy(k,b)}}return n}function gT(t,e){let n;if(e instanceof Kc)n={update:Dg(t,e.key,e.value)};else if(e instanceof _y)n={delete:C_(t,e.key)};else if(e instanceof Ea)n={update:Dg(t,e.key,e.data),updateMask:ST(e.fieldMask)};else{if(!(e instanceof nT))return $r(16599,{Vt:e.type});n={verify:C_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(d,b){const k=b.transform;if(k instanceof kc)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(k instanceof zl)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:k.elements}};if(k instanceof Ml)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:k.elements}};if(k instanceof Cc)return{fieldPath:b.field.canonicalString(),increment:k.Ae};throw $r(20930,{transform:b.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,d){return d.updateTime!==void 0?{updateTime:dT(o,d.updateTime)}:d.exists!==void 0?{exists:d.exists}:$r(27497)}(t,e.precondition)),n}function vT(t,e){return t&&t.length>0?(Mr(e!==void 0,14353),t.map(n=>function(o,d){let b=o.updateTime?Di(o.updateTime):Di(d);return b.isEqual(_r.min())&&(b=Di(d)),new eT(b,o.transformResults||[])}(n,e))):[]}function yT(t,e){return{documents:[vy(t,e.path)]}}function bT(t,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=vy(t,o);const d=function(g){if(g.length!==0)return Ey(Li.create(g,"and"))}(e.filters);d&&(n.structuredQuery.where=d);const b=function(g){if(g.length!==0)return g.map(se=>function(he){return{field:ao(he.field),direction:AT(he.dir)}}(se))}(e.orderBy);b&&(n.structuredQuery.orderBy=b);const k=R_(t,e.limit);return k!==null&&(n.structuredQuery.limit=k),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:n,parent:o}}function ET(t){let e=pT(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Mr(s===1,65062);const se=n.from[0];se.allDescendants?o=se.collectionId:e=e.child(se.collectionId)}let d=[];n.where&&(d=function(we){const he=by(we);return he instanceof Li&&Wv(he)?he.getFilters():[he]}(n.where));let b=[];n.orderBy&&(b=function(we){return we.map(he=>function(Be){return new Rc(oo(Be.field),function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Be.direction))}(he))}(n.orderBy));let k=null;n.limit&&(k=function(we){let he;return he=typeof we=="object"?we.value:we,Fc(he)?null:he}(n.limit));let C=null;n.startAt&&(C=function(we){const he=!!we.before,Ce=we.values||[];return new Sc(Ce,he)}(n.startAt));let g=null;return n.endAt&&(g=function(we){const he=!we.before,Ce=we.values||[];return new Sc(Ce,he)}(n.endAt)),FA(e,o,b,d,k,"F",C,g)}function wT(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $r(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function by(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=oo(n.unaryFilter.field);return vn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=oo(n.unaryFilter.field);return vn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=oo(n.unaryFilter.field);return vn.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const b=oo(n.unaryFilter.field);return vn.create(b,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $r(61313);default:return $r(60726)}}(t):t.fieldFilter!==void 0?function(n){return vn.create(oo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $r(58110);default:return $r(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Li.create(n.compositeFilter.filters.map(s=>by(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return $r(1026)}}(n.compositeFilter.op))}(t):$r(30097,{filter:t})}function AT(t){return $T[t]}function TT(t){return fT[t]}function xT(t){return _T[t]}function ao(t){return{fieldPath:t.canonicalString()}}function oo(t){return qn.fromServerFormat(t.fieldPath)}function Ey(t){return t instanceof vn?function(n){if(n.op==="=="){if(vg(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NAN"}};if(gg(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vg(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NAN"}};if(gg(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(n.field),op:TT(n.op),value:n.value}}}(t):t instanceof Li?function(n){const s=n.getFilters().map(o=>Ey(o));return s.length===1?s[0]:{compositeFilter:{op:xT(n.op),filters:s}}}(t):$r(54877,{filter:t})}function ST(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function wy(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n,s,o,d=_r.min(),b=_r.min(),k=zn.EMPTY_BYTE_STRING,C=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=k,this.expectedCount=C}withSequenceNumber(e){return new Cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e){this.yt=e}}function kT(t){const e=ET({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?S_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(){this.Cn=new IT}addToCollectionParentIndex(e,n){return this.Cn.add(n),Bt.resolve()}getCollectionParents(e,n){return Bt.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Bt.resolve()}deleteFieldIndex(e,n){return Bt.resolve()}deleteAllFieldIndexes(e){return Bt.resolve()}createTargetIndexes(e,n){return Bt.resolve()}getDocumentsMatchingTarget(e,n){return Bt.resolve(null)}getIndexType(e,n){return Bt.resolve(0)}getFieldIndexes(e,n){return Bt.resolve([])}getNextCollectionGroupToUpdate(e){return Bt.resolve(null)}getMinOffset(e,n){return Bt.resolve(Ms.min())}getMinOffsetFromCollectionGroup(e,n){return Bt.resolve(Ms.min())}updateCollectionGroup(e,n,s){return Bt.resolve()}updateIndexEntries(e,n){return Bt.resolve()}}class IT{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new yn(Jr.comparator),d=!o.has(s);return this.index[n]=o.add(s),d}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new yn(Jr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ay=41943040;class Qn{static withCacheSize(e){return new Qn(e,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qn.DEFAULT_COLLECTION_PERCENTILE=10,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qn.DEFAULT=new Qn(Ay,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qn.DISABLED=new Qn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ho(0)}static cr(){return new ho(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="LruGarbageCollector",DT=1048576;function zg([t,e],[n,s]){const o=Er(t,n);return o===0?Er(e,s):o}class NT{constructor(e){this.Ir=e,this.buffer=new yn(zg),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();zg(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class qT{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Wt(qg,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Eo(n)?Wt(qg,"Ignoring IndexedDB error during garbage collection: ",n):await bo(n)}await this.Vr(3e5)})}}class zT{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return Bt.resolve(Bc.ce);const s=new NT(n);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Wt("LruGarbageCollector","Garbage collection skipped; disabled"),Bt.resolve(Ng)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Wt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ng):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,d,b,k,C,g;const se=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(we=>(we>this.params.maximumSequenceNumbersToCollect?(Wt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${we}`),o=this.params.maximumSequenceNumbersToCollect):o=we,b=Date.now(),this.nthSequenceNumber(e,o))).next(we=>(s=we,k=Date.now(),this.removeTargets(e,s,n))).next(we=>(d=we,C=Date.now(),this.removeOrphanedDocuments(e,s))).next(we=>(g=Date.now(),io()<=kr.DEBUG&&Wt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${b-se}ms
	Determined least recently used ${o} in `+(k-b)+`ms
	Removed ${d} targets in `+(C-k)+`ms
	Removed ${we} documents in `+(g-C)+`ms
Total Duration: ${g-se}ms`),Bt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:d,documentsRemoved:we})))}}function MT(t,e){return new zT(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(){this.changes=new ba(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Bt.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Tl(s.mutation,o,bi.empty(),Kr.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,wr()).next(()=>s))}getLocalViewOfDocuments(e,n,s=wr()){const o=_a();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(d=>{let b=gl();return d.forEach((k,C)=>{b=b.insert(k,C.overlayedDocument)}),b}))}getOverlayedDocuments(e,n){const s=_a();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,wr()))}populateOverlays(e,n,s){const o=[];return s.forEach(d=>{n.has(d)||o.push(d)}),this.documentOverlayCache.getOverlays(e,o).next(d=>{d.forEach((b,k)=>{n.set(b,k)})})}computeViews(e,n,s,o){let d=ls();const b=Al(),k=function(){return Al()}();return n.forEach((C,g)=>{const se=s.get(g.key);o.has(g.key)&&(se===void 0||se.mutation instanceof Ea)?d=d.insert(g.key,g):se!==void 0?(b.set(g.key,se.mutation.getFieldMask()),Tl(se.mutation,g,se.mutation.getFieldMask(),Kr.now())):b.set(g.key,bi.empty())}),this.recalculateAndSaveOverlays(e,d).next(C=>(C.forEach((g,se)=>b.set(g,se)),n.forEach((g,se)=>k.set(g,new PT(se,b.get(g)??null))),k))}recalculateAndSaveOverlays(e,n){const s=Al();let o=new tn((b,k)=>b-k),d=wr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(b=>{for(const k of b)k.keys().forEach(C=>{const g=n.get(C);if(g===null)return;let se=s.get(C)||bi.empty();se=k.applyToLocalView(g,se),s.set(C,se);const we=(o.get(k.batchId)||wr()).add(C);o=o.insert(k.batchId,we)})}).next(()=>{const b=[],k=o.getReverseIterator();for(;k.hasNext();){const C=k.getNext(),g=C.key,se=C.value,we=sy();se.forEach(he=>{if(!d.has(he)){const Ce=$y(n.get(he),s.get(he));Ce!==null&&we.set(he,Ce),d=d.add(he)}}),b.push(this.documentOverlayCache.saveOverlays(e,g,we))}return Bt.waitFor(b)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(b){return or.isDocumentKey(b.path)&&b.collectionGroup===null&&b.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):VA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(d=>{const b=o-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-d.size):Bt.resolve(_a());let k=Il,C=d;return b.next(g=>Bt.forEach(g,(se,we)=>(k<we.largestBatchId&&(k=we.largestBatchId),d.get(se)?Bt.resolve():this.remoteDocumentCache.getEntry(e,se).next(he=>{C=C.insert(se,he)}))).next(()=>this.populateOverlays(e,g,d)).next(()=>this.computeViews(e,C,g,wr())).next(se=>({batchId:k,changes:iy(se)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new or(n)).next(s=>{let o=gl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const d=n.collectionGroup;let b=gl();return this.indexManager.getCollectionParents(e,d).next(k=>Bt.forEach(k,C=>{const g=function(we,he){return new Uc(he,null,we.explicitOrderBy.slice(),we.filters.slice(),we.limit,we.limitType,we.startAt,we.endAt)}(n,C.child(d));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(se=>{se.forEach((we,he)=>{b=b.insert(we,he)})})}).next(()=>b))}getDocumentsMatchingCollectionQuery(e,n,s,o){let d;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(b=>(d=b,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,d,o))).next(b=>{d.forEach((C,g)=>{const se=g.getKey();b.get(se)===null&&(b=b.insert(se,Un.newInvalidDocument(se)))});let k=gl();return b.forEach((C,g)=>{const se=d.get(C);se!==void 0&&Tl(se.mutation,g,bi.empty(),Kr.now()),Hc(n,g)&&(k=k.insert(C,g))}),k})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Bt.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Di(o.createTime)}}(n)),Bt.resolve()}getNamedQuery(e,n){return Bt.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:kT(o.bundledQuery),readTime:Di(o.readTime)}}(n)),Bt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(){this.overlays=new tn(or.comparator),this.qr=new Map}getOverlay(e,n){return Bt.resolve(this.overlays.get(n))}getOverlays(e,n){const s=_a();return Bt.forEach(n,o=>this.getOverlay(e,o).next(d=>{d!==null&&s.set(o,d)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,d)=>{this.St(e,n,d)}),Bt.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(d=>this.overlays=this.overlays.remove(d)),this.qr.delete(s)),Bt.resolve()}getOverlaysForCollection(e,n,s){const o=_a(),d=n.length+1,b=new or(n.child("")),k=this.overlays.getIteratorFrom(b);for(;k.hasNext();){const C=k.getNext().value,g=C.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===d&&C.largestBatchId>s&&o.set(C.getKey(),C)}return Bt.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let d=new tn((g,se)=>g-se);const b=this.overlays.getIterator();for(;b.hasNext();){const g=b.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let se=d.get(g.largestBatchId);se===null&&(se=_a(),d=d.insert(g.largestBatchId,se)),se.set(g.getKey(),g)}}const k=_a(),C=d.getIterator();for(;C.hasNext()&&(C.getNext().value.forEach((g,se)=>k.set(g,se)),!(k.size()>=o)););return Bt.resolve(k)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const b=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,b)}this.overlays=this.overlays.insert(s.key,new sT(n,s));let d=this.qr.get(n);d===void 0&&(d=wr(),this.qr.set(n,d)),this.qr.set(n,d.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(){this.sessionToken=zn.EMPTY_BYTE_STRING}getSessionToken(e){return Bt.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Bt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(){this.Qr=new yn(xn.$r),this.Ur=new yn(xn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new xn(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new xn(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new or(new Jr([])),s=new xn(n,e),o=new xn(n,e+1),d=[];return this.Ur.forEachInRange([s,o],b=>{this.Gr(b),d.push(b.key)}),d}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new or(new Jr([])),s=new xn(n,e),o=new xn(n,e+1);let d=wr();return this.Ur.forEachInRange([s,o],b=>{d=d.add(b.key)}),d}containsKey(e){const n=new xn(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class xn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return or.comparator(e.key,n.key)||Er(e.Yr,n.Yr)}static Kr(e,n){return Er(e.Yr,n.Yr)||or.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new yn(xn.$r)}checkEmpty(e){return Bt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const d=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const b=new iT(d,n,s,o);this.mutationQueue.push(b);for(const k of o)this.Zr=this.Zr.add(new xn(k.key,d)),this.indexManager.addToCollectionParentIndex(e,k.key.path.popLast());return Bt.resolve(b)}lookupMutationBatch(e,n){return Bt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),d=o<0?0:o;return Bt.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return Bt.resolve(this.mutationQueue.length===0?th:this.tr-1)}getAllMutationBatches(e){return Bt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new xn(n,0),o=new xn(n,Number.POSITIVE_INFINITY),d=[];return this.Zr.forEachInRange([s,o],b=>{const k=this.Xr(b.Yr);d.push(k)}),Bt.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new yn(Er);return n.forEach(o=>{const d=new xn(o,0),b=new xn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([d,b],k=>{s=s.add(k.Yr)})}),Bt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let d=s;or.isDocumentKey(d)||(d=d.child(""));const b=new xn(new or(d),0);let k=new yn(Er);return this.Zr.forEachWhile(C=>{const g=C.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(k=k.add(C.Yr)),!0)},b),Bt.resolve(this.ti(k))}ti(e){const n=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Mr(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Bt.forEach(n.mutations,o=>{const d=new xn(o.key,n.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new xn(n,0),o=this.Zr.firstAfterOrEqual(s);return Bt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Bt.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e){this.ri=e,this.docs=function(){return new tn(or.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),d=o?o.size:0,b=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:b}),this.size+=b-d,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Bt.resolve(s?s.document.mutableCopy():Un.newInvalidDocument(n))}getEntries(e,n){let s=ls();return n.forEach(o=>{const d=this.docs.get(o);s=s.insert(o,d?d.document.mutableCopy():Un.newInvalidDocument(o))}),Bt.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let d=ls();const b=n.path,k=new or(b.child("__id-9223372036854775808__")),C=this.docs.getIteratorFrom(k);for(;C.hasNext();){const{key:g,value:{document:se}}=C.getNext();if(!b.isPrefixOf(g.path))break;g.path.length>b.length+1||gA(mA(se),s)<=0||(o.has(se.key)||Hc(n,se))&&(d=d.insert(se.key,se.mutableCopy()))}return Bt.resolve(d)}getAllFromCollectionGroup(e,n,s,o){$r(9500)}ii(e,n){return Bt.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new GT(this)}getSize(e){return Bt.resolve(this.size)}}class GT extends LT{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),Bt.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e){this.persistence=e,this.si=new ba(n=>ih(n),sh),this.lastRemoteSnapshotVersion=_r.min(),this.highestTargetId=0,this.oi=0,this._i=new $h,this.targetCount=0,this.ai=ho.ur()}forEachTarget(e,n){return this.si.forEach((s,o)=>n(o)),Bt.resolve()}getLastRemoteSnapshotVersion(e){return Bt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Bt.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Bt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),Bt.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ho(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Bt.resolve()}updateTargetData(e,n){return this.Pr(n),Bt.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Bt.resolve()}removeTargets(e,n,s){let o=0;const d=[];return this.si.forEach((b,k)=>{k.sequenceNumber<=n&&s.get(k.targetId)===null&&(this.si.delete(b),d.push(this.removeMatchingKeysForTargetId(e,k.targetId)),o++)}),Bt.waitFor(d).next(()=>o)}getTargetCount(e){return Bt.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return Bt.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),Bt.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,d=[];return o&&n.forEach(b=>{d.push(o.markPotentiallyOrphaned(e,b))}),Bt.waitFor(d)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Bt.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return Bt.resolve(s)}containsKey(e,n){return Bt.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n){this.ui={},this.overlays={},this.ci=new Bc(0),this.li=!1,this.li=!0,this.hi=new UT,this.referenceDelegate=e(this),this.Pi=new YT(this),this.indexManager=new CT,this.remoteDocumentCache=function(o){return new HT(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new RT(n),this.Ii=new FT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new jT(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){Wt("MemoryPersistence","Starting transaction:",e);const o=new KT(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(d=>this.referenceDelegate.di(o).next(()=>d)).toPromise().then(d=>(o.raiseOnCommittedEvent(),d))}Ai(e,n){return Bt.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class KT extends yA{constructor(e){super(),this.currentSequenceNumber=e}}class fh{constructor(e){this.persistence=e,this.Ri=new $h,this.Vi=null}static mi(e){return new fh(e)}get fi(){if(this.Vi)return this.Vi;throw $r(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),Bt.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),Bt.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Bt.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(d=>this.fi.add(d.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Bt.forEach(this.fi,s=>{const o=or.fromPath(s);return this.gi(e,o).next(d=>{d||n.removeEntry(o,_r.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return Bt.or([()=>Bt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Dc{constructor(e,n){this.persistence=e,this.pi=new ba(s=>wA(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=MT(this,n)}static mi(e,n){return new Dc(e,n)}Ei(){}di(e){return Bt.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return Bt.forEach(this.pi,(s,o)=>this.br(e,s,o).next(d=>d?Bt.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),d=o.newChangeBuffer();return o.ii(e,b=>this.br(e,b,n).next(k=>{k||(s++,d.removeEntry(b,_r.min()))})).next(()=>d.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Bt.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),Bt.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),Bt.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Bt.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=hc(e.data.value)),n}br(e,n,s){return Bt.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return Bt.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=wr(),o=wr();for(const d of n.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:o=o.add(d.doc.key)}return new _h(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return PE()?8:bA(ME())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const d={result:null};return this.ys(e,n).next(b=>{d.result=b}).next(()=>{if(!d.result)return this.ws(e,n,o,s).next(b=>{d.result=b})}).next(()=>{if(d.result)return;const b=new XT;return this.Ss(e,n,b).next(k=>{if(d.result=k,this.Vs)return this.bs(e,n,b,k.size)})}).next(()=>d.result)}bs(e,n,s,o){return s.documentReadCount<this.fs?(io()<=kr.DEBUG&&Wt("QueryEngine","SDK will not create cache indexes for query:",so(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Bt.resolve()):(io()<=kr.DEBUG&&Wt("QueryEngine","Query:",so(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(io()<=kr.DEBUG&&Wt("QueryEngine","The SDK decides to create cache indexes for query:",so(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ii(n))):Bt.resolve())}ys(e,n){if(wg(n))return Bt.resolve(null);let s=Ii(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=S_(n,null,"F"),s=Ii(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(d=>{const b=wr(...d);return this.ps.getDocuments(e,b).next(k=>this.indexManager.getMinOffset(e,s).next(C=>{const g=this.Ds(n,k);return this.Cs(n,g,b,C.readTime)?this.ys(e,S_(n,null,"F")):this.vs(e,g,n,C)}))})))}ws(e,n,s,o){return wg(n)||o.isEqual(_r.min())?Bt.resolve(null):this.ps.getDocuments(e,s).next(d=>{const b=this.Ds(n,d);return this.Cs(n,b,s,o)?Bt.resolve(null):(io()<=kr.DEBUG&&Wt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),so(n)),this.vs(e,b,n,pA(o,Il)).next(k=>k))})}Ds(e,n){let s=new yn(ry(e));return n.forEach((o,d)=>{Hc(e,d)&&(s=s.add(d))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const d=e.limitType==="F"?n.last():n.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(o)>0)}Ss(e,n,s){return io()<=kr.DEBUG&&Wt("QueryEngine","Using full collection scan to execute query:",so(n)),this.ps.getDocumentsMatchingQuery(e,n,Ms.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(d=>(n.forEach(b=>{d=d.insert(b.key,b)}),d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh="LocalStore",OT=3e8;class WT{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new tn(Er),this.xs=new ba(d=>ih(d),sh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BT(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function ZT(t,e,n,s){return new WT(t,e,n,s)}async function xy(t,e){const n=dr(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(d=>(o=d,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(d=>{const b=[],k=[];let C=wr();for(const g of o){b.push(g.batchId);for(const se of g.mutations)C=C.add(se.key)}for(const g of d){k.push(g.batchId);for(const se of g.mutations)C=C.add(se.key)}return n.localDocuments.getDocuments(s,C).next(g=>({Ls:g,removedBatchIds:b,addedBatchIds:k}))})})}function JT(t,e){const n=dr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),d=n.Ns.newChangeBuffer({trackRemovals:!0});return function(k,C,g,se){const we=g.batch,he=we.keys();let Ce=Bt.resolve();return he.forEach(Be=>{Ce=Ce.next(()=>se.getEntry(C,Be)).next(Ie=>{const ee=g.docVersions.get(Be);Mr(ee!==null,48541),Ie.version.compareTo(ee)<0&&(we.applyToRemoteDocument(Ie,g),Ie.isValidDocument()&&(Ie.setReadTime(g.commitVersion),se.addEntry(Ie)))})}),Ce.next(()=>k.mutationQueue.removeMutationBatch(C,we))}(n,s,e,d).next(()=>d.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(k){let C=wr();for(let g=0;g<k.mutationResults.length;++g)k.mutationResults[g].transformResults.length>0&&(C=C.add(k.batch.mutations[g].key));return C}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function Sy(t){const e=dr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function ex(t,e){const n=dr(t),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const b=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const k=[];e.targetChanges.forEach((se,we)=>{const he=o.get(we);if(!he)return;k.push(n.Pi.removeMatchingKeys(d,se.removedDocuments,we).next(()=>n.Pi.addMatchingKeys(d,se.addedDocuments,we)));let Ce=he.withSequenceNumber(d.currentSequenceNumber);e.targetMismatches.get(we)!==null?Ce=Ce.withResumeToken(zn.EMPTY_BYTE_STRING,_r.min()).withLastLimboFreeSnapshotVersion(_r.min()):se.resumeToken.approximateByteSize()>0&&(Ce=Ce.withResumeToken(se.resumeToken,s)),o=o.insert(we,Ce),function(Ie,ee,ke){return Ie.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-Ie.snapshotVersion.toMicroseconds()>=OT?!0:ke.addedDocuments.size+ke.modifiedDocuments.size+ke.removedDocuments.size>0}(he,Ce,se)&&k.push(n.Pi.updateTargetData(d,Ce))});let C=ls(),g=wr();if(e.documentUpdates.forEach(se=>{e.resolvedLimboDocuments.has(se)&&k.push(n.persistence.referenceDelegate.updateLimboDocument(d,se))}),k.push(tx(d,b,e.documentUpdates).next(se=>{C=se.ks,g=se.qs})),!s.isEqual(_r.min())){const se=n.Pi.getLastRemoteSnapshotVersion(d).next(we=>n.Pi.setTargetsMetadata(d,d.currentSequenceNumber,s));k.push(se)}return Bt.waitFor(k).next(()=>b.apply(d)).next(()=>n.localDocuments.getLocalViewOfDocuments(d,C,g)).next(()=>C)}).then(d=>(n.Ms=o,d))}function tx(t,e,n){let s=wr(),o=wr();return n.forEach(d=>s=s.add(d)),e.getEntries(t,s).next(d=>{let b=ls();return n.forEach((k,C)=>{const g=d.get(k);C.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(k)),C.isNoDocument()&&C.version.isEqual(_r.min())?(e.removeEntry(k,C.readTime),b=b.insert(k,C)):!g.isValidDocument()||C.version.compareTo(g.version)>0||C.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(C),b=b.insert(k,C)):Wt(hh,"Ignoring outdated watch update for ",k,". Current version:",g.version," Watch version:",C.version)}),{ks:b,qs:o}})}function rx(t,e){const n=dr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=th),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function nx(t,e){const n=dr(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,e).next(d=>d?(o=d,Bt.resolve(o)):n.Pi.allocateTargetId(s).next(b=>(o=new Cs(e,b,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function D_(t,e,n){const s=dr(t),o=s.Ms.get(e),d=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",d,b=>s.persistence.referenceDelegate.removeTarget(b,o))}catch(b){if(!Eo(b))throw b;Wt(hh,`Failed to update sequence numbers for target ${e}: ${b}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function Mg(t,e,n){const s=dr(t);let o=_r.min(),d=wr();return s.persistence.runTransaction("Execute query","readwrite",b=>function(C,g,se){const we=dr(C),he=we.xs.get(se);return he!==void 0?Bt.resolve(we.Ms.get(he)):we.Pi.getTargetData(g,se)}(s,b,Ii(e)).next(k=>{if(k)return o=k.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(b,k.targetId).next(C=>{d=C})}).next(()=>s.Fs.getDocumentsMatchingQuery(b,e,n?o:_r.min(),n?d:wr())).next(k=>(ix(s,jA(e),k),{documents:k,Qs:d})))}function ix(t,e,n){let s=t.Os.get(e)||_r.min();n.forEach((o,d)=>{d.readTime.compareTo(s)>0&&(s=d.readTime)}),t.Os.set(e,s)}class Lg{constructor(){this.activeTargetIds=QA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sx{constructor(){this.Mo=new Lg,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Lg,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="ConnectivityMonitor";class Bg{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Wt(Pg,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Wt(Pg,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uc=null;function N_(){return uc===null?uc=function(){return 268435456+Math.round(2147483648*Math.random())}():uc++,"0x"+uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="RestConnection",ox={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Tc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,d){const b=N_(),k=this.zo(e,n.toUriEncodedString());Wt($_,`Sending RPC '${e}' ${b}:`,k,s);const C={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(C,o,d);const{host:g}=new URL(k),se=O_(g);return this.Jo(e,k,C,s,se).then(we=>(Wt($_,`Received RPC '${e}' ${b}: `,we),we),we=>{throw co($_,`RPC '${e}' ${b} failed with error: `,we,"url: ",k,"request:",s),we})}Ho(e,n,s,o,d,b){return this.Go(e,n,s,o,d)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,d)=>e[d]=o),s&&s.headers.forEach((o,d)=>e[d]=o)}zo(e,n){const s=ox[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn="WebChannelConnection";class cx extends lx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,d){const b=N_();return new Promise((k,C)=>{const g=new Iv;g.setWithCredentials(!0),g.listenOnce(Dv.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case _c.NO_ERROR:const we=g.getResponseJson();Wt(Fn,`XHR for RPC '${e}' ${b} received:`,JSON.stringify(we)),k(we);break;case _c.TIMEOUT:Wt(Fn,`RPC '${e}' ${b} timed out`),C(new rr(jt.DEADLINE_EXCEEDED,"Request time out"));break;case _c.HTTP_ERROR:const he=g.getStatus();if(Wt(Fn,`RPC '${e}' ${b} failed with status:`,he,"response text:",g.getResponseText()),he>0){let Ce=g.getResponseJson();Array.isArray(Ce)&&(Ce=Ce[0]);const Be=Ce==null?void 0:Ce.error;if(Be&&Be.status&&Be.message){const Ie=function(ke){const Oe=ke.toLowerCase().replace(/_/g,"-");return Object.values(jt).indexOf(Oe)>=0?Oe:jt.UNKNOWN}(Be.status);C(new rr(Ie,Be.message))}else C(new rr(jt.UNKNOWN,"Server responded with status "+g.getStatus()))}else C(new rr(jt.UNAVAILABLE,"Connection failed."));break;default:$r(9055,{l_:e,streamId:b,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Wt(Fn,`RPC '${e}' ${b} completed.`)}});const se=JSON.stringify(o);Wt(Fn,`RPC '${e}' ${b} sending request:`,o),g.send(n,"POST",se,s,15)})}T_(e,n,s){const o=N_(),d=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],b=zv(),k=qv(),C={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(C.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(C.useFetchStreams=!0),this.jo(C.initMessageHeaders,n,s),C.encodeInitMessageHeaders=!0;const se=d.join("");Wt(Fn,`Creating RPC '${e}' stream ${o}: ${se}`,C);const we=b.createWebChannel(se,C);this.I_(we);let he=!1,Ce=!1;const Be=new ux({Yo:ee=>{Ce?Wt(Fn,`Not sending because RPC '${e}' stream ${o} is closed:`,ee):(he||(Wt(Fn,`Opening RPC '${e}' stream ${o} transport.`),we.open(),he=!0),Wt(Fn,`RPC '${e}' stream ${o} sending:`,ee),we.send(ee))},Zo:()=>we.close()}),Ie=(ee,ke,Oe)=>{ee.listen(ke,Ne=>{try{Oe(Ne)}catch(Fe){setTimeout(()=>{throw Fe},0)}})};return Ie(we,ml.EventType.OPEN,()=>{Ce||(Wt(Fn,`RPC '${e}' stream ${o} transport opened.`),Be.o_())}),Ie(we,ml.EventType.CLOSE,()=>{Ce||(Ce=!0,Wt(Fn,`RPC '${e}' stream ${o} transport closed`),Be.a_(),this.E_(we))}),Ie(we,ml.EventType.ERROR,ee=>{Ce||(Ce=!0,co(Fn,`RPC '${e}' stream ${o} transport errored. Name:`,ee.name,"Message:",ee.message),Be.a_(new rr(jt.UNAVAILABLE,"The operation could not be completed")))}),Ie(we,ml.EventType.MESSAGE,ee=>{var ke;if(!Ce){const Oe=ee.data[0];Mr(!!Oe,16349);const Ne=Oe,Fe=(Ne==null?void 0:Ne.error)||((ke=Ne[0])==null?void 0:ke.error);if(Fe){Wt(Fn,`RPC '${e}' stream ${o} received error:`,Fe);const Te=Fe.status;let Me=function(F){const ue=_n[F];if(ue!==void 0)return hy(ue)}(Te),te=Fe.message;Me===void 0&&(Me=jt.INTERNAL,te="Unknown error status: "+Te+" with message "+Fe.message),Ce=!0,Be.a_(new rr(Me,te)),we.close()}else Wt(Fn,`RPC '${e}' stream ${o} received:`,Oe),Be.u_(Oe)}}),Ie(k,Nv.STAT_EVENT,ee=>{ee.stat===b_.PROXY?Wt(Fn,`RPC '${e}' stream ${o} detected buffering proxy`):ee.stat===b_.NOPROXY&&Wt(Fn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Be.__()},0),Be}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function f_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(t){return new hT(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n,s=1e3,o=1.5,d=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=d,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&Wt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="PersistentStream";class ky{constructor(e,n,s,o,d,b,k,C){this.Mi=e,this.S_=s,this.b_=o,this.connection=d,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=k,this.listener=C,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ry(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===jt.RESOURCE_EXHAUSTED?(os(n.toString()),os("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===jt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{e(()=>{const o=new rr(jt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Wt(Fg,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Wt(Fg,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $x extends ky{constructor(e,n,s,o,d,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,b),this.serializer=d}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=mT(this.serializer,e),s=function(d){if(!("targetChange"in d))return _r.min();const b=d.targetChange;return b.targetIds&&b.targetIds.length?_r.min():b.readTime?Di(b.readTime):_r.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=I_(this.serializer),n.addTarget=function(d,b){let k;const C=b.target;if(k=x_(C)?{documents:yT(d,C)}:{query:bT(d,C).ft},k.targetId=b.targetId,b.resumeToken.approximateByteSize()>0){k.resumeToken=my(d,b.resumeToken);const g=R_(d,b.expectedCount);g!==null&&(k.expectedCount=g)}else if(b.snapshotVersion.compareTo(_r.min())>0){k.readTime=Ic(d,b.snapshotVersion.toTimestamp());const g=R_(d,b.expectedCount);g!==null&&(k.expectedCount=g)}return k}(this.serializer,e);const s=wT(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=I_(this.serializer),n.removeTarget=e,this.q_(n)}}class fx extends ky{constructor(e,n,s,o,d,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,b),this.serializer=d}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Mr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Mr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Mr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=vT(e.writeResults,e.commitTime),s=Di(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=I_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>gT(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{}class hx extends _x{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new rr(jt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,b])=>this.connection.Go(e,k_(n,s),o,d,b)).catch(d=>{throw d.name==="FirebaseError"?(d.code===jt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rr(jt.UNKNOWN,d.toString())})}Ho(e,n,s,o,d){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([b,k])=>this.connection.Ho(e,k_(n,s),o,b,k,d)).catch(b=>{throw b.name==="FirebaseError"?(b.code===jt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),b):new rr(jt.UNKNOWN,b.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class dx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(os(n),this.aa=!1):Wt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="RemoteStore";class px{constructor(e,n,s,o,d){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=d,this.Aa.Oo(b=>{s.enqueueAndForget(async()=>{wa(this)&&(Wt(ga,"Restarting streams for network reachability change."),await async function(C){const g=dr(C);g.Ea.add(4),await Hl(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Oc(g)}(this))})}),this.Ra=new dx(s,o)}}async function Oc(t){if(wa(t))for(const e of t.da)await e(!0)}async function Hl(t){for(const e of t.da)await e(!1)}function Cy(t,e){const n=dr(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),gh(n)?mh(n):wo(n).O_()&&ph(n,e))}function dh(t,e){const n=dr(t),s=wo(n);n.Ia.delete(e),s.O_()&&Iy(n,e),n.Ia.size===0&&(s.O_()?s.L_():wa(n)&&n.Ra.set("Unknown"))}function ph(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_r.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wo(t).Y_(e)}function Iy(t,e){t.Va.Ue(e),wo(t).Z_(e)}function mh(t){t.Va=new cT({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),wo(t).start(),t.Ra.ua()}function gh(t){return wa(t)&&!wo(t).x_()&&t.Ia.size>0}function wa(t){return dr(t).Ea.size===0}function Dy(t){t.Va=void 0}async function mx(t){t.Ra.set("Online")}async function gx(t){t.Ia.forEach((e,n)=>{ph(t,e)})}async function vx(t,e){Dy(t),gh(t)?(t.Ra.ha(e),mh(t)):t.Ra.set("Unknown")}async function yx(t,e,n){if(t.Ra.set("Online"),e instanceof py&&e.state===2&&e.cause)try{await async function(o,d){const b=d.cause;for(const k of d.targetIds)o.Ia.has(k)&&(await o.remoteSyncer.rejectListen(k,b),o.Ia.delete(k),o.Va.removeTarget(k))}(t,e)}catch(s){Wt(ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Nc(t,s)}else if(e instanceof mc?t.Va.Ze(e):e instanceof dy?t.Va.st(e):t.Va.tt(e),!n.isEqual(_r.min()))try{const s=await Sy(t.localStore);n.compareTo(s)>=0&&await function(d,b){const k=d.Va.Tt(b);return k.targetChanges.forEach((C,g)=>{if(C.resumeToken.approximateByteSize()>0){const se=d.Ia.get(g);se&&d.Ia.set(g,se.withResumeToken(C.resumeToken,b))}}),k.targetMismatches.forEach((C,g)=>{const se=d.Ia.get(C);if(!se)return;d.Ia.set(C,se.withResumeToken(zn.EMPTY_BYTE_STRING,se.snapshotVersion)),Iy(d,C);const we=new Cs(se.target,C,g,se.sequenceNumber);ph(d,we)}),d.remoteSyncer.applyRemoteEvent(k)}(t,n)}catch(s){Wt(ga,"Failed to raise snapshot:",s),await Nc(t,s)}}async function Nc(t,e,n){if(!Eo(e))throw e;t.Ea.add(1),await Hl(t),t.Ra.set("Offline"),n||(n=()=>Sy(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Wt(ga,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Oc(t)})}function Ny(t,e){return e().catch(n=>Nc(t,n,e))}async function Wc(t){const e=dr(t),n=Fs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:th;for(;bx(e);)try{const o=await rx(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,Ex(e,o)}catch(o){await Nc(e,o)}qy(e)&&zy(e)}function bx(t){return wa(t)&&t.Ta.length<10}function Ex(t,e){t.Ta.push(e);const n=Fs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function qy(t){return wa(t)&&!Fs(t).x_()&&t.Ta.length>0}function zy(t){Fs(t).start()}async function wx(t){Fs(t).ra()}async function Ax(t){const e=Fs(t);for(const n of t.Ta)e.ea(n.mutations)}async function Tx(t,e,n){const s=t.Ta.shift(),o=lh.from(s,e,n);await Ny(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await Wc(t)}async function xx(t,e){e&&Fs(t).X_&&await async function(s,o){if(function(b){return oT(b)&&b!==jt.ABORTED}(o.code)){const d=s.Ta.shift();Fs(s).B_(),await Ny(s,()=>s.remoteSyncer.rejectFailedWrite(d.batchId,o)),await Wc(s)}}(t,e),qy(t)&&zy(t)}async function Vg(t,e){const n=dr(t);n.asyncQueue.verifyOperationInProgress(),Wt(ga,"RemoteStore received new credentials");const s=wa(n);n.Ea.add(3),await Hl(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Oc(n)}async function Sx(t,e){const n=dr(t);e?(n.Ea.delete(2),await Oc(n)):e||(n.Ea.add(2),await Hl(n),n.Ra.set("Unknown"))}function wo(t){return t.ma||(t.ma=function(n,s,o){const d=dr(n);return d.sa(),new $x(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,o)}(t.datastore,t.asyncQueue,{Xo:mx.bind(null,t),t_:gx.bind(null,t),r_:vx.bind(null,t),H_:yx.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),gh(t)?mh(t):t.Ra.set("Unknown")):(await t.ma.stop(),Dy(t))})),t.ma}function Fs(t){return t.fa||(t.fa=function(n,s,o){const d=dr(n);return d.sa(),new fx(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,o)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:wx.bind(null,t),r_:xx.bind(null,t),ta:Ax.bind(null,t),na:Tx.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Wc(t)):(await t.fa.stop(),t.Ta.length>0&&(Wt(ga,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,s,o,d){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=d,this.deferred=new qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,d){const b=Date.now()+s,k=new vh(e,n,b,o,d);return k.start(s),k}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rr(jt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yh(t,e){if(os("AsyncQueue",`${e}: ${t}`),Eo(t))return new rr(jt.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{static emptySet(e){return new uo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||or.comparator(n.key,s.key):(n,s)=>or.comparator(n.key,s.key),this.keyedMap=gl(),this.sortedSet=new tn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,d=s.getNext().key;if(!o.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new uo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(){this.ga=new tn(or.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):$r(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class po{constructor(e,n,s,o,d,b,k,C,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=d,this.fromCache=b,this.syncStateChanged=k,this.excludesMetadataChanges=C,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,d){const b=[];return n.forEach(k=>{b.push({type:0,doc:k})}),new po(e,n,uo.emptySet(n),b,s,o,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class kx{constructor(){this.queries=jg(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=dr(n),d=o.queries;o.queries=jg(),d.forEach((b,k)=>{for(const C of k.Sa)C.onError(s)})})(this,new rr(jt.ABORTED,"Firestore shutting down"))}}function jg(){return new ba(t=>ty(t),jc)}async function Cx(t,e){const n=dr(t);let s=3;const o=e.query;let d=n.queries.get(o);d?!d.ba()&&e.Da()&&(s=2):(d=new Rx,s=e.Da()?0:1);try{switch(s){case 0:d.wa=await n.onListen(o,!0);break;case 1:d.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(b){const k=yh(b,`Initialization of query '${so(e.query)}' failed`);return void e.onError(k)}n.queries.set(o,d),d.Sa.push(e),e.va(n.onlineState),d.wa&&e.Fa(d.wa)&&bh(n)}async function Ix(t,e){const n=dr(t),s=e.query;let o=3;const d=n.queries.get(s);if(d){const b=d.Sa.indexOf(e);b>=0&&(d.Sa.splice(b,1),d.Sa.length===0?o=e.Da()?0:1:!d.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Dx(t,e){const n=dr(t);let s=!1;for(const o of e){const d=o.query,b=n.queries.get(d);if(b){for(const k of b.Sa)k.Fa(o)&&(s=!0);b.wa=o}}s&&bh(n)}function Nx(t,e,n){const s=dr(t),o=s.queries.get(e);if(o)for(const d of o.Sa)d.onError(n);s.queries.delete(e)}function bh(t){t.Ca.forEach(e=>{e.next()})}var q_,Hg;(Hg=q_||(q_={})).Ma="default",Hg.Cache="cache";class qx{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new po(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==q_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e){this.key=e}}class Ly{constructor(e){this.key=e}}class zx{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=wr(),this.mutatedKeys=wr(),this.eu=ry(e),this.tu=new uo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Ug,o=n?n.tu:this.tu;let d=n?n.mutatedKeys:this.mutatedKeys,b=o,k=!1;const C=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((se,we)=>{const he=o.get(se),Ce=Hc(this.query,we)?we:null,Be=!!he&&this.mutatedKeys.has(he.key),Ie=!!Ce&&(Ce.hasLocalMutations||this.mutatedKeys.has(Ce.key)&&Ce.hasCommittedMutations);let ee=!1;he&&Ce?he.data.isEqual(Ce.data)?Be!==Ie&&(s.track({type:3,doc:Ce}),ee=!0):this.su(he,Ce)||(s.track({type:2,doc:Ce}),ee=!0,(C&&this.eu(Ce,C)>0||g&&this.eu(Ce,g)<0)&&(k=!0)):!he&&Ce?(s.track({type:0,doc:Ce}),ee=!0):he&&!Ce&&(s.track({type:1,doc:he}),ee=!0,(C||g)&&(k=!0)),ee&&(Ce?(b=b.add(Ce),d=Ie?d.add(se):d.delete(se)):(b=b.delete(se),d=d.delete(se)))}),this.query.limit!==null)for(;b.size>this.query.limit;){const se=this.query.limitType==="F"?b.last():b.first();b=b.delete(se.key),d=d.delete(se.key),s.track({type:1,doc:se})}return{tu:b,iu:s,Cs:k,mutatedKeys:d}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const d=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const b=e.iu.ya();b.sort((se,we)=>function(Ce,Be){const Ie=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $r(20277,{Rt:ee})}};return Ie(Ce)-Ie(Be)}(se.type,we.type)||this.eu(se.doc,we.doc)),this.ou(s),o=o??!1;const k=n&&!o?this._u():[],C=this.Xa.size===0&&this.current&&!o?1:0,g=C!==this.Za;return this.Za=C,b.length!==0||g?{snapshot:new po(this.query,e.tu,d,b,e.mutatedKeys,C===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:k}:{au:k}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ug,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=wr(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new Ly(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new My(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=wr();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return po.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Eh="SyncEngine";class Mx{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Lx{constructor(e){this.key=e,this.hu=!1}}class Px{constructor(e,n,s,o,d,b){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=d,this.maxConcurrentLimboResolutions=b,this.Pu={},this.Tu=new ba(k=>ty(k),jc),this.Iu=new Map,this.Eu=new Set,this.du=new tn(or.comparator),this.Au=new Map,this.Ru=new $h,this.Vu={},this.mu=new Map,this.fu=ho.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Bx(t,e,n=!0){const s=jy(t);let o;const d=s.Tu.get(e);return d?(s.sharedClientState.addLocalQueryTarget(d.targetId),o=d.view.lu()):o=await Py(s,e,n,!0),o}async function Fx(t,e){const n=jy(t);await Py(n,e,!0,!1)}async function Py(t,e,n,s){const o=await nx(t.localStore,Ii(e)),d=o.targetId,b=t.sharedClientState.addLocalQueryTarget(d,n);let k;return s&&(k=await Vx(t,e,d,b==="current",o.resumeToken)),t.isPrimaryClient&&n&&Cy(t.remoteStore,o),k}async function Vx(t,e,n,s,o){t.pu=(we,he,Ce)=>async function(Ie,ee,ke,Oe){let Ne=ee.view.ru(ke);Ne.Cs&&(Ne=await Mg(Ie.localStore,ee.query,!1).then(({documents:te})=>ee.view.ru(te,Ne)));const Fe=Oe&&Oe.targetChanges.get(ee.targetId),Te=Oe&&Oe.targetMismatches.get(ee.targetId)!=null,Me=ee.view.applyChanges(Ne,Ie.isPrimaryClient,Fe,Te);return Yg(Ie,ee.targetId,Me.au),Me.snapshot}(t,we,he,Ce);const d=await Mg(t.localStore,e,!0),b=new zx(e,d.Qs),k=b.ru(d.documents),C=jl.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",o),g=b.applyChanges(k,t.isPrimaryClient,C);Yg(t,n,g.au);const se=new Mx(e,n,b);return t.Tu.set(e,se),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function Ux(t,e,n){const s=dr(t),o=s.Tu.get(e),d=s.Iu.get(o.targetId);if(d.length>1)return s.Iu.set(o.targetId,d.filter(b=>!jc(b,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await D_(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&dh(s.remoteStore,o.targetId),z_(s,o.targetId)}).catch(bo)):(z_(s,o.targetId),await D_(s.localStore,o.targetId,!0))}async function jx(t,e){const n=dr(t),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),dh(n.remoteStore,s.targetId))}async function Hx(t,e,n){const s=Wx(t);try{const o=await function(b,k){const C=dr(b),g=Kr.now(),se=k.reduce((Ce,Be)=>Ce.add(Be.key),wr());let we,he;return C.persistence.runTransaction("Locally write mutations","readwrite",Ce=>{let Be=ls(),Ie=wr();return C.Ns.getEntries(Ce,se).next(ee=>{Be=ee,Be.forEach((ke,Oe)=>{Oe.isValidDocument()||(Ie=Ie.add(ke))})}).next(()=>C.localDocuments.getOverlayedDocuments(Ce,Be)).next(ee=>{we=ee;const ke=[];for(const Oe of k){const Ne=rT(Oe,we.get(Oe.key).overlayedDocument);Ne!=null&&ke.push(new Ea(Oe.key,Ne,Xv(Ne.value.mapValue),ss.exists(!0)))}return C.mutationQueue.addMutationBatch(Ce,g,ke,k)}).next(ee=>{he=ee;const ke=ee.applyToLocalDocumentSet(we,Ie);return C.documentOverlayCache.saveOverlays(Ce,ee.batchId,ke)})}).then(()=>({batchId:he.batchId,changes:iy(we)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(b,k,C){let g=b.Vu[b.currentUser.toKey()];g||(g=new tn(Er)),g=g.insert(k,C),b.Vu[b.currentUser.toKey()]=g}(s,o.batchId,n),await Gl(s,o.changes),await Wc(s.remoteStore)}catch(o){const d=yh(o,"Failed to persist write");n.reject(d)}}async function By(t,e){const n=dr(t);try{const s=await ex(n.localStore,e);e.targetChanges.forEach((o,d)=>{const b=n.Au.get(d);b&&(Mr(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?b.hu=!0:o.modifiedDocuments.size>0?Mr(b.hu,14607):o.removedDocuments.size>0&&(Mr(b.hu,42227),b.hu=!1))}),await Gl(n,s,e)}catch(s){await bo(s)}}function Gg(t,e,n){const s=dr(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((d,b)=>{const k=b.view.va(e);k.snapshot&&o.push(k.snapshot)}),function(b,k){const C=dr(b);C.onlineState=k;let g=!1;C.queries.forEach((se,we)=>{for(const he of we.Sa)he.va(k)&&(g=!0)}),g&&bh(C)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Gx(t,e,n){const s=dr(t);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),d=o&&o.key;if(d){let b=new tn(or.comparator);b=b.insert(d,Un.newNoDocument(d,_r.min()));const k=wr().add(d),C=new Xc(_r.min(),new Map,new tn(Er),b,k);await By(s,C),s.du=s.du.remove(d),s.Au.delete(e),wh(s)}else await D_(s.localStore,e,!1).then(()=>z_(s,e,n)).catch(bo)}async function Yx(t,e){const n=dr(t),s=e.batch.batchId;try{const o=await JT(n.localStore,e);Vy(n,s,null),Fy(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Gl(n,o)}catch(o){await bo(o)}}async function Kx(t,e,n){const s=dr(t);try{const o=await function(b,k){const C=dr(b);return C.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let se;return C.mutationQueue.lookupMutationBatch(g,k).next(we=>(Mr(we!==null,37113),se=we.keys(),C.mutationQueue.removeMutationBatch(g,we))).next(()=>C.mutationQueue.performConsistencyCheck(g)).next(()=>C.documentOverlayCache.removeOverlaysForBatchId(g,se,k)).next(()=>C.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,se)).next(()=>C.localDocuments.getDocuments(g,se))})}(s.localStore,e);Vy(s,e,n),Fy(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Gl(s,o)}catch(o){await bo(o)}}function Fy(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function Vy(t,e,n){const s=dr(t);let o=s.Vu[s.currentUser.toKey()];if(o){const d=o.get(e);d&&(n?d.reject(n):d.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function z_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(s=>{t.Ru.containsKey(s)||Uy(t,s)})}function Uy(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(dh(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),wh(t))}function Yg(t,e,n){for(const s of n)s instanceof My?(t.Ru.addReference(s.key,e),Xx(t,s)):s instanceof Ly?(Wt(Eh,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||Uy(t,s.key)):$r(19791,{wu:s})}function Xx(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(Wt(Eh,"New document in limbo: "+n),t.Eu.add(s),wh(t))}function wh(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new or(Jr.fromString(e)),s=t.fu.next();t.Au.set(s,new Lx(n)),t.du=t.du.insert(n,s),Cy(t.remoteStore,new Cs(Ii(ah(n.path)),s,"TargetPurposeLimboResolution",Bc.ce))}}async function Gl(t,e,n){const s=dr(t),o=[],d=[],b=[];s.Tu.isEmpty()||(s.Tu.forEach((k,C)=>{b.push(s.pu(C,e,n).then(g=>{var se;if((g||n)&&s.isPrimaryClient){const we=g?!g.fromCache:(se=n==null?void 0:n.targetChanges.get(C.targetId))==null?void 0:se.current;s.sharedClientState.updateQueryState(C.targetId,we?"current":"not-current")}if(g){o.push(g);const we=_h.As(C.targetId,g);d.push(we)}}))}),await Promise.all(b),s.Pu.H_(o),await async function(C,g){const se=dr(C);try{await se.persistence.runTransaction("notifyLocalViewChanges","readwrite",we=>Bt.forEach(g,he=>Bt.forEach(he.Es,Ce=>se.persistence.referenceDelegate.addReference(we,he.targetId,Ce)).next(()=>Bt.forEach(he.ds,Ce=>se.persistence.referenceDelegate.removeReference(we,he.targetId,Ce)))))}catch(we){if(!Eo(we))throw we;Wt(hh,"Failed to update sequence numbers: "+we)}for(const we of g){const he=we.targetId;if(!we.fromCache){const Ce=se.Ms.get(he),Be=Ce.snapshotVersion,Ie=Ce.withLastLimboFreeSnapshotVersion(Be);se.Ms=se.Ms.insert(he,Ie)}}}(s.localStore,d))}async function Qx(t,e){const n=dr(t);if(!n.currentUser.isEqual(e)){Wt(Eh,"User change. New user:",e.toKey());const s=await xy(n.localStore,e);n.currentUser=e,function(d,b){d.mu.forEach(k=>{k.forEach(C=>{C.reject(new rr(jt.CANCELLED,b))})}),d.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Gl(n,s.Ls)}}function Ox(t,e){const n=dr(t),s=n.Au.get(e);if(s&&s.hu)return wr().add(s.key);{let o=wr();const d=n.Iu.get(e);if(!d)return o;for(const b of d){const k=n.Tu.get(b);o=o.unionWith(k.view.nu)}return o}}function jy(t){const e=dr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=By.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ox.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Gx.bind(null,e),e.Pu.H_=Dx.bind(null,e.eventManager),e.Pu.yu=Nx.bind(null,e.eventManager),e}function Wx(t){const e=dr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Yx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Kx.bind(null,e),e}class qc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ZT(this.persistence,new QT,e.initialUser,this.serializer)}Cu(e){return new Ty(fh.mi,this.serializer)}Du(e){return new sx}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qc.provider={build:()=>new qc};class Zx extends qc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Mr(this.persistence.referenceDelegate instanceof Dc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new qT(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Qn.withCacheSize(this.cacheSizeBytes):Qn.DEFAULT;return new Ty(s=>Dc.mi(s,n),this.serializer)}}class M_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Gg(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Qx.bind(null,this.syncEngine),await Sx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new kx}()}createDatastore(e){const n=Qc(e.databaseInfo.databaseId),s=function(d){return new cx(d)}(e.databaseInfo);return function(d,b,k,C){return new hx(d,b,k,C)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,d,b,k){return new px(s,o,d,b,k)}(this.localStore,this.datastore,e.asyncQueue,n=>Gg(this.syncEngine,n,0),function(){return Bg.v()?new Bg:new ax}())}createSyncEngine(e,n){return function(o,d,b,k,C,g,se){const we=new Px(o,d,b,k,C,g);return se&&(we.gu=!0),we}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const d=dr(o);Wt(ga,"RemoteStore shutting down."),d.Ea.add(5),await Hl(d),d.Aa.shutdown(),d.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}M_.provider={build:()=>new M_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):os("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="FirestoreClient";class eS{constructor(e,n,s,o,d){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Vn.UNAUTHENTICATED,this.clientId=J_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=d,this.authCredentials.start(s,async b=>{Wt(Vs,"Received user=",b.uid),await this.authCredentialListener(b),this.user=b}),this.appCheckCredentials.start(s,b=>(Wt(Vs,"Received new app check token=",b),this.appCheckCredentialListener(b,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=yh(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function __(t,e){t.asyncQueue.verifyOperationInProgress(),Wt(Vs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async o=>{s.isEqual(o)||(await xy(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Kg(t,e){t.asyncQueue.verifyOperationInProgress();const n=await tS(t);Wt(Vs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>Vg(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,o)=>Vg(e.remoteStore,o)),t._onlineComponents=e}async function tS(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Wt(Vs,"Using user provided OfflineComponentProvider");try{await __(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===jt.FAILED_PRECONDITION||o.code===jt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;co("Error using user provided cache. Falling back to memory cache: "+n),await __(t,new qc)}}else Wt(Vs,"Using default OfflineComponentProvider"),await __(t,new Zx(void 0));return t._offlineComponents}async function Hy(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Wt(Vs,"Using user provided OnlineComponentProvider"),await Kg(t,t._uninitializedComponentsProvider._online)):(Wt(Vs,"Using default OnlineComponentProvider"),await Kg(t,new M_))),t._onlineComponents}function rS(t){return Hy(t).then(e=>e.syncEngine)}async function nS(t){const e=await Hy(t),n=e.eventManager;return n.onListen=Bx.bind(null,e.syncEngine),n.onUnlisten=Ux.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Fx.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jx.bind(null,e.syncEngine),n}function iS(t,e,n={}){const s=new qs;return t.asyncQueue.enqueueAndForget(async()=>function(d,b,k,C,g){const se=new Jx({next:he=>{se.Nu(),b.enqueueAndForget(()=>Ix(d,we));const Ce=he.docs.has(k);!Ce&&he.fromCache?g.reject(new rr(jt.UNAVAILABLE,"Failed to get document because the client is offline.")):Ce&&he.fromCache&&C&&C.source==="server"?g.reject(new rr(jt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(he)},error:he=>g.reject(he)}),we=new qx(ah(k.path),se,{includeMetadataChanges:!0,qa:!0});return Cx(d,we)}(await nS(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="firestore.googleapis.com",Qg=!0;class Og{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new rr(jt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Yy,this.ssl=Qg}else this.host=e.host,this.ssl=e.ssl??Qg;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ay;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DT)throw new rr(jt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Gy(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new rr(jt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new rr(jt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new rr(jt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ah{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Og({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rr(jt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rr(jt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Og(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new iA;switch(s.type){case"firstParty":return new lA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new rr(jt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Xg.get(n);s&&(Wt("ComponentProvider","Removing Datastore"),Xg.delete(n),s.terminate())}(this),Promise.resolve()}}function sS(t,e,n,s={}){var g;t=Cl(t,Ah);const o=O_(e),d=t._getSettings(),b={...d,emulatorOptions:t._getEmulatorOptions()},k=`${e}:${n}`;o&&(IE(`https://${k}`),zE("Firestore",!0)),d.host!==Yy&&d.host!==k&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const C={...d,host:k,ssl:o,emulatorOptions:s};if(!bc(C,b)&&(t._setSettings(C),s.mockUserToken)){let se,we;if(typeof s.mockUserToken=="string")se=s.mockUserToken,we=Vn.MOCK_USER;else{se=DE(s.mockUserToken,(g=t._app)==null?void 0:g.options.projectId);const he=s.mockUserToken.sub||s.mockUserToken.user_id;if(!he)throw new rr(jt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");we=new Vn(he)}t._authCredentials=new sA(new Lv(se,we))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Th(this.firestore,e,this._query)}}class Sn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ll(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sn(this.firestore,e,this._key)}toJSON(){return{type:Sn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Ul(n,Sn._jsonSchema))return new Sn(e,s||null,new or(Jr.fromString(n.referencePath)))}}Sn._jsonSchemaVersion="firestore/documentReference/1.0",Sn._jsonSchema={type:hn("string",Sn._jsonSchemaVersion),referencePath:hn("string")};class Ll extends Th{constructor(e,n,s){super(e,n,ah(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sn(this.firestore,null,new or(e))}withConverter(e){return new Ll(this.firestore,e,this._path)}}function L_(t,e,...n){if(t=pa(t),arguments.length===1&&(e=J_.newId()),hA("doc","path",e),t instanceof Ah){const s=Jr.fromString(e,...n);return cg(s),new Sn(t,null,new or(s))}{if(!(t instanceof Sn||t instanceof Ll))throw new rr(jt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Jr.fromString(e,...n));return cg(s),new Sn(t.firestore,t instanceof Ll?t.converter:null,new or(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg="AsyncQueue";class Zg{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ry(this,"async_queue_retry"),this._c=()=>{const s=f_();s&&Wt(Wg,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=f_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=f_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new qs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Eo(e))throw e;Wt(Wg,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,os("INTERNAL UNHANDLED ERROR: ",Jg(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=vh.createAndSchedule(this,e,n,s,d=>this.hc(d));return this.tc.push(o),o}uc(){this.nc&&$r(47125,{Pc:Jg(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Jg(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class xh extends Ah{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new Zg,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Zg(e),this._firestoreClient=void 0,await e}}}function aS(t,e){const n=typeof t=="object"?t:Gw(),s=typeof t=="string"?t:Tc,o=Fw(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const d=kE("firestore");d&&sS(o,...d)}return o}function Ky(t){if(t._terminated)throw new rr(jt.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||oS(t),t._firestoreClient}function oS(t){var s,o,d;const e=t._freezeSettings(),n=function(k,C,g,se){return new xA(k,C,g,se.host,se.ssl,se.experimentalForceLongPolling,se.experimentalAutoDetectLongPolling,Gy(se.experimentalLongPollingOptions),se.useFetchStreams,se.isUsingEmulator)}(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((d=e.localCache)!=null&&d._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new eS(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(k){const C=k==null?void 0:k._online.build();return{_offline:k==null?void 0:k._offline.build(C),_online:C}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pi(zn.fromBase64String(e))}catch(n){throw new rr(jt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pi(zn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ul(e,pi._jsonSchema))return pi.fromBase64String(e.bytes)}}pi._jsonSchemaVersion="firestore/bytes/1.0",pi._jsonSchema={type:hn("string",pi._jsonSchemaVersion),bytes:hn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new rr(jt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new rr(jt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new rr(jt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Er(this._lat,e._lat)||Er(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(e){if(Ul(e,Ni._jsonSchema))return new Ni(e.latitude,e.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:hn("string",Ni._jsonSchemaVersion),latitude:hn("number"),longitude:hn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let d=0;d<s.length;++d)if(s[d]!==o[d])return!1;return!0}(this._values,e._values)}toJSON(){return{type:qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ul(e,qi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new qi(e.vectorValues);throw new rr(jt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qi._jsonSchemaVersion="firestore/vectorValue/1.0",qi._jsonSchema={type:hn("string",qi._jsonSchemaVersion),vectorValues:hn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=/^__.*__$/;class Xy{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ea(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Qy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $r(40011,{Ac:t})}}class Rh{constructor(e,n,s,o,d,b){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,d===void 0&&this.Rc(),this.fieldTransforms=d||[],this.fieldMask=b||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Rh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return zc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Qy(this.Ac)&&lS.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class uS{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Qc(e)}Cc(e,n,s,o=!1){return new Rh({Ac:e,methodName:n,Dc:s,path:qn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cS(t){const e=t._freezeSettings(),n=Qc(t._databaseId);return new uS(t._databaseId,!!e.ignoreUndefinedProperties,n)}class Jc extends Sh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jc}}function $S(t,e,n,s){const o=t.Cc(1,e,n);Wy("Data must be an object, but it was:",o,s);const d=[],b=ni.empty();Us(s,(C,g)=>{const se=kh(e,C,n);g=pa(g);const we=o.yc(se);if(g instanceof Jc)d.push(se);else{const he=e$(g,we);he!=null&&(d.push(se),b.set(se,he))}});const k=new bi(d);return new Xy(b,k,o.fieldTransforms)}function fS(t,e,n,s,o,d){const b=t.Cc(1,e,n),k=[ev(e,s,n)],C=[o];if(d.length%2!=0)throw new rr(jt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let he=0;he<d.length;he+=2)k.push(ev(e,d[he])),C.push(d[he+1]);const g=[],se=ni.empty();for(let he=k.length-1;he>=0;--he)if(!dS(g,k[he])){const Ce=k[he];let Be=C[he];Be=pa(Be);const Ie=b.yc(Ce);if(Be instanceof Jc)g.push(Ce);else{const ee=e$(Be,Ie);ee!=null&&(g.push(Ce),se.set(Ce,ee))}}const we=new bi(g);return new Xy(se,we,b.fieldTransforms)}function e$(t,e){if(Oy(t=pa(t)))return Wy("Unsupported field value:",e,t),_S(t,e);if(t instanceof Sh)return function(s,o){if(!Qy(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const d=s._toFieldTransform(o);d&&o.fieldTransforms.push(d)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const d=[];let b=0;for(const k of s){let C=e$(k,o.wc(b));C==null&&(C={nullValue:"NULL_VALUE"}),d.push(C),b++}return{arrayValue:{values:d}}}(t,e)}return function(s,o){if((s=pa(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return OA(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const d=Kr.fromDate(s);return{timestampValue:Ic(o.serializer,d)}}if(s instanceof Kr){const d=new Kr(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ic(o.serializer,d)}}if(s instanceof Ni)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof pi)return{bytesValue:my(o.serializer,s._byteString)};if(s instanceof Sn){const d=o.databaseId,b=s.firestore._databaseId;if(!b.isEqual(d))throw o.Sc(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:ch(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof qi)return function(b,k){return{mapValue:{fields:{[Yv]:{stringValue:Kv},[xc]:{arrayValue:{values:b.toArray().map(g=>{if(typeof g!="number")throw k.Sc("VectorValues must only contain numeric values.");return oh(k.serializer,g)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${eh(s)}`)}(t,e)}function _S(t,e){const n={};return Fv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Us(t,(s,o)=>{const d=e$(o,e.mc(s));d!=null&&(n[s]=d)}),{mapValue:{fields:n}}}function Oy(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Kr||t instanceof Ni||t instanceof pi||t instanceof Sn||t instanceof Sh||t instanceof qi)}function Wy(t,e,n){if(!Oy(n)||!Pv(n)){const s=eh(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function ev(t,e,n){if((e=pa(e))instanceof Zc)return e._internalPath;if(typeof e=="string")return kh(t,e);throw zc("Field path arguments must be of type string or ",t,!1,void 0,n)}const hS=new RegExp("[~\\*/\\[\\]]");function kh(t,e,n){if(e.search(hS)>=0)throw zc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zc(...e.split("."))._internalPath}catch{throw zc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zc(t,e,n,s,o){const d=s&&!s.isEmpty(),b=o!==void 0;let k=`Function ${e}() called with invalid data`;n&&(k+=" (via `toFirestore()`)"),k+=". ";let C="";return(d||b)&&(C+=" (found",d&&(C+=` in field ${s}`),b&&(C+=` in document ${o}`),C+=")"),new rr(jt.INVALID_ARGUMENT,k+t+C)}function dS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,n,s,o,d){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pS extends Zy{data(){return super.data()}}function Jy(t,e){return typeof e=="string"?kh(t,e):e instanceof Zc?e._internalPath:e._delegate._internalPath}class mS{convertValue(e,n="none"){switch(Bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return un(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw $r(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Us(e,(o,d)=>{s[o]=this.convertValue(d,n)}),s}convertVectorValue(e){var s,o,d;const n=(d=(o=(s=e.fields)==null?void 0:s[xc].arrayValue)==null?void 0:o.values)==null?void 0:d.map(b=>un(b.doubleValue));return new qi(n)}convertGeoPoint(e){return new Ni(un(e.latitude),un(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Vc(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Dl(e));default:return null}}convertTimestamp(e){const n=Ls(e);return new Kr(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Jr.fromString(e);Mr(wy(s),9688,{name:e});const o=new Nl(s.get(1),s.get(3)),d=new or(s.popFirst(5));return o.isEqual(n)||os(`Document ${d} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),d}}class yl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ha extends Zy{constructor(e,n,s,o,d,b){super(e,n,s,o,b),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Jy("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rr(jt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ha._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",ha._jsonSchema={type:hn("string",ha._jsonSchemaVersion),bundleSource:hn("string","DocumentSnapshot"),bundleName:hn("string"),bundle:hn("string")};class gc extends ha{data(e={}){return super.data(e)}}class xl{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new yl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new gc(this._firestore,this._userDataWriter,s.key,s,new yl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new rr(jt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,d){if(o._snapshot.oldDocs.isEmpty()){let b=0;return o._snapshot.docChanges.map(k=>{const C=new gc(o._firestore,o._userDataWriter,k.doc.key,k.doc,new yl(o._snapshot.mutatedKeys.has(k.doc.key),o._snapshot.fromCache),o.query.converter);return k.doc,{type:"added",doc:C,oldIndex:-1,newIndex:b++}})}{let b=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(k=>d||k.type!==3).map(k=>{const C=new gc(o._firestore,o._userDataWriter,k.doc.key,k.doc,new yl(o._snapshot.mutatedKeys.has(k.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,se=-1;return k.type!==0&&(g=b.indexOf(k.doc.key),b=b.delete(k.doc.key)),k.type!==1&&(b=b.add(k.doc),se=b.indexOf(k.doc.key)),{type:gS(k.type),doc:C,oldIndex:g,newIndex:se}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rr(jt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=xl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=J_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(d=>{d._document!==null&&(n.push(d._document),s.push(this._userDataWriter.convertObjectMap(d._document.data.value.mapValue.fields,"previous")),o.push(d.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function gS(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $r(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(t){t=Cl(t,Sn);const e=Cl(t.firestore,xh);return iS(Ky(e),t._key).then(n=>ES(e,t,n))}xl._jsonSchemaVersion="firestore/querySnapshot/1.0",xl._jsonSchema={type:hn("string",xl._jsonSchemaVersion),bundleSource:hn("string","QuerySnapshot"),bundleName:hn("string"),bundle:hn("string")};class vS extends mS{constructor(e){super(),this.firestore=e}convertBytes(e){return new pi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Sn(this.firestore,null,n)}}function yS(t,e,n,...s){t=Cl(t,Sn);const o=Cl(t.firestore,xh),d=cS(o);let b;return b=typeof(e=pa(e))=="string"||e instanceof Zc?fS(d,"updateDoc",t._key,e,n,s):$S(d,"updateDoc",t._key,e),bS(o,[b.toMutation(t._key,ss.exists(!0))])}function bS(t,e){return function(s,o){const d=new qs;return s.asyncQueue.enqueueAndForget(async()=>Hx(await rS(s),o,d)),d.promise}(Ky(t),e)}function ES(t,e,n){const s=n.docs.get(e._key),o=new vS(t);return new ha(t,o,e._key,s,new yl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){yo=o})(Hw),wc(new Rl("firestore",(s,{instanceIdentifier:o,options:d})=>{const b=s.getProvider("app").getImmediate(),k=new xh(new aA(s.getProvider("auth-internal")),new uA(b,s.getProvider("app-check-internal")),function(g,se){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new rr(jt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nl(g.options.projectId,se)}(b,o),b);return d={useFetchStreams:n,...d},k._setSettings(d),k},"PUBLIC").setMultipleInstances(!0)),lo(ag,og,e),lo(ag,og,"esm2020")})();const wS={apiKey:"AIzaSyCjG5a3G7BWTVoFdIo_ST4MaW_hOCRLOy4",authDomain:"mini-proyectos.firebaseapp.com",projectId:"mini-proyectos",storageBucket:"mini-proyectos.firebasestorage.app",messagingSenderId:"106908902076",appId:"1:106908902076:web:bc74d74c05ff42a5d266b9",measurementId:"G-JRZDZVSRYL"},AS=Sv(wS),P_=aS(AS),TS=vv(),xS=()=>{const[t,e]=kt.useState(0),{adocPath:n}=g1(),[s,o]=kt.useState("Cargando..."),[d,b]=kt.useState(null),[k,C]=kt.useState(!1),g=Lc();kt.useEffect(()=>{(async()=>{try{const he=L_(P_,"san-antonio-blog","san-antonio-blog"),Ce=await eb(he);if(d)throw d;const Be=Ce.data().documento,Ie=TS.convert(Be);o(Ie)}catch(he){b(he.message)}})()},[n]);const se=()=>{e(t+1),console.log(t),t===5&&g("../editer/doc.adoc")};return d?ln.jsxs("div",{className:"error",children:[d," No carga"]}):ln.jsxs("div",{children:[ln.jsx("div",{className:"adoc-container",dangerouslySetInnerHTML:{__html:s}}),ln.jsx("button",{onClick:se,className:"camuflado",children:""})]})},SS=vv(),RS=()=>{const t=Lc(),[e,n]=kt.useState(""),[s,o]=kt.useState(""),[d,b]=kt.useState("");kt.useEffect(()=>{(async()=>{try{const se=L_(P_,"san-antonio-blog","san-antonio-blog"),we=await eb(se);if(!we.exists())throw new Error("Documento no encontrado");const he=we.data();o(he.documento||""),n(he.password||"")}catch(se){console.error("Error al traer documento:",se)}})()},[]),kt.useEffect(()=>{b(SS.convert(s))},[s]);const k=g=>o(g.target.value),C=async()=>{if(prompt("Ingrese la contrasea para guardar:")!==e){alert("Contrasea incorrecta ");return}try{const se=L_(P_,"san-antonio-blog","san-antonio-blog");await yS(se,{documento:s}),alert("Documento guardado ")}catch(se){console.error("Error guardando documento:",se),alert("Error al guardar ")}};return ln.jsxs("div",{className:"adoc-container editor-container",children:[ln.jsx("textarea",{className:"adoc-editor",value:s,onChange:k}),ln.jsx("div",{className:"adoc-preview",dangerouslySetInnerHTML:{__html:d}}),ln.jsx("button",{style:{color:"#000"},onClick:C,className:"save-button",children:"Guardar Cambios"}),ln.jsx("button",{onClick:()=>t("../render/doc.adoc"),className:"back-button",children:"Volver a blog"})]})},kS=()=>ln.jsxs(nE,{basename:"/psa/",children:[" ",ln.jsxs(N1,{children:[ln.jsx(cc,{path:"/",element:ln.jsx(_E,{})}),ln.jsx(cc,{path:"/render/:adocPath",element:ln.jsx(xS,{})}),ln.jsx(cc,{path:"/editer/:adocPath",element:ln.jsx(RS,{})})]})]});function CS(){const[t,e]=kt.useState(0);return ln.jsx(kS,{})}function tb(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=tb(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function da(){for(var t,e,n=0,s="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=tb(t))&&(s&&(s+=" "),s+=e);return s}function IS(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}IS(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Yl=t=>typeof t=="number"&&!isNaN(t),va=t=>typeof t=="string",us=t=>typeof t=="function",DS=t=>va(t)||Yl(t),B_=t=>va(t)||us(t)?t:null,NS=(t,e)=>t===!1||Yl(t)&&t>0?t:e,F_=t=>kt.isValidElement(t)||va(t)||us(t)||Yl(t);function qS(t,e,n=300){let{scrollHeight:s,style:o}=t;requestAnimationFrame(()=>{o.minHeight="initial",o.height=s+"px",o.transition=`all ${n}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,n)})})}function zS({enter:t,exit:e,appendPosition:n=!1,collapse:s=!0,collapseDuration:o=300}){return function({children:d,position:b,preventExitTransition:k,done:C,nodeRef:g,isIn:se,playToast:we}){let he=n?`${t}--${b}`:t,Ce=n?`${e}--${b}`:e,Be=kt.useRef(0);return kt.useLayoutEffect(()=>{let Ie=g.current,ee=he.split(" "),ke=Oe=>{Oe.target===g.current&&(we(),Ie.removeEventListener("animationend",ke),Ie.removeEventListener("animationcancel",ke),Be.current===0&&Oe.type!=="animationcancel"&&Ie.classList.remove(...ee))};Ie.classList.add(...ee),Ie.addEventListener("animationend",ke),Ie.addEventListener("animationcancel",ke)},[]),kt.useEffect(()=>{let Ie=g.current,ee=()=>{Ie.removeEventListener("animationend",ee),s?qS(Ie,C,o):C()};se||(k?ee():(Be.current=1,Ie.className+=` ${Ce}`,Ie.addEventListener("animationend",ee)))},[se]),Xr.createElement(Xr.Fragment,null,d)}}function tv(t,e){return{content:rb(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function rb(t,e,n=!1){return kt.isValidElement(t)&&!va(t.type)?kt.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):us(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function MS({closeToast:t,theme:e,ariaLabel:n="close"}){return Xr.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:s=>{s.stopPropagation(),t(!0)},"aria-label":n},Xr.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Xr.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function LS({delay:t,isRunning:e,closeToast:n,type:s="default",hide:o,className:d,controlledProgress:b,progress:k,rtl:C,isIn:g,theme:se}){let we=o||b&&k===0,he={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};b&&(he.transform=`scaleX(${k})`);let Ce=da("Toastify__progress-bar",b?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${se}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":C}),Be=us(d)?d({rtl:C,type:s,defaultClassName:Ce}):da(Ce,d),Ie={[b&&k>=1?"onTransitionEnd":"onAnimationEnd"]:b&&k<1?null:()=>{g&&n()}};return Xr.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":we},Xr.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${se} Toastify__progress-bar--${s}`}),Xr.createElement("div",{role:"progressbar","aria-hidden":we?"true":"false","aria-label":"notification timer",className:Be,style:he,...Ie}))}var PS=1,nb=()=>`${PS++}`;function BS(t,e,n){let s=1,o=0,d=[],b=[],k=e,C=new Map,g=new Set,se=Oe=>(g.add(Oe),()=>g.delete(Oe)),we=()=>{b=Array.from(C.values()),g.forEach(Oe=>Oe())},he=({containerId:Oe,toastId:Ne,updateId:Fe})=>{let Te=Oe?Oe!==t:t!==1,Me=C.has(Ne)&&Fe==null;return Te||Me},Ce=(Oe,Ne)=>{C.forEach(Fe=>{var Te;(Ne==null||Ne===Fe.props.toastId)&&((Te=Fe.toggle)==null||Te.call(Fe,Oe))})},Be=Oe=>{var Ne,Fe;(Fe=(Ne=Oe.props)==null?void 0:Ne.onClose)==null||Fe.call(Ne,Oe.removalReason),Oe.isActive=!1},Ie=Oe=>{if(Oe==null)C.forEach(Be);else{let Ne=C.get(Oe);Ne&&Be(Ne)}we()},ee=()=>{o-=d.length,d=[]},ke=Oe=>{var Ne,Fe;let{toastId:Te,updateId:Me}=Oe.props,te=Me==null;Oe.staleId&&C.delete(Oe.staleId),Oe.isActive=!0,C.set(Te,Oe),we(),n(tv(Oe,te?"added":"updated")),te&&((Fe=(Ne=Oe.props).onOpen)==null||Fe.call(Ne))};return{id:t,props:k,observe:se,toggle:Ce,removeToast:Ie,toasts:C,clearQueue:ee,buildToast:(Oe,Ne)=>{if(he(Ne))return;let{toastId:Fe,updateId:Te,data:Me,staleId:te,delay:pe}=Ne,F=Te==null;F&&o++;let ue={...k,style:k.toastStyle,key:s++,...Object.fromEntries(Object.entries(Ne).filter(([x,Z])=>Z!=null)),toastId:Fe,updateId:Te,data:Me,isIn:!1,className:B_(Ne.className||k.toastClassName),progressClassName:B_(Ne.progressClassName||k.progressClassName),autoClose:Ne.isLoading?!1:NS(Ne.autoClose,k.autoClose),closeToast(x){C.get(Fe).removalReason=x,Ie(Fe)},deleteToast(){let x=C.get(Fe);if(x!=null){if(n(tv(x,"removed")),C.delete(Fe),o--,o<0&&(o=0),d.length>0){ke(d.shift());return}we()}}};ue.closeButton=k.closeButton,Ne.closeButton===!1||F_(Ne.closeButton)?ue.closeButton=Ne.closeButton:Ne.closeButton===!0&&(ue.closeButton=F_(k.closeButton)?k.closeButton:!0);let G={content:Oe,props:ue,staleId:te};k.limit&&k.limit>0&&o>k.limit&&F?d.push(G):Yl(pe)?setTimeout(()=>{ke(G)},pe):ke(G)},setProps(Oe){k=Oe},setToggle:(Oe,Ne)=>{let Fe=C.get(Oe);Fe&&(Fe.toggle=Ne)},isToastActive:Oe=>{var Ne;return(Ne=C.get(Oe))==null?void 0:Ne.isActive},getSnapshot:()=>b}}var Yn=new Map,Pl=[],V_=new Set,FS=t=>V_.forEach(e=>e(t)),ib=()=>Yn.size>0;function VS(){Pl.forEach(t=>ab(t.content,t.options)),Pl=[]}var US=(t,{containerId:e})=>{var n;return(n=Yn.get(e||1))==null?void 0:n.toasts.get(t)};function sb(t,e){var n;if(e)return!!((n=Yn.get(e))!=null&&n.isToastActive(t));let s=!1;return Yn.forEach(o=>{o.isToastActive(t)&&(s=!0)}),s}function jS(t){if(!ib()){Pl=Pl.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||DS(t))Yn.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Yn.get(t.containerId);e?e.removeToast(t.id):Yn.forEach(n=>{n.removeToast(t.id)})}}var HS=(t={})=>{Yn.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function ab(t,e){F_(t)&&(ib()||Pl.push({content:t,options:e}),Yn.forEach(n=>{n.buildToast(t,e)}))}function GS(t){var e;(e=Yn.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function ob(t,e){Yn.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function YS(t){let e=t.containerId||1;return{subscribe(n){let s=BS(e,t,FS);Yn.set(e,s);let o=s.observe(n);return VS(),()=>{o(),Yn.delete(e)}},setProps(n){var s;(s=Yn.get(e))==null||s.setProps(n)},getSnapshot(){var n;return(n=Yn.get(e))==null?void 0:n.getSnapshot()}}}function KS(t){return V_.add(t),()=>{V_.delete(t)}}function XS(t){return t&&(va(t.toastId)||Yl(t.toastId))?t.toastId:nb()}function Kl(t,e){return ab(t,e),e.toastId}function t$(t,e){return{...e,type:e&&e.type||t,toastId:XS(e)}}function r$(t){return(e,n)=>Kl(e,t$(t,n))}function Ur(t,e){return Kl(t,t$("default",e))}Ur.loading=(t,e)=>Kl(t,t$("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function QS(t,{pending:e,error:n,success:s},o){let d;e&&(d=va(e)?Ur.loading(e,o):Ur.loading(e.render,{...o,...e}));let b={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},k=(g,se,we)=>{if(se==null){Ur.dismiss(d);return}let he={type:g,...b,...o,data:we},Ce=va(se)?{render:se}:se;return d?Ur.update(d,{...he,...Ce}):Ur(Ce.render,{...he,...Ce}),we},C=us(t)?t():t;return C.then(g=>k("success",s,g)).catch(g=>k("error",n,g)),C}Ur.promise=QS;Ur.success=r$("success");Ur.info=r$("info");Ur.error=r$("error");Ur.warning=r$("warning");Ur.warn=Ur.warning;Ur.dark=(t,e)=>Kl(t,t$("default",{theme:"dark",...e}));function OS(t){jS(t)}Ur.dismiss=OS;Ur.clearWaitingQueue=HS;Ur.isActive=sb;Ur.update=(t,e={})=>{let n=US(t,e);if(n){let{props:s,content:o}=n,d={delay:100,...s,...e,toastId:e.toastId||t,updateId:nb()};d.toastId!==t&&(d.staleId=t);let b=d.render||o;delete d.render,Kl(b,d)}};Ur.done=t=>{Ur.update(t,{progress:1})};Ur.onChange=KS;Ur.play=t=>ob(!0,t);Ur.pause=t=>ob(!1,t);function WS(t){var e;let{subscribe:n,getSnapshot:s,setProps:o}=kt.useRef(YS(t)).current;o(t);let d=(e=kt.useSyncExternalStore(n,s,s))==null?void 0:e.slice();function b(k){if(!d)return[];let C=new Map;return t.newestOnTop&&d.reverse(),d.forEach(g=>{let{position:se}=g.props;C.has(se)||C.set(se,[]),C.get(se).push(g)}),Array.from(C,g=>k(g[0],g[1]))}return{getToastToRender:b,isToastActive:sb,count:d==null?void 0:d.length}}function ZS(t){let[e,n]=kt.useState(!1),[s,o]=kt.useState(!1),d=kt.useRef(null),b=kt.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:k,pauseOnHover:C,closeToast:g,onClick:se,closeOnClick:we}=t;GS({id:t.toastId,containerId:t.containerId,fn:n}),kt.useEffect(()=>{if(t.pauseOnFocusLoss)return he(),()=>{Ce()}},[t.pauseOnFocusLoss]);function he(){document.hasFocus()||ke(),window.addEventListener("focus",ee),window.addEventListener("blur",ke)}function Ce(){window.removeEventListener("focus",ee),window.removeEventListener("blur",ke)}function Be(te){if(t.draggable===!0||t.draggable===te.pointerType){Oe();let pe=d.current;b.canCloseOnClick=!0,b.canDrag=!0,pe.style.transition="none",t.draggableDirection==="x"?(b.start=te.clientX,b.removalDistance=pe.offsetWidth*(t.draggablePercent/100)):(b.start=te.clientY,b.removalDistance=pe.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function Ie(te){let{top:pe,bottom:F,left:ue,right:G}=d.current.getBoundingClientRect();te.nativeEvent.type!=="touchend"&&t.pauseOnHover&&te.clientX>=ue&&te.clientX<=G&&te.clientY>=pe&&te.clientY<=F?ke():ee()}function ee(){n(!0)}function ke(){n(!1)}function Oe(){b.didMove=!1,document.addEventListener("pointermove",Fe),document.addEventListener("pointerup",Te)}function Ne(){document.removeEventListener("pointermove",Fe),document.removeEventListener("pointerup",Te)}function Fe(te){let pe=d.current;if(b.canDrag&&pe){b.didMove=!0,e&&ke(),t.draggableDirection==="x"?b.delta=te.clientX-b.start:b.delta=te.clientY-b.start,b.start!==te.clientX&&(b.canCloseOnClick=!1);let F=t.draggableDirection==="x"?`${b.delta}px, var(--y)`:`0, calc(${b.delta}px + var(--y))`;pe.style.transform=`translate3d(${F},0)`,pe.style.opacity=`${1-Math.abs(b.delta/b.removalDistance)}`}}function Te(){Ne();let te=d.current;if(b.canDrag&&b.didMove&&te){if(b.canDrag=!1,Math.abs(b.delta)>b.removalDistance){o(!0),t.closeToast(!0),t.collapseAll();return}te.style.transition="transform 0.2s, opacity 0.2s",te.style.removeProperty("transform"),te.style.removeProperty("opacity")}}let Me={onPointerDown:Be,onPointerUp:Ie};return k&&C&&(Me.onMouseEnter=ke,t.stacked||(Me.onMouseLeave=ee)),we&&(Me.onClick=te=>{se&&se(te),b.canCloseOnClick&&g(!0)}),{playToast:ee,pauseToast:ke,isRunning:e,preventExitTransition:s,toastRef:d,eventHandlers:Me}}var JS=typeof window<"u"?kt.useLayoutEffect:kt.useEffect,n$=({theme:t,type:e,isLoading:n,...s})=>Xr.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...s});function e2(t){return Xr.createElement(n$,{...t},Xr.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function t2(t){return Xr.createElement(n$,{...t},Xr.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function r2(t){return Xr.createElement(n$,{...t},Xr.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function n2(t){return Xr.createElement(n$,{...t},Xr.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function i2(){return Xr.createElement("div",{className:"Toastify__spinner"})}var U_={info:t2,warning:e2,success:r2,error:n2,spinner:i2},s2=t=>t in U_;function a2({theme:t,type:e,isLoading:n,icon:s}){let o=null,d={theme:t,type:e};return s===!1||(us(s)?o=s({...d,isLoading:n}):kt.isValidElement(s)?o=kt.cloneElement(s,d):n?o=U_.spinner():s2(e)&&(o=U_[e](d))),o}var o2=t=>{let{isRunning:e,preventExitTransition:n,toastRef:s,eventHandlers:o,playToast:d}=ZS(t),{closeButton:b,children:k,autoClose:C,onClick:g,type:se,hideProgressBar:we,closeToast:he,transition:Ce,position:Be,className:Ie,style:ee,progressClassName:ke,updateId:Oe,role:Ne,progress:Fe,rtl:Te,toastId:Me,deleteToast:te,isIn:pe,isLoading:F,closeOnClick:ue,theme:G,ariaLabel:x}=t,Z=da("Toastify__toast",`Toastify__toast-theme--${G}`,`Toastify__toast--${se}`,{"Toastify__toast--rtl":Te},{"Toastify__toast--close-on-click":ue}),X=us(Ie)?Ie({rtl:Te,position:Be,type:se,defaultClassName:Z}):da(Z,Ie),ge=a2(t),j=!!Fe||!C,Ke={closeToast:he,type:se,theme:G},ve=null;return b===!1||(us(b)?ve=b(Ke):kt.isValidElement(b)?ve=kt.cloneElement(b,Ke):ve=MS(Ke)),Xr.createElement(Ce,{isIn:pe,done:te,position:Be,preventExitTransition:n,nodeRef:s,playToast:d},Xr.createElement("div",{id:Me,tabIndex:0,onClick:g,"data-in":pe,className:X,...o,style:ee,ref:s,...pe&&{role:Ne,"aria-label":x}},ge!=null&&Xr.createElement("div",{className:da("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!F})},ge),rb(k,t,!e),ve,!t.customProgressBar&&Xr.createElement(LS,{...Oe&&!j?{key:`p-${Oe}`}:{},rtl:Te,theme:G,delay:C,isRunning:e,isIn:pe,closeToast:he,hide:we,type:se,className:ke,controlledProgress:j,progress:Fe||0})))},l2=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),u2=zS(l2("bounce",!0)),c2={position:"top-right",transition:u2,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function $2(t){let e={...c2,...t},n=t.stacked,[s,o]=kt.useState(!0),d=kt.useRef(null),{getToastToRender:b,isToastActive:k,count:C}=WS(e),{className:g,style:se,rtl:we,containerId:he,hotKeys:Ce}=e;function Be(ee){let ke=da("Toastify__toast-container",`Toastify__toast-container--${ee}`,{"Toastify__toast-container--rtl":we});return us(g)?g({position:ee,rtl:we,defaultClassName:ke}):da(ke,B_(g))}function Ie(){n&&(o(!0),Ur.play())}return JS(()=>{var ee;if(n){let ke=d.current.querySelectorAll('[data-in="true"]'),Oe=12,Ne=(ee=e.position)==null?void 0:ee.includes("top"),Fe=0,Te=0;Array.from(ke).reverse().forEach((Me,te)=>{let pe=Me;pe.classList.add("Toastify__toast--stacked"),te>0&&(pe.dataset.collapsed=`${s}`),pe.dataset.pos||(pe.dataset.pos=Ne?"top":"bot");let F=Fe*(s?.2:1)+(s?0:Oe*te);pe.style.setProperty("--y",`${Ne?F:F*-1}px`),pe.style.setProperty("--g",`${Oe}`),pe.style.setProperty("--s",`${1-(s?Te:0)}`),Fe+=pe.offsetHeight,Te+=.025})}},[s,C,n]),kt.useEffect(()=>{function ee(ke){var Oe;let Ne=d.current;Ce(ke)&&((Oe=Ne.querySelector('[tabIndex="0"]'))==null||Oe.focus(),o(!1),Ur.pause()),ke.key==="Escape"&&(document.activeElement===Ne||Ne!=null&&Ne.contains(document.activeElement))&&(o(!0),Ur.play())}return document.addEventListener("keydown",ee),()=>{document.removeEventListener("keydown",ee)}},[Ce]),Xr.createElement("section",{ref:d,className:"Toastify",id:he,onMouseEnter:()=>{n&&(o(!1),Ur.pause())},onMouseLeave:Ie,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},b((ee,ke)=>{let Oe=ke.length?{...se}:{...se,pointerEvents:"none"};return Xr.createElement("div",{tabIndex:-1,className:Be(ee),"data-stacked":n,style:Oe,key:`c-${ee}`},ke.map(({content:Ne,props:Fe})=>Xr.createElement(o2,{...Fe,stacked:n,collapseAll:Ie,isIn:k(Fe.toastId,Fe.containerId),key:`t-${Fe.key}`},Ne)))}))}U0.createRoot(document.getElementById("root")).render(ln.jsxs(kt.StrictMode,{children:[ln.jsx(CS,{}),ln.jsx($2,{className:"toast-container"})]}));
